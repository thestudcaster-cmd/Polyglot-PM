(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function BT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pf={exports:{}},Co={};var Yy;function qT(){if(Yy)return Co;Yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:c}}return Co.Fragment=e,Co.jsx=i,Co.jsxs=i,Co}var Xy;function HT(){return Xy||(Xy=1,Pf.exports=qT()),Pf.exports}var p=HT(),Uf={exports:{}},ke={};var $y;function GT(){if($y)return ke;$y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),k=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,W={};function fe(O,K,se){this.props=O,this.context=K,this.refs=W,this.updater=se||ee}fe.prototype.isReactComponent={},fe.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},fe.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ye(){}ye.prototype=fe.prototype;function Te(O,K,se){this.props=O,this.context=K,this.refs=W,this.updater=se||ee}var Se=Te.prototype=new ye;Se.constructor=Te,ne(Se,fe.prototype),Se.isPureReactComponent=!0;var B=Array.isArray;function re(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,K,se){var ae=se.ref;return{$$typeof:s,type:O,key:K,ref:ae!==void 0?ae:null,props:se}}function M(O,K){return R(O.type,K,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return K[se]})}var N=/\/+/g;function dt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):K.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(re,re):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,se,ae,be){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Ue=!1;if(O===null)Ue=!0;else switch(De){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(O.$$typeof){case s:case e:Ue=!0;break;case T:return Ue=O._init,F(Ue(O._payload),K,se,ae,be)}}if(Ue)return be=be(O),Ue=ae===""?"."+dt(O,0):ae,B(be)?(se="",Ue!=null&&(se=Ue.replace(N,"$&/")+"/"),F(be,K,se,"",function($t){return $t})):be!=null&&(I(be)&&(be=M(be,se+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(N,"$&/")+"/")+Ue)),K.push(be)),1;Ue=0;var Et=ae===""?".":ae+":";if(B(O))for(var Xe=0;Xe<O.length;Xe++)ae=O[Xe],De=Et+dt(ae,Xe),Ue+=F(ae,K,se,De,be);else if(Xe=G(O),typeof Xe=="function")for(O=Xe.call(O),Xe=0;!(ae=O.next()).done;)ae=ae.value,De=Et+dt(ae,Xe++),Ue+=F(ae,K,se,De,be);else if(De==="object"){if(typeof O.then=="function")return F(bt(O),K,se,ae,be);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ie(O,K,se){if(O==null)return O;var ae=[],be=0;return F(O,ae,"","",function(De){return K.call(se,De,be++)}),ae}function he(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ze={map:ie,forEach:function(O,K,se){ie(O,function(){K.apply(this,arguments)},se)},count:function(O){var K=0;return ie(O,function(){K++}),K},toArray:function(O){return ie(O,function(K){return K})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ke.Activity=A,ke.Children=Ze,ke.Component=fe,ke.Fragment=i,ke.Profiler=o,ke.PureComponent=Te,ke.StrictMode=a,ke.Suspense=_,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,ke.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},ke.cache=function(O){return function(){return O.apply(null,arguments)}},ke.cacheSignal=function(){return null},ke.cloneElement=function(O,K,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=ne({},O.props),be=O.key;if(K!=null)for(De in K.key!==void 0&&(be=""+K.key),K)!S.call(K,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&K.ref===void 0||(ae[De]=K[De]);var De=arguments.length-2;if(De===1)ae.children=se;else if(1<De){for(var Ue=Array(De),Et=0;Et<De;Et++)Ue[Et]=arguments[Et+2];ae.children=Ue}return R(O.type,be,ae)},ke.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},ke.createElement=function(O,K,se){var ae,be={},De=null;if(K!=null)for(ae in K.key!==void 0&&(De=""+K.key),K)S.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(be[ae]=K[ae]);var Ue=arguments.length-2;if(Ue===1)be.children=se;else if(1<Ue){for(var Et=Array(Ue),Xe=0;Xe<Ue;Xe++)Et[Xe]=arguments[Xe+2];be.children=Et}if(O&&O.defaultProps)for(ae in Ue=O.defaultProps,Ue)be[ae]===void 0&&(be[ae]=Ue[ae]);return R(O,De,be)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(O){return{$$typeof:g,render:O}},ke.isValidElement=I,ke.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:he}},ke.memo=function(O,K){return{$$typeof:v,type:O,compare:K===void 0?null:K}},ke.startTransition=function(O){var K=w.T,se={};w.T=se;try{var ae=O(),be=w.S;be!==null&&be(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(re,Pe)}catch(De){Pe(De)}finally{K!==null&&se.types!==null&&(K.types=se.types),w.T=K}},ke.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},ke.use=function(O){return w.H.use(O)},ke.useActionState=function(O,K,se){return w.H.useActionState(O,K,se)},ke.useCallback=function(O,K){return w.H.useCallback(O,K)},ke.useContext=function(O){return w.H.useContext(O)},ke.useDebugValue=function(){},ke.useDeferredValue=function(O,K){return w.H.useDeferredValue(O,K)},ke.useEffect=function(O,K){return w.H.useEffect(O,K)},ke.useEffectEvent=function(O){return w.H.useEffectEvent(O)},ke.useId=function(){return w.H.useId()},ke.useImperativeHandle=function(O,K,se){return w.H.useImperativeHandle(O,K,se)},ke.useInsertionEffect=function(O,K){return w.H.useInsertionEffect(O,K)},ke.useLayoutEffect=function(O,K){return w.H.useLayoutEffect(O,K)},ke.useMemo=function(O,K){return w.H.useMemo(O,K)},ke.useOptimistic=function(O,K){return w.H.useOptimistic(O,K)},ke.useReducer=function(O,K,se){return w.H.useReducer(O,K,se)},ke.useRef=function(O){return w.H.useRef(O)},ke.useState=function(O){return w.H.useState(O)},ke.useSyncExternalStore=function(O,K,se){return w.H.useSyncExternalStore(O,K,se)},ke.useTransition=function(){return w.H.useTransition()},ke.version="19.2.4",ke}var Jy;function Om(){return Jy||(Jy=1,Uf.exports=GT()),Uf.exports}var ve=Om();const FT=BT(ve);var Lf={exports:{}},ko={},zf={exports:{}},Bf={};var Zy;function QT(){return Zy||(Zy=1,(function(s){function e(F,ie){var he=F.length;F.push(ie);e:for(;0<he;){var Pe=he-1>>>1,Ze=F[Pe];if(0<o(Ze,ie))F[Pe]=ie,F[he]=Ze,he=Pe;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ie=F[0],he=F.pop();if(he!==ie){F[0]=he;e:for(var Pe=0,Ze=F.length,O=Ze>>>1;Pe<O;){var K=2*(Pe+1)-1,se=F[K],ae=K+1,be=F[ae];if(0>o(se,he))ae<Ze&&0>o(be,se)?(F[Pe]=be,F[ae]=he,Pe=ae):(F[Pe]=se,F[K]=he,Pe=K);else if(ae<Ze&&0>o(be,he))F[Pe]=be,F[ae]=he,Pe=ae;else break e}}return ie}function o(F,ie){var he=F.sortIndex-ie.sortIndex;return he!==0?he:F.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var _=[],v=[],T=1,A=null,k=3,G=!1,ee=!1,ne=!1,W=!1,fe=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function Se(F){for(var ie=i(v);ie!==null;){if(ie.callback===null)a(v);else if(ie.startTime<=F)a(v),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(v)}}function B(F){if(ne=!1,Se(F),!ee)if(i(_)!==null)ee=!0,re||(re=!0,j());else{var ie=i(v);ie!==null&&bt(B,ie.startTime-F)}}var re=!1,w=-1,S=5,R=-1;function M(){return W?!0:!(s.unstable_now()-R<S)}function I(){if(W=!1,re){var F=s.unstable_now();R=F;var ie=!0;try{e:{ee=!1,ne&&(ne=!1,ye(w),w=-1),G=!0;var he=k;try{t:{for(Se(F),A=i(_);A!==null&&!(A.expirationTime>F&&M());){var Pe=A.callback;if(typeof Pe=="function"){A.callback=null,k=A.priorityLevel;var Ze=Pe(A.expirationTime<=F);if(F=s.unstable_now(),typeof Ze=="function"){A.callback=Ze,Se(F),ie=!0;break t}A===i(_)&&a(_),Se(F)}else a(_);A=i(_)}if(A!==null)ie=!0;else{var O=i(v);O!==null&&bt(B,O.startTime-F),ie=!1}}break e}finally{A=null,k=he,G=!1}ie=void 0}}finally{ie?j():re=!1}}}var j;if(typeof Te=="function")j=function(){Te(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,dt=N.port2;N.port1.onmessage=I,j=function(){dt.postMessage(null)}}else j=function(){fe(I,0)};function bt(F,ie){w=fe(function(){F(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(F){switch(k){case 1:case 2:case 3:var ie=3;break;default:ie=k}var he=k;k=ie;try{return F()}finally{k=he}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,ie){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var he=k;k=F;try{return ie()}finally{k=he}},s.unstable_scheduleCallback=function(F,ie,he){var Pe=s.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Pe+he:Pe):he=Pe,F){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=he+Ze,F={id:T++,callback:ie,priorityLevel:F,startTime:he,expirationTime:Ze,sortIndex:-1},he>Pe?(F.sortIndex=he,e(v,F),i(_)===null&&F===i(v)&&(ne?(ye(w),w=-1):ne=!0,bt(B,he-Pe))):(F.sortIndex=Ze,e(_,F),ee||G||(ee=!0,re||(re=!0,j()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ie=k;return function(){var he=k;k=ie;try{return F.apply(this,arguments)}finally{k=he}}}})(Bf)),Bf}var Wy;function KT(){return Wy||(Wy=1,zf.exports=QT()),zf.exports}var qf={exports:{}},on={};var e_;function YT(){if(e_)return on;e_=1;var s=Om();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:_,containerInfo:v,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,T)},on.flushSync=function(_){var v=f.T,T=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=v,a.p=T,a.d.f()}},on.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},on.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},on.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,A=g(T,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:A,integrity:k,fetchPriority:G}):T==="script"&&a.d.X(_,{crossOrigin:A,integrity:k,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},on.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},on.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,A=g(T,v.crossOrigin);a.d.L(_,T,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},on.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},on.requestFormReset=function(_){a.d.r(_)},on.unstable_batchedUpdates=function(_,v){return _(v)},on.useFormState=function(_,v,T){return f.H.useFormState(_,v,T)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.4",on}var t_;function XT(){if(t_)return qf.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=YT(),qf.exports}var n_;function $T(){if(n_)return ko;n_=1;var s=KT(),e=Om(),i=XT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),t;if(d===l)return _(h),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,l=d;break}if(E===l){y=!0,l=h,r=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===r){y=!0,r=d,l=h;break}if(E===l){y=!0,l=d,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,k=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case fe:return"Profiler";case W:return"StrictMode";case B:return"Suspense";case re:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Te:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case Se:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:dt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return dt(t(n))}catch{}}return null}var bt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Pe=[],Ze=-1;function O(t){return{current:t}}function K(t){0>Ze||(t.current=Pe[Ze],Pe[Ze]=null,Ze--)}function se(t,n){Ze++,Pe[Ze]=t.current,t.current=n}var ae=O(null),be=O(null),De=O(null),Ue=O(null);function Et(t,n){switch(se(De,n),se(be,t),se(ae,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?yy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=yy(n),t=_y(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),se(ae,t)}function Xe(){K(ae),K(be),K(De)}function $t(t){t.memoizedState!==null&&se(Ue,t);var n=ae.current,r=_y(n,t.type);n!==r&&(se(be,t),se(ae,r))}function Yi(t){be.current===t&&(K(ae),K(be)),Ue.current===t&&(K(Ue),So._currentValue=he)}var Ss,kt;function Un(t){if(Ss===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ss=n&&n[1]||"",kt=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+kt}var ei=!1;function _i(t,n){if(!t||ei)return"";ei=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var C=y.split(`
`),L=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{ei=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Un(r):""}function ti(t,n){switch(t.tag){case 26:case 27:case 5:return Un(t.type);case 16:return Un("Lazy");case 13:return t.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return _i(t.type,!1);case 11:return _i(t.type.render,!1);case 1:return _i(t.type,!0);case 31:return Un("Activity");default:return""}}function wn(t){try{var n="",r=null;do n+=ti(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qe=Object.prototype.hasOwnProperty,at=s.unstable_scheduleCallback,vi=s.unstable_cancelCallback,wl=s.unstable_shouldYield,bi=s.unstable_requestPaint,Bt=s.unstable_now,ni=s.unstable_getCurrentPriorityLevel,Tr=s.unstable_ImmediatePriority,Xi=s.unstable_UserBlockingPriority,Ei=s.unstable_NormalPriority,Rl=s.unstable_LowPriority,xr=s.unstable_IdlePriority,Ar=s.log,fa=s.unstable_setDisableYieldValue,Rn=null,qt=null;function fn(t){if(typeof Ar=="function"&&fa(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Rn,t)}catch{}}var Tt=Math.clz32?Math.clz32:Re,Z=Math.log,ue=Math.LN2;function Re(t){return t>>>=0,t===0?32:31-(Z(t)/ue|0)|0}var xe=256,Ne=262144,Ce=4194304;function ge(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function tt(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=ge(l):(y&=E,y!==0?h=ge(y):r||(r=E&~t,r!==0&&(h=ge(r))))):(E=l&~d,E!==0?h=ge(E):y!==0?h=ge(y):r||(r=l&~t,r!==0&&(h=ge(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function Jt(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ii(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ma(){var t=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),t}function ft(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function $i(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nl(t,n,r,l,h,d){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-Tt(r),X=1<<Q;E[Q]=0,C[Q]=-1;var z=L[Q];if(z!==null)for(L[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function Sr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Tt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Cl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Tt(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function kl(t,n){var r=n&-n;return r=(r&42)!==0?1:wr(r),(r&(t.suspendedLanes|n))!==0?0:r}function wr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function si(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var ri=Math.random().toString(36).slice(2),It="__reactFiber$"+ri,Qt="__reactProps$"+ri,Ti="__reactContainer$"+ri,ga="__reactEvents$"+ri,qh="__reactListeners$"+ri,hu="__reactHandles$"+ri,du="__reactResources$"+ri,xi="__reactMarker$"+ri;function pa(t){delete t[It],delete t[Qt],delete t[ga],delete t[qh],delete t[hu]}function Ai(t){var n=t[It];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ti]||r[It]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sy(t);t!==null;){if(r=t[It])return r;t=Sy(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[It]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Nn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[du];return n||(n=t[du]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Dt(t){t[xi]=!0}var Il=new Set,Dl={};function wi(t,n){Ri(t,n),Ri(t+"Capture",n)}function Ri(t,n){for(Dl[t]=n,t=0;t<n.length;t++)Il.add(n[t])}var Ol=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ml={},Vl={};function fu(t){return Qe.call(Vl,t)?!0:Qe.call(Ml,t)?!1:Ol.test(t)?Vl[t]=!0:(Ml[t]=!0,!1)}function ya(t,n,r){if(fu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ot(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ws(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function jl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function it(t){if(!t._valueTracker){var n=ws(t)?"checked":"value";t._valueTracker=jl(t,n,""+t[n])}}function Rr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ws(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Nr=/[\n"\\]/g;function yn(t){return t.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,r,l,h,d,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Pl(t,y,Kt(n)):r!=null?Pl(t,y,Kt(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Kt(E):t.removeAttribute("name")}function mu(t,n,r,l,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){it(t);return}r=r!=null?""+Kt(r):"",n=n!=null?""+Kt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),it(t)}function Pl(t,n,r){n==="number"&&Ni(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function gu(t,n,r){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Kt(r):""}function Ns(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(bt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Kt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),it(t)}function _n(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||pu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Ul(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Ul(t,d,n[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Cs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ai(){}var zl=null;function zn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ks=null,Ci=null;function Cr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(a(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Rr(l)}break e;case"textarea":gu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Rs(t,!!r.multiple,n,!1)}}}var Ea=!1;function Is(t,n,r){if(Ea)return t(n,r);Ea=!0;try{var l=t(n);return l}finally{if(Ea=!1,(ks!==null||Ci!==null)&&(cc(),ks&&(n=ks,t=Ci,Ci=ks=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function li(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Qt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Bn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{kr=!1}var ki=null,Bl=null,Ir=null;function ql(){if(Ir)return Ir;var t,n=Bl,r=n.length,l,h="value"in ki?ki.value:ki.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[d-l];l++);return Ir=h.slice(t,1<l?1-l:void 0)}function Dr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function oi(){return!1}function Zt(t){function n(r,l,h,d,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Zi:oi,this.isPropagationStopped=oi,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Zt(Wi),Ds=A({},Wi,{view:0,detail:0}),Hl=Zt(Ds),Os,Ta,Di,xa=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Os=t.screenX-Di.screenX,Ta=t.screenY-Di.screenY):Ta=Os=0,Di=t),Os)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Gl=Zt(xa),Or=A({},xa,{dataTransfer:0}),_u=Zt(Or),vu=A({},Ds,{relatedTarget:0}),Mr=Zt(vu),Fl=A({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Zt(Fl),Aa=A({},Wi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eu=Zt(Aa),Tu=A({},Wi,{data:0}),Oi=Zt(Tu),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Su[t])?!!n[t]:!1}function Ms(){return wu}var mn=A({},Ds,{key:function(t){if(t.key){var n=xu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Dr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Au[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(t){return t.type==="keypress"?Dr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ru=Zt(mn),Nu=A({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),es=Zt(Nu),u=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),m=Zt(u),b=A({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Zt(b),P=A({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Zt(P),te=A({},Wi,{newState:0,oldState:0}),Oe=Zt(te),wt=[9,13,27,32],We=Bn&&"CompositionEvent"in window,_t=null;Bn&&"documentMode"in document&&(_t=document.documentMode);var qn=Bn&&"TextEvent"in window&&!_t,Mi=Bn&&(!We||_t&&8<_t&&11>=_t),ui=" ",ci=!1;function Vr(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function hE(t,n){switch(t){case"compositionend":return Sa(n);case"keypress":return n.which!==32?null:(ci=!0,ui);case"textInput":return t=n.data,t===ui&&ci?null:t;default:return null}}function dE(t,n){if(wa)return t==="compositionend"||!We&&Vr(t,n)?(t=ql(),Ir=Bl=ki=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var fE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!fE[t.type]:n==="textarea"}function Cg(t,n,r,l){ks?Ci?Ci.push(l):Ci=[l]:ks=l,n=yc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ql=null,Kl=null;function mE(t){hy(t,0)}function Cu(t){var n=Nn(t);if(Rr(n))return t}function kg(t,n){if(t==="change")return n}var Ig=!1;if(Bn){var Hh;if(Bn){var Gh="oninput"in document;if(!Gh){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Gh=typeof Dg.oninput=="function"}Hh=Gh}else Hh=!1;Ig=Hh&&(!document.documentMode||9<document.documentMode)}function Og(){Ql&&(Ql.detachEvent("onpropertychange",Mg),Kl=Ql=null)}function Mg(t){if(t.propertyName==="value"&&Cu(Kl)){var n=[];Cg(n,Kl,t,zn(t)),Is(mE,n)}}function gE(t,n,r){t==="focusin"?(Og(),Ql=n,Kl=r,Ql.attachEvent("onpropertychange",Mg)):t==="focusout"&&Og()}function pE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(Kl)}function yE(t,n){if(t==="click")return Cu(n)}function _E(t,n){if(t==="input"||t==="change")return Cu(n)}function vE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var kn=typeof Object.is=="function"?Object.is:vE;function Yl(t,n){if(kn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Qe.call(n,h)||!kn(t[h],n[h]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,n){var r=Vg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vg(r)}}function Pg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ni(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ni(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var bE=Bn&&"documentMode"in document&&11>=document.documentMode,Ra=null,Qh=null,Xl=null,Kh=!1;function Lg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kh||Ra==null||Ra!==Ni(l)||(l=Ra,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xl&&Yl(Xl,l)||(Xl=l,l=yc(Qh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ra)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Na={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Yh={},zg={};Bn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Pr(t){if(Yh[t])return Yh[t];if(!Na[t])return t;var n=Na[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zg)return Yh[t]=n[r];return t}var Bg=Pr("animationend"),qg=Pr("animationiteration"),Hg=Pr("animationstart"),EE=Pr("transitionrun"),TE=Pr("transitionstart"),xE=Pr("transitioncancel"),Gg=Pr("transitionend"),Fg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function hi(t,n){Fg.set(t,n),wi(n,[t])}var ku=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Hn=[],Ca=0,$h=0;function Iu(){for(var t=Ca,n=$h=Ca=0;n<t;){var r=Hn[n];Hn[n++]=null;var l=Hn[n];Hn[n++]=null;var h=Hn[n];Hn[n++]=null;var d=Hn[n];if(Hn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&Qg(r,h,d)}}function Du(t,n,r,l){Hn[Ca++]=t,Hn[Ca++]=n,Hn[Ca++]=r,Hn[Ca++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,r,l){return Du(t,n,r,l),Ou(t)}function Ur(t,n){return Du(t,null,null,n),Ou(t)}function Qg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-Tt(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Ou(t){if(50<_o)throw _o=0,lf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ka={};function AE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,r,l){return new AE(t,n,r,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ts(t,n){var r=t.alternate;return r===null?(r=In(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Mu(t,n,r,l,h,d){var y=0;if(l=t,typeof t=="function")Zh(t)&&(y=1);else if(typeof t=="string")y=CT(t,r,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=In(31,r,n,h),t.elementType=R,t.lanes=d,t;case ne:return Lr(r.children,h,d,n);case W:y=8,h|=24;break;case fe:return t=In(12,r,n,h|2),t.elementType=fe,t.lanes=d,t;case B:return t=In(13,r,n,h),t.elementType=B,t.lanes=d,t;case re:return t=In(19,r,n,h),t.elementType=re,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:y=10;break e;case ye:y=9;break e;case Se:y=11;break e;case w:y=14;break e;case S:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=In(y,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Lr(t,n,r,l){return t=In(7,t,l,n),t.lanes=r,t}function Wh(t,n,r){return t=In(6,t,null,n),t.lanes=r,t}function Yg(t){var n=In(18,null,null,0);return n.stateNode=t,n}function ed(t,n,r){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xg=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var r=Xg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:wn(n)},Xg.set(t,n),n)}return{value:t,source:n,stack:wn(n)}}var Ia=[],Da=0,Vu=null,$l=0,Fn=[],Qn=0,Vs=null,Vi=1,ji="";function ns(t,n){Ia[Da++]=$l,Ia[Da++]=Vu,Vu=t,$l=n}function $g(t,n,r){Fn[Qn++]=Vi,Fn[Qn++]=ji,Fn[Qn++]=Vs,Vs=t;var l=Vi;t=ji;var h=32-Tt(l)-1;l&=~(1<<h),r+=1;var d=32-Tt(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Vi=1<<32-Tt(n)+h|r<<h|l,ji=d+t}else Vi=1<<d|r<<h|l,ji=t}function td(t){t.return!==null&&(ns(t,1),$g(t,1,0))}function nd(t){for(;t===Vu;)Vu=Ia[--Da],Ia[Da]=null,$l=Ia[--Da],Ia[Da]=null;for(;t===Vs;)Vs=Fn[--Qn],Fn[Qn]=null,ji=Fn[--Qn],Fn[Qn]=null,Vi=Fn[--Qn],Fn[Qn]=null}function Jg(t,n){Fn[Qn++]=Vi,Fn[Qn++]=ji,Fn[Qn++]=Vs,Vi=n.id,ji=n.overflow,Vs=t}var Wt=null,mt=null,Ke=!1,js=null,Kn=!1,id=Error(a(519));function Ps(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(Gn(n,t)),id}function Zg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[It]=t,n[Qt]=l,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<bo.length;r++)ze(bo[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Ns(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||gy(n.textContent,r)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=ai),n=!0):n=!1,n||Ps(t,!0)}function Wg(t){for(Wt=t.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Wt=Wt.return}}function Oa(t){if(t!==Wt)return!1;if(!Ke)return Wg(t),Ke=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tf(t.type,t.memoizedProps)),r=!r),r&&mt&&Ps(t),Wg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=Ay(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));mt=Ay(t)}else n===27?(n=mt,Js(t.type)?(t=Rf,Rf=null,mt=t):mt=n):mt=Wt?Xn(t.stateNode.nextSibling):null;return!0}function zr(){mt=Wt=null,Ke=!1}function sd(){var t=js;return t!==null&&(Tn===null?Tn=t:Tn.push.apply(Tn,t),js=null),t}function Jl(t){js===null?js=[t]:js.push(t)}var rd=O(null),Br=null,is=null;function Us(t,n,r){se(rd,n._currentValue),n._currentValue=r}function ss(t){t._currentValue=rd.current,K(rd)}function ad(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ld(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){d.lanes|=r,E=d.alternate,E!==null&&(E.lanes|=r),ad(d.return,r,t),l||(y=null);break e}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),ad(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ma(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;kn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===Ue.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}h=h.return}t!==null&&ld(n,t,r,l),n.flags|=262144}function ju(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qr(t){Br=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function en(t){return ep(Br,t)}function Pu(t,n){return Br===null&&qr(t),ep(t,n)}function ep(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return r}var SE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},wE=s.unstable_scheduleCallback,RE=s.unstable_NormalPriority,Mt={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new SE,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&wE(RE,function(){t.controller.abort()})}var Wl=null,ud=0,Va=0,ja=null;function NE(t,n){if(Wl===null){var r=Wl=[];ud=0,Va=ff(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ud++,n.then(tp,tp),n}function tp(){if(--ud===0&&Wl!==null){ja!==null&&(ja.status="fulfilled");var t=Wl;Wl=null,Va=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var np=F.S;F.S=function(t,n){L0=Bt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&NE(t,n),np!==null&&np(t,n)};var Hr=O(null);function cd(){var t=Hr.current;return t!==null?t:ht.pooledCache}function Uu(t,n){n===null?se(Hr,Hr.current):se(Hr,n.pool)}function ip(){var t=cd();return t===null?null:{parent:Mt._currentValue,pool:t}}var Pa=Error(a(460)),hd=Error(a(474)),Lu=Error(a(542)),zu={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ai,ai),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lp(t),t;default:if(typeof n.status=="string")n.then(ai,ai);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lp(t),t}throw Fr=n,Pa}}function Gr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Fr=r,Pa):r}}var Fr=null;function ap(){if(Fr===null)throw Error(a(459));var t=Fr;return Fr=null,t}function lp(t){if(t===Pa||t===Lu)throw Error(a(483))}var Ua=null,eo=0;function Bu(t){var n=eo;return eo+=1,Ua===null&&(Ua=[]),rp(Ua,t,n)}function to(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function qu(t,n){throw n.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function op(t){function n(V,D){if(t){var U=V.deletions;U===null?(V.deletions=[D],V.flags|=16):U.push(D)}}function r(V,D){if(!t)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=ts(V,D),V.index=0,V.sibling=null,V}function d(V,D,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<D?(V.flags|=67108866,D):U):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,U,Y){return D===null||D.tag!==6?(D=Wh(U,V.mode,Y),D.return=V,D):(D=h(D,U),D.return=V,D)}function C(V,D,U,Y){var me=U.type;return me===ne?Q(V,D,U.props.children,Y,U.key):D!==null&&(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Gr(me)===D.type)?(D=h(D,U.props),to(D,U),D.return=V,D):(D=Mu(U.type,U.key,U.props,null,V.mode,Y),to(D,U),D.return=V,D)}function L(V,D,U,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=ed(U,V.mode,Y),D.return=V,D):(D=h(D,U.children||[]),D.return=V,D)}function Q(V,D,U,Y,me){return D===null||D.tag!==7?(D=Lr(U,V.mode,Y,me),D.return=V,D):(D=h(D,U),D.return=V,D)}function X(V,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,V.mode,U),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return U=Mu(D.type,D.key,D.props,null,V.mode,U),to(U,D),U.return=V,U;case ee:return D=ed(D,V.mode,U),D.return=V,D;case S:return D=Gr(D),X(V,D,U)}if(bt(D)||j(D))return D=Lr(D,V.mode,U,null),D.return=V,D;if(typeof D.then=="function")return X(V,Bu(D),U);if(D.$$typeof===Te)return X(V,Pu(V,D),U);qu(V,D)}return null}function z(V,D,U,Y){var me=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:E(V,D,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===me?C(V,D,U,Y):null;case ee:return U.key===me?L(V,D,U,Y):null;case S:return U=Gr(U),z(V,D,U,Y)}if(bt(U)||j(U))return me!==null?null:Q(V,D,U,Y,null);if(typeof U.then=="function")return z(V,D,Bu(U),Y);if(U.$$typeof===Te)return z(V,D,Pu(V,U),Y);qu(V,U)}return null}function H(V,D,U,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return V=V.get(U)||null,E(D,V,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return V=V.get(Y.key===null?U:Y.key)||null,C(D,V,Y,me);case ee:return V=V.get(Y.key===null?U:Y.key)||null,L(D,V,Y,me);case S:return Y=Gr(Y),H(V,D,U,Y,me)}if(bt(Y)||j(Y))return V=V.get(U)||null,Q(D,V,Y,me,null);if(typeof Y.then=="function")return H(V,D,U,Bu(Y),me);if(Y.$$typeof===Te)return H(V,D,U,Pu(D,Y),me);qu(D,Y)}return null}function oe(V,D,U,Y){for(var me=null,$e=null,ce=D,Ve=D=0,qe=null;ce!==null&&Ve<U.length;Ve++){ce.index>Ve?(qe=ce,ce=null):qe=ce.sibling;var Je=z(V,ce,U[Ve],Y);if(Je===null){ce===null&&(ce=qe);break}t&&ce&&Je.alternate===null&&n(V,ce),D=d(Je,D,Ve),$e===null?me=Je:$e.sibling=Je,$e=Je,ce=qe}if(Ve===U.length)return r(V,ce),Ke&&ns(V,Ve),me;if(ce===null){for(;Ve<U.length;Ve++)ce=X(V,U[Ve],Y),ce!==null&&(D=d(ce,D,Ve),$e===null?me=ce:$e.sibling=ce,$e=ce);return Ke&&ns(V,Ve),me}for(ce=l(ce);Ve<U.length;Ve++)qe=H(ce,V,Ve,U[Ve],Y),qe!==null&&(t&&qe.alternate!==null&&ce.delete(qe.key===null?Ve:qe.key),D=d(qe,D,Ve),$e===null?me=qe:$e.sibling=qe,$e=qe);return t&&ce.forEach(function(nr){return n(V,nr)}),Ke&&ns(V,Ve),me}function _e(V,D,U,Y){if(U==null)throw Error(a(151));for(var me=null,$e=null,ce=D,Ve=D=0,qe=null,Je=U.next();ce!==null&&!Je.done;Ve++,Je=U.next()){ce.index>Ve?(qe=ce,ce=null):qe=ce.sibling;var nr=z(V,ce,Je.value,Y);if(nr===null){ce===null&&(ce=qe);break}t&&ce&&nr.alternate===null&&n(V,ce),D=d(nr,D,Ve),$e===null?me=nr:$e.sibling=nr,$e=nr,ce=qe}if(Je.done)return r(V,ce),Ke&&ns(V,Ve),me;if(ce===null){for(;!Je.done;Ve++,Je=U.next())Je=X(V,Je.value,Y),Je!==null&&(D=d(Je,D,Ve),$e===null?me=Je:$e.sibling=Je,$e=Je);return Ke&&ns(V,Ve),me}for(ce=l(ce);!Je.done;Ve++,Je=U.next())Je=H(ce,V,Ve,Je.value,Y),Je!==null&&(t&&Je.alternate!==null&&ce.delete(Je.key===null?Ve:Je.key),D=d(Je,D,Ve),$e===null?me=Je:$e.sibling=Je,$e=Je);return t&&ce.forEach(function(zT){return n(V,zT)}),Ke&&ns(V,Ve),me}function ct(V,D,U,Y){if(typeof U=="object"&&U!==null&&U.type===ne&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var me=U.key;D!==null;){if(D.key===me){if(me=U.type,me===ne){if(D.tag===7){r(V,D.sibling),Y=h(D,U.props.children),Y.return=V,V=Y;break e}}else if(D.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===S&&Gr(me)===D.type){r(V,D.sibling),Y=h(D,U.props),to(Y,U),Y.return=V,V=Y;break e}r(V,D);break}else n(V,D);D=D.sibling}U.type===ne?(Y=Lr(U.props.children,V.mode,Y,U.key),Y.return=V,V=Y):(Y=Mu(U.type,U.key,U.props,null,V.mode,Y),to(Y,U),Y.return=V,V=Y)}return y(V);case ee:e:{for(me=U.key;D!==null;){if(D.key===me)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(V,D.sibling),Y=h(D,U.children||[]),Y.return=V,V=Y;break e}else{r(V,D);break}else n(V,D);D=D.sibling}Y=ed(U,V.mode,Y),Y.return=V,V=Y}return y(V);case S:return U=Gr(U),ct(V,D,U,Y)}if(bt(U))return oe(V,D,U,Y);if(j(U)){if(me=j(U),typeof me!="function")throw Error(a(150));return U=me.call(U),_e(V,D,U,Y)}if(typeof U.then=="function")return ct(V,D,Bu(U),Y);if(U.$$typeof===Te)return ct(V,D,Pu(V,U),Y);qu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(V,D.sibling),Y=h(D,U),Y.return=V,V=Y):(r(V,D),Y=Wh(U,V.mode,Y),Y.return=V,V=Y),y(V)):r(V,D)}return function(V,D,U,Y){try{eo=0;var me=ct(V,D,U,Y);return Ua=null,me}catch(ce){if(ce===Pa||ce===Lu)throw ce;var $e=In(29,ce,null,V.mode);return $e.lanes=Y,$e.return=V,$e}}}var Qr=op(!0),up=op(!1),Ls=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(t),Qg(t,null,r),n}return Du(t,l,n,r),Ou(t)}function no(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}function md(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gd=!1;function io(){if(gd){var t=ja;if(t!==null)throw t}}function so(t,n,r,l){gd=!1;var h=t.updateQueue;Ls=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,y===null?d=L:y.next=L,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=L:E.next=L,Q.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;y=0,Q=L=C=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Be&z)===z:(l&z)===z){z!==0&&z===Va&&(gd=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var oe=t,_e=E;z=n;var ct=r;switch(_e.tag){case 1:if(oe=_e.payload,typeof oe=="function"){X=oe.call(ct,X,z);break e}X=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=_e.payload,z=typeof oe=="function"?oe.call(ct,X,z):oe,z==null)break e;X=A({},X,z);break e;case 2:Ls=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(L=Q=H,C=X):Q=Q.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Qs|=y,t.lanes=y,t.memoizedState=X}}function cp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cp(r[t],n)}var La=O(null),Hu=O(0);function dp(t,n){t=fs,se(Hu,t),se(La,n),fs=t|n.baseLanes}function pd(){se(Hu,fs),se(La,La.current)}function yd(){fs=Hu.current,K(La),K(Hu)}var Dn=O(null),Yn=null;function qs(t){var n=t.alternate;se(Rt,Rt.current&1),se(Dn,t),Yn===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(Yn=t)}function _d(t){se(Rt,Rt.current),se(Dn,t),Yn===null&&(Yn=t)}function fp(t){t.tag===22?(se(Rt,Rt.current),se(Dn,t),Yn===null&&(Yn=t)):Hs()}function Hs(){se(Rt,Rt.current),se(Dn,Dn.current)}function On(t){K(Dn),Yn===t&&(Yn=null),K(Rt)}var Rt=O(0);function Gu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sf(r)||wf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Me=null,ot=null,Vt=null,Fu=!1,za=!1,Kr=!1,Qu=0,ro=0,Ba=null,kE=0;function At(){throw Error(a(321))}function vd(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!kn(t[r],n[r]))return!1;return!0}function bd(t,n,r,l,h,d){return rs=d,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?$p:Vd,Kr=!1,d=r(l,h),Kr=!1,za&&(d=gp(n,r,l,h)),mp(t),d}function mp(t){F.H=oo;var n=ot!==null&&ot.next!==null;if(rs=0,Vt=ot=Me=null,Fu=!1,ro=0,Ba=null,n)throw Error(a(300));t===null||jt||(t=t.dependencies,t!==null&&ju(t)&&(jt=!0))}function gp(t,n,r,l){Me=t;var h=0;do{if(za&&(Ba=null),ro=0,za=!1,25<=h)throw Error(a(301));if(h+=1,Vt=ot=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Jp,d=n(r,l)}while(za);return d}function IE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ao(n):n,t=t.useState()[0],(ot!==null?ot.memoizedState:null)!==t&&(Me.flags|=1024),n}function Ed(){var t=Qu!==0;return Qu=0,t}function Td(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xd(t){if(Fu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Fu=!1}rs=0,Vt=ot=Me=null,za=!1,ro=Qu=0,Ba=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function Nt(){if(ot===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=ot.next;var n=Vt===null?Me.memoizedState:Vt.next;if(n!==null)Vt=n,ot=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));ot=t,t={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Vt===null?Me.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var n=ro;return ro+=1,Ba===null&&(Ba=[]),t=rp(Ba,t,n),n=Me,(Vt===null?n.memoizedState:Vt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?$p:Vd),t}function Yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===Te)return en(t)}throw Error(a(438,String(t)))}function Ad(t){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ku(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function as(t,n){return typeof n=="function"?n(t):n}function Xu(t){var n=Nt();return Sd(n,ot,t)}function Sd(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=y=null,C=null,L=n,Q=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(Be&X)===X:(rs&X)===X){var z=L.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===Va&&(Q=!0);else if((rs&z)===z){L=L.next,z===Va&&(Q=!0);continue}else X={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=X,y=d):C=C.next=X,Me.lanes|=z,Qs|=z;X=L.action,Kr&&r(d,X),d=L.hasEagerState?L.eagerState:r(d,X)}else z={lane:X,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=z,y=d):C=C.next=z,Me.lanes|=X,Qs|=X;L=L.next}while(L!==null&&L!==n);if(C===null?y=d:C.next=E,!kn(d,t.memoizedState)&&(jt=!0,Q&&(r=ja,r!==null)))throw r;t.memoizedState=d,t.baseState=y,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wd(t){var n=Nt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);kn(d,n.memoizedState)||(jt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function pp(t,n,r){var l=Me,h=Nt(),d=Ke;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!kn((ot||h).memoizedState,r);if(y&&(h.memoizedState=r,jt=!0),h=h.queue,Cd(vp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Vt!==null&&Vt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,l,h,r,n),null),ht===null)throw Error(a(349));d||(rs&127)!==0||yp(l,n,r)}return r}function yp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Ku(),Me.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _p(t,n,r,l){n.value=r,n.getSnapshot=l,bp(n)&&Ep(t)}function vp(t,n,r){return r(function(){bp(n)&&Ep(t)})}function bp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!kn(t,r)}catch{return!0}}function Ep(t){var n=Ur(t,2);n!==null&&xn(n,t,2)}function Rd(t){var n=gn();if(typeof t=="function"){var r=t;if(t=r(),Kr){fn(!0);try{r()}finally{fn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},n}function Tp(t,n,r,l){return t.baseState=r,Sd(t,ot,typeof l=="function"?l:as)}function DE(t,n,r,l,h){if(Zu(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,xp(n,d)):(d.next=r.next,n.pending=r.next=d)}}function xp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=F.T,y={};F.T=y;try{var E=r(h,l),C=F.S;C!==null&&C(y,E),Ap(t,n,E)}catch(L){Nd(t,n,L)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=r(h,l),Ap(t,n,d)}catch(L){Nd(t,n,L)}}function Ap(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sp(t,n,l)},function(l){return Nd(t,n,l)}):Sp(t,n,r)}function Sp(t,n,r){n.status="fulfilled",n.value=r,wp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,xp(t,r)))}function Nd(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,wp(n),n=n.next;while(n!==l)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rp(t,n){return n}function Np(t,n){if(Ke){var r=ht.formState;if(r!==null){e:{var l=Me;if(Ke){if(mt){t:{for(var h=mt,d=Kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){mt=Xn(h.nextSibling),l=h.data==="F!";break e}}Ps(l)}l=!1}l&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},r.queue=l,r=Kp.bind(null,Me,l),l.dispatch=r,l=Rd(!1),d=Md.bind(null,Me,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=DE.bind(null,Me,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cp(t){var n=Nt();return kp(n,ot,t)}function kp(t,n,r){if(n=Sd(t,n,Rp)[0],t=Xu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ao(n)}catch(y){throw y===Pa?Lu:y}else l=n;n=Nt();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,qa(9,{destroy:void 0},OE.bind(null,h,r),null)),[l,d,t]}function OE(t,n){t.action=n}function Ip(t){var n=Nt(),r=ot;if(r!==null)return kp(n,r,t);Nt(),n=n.memoizedState,r=Nt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Ku(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Dp(){return Nt().memoizedState}function $u(t,n,r,l){var h=gn();Me.flags|=t,h.memoizedState=qa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Ju(t,n,r,l){var h=Nt();l=l===void 0?null:l;var d=h.memoizedState.inst;ot!==null&&l!==null&&vd(l,ot.memoizedState.deps)?h.memoizedState=qa(n,d,r,l):(Me.flags|=t,h.memoizedState=qa(1|n,d,r,l))}function Op(t,n){$u(8390656,8,t,n)}function Cd(t,n){Ju(2048,8,t,n)}function ME(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Ku(),Me.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Mp(t){var n=Nt().memoizedState;return ME({ref:n,nextImpl:t}),function(){if((et&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vp(t,n){return Ju(4,2,t,n)}function jp(t,n){return Ju(4,4,t,n)}function Pp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Up(t,n,r){r=r!=null?r.concat([t]):null,Ju(4,4,Pp.bind(null,n,t),r)}function kd(){}function Lp(t,n){var r=Nt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&vd(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function zp(t,n){var r=Nt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&vd(n,l[1]))return l[0];if(l=t(),Kr){fn(!0);try{t()}finally{fn(!1)}}return r.memoizedState=[l,n],l}function Id(t,n,r){return r===void 0||(rs&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=B0(),Me.lanes|=t,Qs|=t,r)}function Bp(t,n,r,l){return kn(r,n)?r:La.current!==null?(t=Id(t,r,l),kn(t,n)||(jt=!0),t):(rs&42)===0||(rs&1073741824)!==0&&(Be&261930)===0?(jt=!0,t.memoizedState=r):(t=B0(),Me.lanes|=t,Qs|=t,n)}function qp(t,n,r,l,h){var d=ie.p;ie.p=d!==0&&8>d?d:8;var y=F.T,E={};F.T=E,Md(t,!1,n,r);try{var C=h(),L=F.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=CE(C,l);lo(t,n,Q,jn(t))}else lo(t,n,l,jn(t))}catch(X){lo(t,n,{then:function(){},status:"rejected",reason:X},jn())}finally{ie.p=d,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function VE(){}function Dd(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Hp(t).queue;qp(t,h,n,he,r===null?VE:function(){return Gp(t),r(l)})}function Hp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:he},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gp(t){var n=Hp(t);n.next===null&&(n=t.alternate.memoizedState),lo(t,n.next.queue,{},jn())}function Od(){return en(So)}function Fp(){return Nt().memoizedState}function Qp(){return Nt().memoizedState}function jE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=jn();t=zs(r);var l=Bs(n,t,r);l!==null&&(xn(l,n,r),no(l,n,r)),n={cache:od()},t.payload=n;return}n=n.return}}function PE(t,n,r){var l=jn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(t)?Yp(n,r):(r=Jh(t,n,r,l),r!==null&&(xn(r,t,l),Xp(r,n,l)))}function Kp(t,n,r){var l=jn();lo(t,n,r,l)}function lo(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(t))Yp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,E=d(y,r);if(h.hasEagerState=!0,h.eagerState=E,kn(E,y))return Du(t,n,h,0),ht===null&&Iu(),!1}catch{}if(r=Jh(t,n,h,l),r!==null)return xn(r,t,l),Xp(r,n,l),!0}return!1}function Md(t,n,r,l){if(l={lane:2,revertLane:ff(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(t)){if(n)throw Error(a(479))}else n=Jh(t,r,l,2),n!==null&&xn(n,t,2)}function Zu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Yp(t,n){za=Fu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Cl(t,r)}}var oo={readContext:en,use:Yu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};oo.useEffectEvent=At;var $p={readContext:en,use:Yu,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:en,useEffect:Op,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,$u(4194308,4,Pp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return $u(4194308,4,t,n)},useInsertionEffect:function(t,n){$u(4,2,t,n)},useMemo:function(t,n){var r=gn();n=n===void 0?null:n;var l=t();if(Kr){fn(!0);try{t()}finally{fn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=gn();if(r!==void 0){var h=r(n);if(Kr){fn(!0);try{r(n)}finally{fn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=PE.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rd(t);var n=t.queue,r=Kp.bind(null,Me,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:kd,useDeferredValue:function(t,n){var r=gn();return Id(r,t,n)},useTransition:function(){var t=Rd(!1);return t=qp.bind(null,Me,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Me,h=gn();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ht===null)throw Error(a(349));(Be&127)!==0||yp(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Op(vp.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},_p.bind(null,l,d,r,n),null),r},useId:function(){var t=gn(),n=ht.identifierPrefix;if(Ke){var r=ji,l=Vi;r=(l&~(1<<32-Tt(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Qu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=kE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Od,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Md.bind(null,Me,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ad,useCacheRefresh:function(){return gn().memoizedState=jE.bind(null,Me)},useEffectEvent:function(t){var n=gn(),r={impl:t};return n.memoizedState=r,function(){if((et&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vd={readContext:en,use:Yu,useCallback:Lp,useContext:en,useEffect:Cd,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:jp,useMemo:zp,useReducer:Xu,useRef:Dp,useState:function(){return Xu(as)},useDebugValue:kd,useDeferredValue:function(t,n){var r=Nt();return Bp(r,ot.memoizedState,t,n)},useTransition:function(){var t=Xu(as)[0],n=Nt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Od,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,n){var r=Nt();return Tp(r,ot,t,n)},useMemoCache:Ad,useCacheRefresh:Qp};Vd.useEffectEvent=Mp;var Jp={readContext:en,use:Yu,useCallback:Lp,useContext:en,useEffect:Cd,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:jp,useMemo:zp,useReducer:wd,useRef:Dp,useState:function(){return wd(as)},useDebugValue:kd,useDeferredValue:function(t,n){var r=Nt();return ot===null?Id(r,t,n):Bp(r,ot.memoizedState,t,n)},useTransition:function(){var t=wd(as)[0],n=Nt().memoizedState;return[typeof t=="boolean"?t:ao(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Od,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,n){var r=Nt();return ot!==null?Tp(r,ot,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:Qp};Jp.useEffectEvent=Mp;function jd(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pd={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=jn(),h=zs(l);h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(xn(n,t,l),no(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=jn(),h=zs(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Bs(t,h,l),n!==null&&(xn(n,t,l),no(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=jn(),l=zs(r);l.tag=2,n!=null&&(l.callback=n),n=Bs(t,l,r),n!==null&&(xn(n,t,r),no(n,t,r))}};function Zp(t,n,r,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Yl(r,l)||!Yl(h,d):!0}function Wp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Pd.enqueueReplaceState(n,n.state,null)}function Yr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function e0(t){ku(t)}function t0(t){console.error(t)}function n0(t){ku(t)}function Wu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function i0(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ud(t,n,r){return r=zs(r),r.tag=3,r.payload={element:null},r.callback=function(){Wu(t,n)},r}function s0(t){return t=zs(t),t.tag=3,t}function r0(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){i0(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){i0(n,r,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function UE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=Dn.current,r!==null){switch(r.tag){case 31:case 13:return Yn===null?hc():r.alternate===null&&St===0&&(St=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===zu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cf(t,l,h)),!1;case 22:return r.flags|=65536,l===zu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cf(t,l,h)),!1}throw Error(a(435,r.tag))}return cf(t,l,h),hc(),!1}if(Ke)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==id&&(t=Error(a(422),{cause:l}),Jl(Gn(t,r)))):(l!==id&&(n=Error(a(423),{cause:l}),Jl(Gn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,r),h=Ud(t.stateNode,l,h),md(t,h),St!==4&&(St=2)),!1;var d=Error(a(520),{cause:l});if(d=Gn(d,r),yo===null?yo=[d]:yo.push(d),St!==4&&(St=2),n===null)return!0;l=Gn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Ud(r.stateNode,l,t),md(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ks===null||!Ks.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=s0(h),r0(h,t,r,l),md(r,h),!1}r=r.return}while(r!==null);return!1}var Ld=Error(a(461)),jt=!1;function tn(t,n,r,l){n.child=t===null?up(n,null,r,l):Qr(n,t.child,r,l)}function a0(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return qr(n),l=bd(t,n,r,y,d,h),E=Ed(),t!==null&&!jt?(Td(t,n,h),ls(t,n,h)):(Ke&&E&&td(n),n.flags|=1,tn(t,n,l,h),n.child)}function l0(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,o0(t,n,d,l,h)):(t=Mu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Kd(t,h)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(y,l)&&t.ref===n.ref)return ls(t,n,h)}return n.flags|=1,t=ts(d,l),t.ref=n.ref,t.return=n,n.child=t}function o0(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Yl(d,l)&&t.ref===n.ref)if(jt=!1,n.pendingProps=l=d,Kd(t,h))(t.flags&131072)!==0&&(jt=!0);else return n.lanes=t.lanes,ls(t,n,h)}return zd(t,n,r,l,h)}function u0(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return c0(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(n,d!==null?d.cachePool:null),d!==null?dp(n,d):pd(),fp(n);else return l=n.lanes=536870912,c0(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Uu(n,d.cachePool),dp(n,d),Hs(),n.memoizedState=null):(t!==null&&Uu(n,null),pd(),Hs());return tn(t,n,h,r),n.child}function uo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function c0(t,n,r,l,h){var d=cd();return d=d===null?null:{parent:Mt._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Uu(n,null),pd(),fp(n),t!==null&&Ma(t,n,l,!0),n.childLanes=h,null}function ec(t,n){return n=nc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function h0(t,n,r){return Qr(n,t.child,null,r),t=ec(n,n.pendingProps),t.flags|=2,On(n),n.memoizedState=null,t}function LE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=ec(n,l),n.lanes=536870912,uo(null,t);if(_d(n),(t=mt)?(t=xy(t,Kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Vi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=n,n.child=r,Wt=n,mt=null)):t=null,t===null)throw Ps(n);return n.lanes=536870912,null}return ec(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(_d(n),h)if(n.flags&256)n.flags&=-257,n=h0(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(jt||Ma(t,n,r,!1),h=(r&t.childLanes)!==0,jt||h){if(l=ht,l!==null&&(y=kl(l,r),y!==0&&y!==d.retryLane))throw d.retryLane=y,Ur(t,y),xn(l,t,y),Ld;hc(),n=h0(t,n,r)}else t=d.treeContext,mt=Xn(y.nextSibling),Wt=n,Ke=!0,js=null,Kn=!1,t!==null&&Jg(n,t),n=ec(n,l),n.flags|=4096;return n}return t=ts(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function tc(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function zd(t,n,r,l,h){return qr(n),r=bd(t,n,r,l,void 0,h),l=Ed(),t!==null&&!jt?(Td(t,n,h),ls(t,n,h)):(Ke&&l&&td(n),n.flags|=1,tn(t,n,r,h),n.child)}function d0(t,n,r,l,h,d){return qr(n),n.updateQueue=null,r=gp(n,l,r,h),mp(t),l=Ed(),t!==null&&!jt?(Td(t,n,d),ls(t,n,d)):(Ke&&l&&td(n),n.flags|=1,tn(t,n,r,d),n.child)}function f0(t,n,r,l,h){if(qr(n),n.stateNode===null){var d=ka,y=r.contextType;typeof y=="object"&&y!==null&&(d=en(y)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},dd(n),y=r.contextType,d.context=typeof y=="object"&&y!==null?en(y):ka,d.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(jd(n,r,y,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Pd.enqueueReplaceState(d,d.state,null),so(n,l,d,h),io(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,C=Yr(r,E);d.props=C;var L=d.context,Q=r.contextType;y=ka,typeof Q=="object"&&Q!==null&&(y=en(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==y)&&Wp(n,d,l,y),Ls=!1;var z=n.memoizedState;d.state=z,so(n,l,d,h),io(),L=n.memoizedState,E||z!==L||Ls?(typeof X=="function"&&(jd(n,r,X,l),L=n.memoizedState),(C=Ls||Zp(n,r,C,l,z,L,y))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),d.props=l,d.state=L,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,fd(t,n),y=n.memoizedProps,Q=Yr(r,y),d.props=Q,X=n.pendingProps,z=d.context,L=r.contextType,C=ka,typeof L=="object"&&L!==null&&(C=en(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==X||z!==C)&&Wp(n,d,l,C),Ls=!1,z=n.memoizedState,d.state=z,so(n,l,d,h),io();var H=n.memoizedState;y!==X||z!==H||Ls||t!==null&&t.dependencies!==null&&ju(t.dependencies)?(typeof E=="function"&&(jd(n,r,E,l),H=n.memoizedState),(Q=Ls||Zp(n,r,Q,l,z,H,C)||t!==null&&t.dependencies!==null&&ju(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,tc(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Qr(n,t.child,null,h),n.child=Qr(n,null,r,h)):tn(t,n,r,h),n.memoizedState=d.state,t=n.child):t=ls(t,n,h),t}function m0(t,n,r,l){return zr(),n.flags|=256,tn(t,n,r,l),n.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(t){return{baseLanes:t,cachePool:ip()}}function Hd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Vn),t}function g0(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?qs(n):Hs(),(t=mt)?(t=xy(t,Kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Vi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=n,n.child=r,Wt=n,mt=null)):t=null,t===null)throw Ps(n);return wf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Hs(),h=n.mode,E=nc({mode:"hidden",children:E},h),l=Lr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=qd(r),l.childLanes=Hd(t,y,r),n.memoizedState=Bd,uo(null,l)):(qs(n),Gd(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)n.flags&256?(qs(n),n.flags&=-257,n=Fd(t,n,r)):n.memoizedState!==null?(Hs(),n.child=t.child,n.flags|=128,n=null):(Hs(),E=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),E=Lr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Qr(n,t.child,null,r),l=n.child,l.memoizedState=qd(r),l.childLanes=Hd(t,y,r),n.memoizedState=Bd,n=uo(null,l));else if(qs(n),wf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(a(419)),l.stack="",l.digest=y,Jl({value:l,source:null,stack:null}),n=Fd(t,n,r)}else if(jt||Ma(t,n,r,!1),y=(r&t.childLanes)!==0,jt||y){if(y=ht,y!==null&&(l=kl(y,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Ur(t,l),xn(y,t,l),Ld;Sf(E)||hc(),n=Fd(t,n,r)}else Sf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,mt=Xn(E.nextSibling),Wt=n,Ke=!0,js=null,Kn=!1,t!==null&&Jg(n,t),n=Gd(n,l.children),n.flags|=4096);return n}return h?(Hs(),E=l.fallback,h=n.mode,C=t.child,L=C.sibling,l=ts(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=ts(L,E):(E=Lr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,uo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=qd(r):(h=E.cachePool,h!==null?(C=Mt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ip(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Hd(t,y,r),n.memoizedState=Bd,uo(t.child,l)):(qs(n),r=t.child,t=r.sibling,r=ts(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Gd(t,n){return n=nc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function nc(t,n){return t=In(22,t,null,n),t.lanes=0,t}function Fd(t,n,r){return Qr(n,t.child,null,r),t=Gd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function p0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ad(t.return,n,r)}function Qd(t,n,r,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=d)}function y0(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=Rt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,se(Rt,y),tn(t,n,l,r),l=Ke?$l:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p0(t,r,n);else if(t.tag===19)p0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Gu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qd(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Gu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qd(n,!0,r,null,d,l);break;case"together":Qd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Qs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ma(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ts(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ts(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&ju(t)))}function zE(t,n,r){switch(n.tag){case 3:Et(n,n.stateNode.containerInfo),Us(n,Mt,t.memoizedState.cache),zr();break;case 27:case 5:$t(n);break;case 4:Et(n,n.stateNode.containerInfo);break;case 10:Us(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_d(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?g0(t,n,r):(qs(n),t=ls(t,n,r),t!==null?t.sibling:null);qs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ma(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return y0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Rt,Rt.current),l)break;return null;case 22:return n.lanes=0,u0(t,n,r,n.pendingProps);case 24:Us(n,Mt,t.memoizedState.cache)}return ls(t,n,r)}function _0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)jt=!0;else{if(!Kd(t,r)&&(n.flags&128)===0)return jt=!1,zE(t,n,r);jt=(t.flags&131072)!==0}else jt=!1,Ke&&(n.flags&1048576)!==0&&$g(n,$l,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Gr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=Yr(t,l),n.tag=1,n=f0(null,n,t,l,r)):(n.tag=0,n=zd(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Se){n.tag=11,n=a0(null,n,t,l,r);break e}else if(h===w){n.tag=14,n=l0(null,n,t,l,r);break e}}throw n=dt(t)||t,Error(a(306,n,""))}}return n;case 0:return zd(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Yr(l,n.pendingProps),f0(t,n,l,h,r);case 3:e:{if(Et(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,fd(t,n),so(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Us(n,Mt,l),l!==d.cache&&ld(n,[Mt],r,!0),io(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=m0(t,n,l,r);break e}else if(l!==h){h=Gn(Error(a(424)),n),Jl(h),n=m0(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,mt=Xn(t.firstChild),Wt=n,Ke=!0,js=null,Kn=!0,r=up(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zr(),l===h){n=ls(t,n,r);break e}tn(t,n,l,r)}n=n.child}return n;case 26:return tc(t,n),t===null?(r=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ke||(r=n.type,t=n.pendingProps,l=_c(De.current).createElement(r),l[It]=n,l[Qt]=t,nn(l,r,t),Dt(l),n.stateNode=l):n.memoizedState=Cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return $t(n),t===null&&Ke&&(l=n.stateNode=wy(n.type,n.pendingProps,De.current),Wt=n,Kn=!0,h=mt,Js(n.type)?(Rf=h,mt=Xn(l.firstChild)):mt=h),tn(t,n,n.pendingProps.children,r),tc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=mt)&&(l=pT(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Wt=n,mt=Xn(l.firstChild),Kn=!1,h=!0):h=!1),h||Ps(n)),$t(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Tf(h,d)?l=null:y!==null&&Tf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=bd(t,n,IE,null,null,r),So._currentValue=h),tc(t,n),tn(t,n,l,r),n.child;case 6:return t===null&&Ke&&((t=r=mt)&&(r=yT(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Wt=n,mt=null,t=!0):t=!1),t||Ps(n)),null;case 13:return g0(t,n,r);case 4:return Et(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Qr(n,null,l,r):tn(t,n,l,r),n.child;case 11:return a0(t,n,n.type,n.pendingProps,r);case 7:return tn(t,n,n.pendingProps,r),n.child;case 8:return tn(t,n,n.pendingProps.children,r),n.child;case 12:return tn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Us(n,n.type,l.value),tn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,qr(n),h=en(h),l=l(h),n.flags|=1,tn(t,n,l,r),n.child;case 14:return l0(t,n,n.type,n.pendingProps,r);case 15:return o0(t,n,n.type,n.pendingProps,r);case 19:return y0(t,n,r);case 31:return LE(t,n,r);case 22:return u0(t,n,r,n.pendingProps);case 24:return qr(n),l=en(Mt),t===null?(h=cd(),h===null&&(h=ht,d=od(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},dd(n),Us(n,Mt,h)):((t.lanes&r)!==0&&(fd(t,n),so(n,null,null,r),io()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Us(n,Mt,l)):(l=d.cache,Us(n,Mt,l),l!==h.cache&&ld(n,[Mt],r,!0))),tn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(t){t.flags|=4}function Yd(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(F0())t.flags|=8192;else throw Fr=zu,hd}else t.flags&=-16777217}function v0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!My(n))if(F0())t.flags|=8192;else throw Fr=zu,hd}function ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ma():536870912,t.lanes|=n,Qa|=n)}function co(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function BE(t,n,r){var l=n.pendingProps;switch(nd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(n),null;case 1:return gt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(Mt),Xe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?os(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sd())),gt(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(os(n),d!==null?(gt(n),v0(n,d)):(gt(n),Yd(n,h,null,l,r))):d?d!==t.memoizedState?(os(n),gt(n),v0(n,d)):(gt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&os(n),gt(n),Yd(n,h,t,l,r)),null;case 27:if(Yi(n),r=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return gt(n),null}t=ae.current,Oa(n)?Zg(n):(t=wy(h,l,r),n.stateNode=t,os(n))}return gt(n),null;case 5:if(Yi(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return gt(n),null}if(d=ae.current,Oa(n))Zg(n);else{var y=_c(De.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[It]=n,d[Qt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(nn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&os(n)}}return gt(n),Yd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Oa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||gy(t.nodeValue,r)),t||Ps(n,!0)}else t=_c(t).createTextNode(l),t[It]=n,n.stateNode=t}return gt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),t=!1}else r=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(On(n),n):(On(n),null);if((n.flags&128)!==0)throw Error(a(558))}return gt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;gt(n),h=!1}else h=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(On(n),n):(On(n),null)}return On(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ic(n,n.updateQueue),gt(n),null);case 4:return Xe(),t===null&&yf(n.stateNode.containerInfo),gt(n),null;case 10:return ss(n.type),gt(n),null;case 19:if(K(Rt),l=n.memoizedState,l===null)return gt(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)co(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Gu(t),d!==null){for(n.flags|=128,co(l,!1),t=d.updateQueue,n.updateQueue=t,ic(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kg(r,t),r=r.sibling;return se(Rt,Rt.current&1|2),Ke&&ns(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Bt()>oc&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304)}else{if(!h)if(t=Gu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ic(n,t),co(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ke)return gt(n),null}else 2*Bt()-l.renderingStartTime>oc&&r!==536870912&&(n.flags|=128,h=!0,co(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Bt(),t.sibling=null,r=Rt.current,se(Rt,h?r&1|2:r&1),Ke&&ns(n,l.treeForkCount),t):(gt(n),null);case 22:case 23:return On(n),yd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(gt(n),n.subtreeFlags&6&&(n.flags|=8192)):gt(n),r=n.updateQueue,r!==null&&ic(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&K(Hr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ss(Mt),gt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function qE(t,n){switch(nd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ss(Mt),Xe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Yi(n),null;case 31:if(n.memoizedState!==null){if(On(n),n.alternate===null)throw Error(a(340));zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(On(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(Rt),null;case 4:return Xe(),null;case 10:return ss(n.type),null;case 22:case 23:return On(n),yd(),t!==null&&K(Hr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ss(Mt),null;case 25:return null;default:return null}}function b0(t,n){switch(nd(n),n.tag){case 3:ss(Mt),Xe();break;case 26:case 27:case 5:Yi(n);break;case 4:Xe();break;case 31:n.memoizedState!==null&&On(n);break;case 13:On(n);break;case 19:K(Rt);break;case 10:ss(n.type);break;case 22:case 23:On(n),yd(),t!==null&&K(Hr);break;case 24:ss(Mt)}}function ho(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,y=r.inst;l=d(),y.destroy=l}r=r.next}while(r!==h)}}catch(E){rt(n,n.return,E)}}function Gs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=r,L=E;try{L()}catch(Q){rt(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){rt(n,n.return,Q)}}function E0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hp(n,r)}catch(l){rt(t,t.return,l)}}}function T0(t,n,r){r.props=Yr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){rt(t,n,l)}}function fo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){rt(t,n,h)}}function Pi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){rt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){rt(t,n,h)}else r.current=null}function x0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){rt(t,t.return,h)}}function Xd(t,n,r){try{var l=t.stateNode;cT(l,t.type,r,n),l[Qt]=n}catch(h){rt(t,t.return,h)}}function A0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function $d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ai));else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jd(t,n,r),t=t.sibling;t!==null;)Jd(t,n,r),t=t.sibling}function sc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(sc(t,n,r),t=t.sibling;t!==null;)sc(t,n,r),t=t.sibling}function S0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,l,r),n[It]=t,n[Qt]=r}catch(d){rt(t,t.return,d)}}var us=!1,Pt=!1,Zd=!1,w0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function HE(t,n){if(t=t.containerInfo,bf=Sc,t=Ug(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var y=0,E=-1,C=-1,L=0,Q=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=y+h),X!==d||l!==0&&X.nodeType!==3||(C=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++L===h&&(E=y),z===d&&++Q===l&&(C=y),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},Sc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var oe=Yr(r.type,h);t=l.getSnapshotBeforeUpdate(oe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){rt(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function R0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:hs(t,r),l&4&&ho(5,r);break;case 1:if(hs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){rt(r,r.return,y)}else{var h=Yr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){rt(r,r.return,y)}}l&64&&E0(r),l&512&&fo(r,r.return);break;case 3:if(hs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hp(t,n)}catch(y){rt(r,r.return,y)}}break;case 27:n===null&&l&4&&S0(r);case 26:case 5:hs(t,r),n===null&&l&4&&x0(r),l&512&&fo(r,r.return);break;case 12:hs(t,r);break;case 31:hs(t,r),l&4&&k0(t,r);break;case 13:hs(t,r),l&4&&I0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=ZE.bind(null,r),_T(t,r))));break;case 22:if(l=r.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Pt,h=us;var d=Pt;us=l,(Pt=n)&&!d?ds(t,r,(r.subtreeFlags&8772)!==0):hs(t,r),us=h,Pt=d}break;case 30:break;default:hs(t,r)}}function N0(t){var n=t.alternate;n!==null&&(t.alternate=null,N0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,vn=!1;function cs(t,n,r){for(r=r.child;r!==null;)C0(t,n,r),r=r.sibling}function C0(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Rn,r)}catch{}switch(r.tag){case 26:Pt||Pi(r,n),cs(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Pt||Pi(r,n);var l=vt,h=vn;Js(r.type)&&(vt=r.stateNode,vn=!1),cs(t,n,r),To(r.stateNode),vt=l,vn=h;break;case 5:Pt||Pi(r,n);case 6:if(l=vt,h=vn,vt=null,cs(t,n,r),vt=l,vn=h,vt!==null)if(vn)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(r.stateNode)}catch(d){rt(r,n,d)}else try{vt.removeChild(r.stateNode)}catch(d){rt(r,n,d)}break;case 18:vt!==null&&(vn?(t=vt,Ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),el(t)):Ey(vt,r.stateNode));break;case 4:l=vt,h=vn,vt=r.stateNode.containerInfo,vn=!0,cs(t,n,r),vt=l,vn=h;break;case 0:case 11:case 14:case 15:Gs(2,r,n),Pt||Gs(4,r,n),cs(t,n,r);break;case 1:Pt||(Pi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&T0(r,n,l)),cs(t,n,r);break;case 21:cs(t,n,r);break;case 22:Pt=(l=Pt)||r.memoizedState!==null,cs(t,n,r),Pt=l;break;default:cs(t,n,r)}}function k0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(r){rt(n,n.return,r)}}}function I0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(r){rt(n,n.return,r)}}function GE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new w0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new w0),n;default:throw Error(a(435,t.tag))}}function rc(t,n){var r=GE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=WE.bind(null,t,l);l.then(h,h)}})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Js(E.type)){vt=E.stateNode,vn=!1;break e}break;case 5:vt=E.stateNode,vn=!1;break e;case 3:case 4:vt=E.stateNode.containerInfo,vn=!0;break e}E=E.return}if(vt===null)throw Error(a(160));C0(d,y,h),vt=null,vn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)D0(n,t),n=n.sibling}var di=null;function D0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),En(t),l&4&&(Gs(3,t,t.return),ho(3,t),Gs(5,t,t.return));break;case 1:bn(n,t),En(t),l&512&&(Pt||r===null||Pi(r,r.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=di;if(bn(n,t),En(t),l&512&&(Pt||r===null||Pi(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xi]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,r),d[It]=t,Dt(d),l=d;break e;case"link":var y=Dy("link","href",h).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break t}}d=h.createElement(l),nn(d,l,r),h.head.appendChild(d);break;case"meta":if(y=Dy("meta","content",h).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break t}}d=h.createElement(l),nn(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[It]=t,Dt(d),l=d}t.stateNode=l}else Oy(h,t.type,t.stateNode);else t.stateNode=Iy(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Oy(h,t.type,t.stateNode):Iy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,r.memoizedProps)}break;case 27:bn(n,t),En(t),l&512&&(Pt||r===null||Pi(r,r.return)),r!==null&&l&4&&Xd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(bn(n,t),En(t),l&512&&(Pt||r===null||Pi(r,r.return)),t.flags&32){h=t.stateNode;try{_n(h,"")}catch(oe){rt(t,t.return,oe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xd(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Zd=!0);break;case 6:if(bn(n,t),En(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(oe){rt(t,t.return,oe)}}break;case 3:if(Ec=null,h=di,di=vc(n.containerInfo),bn(n,t),di=h,En(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(oe){rt(t,t.return,oe)}Zd&&(Zd=!1,O0(t));break;case 4:l=di,di=vc(t.stateNode.containerInfo),bn(n,t),En(t),di=l;break;case 12:bn(n,t),En(t);break;case 31:bn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 13:bn(n,t),En(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(lc=Bt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,L=us,Q=Pt;if(us=L||h,Pt=Q||C,bn(n,t),Pt=Q,us=L,En(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||us||Pt||Xr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(d=C.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(oe){rt(C,C.return,oe)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(oe){rt(C,C.return,oe)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?Ty(H,!0):Ty(C.stateNode,!1)}catch(oe){rt(C,C.return,oe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,rc(t,r))));break;case 19:bn(n,t),En(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,rc(t,l)));break;case 30:break;case 21:break;default:bn(n,t),En(t)}}function En(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(A0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=$d(t);sc(t,d,h);break;case 5:var y=r.stateNode;r.flags&32&&(_n(y,""),r.flags&=-33);var E=$d(t);sc(t,E,y);break;case 3:case 4:var C=r.stateNode.containerInfo,L=$d(t);Jd(t,L,C);break;default:throw Error(a(161))}}catch(Q){rt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function O0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;O0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function hs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)R0(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Gs(4,n,n.return),Xr(n);break;case 1:Pi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&T0(n,n.return,r),Xr(n);break;case 27:To(n.stateNode);case 26:case 5:Pi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}t=t.sibling}}function ds(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:ds(h,d,r),ho(4,d);break;case 1:if(ds(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){rt(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cp(C[h],E)}catch(L){rt(l,l.return,L)}}r&&y&64&&E0(d),fo(d,d.return);break;case 27:S0(d);case 26:case 5:ds(h,d,r),r&&l===null&&y&4&&x0(d),fo(d,d.return);break;case 12:ds(h,d,r);break;case 31:ds(h,d,r),r&&y&4&&k0(h,d);break;case 13:ds(h,d,r),r&&y&4&&I0(h,d);break;case 22:d.memoizedState===null&&ds(h,d,r),fo(d,d.return);break;case 30:break;default:ds(h,d,r)}n=n.sibling}}function Wd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Zl(r))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t))}function fi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)M0(t,n,r,l),n=n.sibling}function M0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:fi(t,n,r,l),h&2048&&ho(9,n);break;case 1:fi(t,n,r,l);break;case 3:fi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){fi(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){rt(n,n.return,C)}}else fi(t,n,r,l);break;case 31:fi(t,n,r,l);break;case 13:fi(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?fi(t,n,r,l):mo(t,n):d._visibility&2?fi(t,n,r,l):(d._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wd(y,n);break;case 24:fi(t,n,r,l),h&2048&&ef(n.alternate,n);break;default:fi(t,n,r,l)}}function Ha(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,E=r,C=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(d,y,E,C,h),ho(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Ha(d,y,E,C,h):mo(d,y):(Q._visibility|=2,Ha(d,y,E,C,h)),h&&L&2048&&Wd(y.alternate,y);break;case 24:Ha(d,y,E,C,h),h&&L&2048&&ef(y.alternate,y);break;default:Ha(d,y,E,C,h)}n=n.sibling}}function mo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:mo(r,l),h&2048&&Wd(l.alternate,l);break;case 24:mo(r,l),h&2048&&ef(l.alternate,l);break;default:mo(r,l)}n=n.sibling}}var go=8192;function Ga(t,n,r){if(t.subtreeFlags&go)for(t=t.child;t!==null;)V0(t,n,r),t=t.sibling}function V0(t,n,r){switch(t.tag){case 26:Ga(t,n,r),t.flags&go&&t.memoizedState!==null&&kT(r,di,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,n,r);break;case 3:case 4:var l=di;di=vc(t.stateNode.containerInfo),Ga(t,n,r),di=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=go,go=16777216,Ga(t,n,r),go=l):Ga(t,n,r));break;default:Ga(t,n,r)}}function j0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function po(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,U0(l,t)}j0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P0(t),t=t.sibling}function P0(t){switch(t.tag){case 0:case 11:case 15:po(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:po(t);break;case 12:po(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ac(t)):po(t);break;default:po(t)}}function ac(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,U0(l,t)}j0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Gs(8,n,n.return),ac(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ac(n));break;default:ac(n)}t=t.sibling}}function U0(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Gs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Zl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(N0(l),l===r){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var FE={getCacheForType:function(t){var n=en(Mt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return en(Mt).controller.signal}},QE=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,Le=null,Be=0,st=0,Mn=null,Fs=!1,Fa=!1,tf=!1,fs=0,St=0,Qs=0,$r=0,nf=0,Vn=0,Qa=0,yo=null,Tn=null,sf=!1,lc=0,L0=0,oc=1/0,uc=null,Ks=null,Ht=0,Ys=null,Ka=null,ms=0,rf=0,af=null,z0=null,_o=0,lf=null;function jn(){return(et&2)!==0&&Be!==0?Be&-Be:F.T!==null?ff():cu()}function B0(){if(Vn===0)if((Be&536870912)===0||Ke){var t=Ne;Ne<<=1,(Ne&3932160)===0&&(Ne=262144),Vn=t}else Vn=536870912;return t=Dn.current,t!==null&&(t.flags|=32),Vn}function xn(t,n,r){(t===ht&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Xs(t,Be,Vn,!1)),$i(t,r),((et&2)===0||t!==ht)&&(t===ht&&((et&2)===0&&($r|=r),St===4&&Xs(t,Be,Vn,!1)),Ui(t))}function q0(t,n,r){if((et&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Jt(t,n),h=l?XE(t,n):uf(t,n,!0),d=l;do{if(h===0){Fa&&!l&&Xs(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!KE(r)){h=uf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=yo;var C=E.current.memoizedState.isDehydrated;if(C&&(Ya(E,y).flags|=256),y=uf(E,y,!1),y!==2){if(tf&&!C){E.errorRecoveryDisabledLanes|=d,$r|=d,h=4;break e}d=Tn,Tn=h,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),Xs(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Vn,!Fs);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-Bt(),10<h)){if(Xs(l,n,Vn,!Fs),tt(l,0,!0)!==0)break e;ms=n,l.timeoutHandle=vy(H0.bind(null,l,r,Tn,uc,sf,n,Vn,$r,Qa,Fs,d,"Throttled",-0,0),h);break e}H0(l,r,Tn,uc,sf,n,Vn,$r,Qa,Fs,d,null,-0,0)}}break}while(!0);Ui(t)}function H0(t,n,r,l,h,d,y,E,C,L,Q,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},V0(n,d,X);var oe=(d&62914560)===d?lc-Bt():(d&4194048)===d?L0-Bt():0;if(oe=IT(X,oe),oe!==null){ms=d,t.cancelPendingCommit=oe(J0.bind(null,t,n,d,r,l,h,y,E,C,Q,X,null,z,H)),Xs(t,d,y,!L);return}}J0(t,n,d,r,l,h,y,E,C)}function KE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!kn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(t,n,r,l){n&=~nf,n&=~$r,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-Tt(h),y=1<<d;l[d]=-1,h&=~y}r!==0&&Sr(t,r,n)}function cc(){return(et&6)===0?(vo(0),!1):!0}function of(){if(Le!==null){if(st===0)var t=Le.return;else t=Le,is=Br=null,xd(t),Ua=null,eo=0,t=Le;for(;t!==null;)b0(t.alternate,t),t=t.return;Le=null}}function Ya(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,fT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ms=0,of(),ht=t,Le=r=ts(t.current,null),Be=n,st=0,Mn=null,Fs=!1,Fa=Jt(t,n),tf=!1,Qa=Vn=nf=$r=Qs=St=0,Tn=yo=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Tt(l),d=1<<h;n|=t[h],l&=~d}return fs=n,Iu(),r}function G0(t,n){Me=null,F.H=oo,n===Pa||n===Lu?(n=ap(),st=3):n===hd?(n=ap(),st=4):st=n===Ld?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Mn=n,Le===null&&(St=1,Wu(t,Gn(n,t.current)))}function F0(){var t=Dn.current;return t===null?!0:(Be&4194048)===Be?Yn===null:(Be&62914560)===Be||(Be&536870912)!==0?t===Yn:!1}function Q0(){var t=F.H;return F.H=oo,t===null?oo:t}function K0(){var t=F.A;return F.A=FE,t}function hc(){St=4,Fs||(Be&4194048)!==Be&&Dn.current!==null||(Fa=!0),(Qs&134217727)===0&&($r&134217727)===0||ht===null||Xs(ht,Be,Vn,!1)}function uf(t,n,r){var l=et;et|=2;var h=Q0(),d=K0();(ht!==t||Be!==n)&&(uc=null,Ya(t,n)),n=!1;var y=St;e:do try{if(st!==0&&Le!==null){var E=Le,C=Mn;switch(st){case 8:of(),y=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var L=st;if(st=0,Mn=null,Xa(t,E,C,L),r&&Fa){y=0;break e}break;default:L=st,st=0,Mn=null,Xa(t,E,C,L)}}YE(),y=St;break}catch(Q){G0(t,Q)}while(!0);return n&&t.shellSuspendCounter++,is=Br=null,et=l,F.H=h,F.A=d,Le===null&&(ht=null,Be=0,Iu()),y}function YE(){for(;Le!==null;)Y0(Le)}function XE(t,n){var r=et;et|=2;var l=Q0(),h=K0();ht!==t||Be!==n?(uc=null,oc=Bt()+500,Ya(t,n)):Fa=Jt(t,n);e:do try{if(st!==0&&Le!==null){n=Le;var d=Mn;t:switch(st){case 1:st=0,Mn=null,Xa(t,n,d,1);break;case 2:case 9:if(sp(d)){st=0,Mn=null,X0(n);break}n=function(){st!==2&&st!==9||ht!==t||(st=7),Ui(t)},d.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:sp(d)?(st=0,Mn=null,X0(n)):(st=0,Mn=null,Xa(t,n,d,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var E=Le;if(y?My(y):E.stateNode.complete){st=0,Mn=null;var C=E.sibling;if(C!==null)Le=C;else{var L=E.return;L!==null?(Le=L,dc(L)):Le=null}break t}}st=0,Mn=null,Xa(t,n,d,5);break;case 6:st=0,Mn=null,Xa(t,n,d,6);break;case 8:of(),St=6;break e;default:throw Error(a(462))}}$E();break}catch(Q){G0(t,Q)}while(!0);return is=Br=null,F.H=l,F.A=h,et=r,Le!==null?0:(ht=null,Be=0,Iu(),St)}function $E(){for(;Le!==null&&!wl();)Y0(Le)}function Y0(t){var n=_0(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?dc(t):Le=n}function X0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=d0(r,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=d0(r,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:xd(n);default:b0(r,n),n=Le=Kg(n,fs),n=_0(r,n,fs)}t.memoizedProps=t.pendingProps,n===null?dc(t):Le=n}function Xa(t,n,r,l){is=Br=null,xd(n),Ua=null,eo=0;var h=n.return;try{if(UE(t,h,n,r,Be)){St=1,Wu(t,Gn(r,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;St=1,Wu(t,Gn(r,t.current)),Le=null;return}n.flags&32768?(Ke||l===1?t=!0:Fa||(Be&536870912)!==0?t=!1:(Fs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$0(n,t)):dc(n)}function dc(t){var n=t;do{if((n.flags&32768)!==0){$0(n,Fs);return}t=n.return;var r=BE(n.alternate,n,fs);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);St===0&&(St=5)}function $0(t,n){do{var r=qE(t.alternate,t);if(r!==null){r.flags&=32767,Le=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=r}while(t!==null);St=6,Le=null}function J0(t,n,r,l,h,d,y,E,C){t.cancelPendingCommit=null;do fc();while(Ht!==0);if((et&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=$h,Nl(t,r,d,y,E,C),t===ht&&(Le=ht=null,Be=0),Ka=n,Ys=t,ms=r,rf=d,af=h,z0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,eT(Ei,function(){return ny(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ie.p,ie.p=2,y=et,et|=4;try{HE(t,n,r)}finally{et=y,ie.p=h,F.T=l}}Ht=1,Z0(),W0(),ey()}}function Z0(){if(Ht===1){Ht=0;var t=Ys,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ie.p;ie.p=2;var h=et;et|=4;try{D0(n,t);var d=Ef,y=Ug(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(C!==null&&Fh(E)){var L=C.start,Q=C.end;if(Q===void 0&&(Q=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),oe=E.textContent.length,_e=Math.min(C.start,oe),ct=C.end===void 0?_e:Math.min(C.end,oe);!H.extend&&_e>ct&&(y=ct,ct=_e,_e=y);var V=jg(E,_e),D=jg(E,ct);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),_e>ct?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Sc=!!bf,Ef=bf=null}finally{et=h,ie.p=l,F.T=r}}t.current=n,Ht=2}}function W0(){if(Ht===2){Ht=0;var t=Ys,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ie.p;ie.p=2;var h=et;et|=4;try{R0(t,n.alternate,n)}finally{et=h,ie.p=l,F.T=r}}Ht=3}}function ey(){if(Ht===4||Ht===3){Ht=0,bi();var t=Ys,n=Ka,r=ms,l=z0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,Ka=Ys=null,ty(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ks=null),Ji(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Rn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ie.p,ie.p=2,F.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];d(E.value,{componentStack:E.stack})}}finally{F.T=n,ie.p=h}}(ms&3)!==0&&fc(),Ui(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===lf?_o++:(_o=0,lf=t):_o=0,vo(0)}}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Zl(n)))}function fc(){return Z0(),W0(),ey(),ny()}function ny(){if(Ht!==5)return!1;var t=Ys,n=rf;rf=0;var r=Ji(ms),l=F.T,h=ie.p;try{ie.p=32>r?32:r,F.T=null,r=af,af=null;var d=Ys,y=ms;if(Ht=0,Ka=Ys=null,ms=0,(et&6)!==0)throw Error(a(331));var E=et;if(et|=4,P0(d.current),M0(d,d.current,y,r),et=E,vo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Rn,d)}catch{}return!0}finally{ie.p=h,F.T=l,ty(t,n)}}function iy(t,n,r){n=Gn(r,n),n=Ud(t.stateNode,n,2),t=Bs(t,n,2),t!==null&&($i(t,2),Ui(t))}function rt(t,n,r){if(t.tag===3)iy(t,t,r);else for(;n!==null;){if(n.tag===3){iy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){t=Gn(r,t),r=s0(2),l=Bs(n,r,2),l!==null&&(r0(r,l,n,t),$i(l,2),Ui(l));break}}n=n.return}}function cf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new QE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(tf=!0,h.add(r),t=JE.bind(null,t,n,r),n.then(t,t))}function JE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ht===t&&(Be&r)===r&&(St===4||St===3&&(Be&62914560)===Be&&300>Bt()-lc?(et&2)===0&&Ya(t,0):nf|=r,Qa===Be&&(Qa=0)),Ui(t)}function sy(t,n){n===0&&(n=ma()),t=Ur(t,n),t!==null&&($i(t,n),Ui(t))}function ZE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sy(t,r)}function WE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),sy(t,r)}function eT(t,n){return at(t,n)}var mc=null,$a=null,hf=!1,gc=!1,df=!1,$s=0;function Ui(t){t!==$a&&t.next===null&&($a===null?mc=$a=t:$a=$a.next=t),gc=!0,hf||(hf=!0,nT())}function vo(t,n){if(!df&&gc){df=!0;do for(var r=!1,l=mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Tt(42|t)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,oy(l,d))}else d=Be,d=tt(l,l===ht?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Jt(l,d)||(r=!0,oy(l,d));l=l.next}while(r);df=!1}}function tT(){ry()}function ry(){gc=hf=!1;var t=0;$s!==0&&dT()&&(t=$s);for(var n=Bt(),r=null,l=mc;l!==null;){var h=l.next,d=ay(l,n);d===0?(l.next=null,r===null?mc=h:r.next=h,h===null&&($a=r)):(r=l,(t!==0||(d&3)!==0)&&(gc=!0)),l=h}Ht!==0&&Ht!==5||vo(t),$s!==0&&($s=0)}function ay(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-Tt(d),E=1<<y,C=h[y];C===-1?((E&r)===0||(E&l)!==0)&&(h[y]=ii(E,n)):C<=n&&(t.expiredLanes|=E),d&=~E}if(n=ht,r=Be,r=tt(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Jt(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&vi(l),Ji(r)){case 2:case 8:r=Xi;break;case 32:r=Ei;break;case 268435456:r=xr;break;default:r=Ei}return l=ly.bind(null,t),r=at(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&vi(l),t.callbackPriority=2,t.callbackNode=null,2}function ly(t,n){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(fc()&&t.callbackNode!==r)return null;var l=Be;return l=tt(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(q0(t,l,n),ay(t,Bt()),t.callbackNode!=null&&t.callbackNode===r?ly.bind(null,t):null)}function oy(t,n){if(fc())return null;q0(t,n,!0)}function nT(){mT(function(){(et&6)!==0?at(Tr,tT):ry()})}function ff(){if($s===0){var t=Va;t===0&&(t=xe,xe<<=1,(xe&261888)===0&&(xe=256)),$s=t}return $s}function uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function cy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function iT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=uy((h[Qt]||null).action),y=l.submitter;y&&(n=(n=y[Qt]||null)?uy(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var E=new Ii("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var C=y?cy(h,y):new FormData(h);Dd(r,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=y?cy(h,y):new FormData(h),Dd(r,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var mf=0;mf<Xh.length;mf++){var gf=Xh[mf],sT=gf.toLowerCase(),rT=gf[0].toUpperCase()+gf.slice(1);hi(sT,"on"+rT)}hi(Bg,"onAnimationEnd"),hi(qg,"onAnimationIteration"),hi(Hg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(EE,"onTransitionRun"),hi(TE,"onTransitionStart"),hi(xE,"onTransitionCancel"),hi(Gg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function hy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(Q){ku(Q)}h.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(E=l[y],C=E.instance,L=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(Q){ku(Q)}h.currentTarget=null,d=C}}}}function ze(t,n){var r=n[ga];r===void 0&&(r=n[ga]=new Set);var l=t+"__bubble";r.has(l)||(dy(n,t,2,!1),r.add(l))}function pf(t,n,r){var l=0;n&&(l|=4),dy(r,t,l,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[pc]){t[pc]=!0,Il.forEach(function(r){r!=="selectionchange"&&(aT.has(r)||pf(r,!1,t),pf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[pc]||(n[pc]=!0,pf("selectionchange",!1,n))}}function dy(t,n,r,l){switch(By(n)){case 2:var h=MT;break;case 8:h=VT;break;default:h=Df}r=h.bind(null,n,r,t),h=void 0,!kr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _f(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ai(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}E=E.parentNode}}l=l.return}Is(function(){var L=d,Q=zn(r),X=[];e:{var z=Fg.get(t);if(z!==void 0){var H=Ii,oe=t;switch(t){case"keypress":if(Dr(r)===0)break e;case"keydown":case"keyup":H=Ru;break;case"focusin":oe="focus",H=Mr;break;case"focusout":oe="blur",H=Mr;break;case"beforeblur":case"afterblur":H=Mr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bg:case qg:case Hg:H=bu;break;case Gg:H=x;break;case"scroll":case"scrollend":H=Hl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=es;break;case"toggle":case"beforetoggle":H=Oe}var _e=(n&4)!==0,ct=!_e&&(t==="scroll"||t==="scrollend"),V=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=L,U;D!==null;){var Y=D;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||V===null||(Y=li(D,V),Y!=null&&_e.push(Eo(D,Y,U))),ct)break;D=D.return}0<_e.length&&(z=new H(z,oe,null,r,Q),X.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==zl&&(oe=r.relatedTarget||r.fromElement)&&(Ai(oe)||oe[Ti]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(oe=r.relatedTarget||r.toElement,H=L,oe=oe?Ai(oe):null,oe!==null&&(ct=c(oe),_e=oe.tag,oe!==ct||_e!==5&&_e!==27&&_e!==6)&&(oe=null)):(H=null,oe=L),H!==oe)){if(_e=Gl,Y="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=es,Y="onPointerLeave",V="onPointerEnter",D="pointer"),ct=H==null?z:Nn(H),U=oe==null?z:Nn(oe),z=new _e(Y,D+"leave",H,r,Q),z.target=ct,z.relatedTarget=U,Y=null,Ai(Q)===L&&(_e=new _e(V,D+"enter",oe,r,Q),_e.target=U,_e.relatedTarget=ct,Y=_e),ct=Y,H&&oe)t:{for(_e=lT,V=H,D=oe,U=0,Y=V;Y;Y=_e(Y))U++;Y=0;for(var me=D;me;me=_e(me))Y++;for(;0<U-Y;)V=_e(V),U--;for(;0<Y-U;)D=_e(D),Y--;for(;U--;){if(V===D||D!==null&&V===D.alternate){_e=V;break t}V=_e(V),D=_e(D)}_e=null}else _e=null;H!==null&&fy(X,z,H,_e,!1),oe!==null&&ct!==null&&fy(X,ct,oe,_e,!0)}}e:{if(z=L?Nn(L):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=kg;else if(Ng(z))if(Ig)$e=_E;else{$e=pE;var ce=gE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&va(L.elementType)&&($e=kg):$e=yE;if($e&&($e=$e(t,L))){Cg(X,$e,r,Q);break e}ce&&ce(t,z,L),t==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Pl(z,"number",z.value)}switch(ce=L?Nn(L):window,t){case"focusin":(Ng(ce)||ce.contentEditable==="true")&&(Ra=ce,Qh=L,Xl=null);break;case"focusout":Xl=Qh=Ra=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Lg(X,r,Q);break;case"selectionchange":if(bE)break;case"keydown":case"keyup":Lg(X,r,Q)}var Ve;if(We)e:{switch(t){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else wa?Vr(t,r)&&(qe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(qe="onCompositionStart");qe&&(Mi&&r.locale!=="ko"&&(wa||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&wa&&(Ve=ql()):(ki=Q,Bl="value"in ki?ki.value:ki.textContent,wa=!0)),ce=yc(L,qe),0<ce.length&&(qe=new Oi(qe,t,null,r,Q),X.push({event:qe,listeners:ce}),Ve?qe.data=Ve:(Ve=Sa(r),Ve!==null&&(qe.data=Ve)))),(Ve=qn?hE(t,r):dE(t,r))&&(qe=yc(L,"onBeforeInput"),0<qe.length&&(ce=new Oi("onBeforeInput","beforeinput",null,r,Q),X.push({event:ce,listeners:qe}),ce.data=Ve)),iT(X,t,L,r,Q)}hy(X,n)})}function Eo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function yc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=li(t,r),h!=null&&l.unshift(Eo(t,h,d)),h=li(t,n),h!=null&&l.push(Eo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fy(t,n,r,l,h){for(var d=n._reactName,y=[];r!==null&&r!==l;){var E=r,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=li(r,d),L!=null&&y.unshift(Eo(r,L,C))):h||(L=li(r,d),L!=null&&y.push(Eo(r,L,C)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var oT=/\r\n?/g,uT=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(oT,`
`).replace(uT,"")}function gy(t,n){return n=my(n),my(t)===n}function ut(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":Ll(t,l,d);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ai);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yu.get(r)||r,ya(t,r,l))}}function vf(t,n,r,l,h,d){switch(r){case"style":Ll(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[Qt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ya(t,r,l)}}}function nn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,d,y,r,null)}}h&&ut(t,n,"srcSet",r.srcSet,r,null),l&&ut(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var E=d=y=h=null,C=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":L=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ut(t,n,l,Q,r,null)}}mu(t,d,E,C,L,y,h,!1);return;case"select":ze("invalid",t),l=y=d=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:ut(t,n,h,E,r,null)}n=d,r=y,t.multiple=!!l,n!=null?Rs(t,!!l,n,!1):r!=null&&Rs(t,!!l,r,!0);return;case"textarea":ze("invalid",t),d=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ut(t,n,y,E,r,null)}Ns(t,l,h,d);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":ut(t,n,C,l,r,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<bo.length;l++)ze(bo[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ut(t,n,L,l,r,null)}return;default:if(va(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&vf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&ut(t,n,E,l,r,null))}function cT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,C=null,L=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||ut(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ut(t,n,z,H,l,X)}}_a(t,y,E,C,L,Q,d,h);return;case"select":H=y=E=z=null;for(d in r)if(C=r[d],r.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||ut(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=r[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==C&&ut(t,n,h,d,l,C)}n=E,r=y,l=H,z!=null?Rs(t,!!r,z,!1):!!l!=!!r&&(n!=null?Rs(t,!!r,n,!0):Rs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ut(t,n,E,null,l,h)}for(y in l)if(h=l[y],d=r[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&ut(t,n,y,h,l,d)}gu(t,z,H);return;case"option":for(var oe in r)z=r[oe],r.hasOwnProperty(oe)&&z!=null&&!l.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:ut(t,n,oe,null,l,z));for(C in l)z=l[C],H=r[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":ut(t,n,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)z=r[_e],r.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&ut(t,n,_e,null,l,z);for(L in l)if(z=l[L],H=r[L],l.hasOwnProperty(L)&&z!==H&&(z!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ut(t,n,L,z,l,H)}return;default:if(va(n)){for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!==void 0&&!l.hasOwnProperty(ct)&&vf(t,n,ct,void 0,l,z);for(Q in l)z=l[Q],H=r[Q],!l.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||vf(t,n,Q,z,l,H);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&ut(t,n,V,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||ut(t,n,X,z,l,H)}function py(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&py(y)){for(y=0,E=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],L=C.startTime;if(L>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&py(X)&&(C=C.responseEnd,y+=Q*(C<E?1:(E-L)/(C-L)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bf=null,Ef=null;function _c(t){return t.nodeType===9?t:t.ownerDocument}function yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function dT(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,fT=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(gT)}:vy;function gT(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function Ey(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),el(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")To(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,To(r);for(var d=r.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[xi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=y}}else r==="body"&&To(t.ownerDocument.body);r=h}while(r);el(n)}function Ty(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Af(r),pa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Xn(t.nextSibling),t===null)break}return null}function yT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Xn(t.nextSibling),t===null))return null;return t}function xy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _T(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rf=null;function Ay(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Xn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Sy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function wy(t,n,r){switch(n=_c(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function To(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var $n=new Map,Ry=new Set;function vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=ie.d;ie.d={f:vT,r:bT,D:ET,C:TT,L:xT,m:AT,X:wT,S:ST,M:RT};function vT(){var t=gs.f(),n=cc();return t||n}function bT(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Gp(n):gs.r(t)}var Ja=typeof document>"u"?null:document;function Ny(t,n,r){var l=Ja;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ry.has(h)||(Ry.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),nn(n,"link",t),Dt(n),l.head.appendChild(n)))}}function ET(t){gs.D(t),Ny("dns-prefetch",t,null)}function TT(t,n){gs.C(t,n),Ny("preconnect",t,n)}function xT(t,n,r){gs.L(t,n,r);var l=Ja;if(l&&t&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+yn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+yn(r.imageSizes)+'"]')):h+='[href="'+yn(t)+'"]';var d=h;switch(n){case"style":d=Za(t);break;case"script":d=Wa(t)}$n.has(d)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),$n.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(xo(d))||n==="script"&&l.querySelector(Ao(d))||(n=l.createElement("link"),nn(n,"link",t),Dt(n),l.head.appendChild(n)))}}function AT(t,n){gs.m(t,n);var r=Ja;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!$n.has(d)&&(t=A({rel:"modulepreload",href:t},n),$n.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ao(d)))return}l=r.createElement("link"),nn(l,"link",t),Dt(l),r.head.appendChild(l)}}}function ST(t,n,r){gs.S(t,n,r);var l=Ja;if(l&&t){var h=Si(l).hoistableStyles,d=Za(t);n=n||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xo(d)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=$n.get(d))&&Nf(t,r);var C=y=l.createElement("link");Dt(C),nn(C,"link",t),C._p=new Promise(function(L,Q){C.onload=L,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function wT(t,n){gs.X(t,n);var r=Ja;if(r&&t){var l=Si(r).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=r.querySelector(Ao(h)),d||(t=A({src:t,async:!0},n),(n=$n.get(h))&&Cf(t,n),d=r.createElement("script"),Dt(d),nn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function RT(t,n){gs.M(t,n);var r=Ja;if(r&&t){var l=Si(r).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=r.querySelector(Ao(h)),d||(t=A({src:t,async:!0,type:"module"},n),(n=$n.get(h))&&Cf(t,n),d=r.createElement("script"),Dt(d),nn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Cy(t,n,r,l){var h=(h=De.current)?vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Si(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var d=Si(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(xo(t)))&&!d._p&&(y.instance=d,y.state.loading=5),$n.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},$n.set(t,r),d||NT(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(r),r=Si(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Za(t){return'href="'+yn(t)+'"'}function xo(t){return'link[rel="stylesheet"]['+t+"]"}function ky(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function NT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nn(n,"link",r),Dt(n),t.head.appendChild(n))}function Wa(t){return'[src="'+yn(t)+'"]'}function Ao(t){return"script[async]"+t}function Iy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(r.href)+'"]');if(l)return n.instance=l,Dt(l),l;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Dt(l),nn(l,"style",h),bc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Za(r.href);var d=t.querySelector(xo(h));if(d)return n.state.loading|=4,n.instance=d,Dt(d),d;l=ky(r),(h=$n.get(h))&&Nf(l,h),d=(t.ownerDocument||t).createElement("link"),Dt(d);var y=d;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),nn(d,"link",l),n.state.loading|=4,bc(d,r.precedence,t),n.instance=d;case"script":return d=Wa(r.src),(h=t.querySelector(Ao(d)))?(n.instance=h,Dt(h),h):(l=r,(h=$n.get(d))&&(l=A({},r),Cf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Dt(h),nn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,r.precedence,t));return n.instance}function bc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ec=null;function Dy(t,n,r){if(Ec===null){var l=new Map,h=Ec=new Map;h.set(r,l)}else h=Ec,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[xi]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(d):l.set(y,[d])}}return l}function Oy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function CT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function My(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(l.href),d=n.querySelector(xo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Tc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,Dt(d);return}d=n.ownerDocument||n,l=ky(l),(h=$n.get(h))&&Nf(l,h),d=d.createElement("link"),Dt(d);var y=d;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),nn(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Tc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var kf=0;function IT(t,n){return t.stylesheets&&t.count===0&&Ac(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&kf===0&&(kf=62500*hT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ac(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>kf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Ac(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,n.forEach(DT,t),xc=null,Tc.call(t))}function DT(t,n){if(!(n.state.loading&4)){var r=xc.get(t);if(r)var l=r.get(null);else{r=new Map,xc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=r.get(y)||l,d===l&&r.set(null,h),r.set(y,h),this.count++,l=Tc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var So={$$typeof:Te,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function OT(t,n,r,l,h,d,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ft(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.hiddenUpdates=ft(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Vy(t,n,r,l,h,d,y,E,C,L,Q,X){return t=new OT(t,n,r,y,C,L,Q,X,E),n=1,d===!0&&(n|=24),d=In(3,null,null,n),t.current=d,d.stateNode=t,n=od(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},dd(d),t}function jy(t){return t?(t=ka,t):ka}function Py(t,n,r,l,h,d){h=jy(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Bs(t,l,n),r!==null&&(xn(r,t,n),no(r,t,n))}function Uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function If(t,n){Uy(t,n),(t=t.alternate)&&Uy(t,n)}function Ly(t){if(t.tag===13||t.tag===31){var n=Ur(t,67108864);n!==null&&xn(n,t,67108864),If(t,67108864)}}function zy(t){if(t.tag===13||t.tag===31){var n=jn();n=wr(n);var r=Ur(t,n);r!==null&&xn(r,t,n),If(t,n)}}var Sc=!0;function MT(t,n,r,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=2,Df(t,n,r,l)}finally{ie.p=d,F.T=h}}function VT(t,n,r,l){var h=F.T;F.T=null;var d=ie.p;try{ie.p=8,Df(t,n,r,l)}finally{ie.p=d,F.T=h}}function Df(t,n,r,l){if(Sc){var h=Of(l);if(h===null)_f(t,n,l,wc,r),qy(t,l);else if(PT(h,t,n,r,l))l.stopPropagation();else if(qy(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var d=Ln(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ge(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-Tt(y);E.entanglements[1]|=C,y&=~C}Ui(d),(et&6)===0&&(oc=Bt()+500,vo(0))}}break;case 31:case 13:E=Ur(d,2),E!==null&&xn(E,d,2),cc(),If(d,2)}if(d=Of(l),d===null&&_f(t,n,l,wc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else _f(t,n,l,null,r)}}function Of(t){return t=zn(t),Mf(t)}var wc=null;function Mf(t){if(wc=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return wc=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ni()){case Tr:return 2;case Xi:return 8;case Ei:case Rl:return 32;case xr:return 268435456;default:return 32}default:return 32}}var Vf=!1,Zs=null,Ws=null,er=null,wo=new Map,Ro=new Map,tr=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(t,n){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(n.pointerId)}}function No(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&Ly(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function PT(t,n,r,l,h){switch(n){case"focusin":return Zs=No(Zs,t,n,r,l,h),!0;case"dragenter":return Ws=No(Ws,t,n,r,l,h),!0;case"mouseover":return er=No(er,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return wo.set(d,No(wo.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ro.set(d,No(Ro.get(d)||null,t,n,r,l,h)),!0}return!1}function Hy(t){var n=Ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,si(t.priority,function(){zy(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,si(t.priority,function(){zy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);zl=l,r.target.dispatchEvent(l),zl=null}else return n=Ln(r),n!==null&&Ly(n),t.blockedOn=r,!1;n.shift()}return!0}function Gy(t,n,r){Rc(t)&&r.delete(n)}function UT(){Vf=!1,Zs!==null&&Rc(Zs)&&(Zs=null),Ws!==null&&Rc(Ws)&&(Ws=null),er!==null&&Rc(er)&&(er=null),wo.forEach(Gy),Ro.forEach(Gy)}function Nc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vf||(Vf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,UT)))}var Cc=null;function Fy(t){Cc!==t&&(Cc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cc===t&&(Cc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Mf(l||r)===null)continue;break}var d=Ln(r);d!==null&&(t.splice(n,3),n-=3,Dd(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function el(t){function n(C){return Nc(C,t)}Zs!==null&&Nc(Zs,t),Ws!==null&&Nc(Ws,t),er!==null&&Nc(er,t),wo.forEach(n),Ro.forEach(n);for(var r=0;r<tr.length;r++){var l=tr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<tr.length&&(r=tr[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&tr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],y=h[Qt]||null;if(typeof d=="function")y||Fy(r);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Qt]||null)E=y.formAction;else if(Mf(h)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Fy(r)}}}function Qy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jf(t){this._internalRoot=t}kc.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=jn();Py(r,l,t,n,null,null)},kc.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Py(t.current,2,null,t,null,null),cc(),n[Ti]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var n=cu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<tr.length&&n!==0&&n<tr[r].priority;r++);tr.splice(r,0,t),r===0&&Hy(t)}};var Ky=e.version;if(Ky!=="19.2.4")throw Error(a(527,Ky,"19.2.4"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Rn=Ic.inject(LT),qt=Ic}catch{}}return ko.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=e0,d=t0,y=n0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Vy(t,1,!1,null,null,r,l,null,h,d,y,Qy),t[Ti]=n.current,yf(t),new jf(n)},ko.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=e0,y=t0,E=n0,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Vy(t,1,!0,n,r??null,l,h,C,d,y,E,Qy),n.context=jy(null),r=n.current,l=jn(),l=wr(l),h=zs(l),h.callback=null,Bs(r,h,l),r=l,n.current.lanes=r,$i(n,r),Ui(n),t[Ti]=n.current,yf(t),new kc(n)},ko.version="19.2.4",ko}var i_;function JT(){if(i_)return Lf.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=$T(),Lf.exports}var ZT=JT();const WT=()=>{};var s_={};const Lv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ex=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],f=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,T=c>>2,A=(c&3)<<4|g>>4;let k=(g&15)<<2|v>>6,G=v&63;_||(G=64,f||(k=64)),a.push(i[T],i[A],i[k],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Lv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):ex(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||v==null||A==null)throw new tx;const k=c<<2|g>>4;if(a.push(k),v!==64){const G=g<<4&240|v>>2;if(a.push(G),A!==64){const ee=v<<6&192|A;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nx=function(s){const e=Lv(s);return zv.encodeByteArray(e,!0)},eh=function(s){return nx(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ix(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sx=()=>ix().__FIREBASE_DEFAULTS__,rx=()=>{if(typeof process>"u"||typeof s_>"u")return;const s=s_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ax=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},Eh=()=>{try{return WT()||sx()||rx()||ax()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qv=s=>Eh()?.emulatorHosts?.[s],lx=s=>{const e=qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Hv=()=>Eh()?.config,Gv=s=>Eh()?.[`_${s}`];class ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(s){return(await fetch(s,{credentials:"include"})).ok}function ux(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[eh(JSON.stringify(i)),eh(JSON.stringify(f)),""].join(".")}const Lo={};function cx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Lo))Lo[e]?s.emulator.push(e):s.prod.push(e);return s}function hx(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r_=!1;function Qv(s,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Lo[s]===e||Lo[s]||r_)return;Lo[s]=e;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=cx().prod.length>0;function f(){const k=document.getElementById(a);k&&k.remove()}function g(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function _(k,G){k.setAttribute("width","24"),k.setAttribute("id",G),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function v(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{r_=!0,f()},k}function T(k,G){k.setAttribute("id",G),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function A(){const k=hx(a),G=i("text"),ee=document.getElementById(G)||document.createElement("span"),ne=i("learnmore"),W=document.getElementById(ne)||document.createElement("a"),fe=i("preprendIcon"),ye=document.getElementById(fe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const Te=k.element;g(Te),T(W,ne);const Se=v();_(ye,fe),Te.append(ye,ee,W,Se),document.body.appendChild(Te)}c?(ee.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function fx(){const s=Eh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function gx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yx(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _x(){return!fx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vx(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const Ex="FirebaseError";class As extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=Ex,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Tx(c,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new As(o,g,a)}}function Tx(s,e){return s.replace(xx,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const xx=/\{\$([^}]+)}/g;function Ax(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sa(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],f=e[o];if(a_(c)&&a_(f)){if(!sa(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function a_(s){return s!==null&&typeof s=="object"}function tu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Sx(s,e){const i=new wx(s,e);return i.subscribe.bind(i)}class wx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Rx(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Hf),o.error===void 0&&(o.error=Hf),o.complete===void 0&&(o.complete=Hf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rx(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hf(){}function an(s){return s&&s._delegate?s._delegate:s}class ra{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jr="[DEFAULT]";class Nx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new ox;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kx(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Cx(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cx(s){return s===Jr?void 0:s}function kx(s){return s.instantiationMode==="EAGER"}class Ix{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Nx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var He;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(He||(He={}));const Dx={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Ox=He.INFO,Mx={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Vx=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Mx[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=Ox,this._logHandler=Vx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const jx=(s,e)=>e.some(i=>s instanceof i);let l_,o_;function Px(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ux(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,am=new WeakMap,Yv=new WeakMap,Gf=new WeakMap,Vm=new WeakMap;function Lx(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(or(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function zx(s){if(am.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});am.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Bx(s){lm=s(lm)}function qx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ff(this),e,...i);return Yv.set(a,e.sort?e.sort():[e]),or(a)}:Ux().includes(s)?function(...e){return s.apply(Ff(this),e),or(Kv.get(this))}:function(...e){return or(s.apply(Ff(this),e))}}function Hx(s){return typeof s=="function"?qx(s):(s instanceof IDBTransaction&&zx(s),jx(s,Px())?new Proxy(s,lm):s)}function or(s){if(s instanceof IDBRequest)return Lx(s);if(Gf.has(s))return Gf.get(s);const e=Hx(s);return e!==s&&(Gf.set(s,e),Vm.set(e,s)),e}const Ff=s=>Vm.get(s);function Gx(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),g=or(f);return a&&f.addEventListener("upgradeneeded",_=>{a(or(f.result),_.oldVersion,_.newVersion,or(f.transaction),_)}),i&&f.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Fx=["get","getKey","getAll","getAllKeys","count"],Qx=["put","add","delete","clear"],Qf=new Map;function u_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Qx.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Fx.includes(i)))return;const c=async function(f,...g){const _=this.transaction(f,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Qf.set(e,c),c}Bx(s=>({...s,get:(e,i,a)=>u_(e,i)||s.get(e,i,a),has:(e,i)=>!!u_(e,i)||s.has(e,i)}));class Kx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Yx(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Yx(s){return s.getComponent()?.type==="VERSION"}const om="@firebase/app",c_="0.14.8";const bs=new Mm("@firebase/app"),Xx="@firebase/app-compat",$x="@firebase/analytics-compat",Jx="@firebase/analytics",Zx="@firebase/app-check-compat",Wx="@firebase/app-check",e2="@firebase/auth",t2="@firebase/auth-compat",n2="@firebase/database",i2="@firebase/data-connect",s2="@firebase/database-compat",r2="@firebase/functions",a2="@firebase/functions-compat",l2="@firebase/installations",o2="@firebase/installations-compat",u2="@firebase/messaging",c2="@firebase/messaging-compat",h2="@firebase/performance",d2="@firebase/performance-compat",f2="@firebase/remote-config",m2="@firebase/remote-config-compat",g2="@firebase/storage",p2="@firebase/storage-compat",y2="@firebase/firestore",_2="@firebase/ai",v2="@firebase/firestore-compat",b2="firebase",E2="12.9.0";const um="[DEFAULT]",T2={[om]:"fire-core",[Xx]:"fire-core-compat",[Jx]:"fire-analytics",[$x]:"fire-analytics-compat",[Wx]:"fire-app-check",[Zx]:"fire-app-check-compat",[e2]:"fire-auth",[t2]:"fire-auth-compat",[n2]:"fire-rtdb",[i2]:"fire-data-connect",[s2]:"fire-rtdb-compat",[r2]:"fire-fn",[a2]:"fire-fn-compat",[l2]:"fire-iid",[o2]:"fire-iid-compat",[u2]:"fire-fcm",[c2]:"fire-fcm-compat",[h2]:"fire-perf",[d2]:"fire-perf-compat",[f2]:"fire-rc",[m2]:"fire-rc-compat",[g2]:"fire-gcs",[p2]:"fire-gcs-compat",[y2]:"fire-fst",[v2]:"fire-fst-compat",[_2]:"fire-vertex","fire-js":"fire-js",[b2]:"fire-js-all"};const th=new Map,x2=new Map,cm=new Map;function h_(s,e){try{s.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function dl(s){const e=s.name;if(cm.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of th.values())h_(i,s);for(const i of x2.values())h_(i,s);return!0}function jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function mi(s){return s==null?!1:s.settings!==void 0}const A2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new eu("app","Firebase",A2);class S2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const bl=E2;function Xv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:um,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=Hv()),!i)throw ur.create("no-options");const c=th.get(o);if(c){if(sa(i,c.options)&&sa(a,c.config))return c;throw ur.create("duplicate-app",{appName:o})}const f=new Ix(o);for(const _ of cm.values())f.addComponent(_);const g=new S2(i,a,f);return th.set(o,g),g}function $v(s=um){const e=th.get(s);if(!e&&s===um&&Hv())return Xv();if(!e)throw ur.create("no-app",{appName:s});return e}function cr(s,e,i){let a=T2[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(f.join(" "));return}dl(new ra(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const w2="firebase-heartbeat-database",R2=1,Fo="firebase-heartbeat-store";let Kf=null;function Jv(){return Kf||(Kf=Gx(w2,R2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Fo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Kf}async function N2(s){try{const i=(await Jv()).transaction(Fo),a=await i.objectStore(Fo).get(Zv(s));return await i.done,a}catch(e){if(e instanceof As)bs.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function d_(s,e){try{const a=(await Jv()).transaction(Fo,"readwrite");await a.objectStore(Fo).put(e,Zv(s)),await a.done}catch(i){if(i instanceof As)bs.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i?.message});bs.warn(a.message)}}}function Zv(s){return`${s.name}!${s.options.appId}`}const C2=1024,k2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new O2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>k2){const o=M2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f_(),{heartbeatsToSend:i,unsentEntries:a}=D2(this._heartbeatsCache.heartbeats),o=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function f_(){return new Date().toISOString().substring(0,10)}function D2(s,e=C2){const i=[];let a=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),m_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),m_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class O2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vx()?bx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await N2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function m_(s){return eh(JSON.stringify({version:2,heartbeats:s})).length}function M2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function V2(s){dl(new ra("platform-logger",e=>new Kx(e),"PRIVATE")),dl(new ra("heartbeat",e=>new I2(e),"PRIVATE")),cr(om,c_,s),cr(om,c_,"esm2020"),cr("fire-js","")}V2("");var j2="firebase",P2="12.9.0";cr(j2,P2,"app");function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U2=Wv,eb=new eu("auth","Firebase",Wv());const nh=new Mm("@firebase/auth");function L2(s,...e){nh.logLevel<=He.WARN&&nh.warn(`Auth (${bl}): ${s}`,...e)}function qc(s,...e){nh.logLevel<=He.ERROR&&nh.error(`Auth (${bl}): ${s}`,...e)}function Fi(s,...e){throw Um(s,...e)}function pi(s,...e){return Um(s,...e)}function Pm(s,e,i){const a={...U2(),[e]:i};return new eu("auth","Firebase",a).create(e,{appName:s.name})}function ta(s){return Pm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z2(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Fi(s,"argument-error"),Pm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return eb.create(s,...e)}function Ae(s,e,...i){if(!s)throw Um(e,...i)}function _s(s){const e="INTERNAL ASSERTION FAILED: "+s;throw qc(e),new Error(e)}function Es(s,e){s||_s(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function B2(){return g_()==="http:"||g_()==="https:"}function g_(){return typeof self<"u"&&self.location?.protocol||null}function q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B2()||gx()||"connection"in navigator)?navigator.onLine:!0}function H2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class nu{constructor(e,i){this.shortDelay=e,this.longDelay=i,Es(i>e,"Short delay should be less than long delay!"),this.isMobile=dx()||px()}get(){return q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){Es(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class tb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const G2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new nu(3e4,6e4);function zm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function El(s,e,i,a,o={}){return nb(s,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const g=tu({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return mx()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&vl(s.emulatorConfig.host)&&(v.credentials="include"),tb.fetch()(await ib(s,s.config.apiHost,i,g),v)})}async function nb(s,e,i){s._canInitEmulator=!1;const a={...G2,...e};try{const o=new Y2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Dc(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Dc(s,"user-disabled",f);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Pm(s,T,v);Fi(s,T)}}catch(o){if(o instanceof As)throw o;Fi(s,"network-request-failed",{message:String(o)})}}async function K2(s,e,i,a,o={}){const c=await El(s,e,i,a,o);return"mfaPendingCredential"in c&&Fi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function ib(s,e,i,a){const o=`${e}${i}?${a}`,c=s,f=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return F2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class Y2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(pi(this.auth,"network-request-failed")),Q2.get())})}}function Dc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=pi(s,e,a);return o.customData._tokenResponse=i,o}async function X2(s,e){return El(s,"POST","/v1/accounts:delete",e)}async function ih(s,e){return El(s,"POST","/v1/accounts:lookup",e)}function zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $2(s,e=!1){const i=an(s),a=await i.getIdToken(e),o=Bm(a);Ae(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:zo(Yf(o.auth_time)),issuedAtTime:zo(Yf(o.iat)),expirationTime:zo(Yf(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yf(s){return Number(s)*1e3}function Bm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bv(i);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function p_(s){const e=Bm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof As&&J2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function J2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=zo(this.lastLoginAt),this.creationTime=zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(s){const e=s.auth,i=await s.getIdToken(),a=await Qo(s,ih(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?sb(o.providerUserInfo):[],f=eA(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,v=g?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function W2(s){const e=an(s);await sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function sb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function tA(s,e){const i=await nb(s,{},async()=>{const a=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await ib(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&vl(s.emulatorConfig.host)&&(_.credentials="include"),tb.fetch()(f,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nA(s,e){return El(s,"POST","/v2/accounts:revokeToken",zm(s,e))}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=p_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await tA(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,f=new al;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ae(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return _s("not implemented")}}function ir(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return $2(this,e)}reload(){return W2(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mi(this.auth.app))return Promise.reject(ta(this.auth));const e=await this.getIdToken();return await Qo(this,X2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:A,emailVerified:k,isAnonymous:G,providerData:ee,stsTokenManager:ne}=i;Ae(A&&ne,e,"internal-error");const W=al.fromJSON(this.name,ne);Ae(typeof A=="string",e,"internal-error"),ir(a,e.name),ir(o,e.name),Ae(typeof k=="boolean",e,"internal-error"),Ae(typeof G=="boolean",e,"internal-error"),ir(c,e.name),ir(f,e.name),ir(g,e.name),ir(_,e.name),ir(v,e.name),ir(T,e.name);const fe=new gi({uid:A,auth:e,email:o,emailVerified:k,displayName:a,isAnonymous:G,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:T});return ee&&Array.isArray(ee)&&(fe.providerData=ee.map(ye=>({...ye}))),_&&(fe._redirectEventId=_),fe}static async _fromIdTokenResponse(e,i,a=!1){const o=new al;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await sh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Ae(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?sb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new al;g.updateFromIdToken(a);const _=new gi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const y_=new Map;function vs(s){Es(s instanceof Function,"Expected a class definition");let e=y_.get(s);return e?(Es(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,y_.set(s,e),e)}class rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}rb.type="NONE";const __=rb;function Hc(s,e,i){return`firebase:${s}:${e}:${i}`}class ll{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Hc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ih(this.auth,{idToken:e}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,e):null}return gi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ll(vs(__),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||vs(__);const f=Hc(a,e.config.apiKey,e.name);let g=null;for(const v of i)try{const T=await v._get(f);if(T){let A;if(typeof T=="string"){const k=await ih(e,{idToken:T}).catch(()=>{});if(!k)break;A=await gi._fromGetAccountInfoResponse(e,k,T)}else A=gi._fromJSON(e,T);v!==c&&(g=A),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ll(c,e,a):(c=_[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(f)}catch{}})),new ll(c,e,a))}}function v_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(db(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function ab(s=dn()){return/firefox\//i.test(s)}function lb(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(s=dn()){return/crios\//i.test(s)}function ub(s=dn()){return/iemobile/i.test(s)}function cb(s=dn()){return/android/i.test(s)}function hb(s=dn()){return/blackberry/i.test(s)}function db(s=dn()){return/webos/i.test(s)}function qm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function iA(s=dn()){return qm(s)&&!!window.navigator?.standalone}function sA(){return yx()&&document.documentMode===10}function fb(s=dn()){return qm(s)||cb(s)||db(s)||hb(s)||/windows phone/i.test(s)||ub(s)}function mb(s,e=[]){let i;switch(s){case"Browser":i=v_(dn());break;case"Worker":i=`${v_(dn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bl}/${a}`}class rA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((f,g)=>{try{const _=e(c);f(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function aA(s,e={}){return El(s,"GET","/v2/passwordPolicy",zm(s,e))}const lA=6;class oA{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lA,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class uA{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new rA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ih(this,{idToken:e}),a=await gi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await sh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mi(this.app))return Promise.reject(ta(this));const i=e?an(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mi(this.app)?Promise.reject(ta(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mi(this.app)?Promise.reject(ta(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aA(this),i=new oA(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await nA(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{f=!0,_()}}else{const _=e.addObserver(i);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(mi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&L2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Th(s){return an(s)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sx(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cA(s){Hm=s}function hA(s){return Hm.loadJS(s)}function dA(){return Hm.gapiScript}function fA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function mA(s,e){const i=jm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(sa(c,e??{}))return o;Fi(o,"already-initialized")}return i.initialize({options:e})}function gA(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function pA(s,e,i){const a=Th(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=gb(e),{host:f,port:g}=yA(e),_=g===null?"":`:${g}`,v={url:`${c}//${f}${_}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(sa(v,a.config.emulator)&&sa(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,vl(f)?(Fv(`${c}//${f}${_}`),Qv("Auth",!0)):_A()}function gb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function yA(s){const e=gb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:E_(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:E_(f)}}}function E_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function _A(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class pb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function ol(s,e){return K2(s,"POST","/v1/accounts:signInWithIdp",zm(s,e))}const vA="http://localhost";class aa extends pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const f=new aa(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return ol(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ol(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ol(e,i)}buildRequest(){const e={requestUri:vA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=tu(i)}return e}}class Gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends Gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sr extends iu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class ys extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return aa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ys.credential(i,a)}catch{return null}}}ys.GOOGLE_SIGN_IN_METHOD="google.com";ys.PROVIDER_ID="google.com";class rr extends iu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";class ar extends iu{constructor(){super("twitter.com")}static credential(e,i){return aa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ar.credential(i,a)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await gi._fromIdTokenResponse(e,a,o),f=T_(a);return new fl({user:c,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=T_(a);return new fl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function T_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends As{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new rh(e,i,a,o)}}function yb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,e,a):c})}async function bA(s,e,i=!1){const a=await Qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return fl._forOperation(s,"link",a)}async function EA(s,e,i=!1){const{auth:a}=s;if(mi(a.app))return Promise.reject(ta(a));const o="reauthenticate";try{const c=await Qo(s,yb(a,o,e,s),i);Ae(c.idToken,a,"internal-error");const f=Bm(c.idToken);Ae(f,a,"internal-error");const{sub:g}=f;return Ae(s.uid===g,a,"user-mismatch"),fl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Fi(a,"user-mismatch"),c}}async function TA(s,e,i=!1){if(mi(s.app))return Promise.reject(ta(s));const a="signIn",o=await yb(s,a,e),c=await fl._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function xA(s,e,i,a){return an(s).onIdTokenChanged(e,i,a)}function AA(s,e,i){return an(s).beforeAuthStateChanged(e,i)}function SA(s,e,i,a){return an(s).onAuthStateChanged(e,i,a)}function x_(s){return an(s).signOut()}const ah="__sak";class _b{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wA=1e3,RA=10;class vb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);sA()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RA):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},wA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const NA=vb;class bb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}bb.type="SESSION";const Eb=bb;function CA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new xh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(f).map(async v=>v(i.origin,c)),_=await CA(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xh.receivers=[];function Fm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class kA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,_)=>{const v=Fm("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(A){const k=A;if(k.data.eventId===v)switch(k.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function zi(){return window}function IA(s){zi().location.href=s}function Tb(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function DA(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function OA(){return navigator?.serviceWorker?.controller||null}function MA(){return Tb()?self:null}const xb="firebaseLocalStorageDb",VA=1,lh="firebaseLocalStorage",Ab="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ah(s,e){return s.transaction([lh],e?"readwrite":"readonly").objectStore(lh)}function jA(){const s=indexedDB.deleteDatabase(xb);return new su(s).toPromise()}function fm(){const s=indexedDB.open(xb,VA);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(lh,{keyPath:Ab})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(lh)?e(a):(a.close(),await jA(),e(await fm()))})})}async function A_(s,e,i){const a=Ah(s,!0).put({[Ab]:e,value:i});return new su(a).toPromise()}async function PA(s,e){const i=Ah(s,!1).get(e),a=await new su(i).toPromise();return a===void 0?null:a.value}function S_(s,e){const i=Ah(s,!0).delete(e);return new su(i).toPromise()}const UA=800,LA=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>LA)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xh._getInstance(MA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await DA(),!this.activeServiceWorker)return;this.sender=new kA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||OA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await A_(e,ah,"1"),await S_(e,ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>A_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>PA(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>S_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ah(o,!1).getAll();return new su(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const zA=Sb;new nu(3e4,6e4);function wb(s,e){return e?vs(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Qm extends pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ol(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function BA(s){return TA(s.auth,new Qm(s),s.bypassAuthState)}function qA(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),EA(i,new Qm(s),s.bypassAuthState)}async function HA(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),bA(i,new Qm(s),s.bypassAuthState)}class Rb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BA;case"linkViaPopup":case"linkViaRedirect":return HA;case"reauthViaPopup":case"reauthViaRedirect":return qA;default:Fi(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const GA=new nu(2e3,1e4);async function FA(s,e,i){if(mi(s.app))return Promise.reject(pi(s,"operation-not-supported-in-this-environment"));const a=Th(s);z2(s,e,Gm);const o=wb(a,i);return new Zr(a,"signInViaPopup",e,o).executeNotNull()}class Zr extends Rb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GA.get())};e()}}Zr.currentPopupAction=null;const QA="pendingRedirect",Gc=new Map;class KA extends Rb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const a=await YA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YA(s,e){const i=JA(e),a=$A(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function XA(s,e){Gc.set(s._key(),e)}function $A(s){return vs(s._redirectPersistence)}function JA(s){return Hc(QA,s.config.apiKey,s.name)}async function ZA(s,e,i=!1){if(mi(s.app))return Promise.reject(ta(s));const a=Th(s),o=wb(a,e),f=await new KA(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const WA=600*1e3;class eS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tS(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Nb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(pi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WA&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Nb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function tS(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(s);default:return!1}}async function nS(s,e={}){return El(s,"GET","/v1/projects",e)}const iS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sS=/^https?/;async function rS(s){if(s.config.emulator)return;const{authorizedDomains:e}=await nS(s);for(const i of e)try{if(aS(i))return}catch{}Fi(s,"unauthorized-domain")}function aS(s){const e=hm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!sS.test(i))return!1;if(iS.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const lS=new nu(3e4,6e4);function R_(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function oS(s){return new Promise((e,i)=>{function a(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),i(pi(s,"network-request-failed"))},timeout:lS.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const o=fA("iframefcb");return zi()[o]=()=>{gapi.load?a():i(pi(s,"network-request-failed"))},hA(`${dA()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function uS(s){return Fc=Fc||oS(s),Fc}const cS=new nu(5e3,15e3),hS="__/auth/iframe",dS="emulator/auth/iframe",fS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gS(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,dS):`https://${s.config.authDomain}/${hS}`,a={apiKey:e.apiKey,appName:s.name,v:bl},o=mS.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${tu(a).slice(1)}`}async function pS(s){const e=await uS(s),i=zi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:gS(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fS,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=pi(s,"network-request-failed"),g=zi().setTimeout(()=>{c(f)},cS.get());function _(){zi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(f)})}))}const yS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_S=500,vS=600,bS="_blank",ES="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function TS(s,e,i,a=_S,o=vS){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...yS,width:a.toString(),height:o.toString(),top:c,left:f},v=dn().toLowerCase();i&&(g=ob(v)?bS:i),ab(v)&&(e=e||ES,_.scrollbars="yes");const T=Object.entries(_).reduce((k,[G,ee])=>`${k}${G}=${ee},`,"");if(iA(v)&&g!=="_self")return xS(e||"",g),new N_(null);const A=window.open(e||"",g,T);Ae(A,s,"popup-blocked");try{A.focus()}catch{}return new N_(A)}function xS(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const AS="__/auth/handler",SS="emulator/auth/handler",wS=encodeURIComponent("fac");async function C_(s,e,i,a,o,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:bl,eventId:o};if(e instanceof Gm){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",Ax(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof iu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),v=_?`#${wS}=${encodeURIComponent(_)}`:"";return`${RS(s)}?${tu(g).slice(1)}${v}`}function RS({config:s}){return s.emulator?Lm(s,SS):`https://${s.authDomain}/${AS}`}const Xf="webStorageSupport";class NS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=ZA,this._overrideRedirectResult=XA}async _openPopup(e,i,a,o){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C_(e,i,a,hm(),o);return TS(e,c,Fm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await C_(e,i,a,hm(),o);return IA(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await pS(e),a=new eS(e);return i.register("authEvent",o=>(Ae(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xf,{type:Xf},o=>{const c=o?.[0]?.[Xf];c!==void 0&&i(!!c),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=rS(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return fb()||lb()||qm()}}const CS=NS;var k_="@firebase/auth",I_="1.12.0";class kS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IS(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DS(s){dl(new ra("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(s)},v=new uA(a,o,c,_);return gA(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),dl(new ra("auth-internal",e=>{const i=Th(e.getProvider("auth").getImmediate());return(a=>new kS(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),cr(k_,I_,IS(s)),cr(k_,I_,"esm2020")}const OS=300,MS=Gv("authIdTokenMaxAge")||OS;let D_=null;const VS=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>MS)return;const o=i?.token;D_!==o&&(D_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function jS(s=$v()){const e=jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=mA(s,{popupRedirectResolver:CS,persistence:[zA,NA,Eb]}),a=Gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=VS(c.toString());AA(i,f,()=>f(i.currentUser)),xA(i,g=>f(g))}}const o=qv("auth");return o&&pA(i,`http://${o}`),i}function PS(){return document.getElementsByTagName("head")?.[0]??document}cA({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=pi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",PS().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DS("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hr,Cb;(function(){var s;function e(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(M,I,j){for(var N=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)N[dt-2]=arguments[dt];return S.prototype[I].apply(M,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)M[I]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],I=w.g[2];let j=w.g[3],N;N=S+(j^R&(I^j))+M[0]+3614090360&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+M[1]+3905402710&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+M[2]+606105819&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+M[3]+3250441966&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(j^R&(I^j))+M[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+M[5]+1200080426&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+M[6]+2821735955&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+M[7]+4249261313&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(j^R&(I^j))+M[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+M[9]+2336552879&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+M[10]+4294925233&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+M[11]+2304563134&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(j^R&(I^j))+M[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=j+(I^S&(R^I))+M[13]+4254626195&4294967295,j=S+(N<<12&4294967295|N>>>20),N=I+(R^j&(S^R))+M[14]+2792965006&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(S^I&(j^S))+M[15]+1236535329&4294967295,R=I+(N<<22&4294967295|N>>>10),N=S+(I^j&(R^I))+M[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+M[6]+3225465664&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+M[11]+643717713&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+M[0]+3921069994&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^j&(R^I))+M[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+M[10]+38016083&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+M[15]+3634488961&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+M[4]+3889429448&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^j&(R^I))+M[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+M[14]+3275163606&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+M[3]+4107603335&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+M[8]+1163531501&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(I^j&(R^I))+M[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(S^R))+M[2]+4243563512&4294967295,j=S+(N<<9&4294967295|N>>>23),N=I+(S^R&(j^S))+M[7]+1735328473&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^S&(I^j))+M[12]+2368359562&4294967295,R=I+(N<<20&4294967295|N>>>12),N=S+(R^I^j)+M[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+M[8]+2272392833&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+M[11]+1839030562&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+M[14]+4259657740&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^j)+M[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+M[4]+1272893353&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+M[7]+4139469664&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+M[10]+3200236656&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^j)+M[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+M[0]+3936430074&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+M[3]+3572445317&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+M[6]+76029189&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(R^I^j)+M[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=j+(S^R^I)+M[12]+3873151461&4294967295,j=S+(N<<11&4294967295|N>>>21),N=I+(j^S^R)+M[15]+530742520&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^S)+M[2]+3299628645&4294967295,R=I+(N<<23&4294967295|N>>>9),N=S+(I^(R|~j))+M[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+M[7]+1126891415&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+M[14]+2878612391&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+M[5]+4237533241&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~j))+M[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+M[3]+2399980690&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+M[10]+4293915773&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+M[1]+2240044497&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~j))+M[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+M[15]+4264355552&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+M[6]+2734768916&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+M[13]+1309151649&4294967295,R=I+(N<<21&4294967295|N>>>11),N=S+(I^(R|~j))+M[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=j+(R^(S|~I))+M[11]+3174756917&4294967295,j=S+(N<<10&4294967295|N>>>22),N=I+(S^(j|~R))+M[2]+718787259&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~S))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+j&4294967295}a.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,M=this.C;let I=this.h,j=0;for(;j<S;){if(I==0)for(;j<=R;)o(this,w,j),j+=this.blockSize;if(typeof w=="string"){for(;j<S;)if(M[I++]=w.charCodeAt(j++),I==this.blockSize){o(this,M),I=0;break}}else for(;j<S;)if(M[I++]=w[j++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=S},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)w[S++]=this.g[R]>>>M&255;return w};function c(w,S){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function f(w,S){this.h=S;const R=[];let M=!0;for(let I=w.length-1;I>=0;I--){const j=w[I]|0;M&&j==S||(R[I]=j,M=!1)}this.g=R}var g={};function _(w){return-128<=w&&w<128?c(w,function(S){return new f([S|0],S<0?-1:0)}):new f([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return A;if(w<0)return W(v(-w));const S=[];let R=1;for(let M=0;w>=R;M++)S[M]=w/R|0,R*=4294967296;return new f(S,0)}function T(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return W(T(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(S,8));let M=A;for(let j=0;j<w.length;j+=8){var I=Math.min(8,w.length-j);const N=parseInt(w.substring(j,j+I),S);I<8?(I=v(Math.pow(S,I)),M=M.j(I).add(v(N))):(M=M.j(R),M=M.add(v(N)))}return M}var A=_(0),k=_(1),G=_(16777216);s=f.prototype,s.m=function(){if(ne(this))return-W(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);w+=(M>=0?M:4294967296+M)*S,S*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(ee(this))return"0";if(ne(this))return"-"+W(this).toString(w);const S=v(Math.pow(w,6));var R=this;let M="";for(;;){const I=Se(R,S).g;R=fe(R,I.j(S));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=I,ee(R))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function ee(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function ne(w){return w.h==-1}s.l=function(w){return w=fe(this,w),ne(w)?-1:ee(w)?0:1};function W(w){const S=w.g.length,R=[];for(let M=0;M<S;M++)R[M]=~w.g[M];return new f(R,~w.h).add(k)}s.abs=function(){return ne(this)?W(this):this},s.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let M=0;for(let I=0;I<=S;I++){let j=M+(this.i(I)&65535)+(w.i(I)&65535),N=(j>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);M=N>>>16,j&=65535,N&=65535,R[I]=N<<16|j}return new f(R,R[R.length-1]&-2147483648?-1:0)};function fe(w,S){return w.add(W(S))}s.j=function(w){if(ee(this)||ee(w))return A;if(ne(this))return ne(w)?W(this).j(W(w)):W(W(this).j(w));if(ne(w))return W(this.j(W(w)));if(this.l(G)<0&&w.l(G)<0)return v(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<w.g.length;I++){const j=this.i(M)>>>16,N=this.i(M)&65535,dt=w.i(I)>>>16,bt=w.i(I)&65535;R[2*M+2*I]+=N*bt,ye(R,2*M+2*I),R[2*M+2*I+1]+=j*bt,ye(R,2*M+2*I+1),R[2*M+2*I+1]+=N*dt,ye(R,2*M+2*I+1),R[2*M+2*I+2]+=j*dt,ye(R,2*M+2*I+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new f(R,0)};function ye(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function Te(w,S){this.g=w,this.h=S}function Se(w,S){if(ee(S))throw Error("division by zero");if(ee(w))return new Te(A,A);if(ne(w))return S=Se(W(w),S),new Te(W(S.g),W(S.h));if(ne(S))return S=Se(w,W(S)),new Te(W(S.g),S.h);if(w.g.length>30){if(ne(w)||ne(S))throw Error("slowDivide_ only works with positive integers.");for(var R=k,M=S;M.l(w)<=0;)R=B(R),M=B(M);var I=re(R,1),j=re(M,1);for(M=re(M,2),R=re(R,2);!ee(M);){var N=j.add(M);N.l(w)<=0&&(I=I.add(R),j=N),M=re(M,1),R=re(R,1)}return S=fe(w,I.j(S)),new Te(I,S)}for(I=A;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=v(R),N=j.j(S);ne(N)||N.l(w)>0;)R-=M,j=v(R),N=j.j(S);ee(j)&&(j=k),I=I.add(j),w=fe(w,N)}return new Te(I,w)}s.B=function(w){return Se(this,w).h},s.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&w.i(M);return new f(R,this.h&w.h)},s.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|w.i(M);return new f(R,this.h|w.h)},s.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^w.i(M);return new f(R,this.h^w.h)};function B(w){const S=w.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=w.i(M)<<1|w.i(M-1)>>>31;return new f(R,w.h)}function re(w,S){const R=S>>5;S%=32;const M=w.g.length-R,I=[];for(let j=0;j<M;j++)I[j]=S>0?w.i(j+R)>>>S|w.i(j+R+1)<<32-S:w.i(j+R);return new f(I,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Cb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,hr=f}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kb,Mo,Ib,Qc,mm,Db,Ob,Mb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var x=0;x<u.length-1;x++){var P=u[x];if(!(P in b))break e;b=b[P]}u=u[u.length-1],x=b[u],m=m(x),m!=x&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([x,m[x]]);return b}});var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=_,v.apply(null,arguments)}function T(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function A(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(x,P,q){for(var te=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)te[Oe-2]=arguments[Oe];return m.prototype[P].apply(x,te)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const b=Array(m);for(let x=0;x<m;x++)b[x]=u[x];return b}return[]}function ee(u,m){for(let x=1;x<arguments.length;x++){const P=arguments[x];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=u.length||0;const q=P.length||0;u.length=b+q;for(let te=0;te<q;te++)u[b+te]=P[te]}else u.push(P)}}class ne{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){f.setTimeout(()=>{throw u},0)}function fe(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ye{constructor(){this.h=this.g=null}add(m,b){const x=Te.get();x.set(m,b),this.h?this.h.next=x:this.g=x,this.h=x}}var Te=new ne(()=>new Se,u=>u.reset());class Se{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let B,re=!1,w=new ye,S=()=>{const u=Promise.resolve(void 0);B=()=>{u.then(R)}};function R(){for(var u;u=fe();){try{u.h.call(u.g)}catch(b){W(b)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}re=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,m),f.removeEventListener("test",b,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function dt(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(dt,I),dt.prototype.init=function(u,m){const b=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&dt.Z.h.call(this)},dt.prototype.h=function(){dt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ie(u,m,b,x,P){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!x,this.ha=P,this.key=++F,this.da=this.fa=!1}function he(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pe(u,m,b){for(const x in u)m.call(b,u[x],x,u)}function Ze(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function O(u){const m={};for(const b in u)m[b]=u[b];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let b,x;for(let P=1;P<arguments.length;P++){x=arguments[P];for(b in x)u[b]=x[b];for(let q=0;q<K.length;q++)b=K[q],Object.prototype.hasOwnProperty.call(x,b)&&(u[b]=x[b])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,m,b,x,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=De(u,m,x,P);return te>-1?(m=u[te],b||(m.fa=!1)):(m=new ie(m,this.src,q,!!x,P),m.fa=b,u.push(m)),m};function be(u,m){const b=m.type;if(b in u.g){var x=u.g[b],P=Array.prototype.indexOf.call(x,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(x,P,1),q&&(he(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function De(u,m,b,x){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==x)return P}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Et={};function Xe(u,m,b,x,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Xe(u,m[q],b,x,P);return null}return b=wn(b),u&&u[bt]?u.J(m,b,g(x)?!!x.capture:!1,P):$t(u,m,b,!1,x,P)}function $t(u,m,b,x,P,q){if(!m)throw Error("Invalid event type");const te=g(P)?!!P.capture:!!P;let Oe=_i(u);if(Oe||(u[Ue]=Oe=new ae(u)),b=Oe.add(m,b,x,te,q),b.proxy)return b;if(x=Yi(),b.proxy=x,x.src=u,x.listener=b,u.addEventListener)j||(P=te),P===void 0&&(P=!1),u.addEventListener(m.toString(),x,P);else if(u.attachEvent)u.attachEvent(Un(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Yi(){function u(b){return m.call(u.src,u.listener,b)}const m=ei;return u}function Ss(u,m,b,x,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ss(u,m[q],b,x,P);else x=g(x)?!!x.capture:!!x,b=wn(b),u&&u[bt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],b=De(m,b,x,P),b>-1&&(he(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=_i(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,b,x,P)),(b=u>-1?m[u]:null)&&kt(b))}function kt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])be(m.i,u);else{var b=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(b,x,u.capture):m.detachEvent?m.detachEvent(Un(b),x):m.addListener&&m.removeListener&&m.removeListener(x),(b=_i(m))?(be(b,u),b.h==0&&(b.src=null,m[Ue]=null)):he(u)}}}function Un(u){return u in Et?Et[u]:Et[u]="on"+u}function ei(u,m){if(u.da)u=!0;else{m=new dt(m,this);const b=u.listener,x=u.ha||u.src;u.fa&&kt(u),u=b.call(x,m)}return u}function _i(u){return u=u[Ue],u instanceof ae?u:null}var ti="__closure_events_fn_"+(Math.random()*1e9>>>0);function wn(u){return typeof u=="function"?u:(u[ti]||(u[ti]=function(m){return u.handleEvent(m)}),u[ti])}function Qe(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}A(Qe,M),Qe.prototype[bt]=!0,Qe.prototype.removeEventListener=function(u,m,b,x){Ss(this,u,m,b,x)};function at(u,m){var b,x=u.G;if(x)for(b=[];x;x=x.G)b.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var P=m;m=new I(x,u),se(m,P)}P=!0;let q,te;if(b)for(te=b.length-1;te>=0;te--)q=m.g=b[te],P=vi(q,x,!0,m)&&P;if(q=m.g=u,P=vi(q,x,!0,m)&&P,P=vi(q,x,!1,m)&&P,b)for(te=0;te<b.length;te++)q=m.g=b[te],P=vi(q,x,!1,m)&&P}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let x=0;x<b.length;x++)he(b[x]);delete u.g[m],u.h--}}this.G=null},Qe.prototype.J=function(u,m,b,x){return this.i.add(String(u),m,!1,b,x)},Qe.prototype.K=function(u,m,b,x){return this.i.add(String(u),m,!0,b,x)};function vi(u,m,b,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==b){const Oe=te.listener,wt=te.ha||te.src;te.fa&&be(u.i,te),P=Oe.call(wt,x)!==!1&&P}}return P&&!x.defaultPrevented}function wl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function bi(u){u.g=wl(()=>{u.g=null,u.i&&(u.i=!1,bi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bt extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:bi(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(u){M.call(this),this.h=u,this.g={}}A(ni,M);var Tr=[];function Xi(u){Pe(u.g,function(m,b){this.g.hasOwnProperty(b)&&kt(m)},u),u.g={}}ni.prototype.N=function(){ni.Z.N.call(this),Xi(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ei=f.JSON.stringify,Rl=f.JSON.parse,xr=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ar(){}function fa(){}var Rn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){I.call(this,"d")}A(qt,I);function fn(){I.call(this,"c")}A(fn,I);var Tt={},Z=null;function ue(){return Z=Z||new Qe}Tt.Ia="serverreachability";function Re(u){I.call(this,Tt.Ia,u)}A(Re,I);function xe(u){const m=ue();at(m,new Re(m))}Tt.STAT_EVENT="statevent";function Ne(u,m){I.call(this,Tt.STAT_EVENT,u),this.stat=m}A(Ne,I);function Ce(u){const m=ue();at(m,new Ne(m,u))}Tt.Ja="timingevent";function ge(u,m){I.call(this,Tt.Ja,u),this.size=m}A(ge,I);function tt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Jt(){this.g=!0}Jt.prototype.ua=function(){this.g=!1};function ii(u,m,b,x,P,q){u.info(function(){if(u.g)if(q){var te="",Oe=q.split("&");for(let We=0;We<Oe.length;We++){var wt=Oe[We].split("=");if(wt.length>1){const _t=wt[0];wt=wt[1];const qn=_t.split("_");te=qn.length>=2&&qn[1]=="type"?te+(_t+"="+wt+"&"):te+(_t+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+x+") [attempt "+P+"]: "+m+`
`+b+`
`+te})}function ma(u,m,b,x,P,q,te){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+P+"]: "+m+`
`+b+`
`+q+" "+te})}function ft(u,m,b,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nl(u,b)+(x?" "+x:"")})}function $i(u,m){u.info(function(){return"TIMEOUT: "+m})}Jt.prototype.info=function(){};function Nl(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var b=q[u];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<x.length;te++)x[te]=""}}}}return Ei(q)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},kl;function wr(){}A(wr,Ar),wr.prototype.g=function(){return new XMLHttpRequest},kl=new wr;function Ji(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function si(u,m,b,x){this.j=u,this.i=m,this.l=b,this.S=x||1,this.V=new ni(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ri}function ri(){this.i=null,this.g="",this.h=!1}var It={},Qt={};function Ti(u,m,b){u.M=1,u.A=Rr(Ot(m)),u.u=b,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),xi(u),u.B=Ot(u.A);var b=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),va(b.i,"t",x),u.C=0,b=u.j.L,u.h=new ri,u.g=Su(u.j,b?m:null,!u.u),u.P>0&&(u.O=new Bt(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,x=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Tr[0]=P.toString()),P=Tr);for(let q=0;q<P.length;q++){const te=Xe(b,P[q],x||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),xe(),ii(u.i,u.v,u.B,u.l,u.S,u.u)}si.prototype.ba=function(u){u=u.target;const m=this.O;m&&oi(u)==3?m.j():this.Y(u)},si.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=oi(this.g),wt=this.g.ya(),We=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||Zt(this.g)))){this.K||Oe!=4||wt==7||(wt==8||We<=0?xe(3):xe(2)),Ai(this);var m=this.g.ca();this.X=m;var b=qh(this);if(this.o=m==200,ma(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var x,P=this.g;if((x=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var q=x;break t}}q=null}if(u=q)ft(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Ce(12),Nn(this),Ln(this);break e}}if(this.R){u=!0;let _t;for(;!this.K&&this.C<b.length;)if(_t=du(this,b),_t==Qt){Oe==4&&(this.m=4,Ce(14),u=!1),ft(this.i,this.l,null,"[Incomplete Response]");break}else if(_t==It){this.m=4,Ce(15),ft(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else ft(this.i,this.l,_t,null),Si(this,_t);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||b.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)ft(this.i,this.l,b,"[Invalid Chunked Response]"),Nn(this),Ln(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Fl(te),te.P=!0,Ce(11))}}else ft(this.i,this.l,b,null),Si(this,b);Oe==4&&Nn(this),this.o&&!this.K&&(Oe==4?Eu(this.j,this):(this.o=!1,xi(this)))}else Wi(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Nn(this),Ln(this)}}}catch{}};function qh(u){if(!hu(u))return u.g.la();const m=Zt(u.g);if(m==="")return"";let b="";const x=m.length,P=oi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Nn(u),Ln(u),"";u.h.i=new f.TextDecoder}for(let q=0;q<x;q++)u.h.h=!0,b+=u.h.i.decode(m[q],{stream:!(P&&q==x-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function du(u,m){var b=u.C,x=m.indexOf(`
`,b);return x==-1?Qt:(b=Number(m.substring(b,x)),isNaN(b)?It:(x+=1,x+b>m.length?Qt:(m=m.slice(x,x+b),u.C=x+b,m)))}si.prototype.cancel=function(){this.K=!0,Nn(this)};function xi(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=tt(v(u.aa,u),m)}function Ai(u){u.D&&(f.clearTimeout(u.D),u.D=null)}si.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?($i(this.i,this.B),this.M!=2&&(xe(),Ce(17)),Nn(this),this.m=2,Ln(this)):pa(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Eu(u.j,u)}function Nn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Xi(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||Ri(b.h,u))){if(!u.L&&Ri(b.h,u)&&b.I==3){try{var x=b.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var P=x;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Os(b);else break e;Mr(b),Ce(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=tt(v(b.Va,b),6e3));wi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Oi(b,11)}else if((u.L||b.g==u)&&Aa(b),!N(m))for(P=b.Ba.g.parse(m),m=0;m<P.length;m++){let We=P[m];const _t=We[0];if(!(_t<=b.K))if(b.K=_t,We=We[1],b.I==2)if(We[0]=="c"){b.M=We[1],b.ba=We[2];const qn=We[3];qn!=null&&(b.ka=qn,b.j.info("VER="+b.ka));const Mi=We[4];Mi!=null&&(b.za=Mi,b.j.info("SVER="+b.za));const ui=We[5];ui!=null&&typeof ui=="number"&&ui>0&&(x=1.5*ui,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const ci=u.g;if(ci){const Vr=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vr){var q=x.h;q.g||Vr.indexOf("spdy")==-1&&Vr.indexOf("quic")==-1&&Vr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ol(q,q.h),q.h=null))}if(x.G){const Sa=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(x.wa=Sa,it(x.J,x.G,Sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var te=u;if(x.na=Au(x,x.L?x.ba:null,x.W),te.L){Ml(x.h,te);var Oe=te,wt=x.O;wt&&(Oe.H=wt),Oe.D&&(Ai(Oe),xi(Oe)),x.g=te}else vu(x);b.i.length>0&&Di(b)}else We[0]!="stop"&&We[0]!="close"||Oi(b,7);else b.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Oi(b,7):Hl(b):We[0]!="noop"&&b.l&&b.l.qa(We),b.A=0)}}xe(4)}catch{}}var Dt=class{constructor(u,m){this.g=u,this.map=m}};function Il(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wi(u){return u.h?1:u.g?u.g.size:0}function Ri(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ol(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Il.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Vl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return G(u.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const x=u[b].indexOf("=");let P,q=null;x>=0?(P=u[b].substring(0,x),q=u[b].substring(x+1)):P=u[b],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Kt(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,jl(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(fu))?(this.l=!1,Kt(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),ws(this,m[4]),this.h=Ni(m[5]||"",!0),jl(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,_a,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,_a,!0),"@"),u.push(Ji(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Nr(b,b.charAt(0)=="/"?Pl:mu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Nr(b,gu)),u.join("")},Cn.prototype.resolve=function(u){const m=Ot(this);let b=!!u.j;b?Kt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var x=u.h;if(b)ws(m,u.u);else if(b=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var P=m.h.lastIndexOf("/");P!=-1&&(x=m.h.slice(0,P+1)+x)}if(P=x,P==".."||P==".")x="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){x=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let te=0;te<P.length;){const Oe=P[te++];Oe=="."?x&&te==P.length&&q.push(""):Oe==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),x&&te==P.length&&q.push("")):(q.push(Oe),x=!0)}x=q.join("/")}else x=P}return b?m.h=x:b=u.i.toString()!=="",b?jl(m,yu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Ot(u){return new Cn(u)}function Kt(u,m,b){u.j=b?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function jl(u,m,b){m instanceof Ns?(u.i=m,ba(u.i,u.l)):(b||(m=Nr(m,Rs)),u.i=new Ns(m,u.l))}function it(u,m,b){u.i.set(m,b)}function Rr(u){return it(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,mu=/[#\?:]/g,Pl=/[#\?]/g,Rs=/[#\?@]/g,gu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=Ns.prototype,s.add=function(u,m){_n(this),this.i=null,u=Cs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function pu(u,m){_n(u),m=Cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ul(u,m){return _n(u),m=Cs(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(b,x){b.forEach(function(P){u.call(m,P,x,this)},this)},this)};function Ll(u,m){_n(u);let b=[];if(typeof m=="string")Ul(u,m)&&(b=b.concat(u.g.get(Cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return _n(this),this.i=null,u=Cs(this,u),Ul(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ll(this,u),u.length>0?String(u[0]):m):m};function va(u,m,b){pu(u,m),b.length>0&&(u.i=null,u.g.set(Cs(u,m),G(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var b=m[x];const P=Ji(b);b=Ll(this,b);for(let q=0;q<b.length;q++){let te=P;b[q]!==""&&(te+="="+Ji(b[q])),u.push(te)}}return this.i=u.join("&")};function yu(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(b,x){const P=x.toLowerCase();x!=P&&(pu(this,x),va(this,P,b))},u)),u.j=m}function ai(u,m){const b=new Jt;if(f.Image){const x=new Image;x.onload=T(zn,b,"TestLoadImage: loaded",!0,m,x),x.onerror=T(zn,b,"TestLoadImage: error",!1,m,x),x.onabort=T(zn,b,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(zn,b,"TestLoadImage: timeout",!1,m,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function zl(u,m){const b=new Jt,x=new AbortController,P=setTimeout(()=>{x.abort(),zn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(q=>{clearTimeout(P),q.ok?zn(b,"TestPingServer: ok",!0,m):zn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),zn(b,"TestPingServer: error",!1,m)})}function zn(u,m,b,x,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),x(b)}catch{}}function ks(){this.g=new xr}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ci,Ar),Ci.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){Qe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Cr,Qe),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,li(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Is(this):li(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Is(this))},s.Na=function(u){this.g&&(this.response=u,Is(this))},s.ga=function(){this.g&&Is(this)};function Is(u){u.readyState=4,u.l=null,u.j=null,u.B=null,li(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function li(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bn(u){let m="";return Pe(u,function(b,x){m+=x,m+=":",m+=b,m+=`\r
`}),m}function kr(u,m,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Bn(b),typeof u=="string"?b!=null&&Ji(b):it(u,m,b))}function lt(u){Qe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(lt,Qe);var ki=/^https?$/i,Bl=["POST","PUT"];s=lt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():kl.g(),this.g.onreadystatechange=k(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ir(this,q);return}if(u=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var P in x)b.set(P,x[P]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const q of x.keys())b.set(q,x.get(q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Bl,m,void 0)>=0)||x||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of b)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ir(this,q)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ql(u),Zi(u)}function ql(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,at(this,"complete"),at(this,"abort"),Zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),lt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Dr(this):this.Xa())},s.Xa=function(){Dr(this)};function Dr(u){if(u.h&&typeof c<"u"){if(u.v&&oi(u)==4)setTimeout(u.Ca.bind(u),0);else if(at(u,"readystatechange"),oi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var x;if(x=q===0){let te=String(u.D).match(fu)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),x=!ki.test(te?te.toLowerCase():"")}b=x}if(b)at(u,"complete"),at(u,"success");else{u.o=6;try{var P=oi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",ql(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||at(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Rl(m)}};function Zt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&oi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(N(u[x]))continue;var b=cu(u[x]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[P]||[];m[P]=q,q.push(b)}Ze(m,function(x){return x.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function Ds(u){this.za=0,this.i=[],this.j=new Jt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Il(u&&u.concurrentRequestLimit),this.Ba=new ks,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,x){Ce(0),this.W=u,this.H=m||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=Au(this,null,this.W),Di(this)};function Hl(u){if(Ta(u),u.I==3){var m=u.V++,b=Ot(u.J);if(it(b,"SID",u.M),it(b,"RID",m),it(b,"TYPE","terminate"),Or(u,b),m=new si(u,u.j,m),m.M=2,m.A=Rr(Ot(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=m.A,b=!0),b||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}xu(u)}function Os(u){u.g&&(Fl(u),u.g.cancel(),u.g=null)}function Ta(u){Os(u),u.v&&(f.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Di(u){if(!Dl(u.h)&&!u.m){u.m=!0;var m=u.Ea;B||S(),re||(B(),re=!0),w.add(m,u),u.D=0}}function xa(u,m){return wi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=tt(v(u.Ea,u,m),Tu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new si(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=_u(this,P,m),b=Ot(this.J),it(b,"RID",u),it(b,"CVER",22),this.G&&it(b,"X-HTTP-Session-Id",this.G),Or(this,b),q&&(this.R?m="headers="+Ji(Bn(q))+"&"+m:this.u&&kr(b,this.u,q)),Ol(this.h,P),this.Ra&&it(b,"TYPE","init"),this.S?(it(b,"$req",m),it(b,"SID","null"),P.U=!0,Ti(P,b,null)):Ti(P,b,m),this.I=2}}else this.I==3&&(u?Gl(this,u):this.i.length==0||Dl(this.h)||Gl(this))};function Gl(u,m){var b;m?b=m.l:b=u.V++;const x=Ot(u.J);it(x,"SID",u.M),it(x,"RID",b),it(x,"AID",u.K),Or(u,x),u.u&&u.o&&kr(x,u.u,u.o),b=new si(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ol(u.h,b),Ti(b,x,m)}function Or(u,m){u.H&&Pe(u.H,function(b,x){it(m,x,b)}),u.l&&Pe({},function(b,x){it(m,x,b)})}function _u(u,m,b){b=Math.min(u.i.length,b);const x=u.l?v(u.l.Ka,u.l,u):null;e:{var P=u.i;let Oe=-1;for(;;){const wt=["count="+b];Oe==-1?b>0?(Oe=P[0].g,wt.push("ofs="+Oe)):Oe=0:wt.push("ofs="+Oe);let We=!0;for(let _t=0;_t<b;_t++){var q=P[_t].g;const qn=P[_t].map;if(q-=Oe,q<0)Oe=Math.max(0,P[_t].g-100),We=!1;else try{q="req"+q+"_"||"";try{var te=qn instanceof Map?qn:Object.entries(qn);for(const[Mi,ui]of te){let ci=ui;g(ui)&&(ci=Ei(ui)),wt.push(q+Mi+"="+encodeURIComponent(ci))}}catch(Mi){throw wt.push(q+"type="+encodeURIComponent("_badmap")),Mi}}catch{x&&x(qn)}}if(We){te=wt.join("&");break e}}te=void 0}return u=u.i.splice(0,b),m.G=u,te}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;B||S(),re||(B(),re=!0),w.add(m,u),u.A=0}}function Mr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=tt(v(u.Da,u),Tu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=tt(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Os(this),bu(this))};function Fl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new si(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ot(u.na);it(m,"RID","rpc"),it(m,"SID",u.M),it(m,"AID",u.K),it(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&it(m,"TO",u.ia),it(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&kr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Rr(Ot(m)),b.u=null,b.R=!0,ga(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Os(this),Mr(this),Ce(19))};function Aa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Eu(u,m){var b=null;if(u.g==m){Aa(u),Fl(u),u.g=null;var x=2}else if(Ri(u.h,m))b=m.G,Ml(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;x=ue(),at(x,new ge(x,b)),Di(u)}else vu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(x==1&&xa(u,m)||x==2&&Mr(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),P){case 1:Oi(u,5);break;case 4:Oi(u,10);break;case 3:Oi(u,6);break;default:Oi(u,2)}}}function Tu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Oi(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),x=u.Ua;const P=!x;x=new Cn(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kt(x,"https"),Rr(x),P?ai(x.toString(),b):zl(x.toString(),b)}else Ce(2);u.I=0,u.l&&u.l.pa(m),xu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Vl(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,b){var x=b instanceof Cn?Ot(b):new Cn(b);if(x.g!="")m&&(x.g=m+"."+x.g),ws(x,x.u);else{var P=f.location;x=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Cn(null);x&&Kt(q,x),m&&(q.g=m),P&&ws(q,P),b&&(q.h=b),x=q}return b=u.G,m=u.wa,b&&m&&it(x,b,m),it(x,"VER",u.ka),Or(u,x),x}function Su(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new lt(new Ci({ab:b})):new lt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}s=wu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ms(){}Ms.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){Qe.call(this),this.g=new Ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new es(this)}A(mn,Qe),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Hl(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Ei(u),u=b);m.i.push(new Dt(m.Ya++,u)),m.I==3&&Di(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,mn.Z.N.call(this)};function Ru(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Ru,qt);function Nu(){fn.call(this),this.status=1}A(Nu,fn);function es(u){this.g=u}A(es,wu),es.prototype.ra=function(){at(this.g,"a")},es.prototype.qa=function(u){at(this.g,new Ru(u))},es.prototype.pa=function(u){at(this.g,new Nu)},es.prototype.oa=function(){at(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Mb=function(){return new Ms},Ob=function(){return ue()},Db=Tt,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Qc=Sr,Cl.COMPLETE="complete",Ib=Cl,fa.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Mo=fa,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,kb=lt}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Tl="12.9.0";function US(s){Tl=s}const la=new Mm("@firebase/firestore");function tl(){return la.logLevel}function le(s,...e){if(la.logLevel<=He.DEBUG){const i=e.map(Km);la.debug(`Firestore (${Tl}): ${s}`,...i)}}function Ts(s,...e){if(la.logLevel<=He.ERROR){const i=e.map(Km);la.error(`Firestore (${Tl}): ${s}`,...i)}}function oa(s,...e){if(la.logLevel<=He.WARN){const i=e.map(Km);la.warn(`Firestore (${Tl}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Vb(s,a,i)}function Vb(s,e,i){let a=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Ts(a),new Error(a)}function nt(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Vb(e,o,a)}function Ie(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends As{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class jb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class zS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class BS{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){nt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new na;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new na,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new na)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(nt(typeof a.accessToken=="string",31837,{l:a}),new jb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class qS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class HS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new qS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){nt(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(nt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Ge(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return $f(o)===$f(c)?Ge(o,c):$f(o)?1:-1}return Ge(s.length,e.length)}const QS=55296,KS=57343;function $f(s){const e=s.charCodeAt(0);return e>=QS&&e<=KS}function ml(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const V_="__name__";class Li{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Li.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=Li.isNumericId(e),o=Li.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Li.extractNumericId(e).compare(Li.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class pt extends Li{construct(e,i,a){return new pt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new pt(i)}static emptyPath(){return new pt([])}}const YS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Li{construct(e,i,a){return new rn(e,i,a)}static isValidIdentifier(e){return YS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new rn([V_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(c(),o++)}if(c(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rn(i)}static emptyPath(){return new rn([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(pt.fromString(e))}static fromName(e){return new pe(pt.fromString(e).popFirst(5))}static empty(){return new pe(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return pt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new pt(e.slice()))}}function Pb(s,e,i){if(!i)throw new de(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function XS(s,e,i,a){if(e===!0&&a===!0)throw new de(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function j_(s){if(!pe.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function P_(s){if(pe.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ub(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Xm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Bi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Xm(s);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Lt(s,e){const i={typeString:s};return e&&(i.value=e),i}function ru(s,e){if(!Ub(s))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const f=s[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(J.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,L_=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L_);return new yt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ru(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Lt("string",yt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new yt(0,0))}static max(){return new we(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ko=-1;function $S(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new yt(i+1,0):new yt(i,a));return new mr(o,pe.empty(),e)}function JS(s){return new mr(s.readTime,s.key,Ko)}class mr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new mr(we.min(),pe.empty(),Ko)}static max(){return new mr(we.max(),pe.empty(),Ko)}}function ZS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=pe.comparator(s.documentKey,e.documentKey),i!==0?i:Ge(s.largestBatchId,e.largestBatchId))}const WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ew{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==WS)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&i()}),(_=>a(_)))})),f=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((T=>{f[v]=T,++g,g===c&&a(f)}),(T=>o(T)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function tw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Al(s){return s.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const $m=-1;function wh(s){return s==null}function oh(s){return s===0&&1/s==-1/0}function nw(s){return typeof s=="number"&&Number.isInteger(s)&&!oh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Lb="";function iw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=z_(e)),e=sw(s.get(i),e);return z_(e)}function sw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Lb:i+="";break;default:i+=c}}return i}function z_(s){return s+Lb+""}function B_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function br(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function zb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class xt{constructor(e,i){this.comparator=e,this.root=i||sn.EMPTY}insert(e,i){return new xt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mc(this.root,e,this.comparator,!0)}}class Mc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??sn.RED,this.left=o??sn.EMPTY,this.right=c??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new sn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new sn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new Pn([])}unionWith(e){let i=new Ft(rn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Bb("Invalid base64 string: "+c):c}})(e);return new ln(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new ln(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const rw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if(nt(!!s,39018),typeof s=="string"){let e=0;const i=rw.exec(s);if(nt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?ln.fromBase64String(s):ln.fromUint8Array(s)}const qb="server_timestamp",Hb="__type__",Gb="__previous_value__",Fb="__local_write_time__";function Jm(s){return(s?.mapValue?.fields||{})[Hb]?.stringValue===qb}function Rh(s){const e=s.mapValue.fields[Gb];return Jm(e)?Rh(e):e}function Yo(s){const e=gr(s.mapValue.fields[Fb].timestampValue);return new yt(e.seconds,e.nanos)}class aw{constructor(e,i,a,o,c,f,g,_,v,T,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=A}}const uh="(default)";class Xo{constructor(e,i){this.projectId=e,this.database=i||uh}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===uh}isEqual(e){return e instanceof Xo&&e.projectId===this.projectId&&e.database===this.database}}function lw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(s.options.projectId,e)}const Qb="__type__",ow="__max__",Vc={mapValue:{}},Kb="__vector__",ch="value";function yr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jm(s)?4:cw(s)?9007199254740991:uw(s)?10:11:Ee(28295,{value:s})}function Qi(s,e){if(s===e)return!0;const i=yr(s);if(i!==yr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Yo(s).isEqual(Yo(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=gr(o.timestampValue),g=gr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return pr(o.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ct(o.doubleValue),g=Ct(c.doubleValue);return f===g?oh(f)===oh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return ml(s.arrayValue.values||[],e.arrayValue.values||[],Qi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(B_(f)!==B_(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Qi(f[_],g[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function $o(s,e){return(s.values||[]).find((i=>Qi(i,e)))!==void 0}function gl(s,e){if(s===e)return 0;const i=yr(s),a=yr(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=Ct(c.integerValue||c.doubleValue),_=Ct(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return H_(s.timestampValue,e.timestampValue);case 4:return H_(Yo(s),Yo(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,f){const g=pr(c),_=pr(f);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),_=f.split("/");for(let v=0;v<g.length&&v<_.length;v++){const T=Ge(g[v],_[v]);if(T!==0)return T}return Ge(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Ge(Ct(c.latitude),Ct(f.latitude));return g!==0?g:Ge(Ct(c.longitude),Ct(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return G_(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},_=f.fields||{},v=g[ch]?.arrayValue,T=_[ch]?.arrayValue,A=Ge(v?.values?.length||0,T?.values?.length||0);return A!==0?A:G_(v,T)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Vc.mapValue&&f===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(f===Vc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=f.fields||{},T=Object.keys(v);_.sort(),T.sort();for(let A=0;A<_.length&&A<T.length;++A){const k=gm(_[A],T[A]);if(k!==0)return k;const G=gl(g[_[A]],v[T[A]]);if(G!==0)return G}return Ge(_.length,T.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function H_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ge(s,e);const i=gr(s),a=gr(e),o=Ge(i.seconds,a.seconds);return o!==0?o:Ge(i.nanos,a.nanos)}function G_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=gl(i[o],a[o]);if(c)return c}return Ge(i.length,a.length)}function pl(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=gr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return pr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pe.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${pm(i.fields[f])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function Kc(s){switch(yr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rh(s);return e?16+Kc(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Kc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return br(a.fields,((c,f)=>{o+=c.length+Kc(f)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function ym(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function F_(s){return!!s&&"nullValue"in s}function Q_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Yc(s){return!!s&&"mapValue"in s}function uw(s){return(s?.mapValue?.fields||{})[Qb]?.stringValue===Kb}function Bo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Bo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Bo(s.arrayValue.values[i]);return e}return{...s}}function cw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===ow}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Yc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bo(i)}setAll(e){let i=rn.emptyPath(),a={},o=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}f?a[g.lastSegment()]=Bo(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Yc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Qi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){br(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Sn(Bo(this.value))}}function Yb(s){const e=[];return br(s.fields,((i,a)=>{const o=new rn([i]);if(Yc(a)){const c=Yb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Pn(e)}class hn{constructor(e,i,a,o,c,f,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,we.min(),we.min(),we.min(),Sn.empty(),0)}static newFoundDocument(e,i,a,o){return new hn(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new hn(e,2,i,we.min(),we.min(),Sn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,we.min(),we.min(),Sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,i){this.position=e,this.inclusive=i}}function K_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?a=pe.comparator(pe.fromName(f.referenceValue),i.key):a=gl(f,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Y_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Qi(s.position[i],e.position[i]))return!1;return!0}class dh{constructor(e,i="asc"){this.field=e,this.dir=i}}function hw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Xb{}class Gt extends Xb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new fw(e,i,a):i==="array-contains"?new pw(e,a):i==="in"?new yw(e,a):i==="not-in"?new _w(e,a):i==="array-contains-any"?new vw(e,a):new Gt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new mw(e,a):new gw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gl(i,this.value)):i!==null&&yr(this.value)===yr(i)&&this.matchesComparison(gl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends Xb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ki(e,i)}matches(e){return $b(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $b(s){return s.op==="and"}function Jb(s){return dw(s)&&$b(s)}function dw(s){for(const e of s.filters)if(e instanceof Ki)return!1;return!0}function _m(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+pl(s.value);if(Jb(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function Zb(s,e){return s instanceof Gt?(function(a,o){return o instanceof Gt&&a.op===o.op&&a.field.isEqual(o.field)&&Qi(a.value,o.value)})(s,e):s instanceof Ki?(function(a,o){return o instanceof Ki&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,f,g)=>c&&Zb(f,o.filters[g])),!0):!1})(s,e):void Ee(19439)}function Wb(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${pl(i.value)}`})(s):s instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(Wb).join(" ,")+"}"})(s):"Filter"}class fw extends Gt{constructor(e,i,a){super(e,i,a),this.key=pe.fromName(a.referenceValue)}matches(e){const i=pe.comparator(e.key,this.key);return this.matchesComparison(i)}}class mw extends Gt{constructor(e,i){super(e,"in",i),this.keys=e1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class gw extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=e1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function e1(s,e){return(e.arrayValue?.values||[]).map((i=>pe.fromName(i.referenceValue)))}class pw extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zm(i)&&$o(i.arrayValue,this.value)}}class yw extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&$o(this.value.arrayValue,i)}}class _w extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$o(this.value.arrayValue,i)}}class vw extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$o(this.value.arrayValue,a)))}}class bw{constructor(e,i=null,a=[],o=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function X_(s,e=null,i=[],a=[],o=null,c=null,f=null){return new bw(s,e,i,a,o,c,f)}function Wm(s){const e=Ie(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),wh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>pl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>pl(a))).join(",")),e.Te=i}return e.Te}function eg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!hw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Zb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Y_(s.startAt,e.startAt)&&Y_(s.endAt,e.endAt)}function vm(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Nh{constructor(e,i=null,a=[],o=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Ew(s,e,i,a,o,c,f,g){return new Nh(s,e,i,a,o,c,f,g)}function tg(s){return new Nh(s)}function $_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Tw(s){return pe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function xw(s){return s.collectionGroup!==null}function qo(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ft(rn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new dh(c,a))})),i.has(rn.keyField().canonicalString())||e.Ie.push(new dh(rn.keyField(),a))}return e.Ie}function qi(s){const e=Ie(s);return e.Ee||(e.Ee=Aw(e,qo(s))),e.Ee}function Aw(s,e){if(s.limitType==="F")return X_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new dh(o.field,c)}));const i=s.endAt?new hh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new hh(s.startAt.position,s.startAt.inclusive):null;return X_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e,i){return new Nh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Ch(s,e){return eg(qi(s),qi(e))&&s.limitType===e.limitType}function t1(s){return`${Wm(qi(s))}|lt:${s.limitType}`}function nl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Wb(o))).join(", ")}]`),wh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>pl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>pl(o))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function kh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pe.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(f,g,_){const v=K_(f,g,_);return f.inclusive?v<=0:v<0})(a.startAt,qo(a),o)||a.endAt&&!(function(f,g,_){const v=K_(f,g,_);return f.inclusive?v>=0:v>0})(a.endAt,qo(a),o))})(s,e)}function Sw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function n1(s){return(e,i)=>{let a=!1;for(const o of qo(s)){const c=ww(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function ww(s,e,i){const a=s.field.isKeyField()?pe.comparator(e.key,i.key):(function(c,f,g){const _=f.data.field(c),v=g.data.field(c);return _!==null&&v!==null?gl(_,v):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}const Rw=new xt(pe.comparator);function xs(){return Rw}const i1=new xt(pe.comparator);function Vo(...s){let e=i1;for(const i of s)e=e.insert(i.key,i);return e}function s1(s){let e=i1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Wr(){return Ho()}function r1(){return Ho()}function Ho(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Nw=new xt(pe.comparator),Cw=new Ft(pe.comparator);function Fe(...s){let e=Cw;for(const i of s)e=e.add(i);return e}const kw=new Ft(Ge);function Iw(){return kw}function ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function a1(s){return{integerValue:""+s}}function Dw(s,e){return nw(e)?a1(e):ng(s,e)}class Ih{constructor(){this._=void 0}}function Ow(s,e,i){return s instanceof fh?(function(o,c){const f={fields:{[Hb]:{stringValue:qb},[Fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Jm(c)&&(c=Rh(c)),c&&(f.fields[Gb]=c),{mapValue:f}})(i,e):s instanceof Jo?o1(s,e):s instanceof Zo?u1(s,e):(function(o,c){const f=l1(o,c),g=J_(f)+J_(o.Ae);return ym(f)&&ym(o.Ae)?a1(g):ng(o.serializer,g)})(s,e)}function Mw(s,e,i){return s instanceof Jo?o1(s,e):s instanceof Zo?u1(s,e):i}function l1(s,e){return s instanceof mh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class fh extends Ih{}class Jo extends Ih{constructor(e){super(),this.elements=e}}function o1(s,e){const i=c1(e);for(const a of s.elements)i.some((o=>Qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Zo extends Ih{constructor(e){super(),this.elements=e}}function u1(s,e){let i=c1(e);for(const a of s.elements)i=i.filter((o=>!Qi(o,a)));return{arrayValue:{values:i}}}class mh extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J_(s){return Ct(s.integerValue||s.doubleValue)}function c1(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Vw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Jo&&o instanceof Jo||a instanceof Zo&&o instanceof Zo?ml(a.elements,o.elements,Qi):a instanceof mh&&o instanceof mh?Qi(a.Ae,o.Ae):a instanceof fh&&o instanceof fh})(s.transform,e.transform)}class jw{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Dh{}function h1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ig(s.key,Wn.none()):new au(s.key,s.data,Wn.none());{const i=s.data,a=Sn.empty();let o=new Ft(rn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new Er(s.key,a,new Pn(o.toArray()),Wn.none())}}function Pw(s,e,i){s instanceof au?(function(o,c,f){const g=o.value.clone(),_=W_(o.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Er?(function(o,c,f){if(!Xc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=W_(o.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(d1(o)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Go(s,e,i,a){return s instanceof au?(function(c,f,g,_){if(!Xc(c.precondition,f))return g;const v=c.value.clone(),T=ev(c.fieldTransforms,_,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof Er?(function(c,f,g,_){if(!Xc(c.precondition,f))return g;const v=ev(c.fieldTransforms,_,f),T=f.data;return T.setAll(d1(c)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,e,i,a):(function(c,f,g){return Xc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,i)}function Uw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=l1(a.transform,o||null);c!=null&&(i===null&&(i=Sn.empty()),i.set(a.field,c))}return i||null}function Z_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,f)=>Vw(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class au extends Dh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends Dh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function d1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function W_(s,e,i){const a=new Map;nt(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],f=c.transform,g=e.data.field(c.field);a.set(c.field,Mw(f,g,i[o]))}return a}function ev(s,e,i){const a=new Map;for(const o of s){const c=o.transform,f=i.data.field(o.field);a.set(o.field,Ow(c,f,e))}return a}class ig extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&Pw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Go(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=r1();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=i.has(o.key)?null:g;const _=h1(f,g);_!==null&&a.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((i,a)=>Z_(i,a)))&&ml(this.baseMutations,e.baseMutations,((i,a)=>Z_(i,a)))}}class sg{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){nt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Nw})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new sg(e,i,a,o)}}class Bw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,Ye;function Hw(s){switch(s){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function f1(s){if(s===void 0)return Ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ut.OK:return J.OK;case Ut.CANCELLED:return J.CANCELLED;case Ut.UNKNOWN:return J.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return J.INTERNAL;case Ut.UNAVAILABLE:return J.UNAVAILABLE;case Ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ut.NOT_FOUND:return J.NOT_FOUND;case Ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ut.ABORTED:return J.ABORTED;case Ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ut.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function Gw(){return new TextEncoder}const Fw=new hr([4294967295,4294967295],0);function tv(s){const e=Gw().encode(s),i=new Cb;return i.update(e),new Uint8Array(i.digest())}function nv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new hr([i,a],0),new hr([o,c],0)]}class rg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new jo(`Invalid padding: ${i}`);if(a<0)throw new jo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new jo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=hr.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(hr.fromNumber(a)));return o.compare(Fw)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new rg(c,o,i);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.be(f)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Oh(we.min(),o,new xt(Ge),xs(),Fe())}}class lu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new lu(a,i,Fe(),Fe(),Fe())}}class $c{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class m1{constructor(e,i){this.targetId=e,this.Ce=i}}class g1{constructor(e,i,a=ln.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:c})}})),new lu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=sv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Qw{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.He=jc(),this.Je=jc(),this.Ze=new xt(Ge)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(vm(c))if(a===0){const f=new pe(c.path);this.et(i,f,hn.newNoDocument(f,we.min()))}else nt(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let f,g;try{f=pr(a).toUint8Array()}catch(_){if(_ instanceof Bb)return oa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new rg(f,o,c)}catch(_){return oa(_ instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&vm(g.target)){const _=new pe(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,hn.newNoDocument(_,e))}c.Be&&(i.set(f,c.ke()),c.Ke())}}));let a=Fe();this.Je.forEach(((c,f)=>{let g=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Oh(e,i,this.Ze,this.je,a);return this.je=xs(),this.He=jc(),this.Je=jc(),this.Ze=new xt(Ge),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ft(Ge),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ft(Ge),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function jc(){return new xt(pe.comparator)}function sv(){return new xt(pe.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class $w{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Em(s,e){return s.useProto3Json||wh(e)?e:{value:e}}function gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Jw(s,e){return gh(s,e.toTimestamp())}function Hi(s){return nt(!!s,49232),we.fromTimestamp((function(i){const a=gr(i);return new yt(a.seconds,a.nanos)})(s))}function ag(s,e){return Tm(s,e).canonicalString()}function Tm(s,e){const i=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function y1(s){const e=pt.fromString(s);return nt(T1(e),10190,{key:e.toString()}),e}function xm(s,e){return ag(s.databaseId,e.path)}function Jf(s,e){const i=y1(e);if(i.get(1)!==s.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pe(v1(i))}function _1(s,e){return ag(s.databaseId,e)}function Zw(s){const e=y1(s);return e.length===4?pt.emptyPath():v1(e)}function Am(s){return new pt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function v1(s){return nt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function rv(s,e,i){return{name:xm(s,e),fields:i.value.mapValue.fields}}function Ww(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ee(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(nt(T===void 0||typeof T=="string",58123),ln.fromBase64String(T||"")):(nt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),ln.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(v){const T=v.code===void 0?J.UNKNOWN:f1(v.code);return new de(T,v.message||"")})(f);i=new g1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Jf(s,a.document.name),c=Hi(a.document.updateTime),f=a.document.createTime?Hi(a.document.createTime):we.min(),g=new Sn({mapValue:{fields:a.document.fields}}),_=hn.newFoundDocument(o,c,f,g),v=a.targetIds||[],T=a.removedTargetIds||[];i=new $c(v,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Jf(s,a.document),c=a.readTime?Hi(a.readTime):we.min(),f=hn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new $c([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Jf(s,a.document),c=a.removedTargetIds||[];i=new $c([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new qw(o,c),g=a.targetId;i=new m1(g,f)}}return i}function eR(s,e){let i;if(e instanceof au)i={update:rv(s,e.key,e.value)};else if(e instanceof ig)i={delete:xm(s,e.key)};else if(e instanceof Er)i={update:rv(s,e.key,e.data),updateMask:uR(e.fieldMask)};else{if(!(e instanceof Lw))return Ee(16599,{dt:e.type});i={verify:xm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const g=f.transform;if(g instanceof fh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Jo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Jw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function tR(s,e){return s&&s.length>0?(nt(e!==void 0,14353),s.map((i=>(function(o,c){let f=o.updateTime?Hi(o.updateTime):Hi(c);return f.isEqual(we.min())&&(f=Hi(c)),new jw(f,o.transformResults||[])})(i,e)))):[]}function nR(s,e){return{documents:[_1(s,e.path)]}}function iR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=_1(s,o);const c=(function(v){if(v.length!==0)return E1(Ki.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(v){if(v.length!==0)return v.map((T=>(function(k){return{field:il(k.field),direction:aR(k.dir)}})(T)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=Em(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function sR(s){let e=Zw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){nt(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(A){const k=b1(A);return k instanceof Ki&&Jb(k)?k.getFilters():[k]})(i.where));let f=[];i.orderBy&&(f=(function(A){return A.map((k=>(function(ee){return new dh(sl(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(k)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let k;return k=typeof A=="object"?A.value:A,wh(k)?null:k})(i.limit));let _=null;i.startAt&&(_=(function(A){const k=!!A.before,G=A.values||[];return new hh(G,k)})(i.startAt));let v=null;return i.endAt&&(v=(function(A){const k=!A.before,G=A.values||[];return new hh(G,k)})(i.endAt)),Ew(e,o,f,c,g,"F",_,v)}function rR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function b1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=sl(i.unaryFilter.field);return Gt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(i.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=sl(i.unaryFilter.field);return Gt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(sl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>b1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function aR(s){return Kw[s]}function lR(s){return Yw[s]}function oR(s){return Xw[s]}function il(s){return{fieldPath:s.canonicalString()}}function sl(s){return rn.fromServerFormat(s.fieldPath)}function E1(s){return s instanceof Gt?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(i.field),op:lR(i.op),value:i.value}}})(s):s instanceof Ki?(function(i){const a=i.getFilters().map((o=>E1(o)));return a.length===1?a[0]:{compositeFilter:{op:oR(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function uR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function T1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function x1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class lr{constructor(e,i,a,o,c=we.min(),f=we.min(),g=ln.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class cR{constructor(e){this.yt=e}}function hR(s){const e=sR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class dR{constructor(){this.Sn=new fR}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(mr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class fR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ft(pt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ft(pt.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A1=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(A1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class yl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yl(0)}static ar(){return new yl(-1)}}const lv="LruGarbageCollector",mR=1048576;function ov([s,e],[i,a]){const o=Ge(s,i);return o===0?Ge(e,a):o}class gR{constructor(e){this.Pr=e,this.buffer=new Ft(ov),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class pR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Al(i)?le(lv,"Ignoring IndexedDB error during garbage collection: ",i):await xl(i)}await this.Ar(3e5)}))}}class yR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Sh.ce);const a=new gR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(av)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,f,g,_,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(a=A,g=Date.now(),this.removeTargets(e,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((A=>(v=Date.now(),tl()<=He.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(v-_)+`ms
Total Duration: ${v-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function _R(s,e){return new yR(s,e)}class vR{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class ER{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Go(a.mutation,o,Pn.empty(),yt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const o=Wr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let f=Vo();return c.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const a=Wr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,a,o){let c=xs();const f=Ho(),g=(function(){return Ho()})();return i.forEach(((_,v)=>{const T=a.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof Er)?c=c.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Go(T.mutation,v,T.mutation.getFieldMask(),yt.now())):f.set(v.key,Pn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,T)=>f.set(v,T))),i.forEach(((v,T)=>g.set(v,new bR(T,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Ho();let o=new xt(((f,g)=>f-g)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let T=a.get(_)||Pn.empty();T=g.applyToLocalView(v,T),a.set(_,T);const A=(o.get(g.batchId)||Fe()).add(_);o=o.insert(g.batchId,A)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,T=_.value,A=r1();T.forEach((k=>{if(!c.has(k)){const G=h1(i.get(k),a.get(k));G!==null&&A.set(k,G),c=c.add(k)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,A))}return $.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return Tw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):xw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(Wr());let g=Ko,_=c;return f.next((v=>$.forEach(v,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((k=>{_=_.insert(T,k)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Fe()))).next((T=>({batchId:g,changes:s1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pe(i)).next((a=>{let o=Vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let f=Vo();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const v=(function(A,k){return new Nh(k,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((T=>{T.forEach(((A,k)=>{f=f.insert(A,k)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((f=>{c.forEach(((_,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,hn.newInvalidDocument(T)))}));let g=Vo();return f.forEach(((_,v)=>{const T=c.get(_);T!==void 0&&Go(T.mutation,v,Pn.empty(),yt.now()),kh(i,v)&&(g=g.insert(_,v))})),g}))}}class TR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:hR(o.bundledQuery),readTime:Hi(o.readTime)}})(i)),$.resolve()}}class xR{constructor(){this.overlays=new xt(pe.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Wr();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Wr(),c=i.length+1,f=new pe(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new xt(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let T=c.get(v.largestBatchId);T===null&&(T=Wr(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const g=Wr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,T)=>g.set(v,T))),!(g.size()>=o)););return $.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new Bw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Fe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class AR{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class lg{constructor(){this.kr=new Ft(Xt.Kr),this.qr=new Ft(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Xt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new pe(new pt([])),a=new Xt(i,e),o=new Xt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new pe(new pt([])),a=new Xt(i,e),o=new Xt(i,e+1);let c=Fe();return this.qr.forEachInRange([a,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return pe.comparator(e.key,i.key)||Ge(e.Hr,i.Hr)}static Ur(e,i){return Ge(e.Hr,i.Hr)||pe.comparator(e.key,i.key)}}class SR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Xt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new zw(c,i,a,o);this.mutationQueue.push(f);for(const g of o)this.Jr=this.Jr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$m:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(f=>{const g=this.Zr(f.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(Ge);return i.forEach((o=>{const c=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;pe.isDocumentKey(c)||(c=c.child(""));const f=new Xt(new pe(c),0);let g=new Ft(Ge);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)}),f),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){nt(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Xt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Xt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wR{constructor(e){this.ti=e,this.docs=(function(){return new xt(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,f=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let a=xs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=xs();const f=i.path,g=new pe(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:T}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||ZS(JS(T),a)<=0||(o.has(T.key)||kh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ee(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new RR(this)}getSize(e){return $.resolve(this.size)}}class RR extends vR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class NR{constructor(e){this.persistence=e,this.ri=new ha((i=>Wm(i)),eg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new lg,this.targetCount=0,this.oi=yl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new yl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class S1{constructor(e,i){this._i={},this.overlays={},this.ai=new Sh(0),this.ui=!1,this.ui=!0,this.ci=new AR,this.referenceDelegate=e(this),this.li=new NR(this),this.indexManager=new dR,this.remoteDocumentCache=(function(o){return new wR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new cR(i),this.Pi=new TR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new xR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new SR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const o=new CR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class CR extends ew{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new lg,this.Ai=null}static Vi(e){return new og(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=pe.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class ph{constructor(e,i){this.persistence=e,this.fi=new ha((a=>iw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=_R(this,i)}static Vi(e,i){return new ph(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,i).next((g=>{g||(a++,c.removeEntry(f,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Kc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ug{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Fe(),o=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ug(e,i.fromCache,a,o)}}class kR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return _x()?8:tw(dn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new kR;return this.ys(e,i,f).next((g=>{if(c.result=g,this.As)return this.ws(e,i,f,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(tl()<=He.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",nl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(tl()<=He.DEBUG&&le("QueryEngine","Query:",nl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(tl()<=He.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",nl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):$.resolve())}gs(e,i){if($_(i))return $.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=Fe(...c);return this.fs.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.bs(i,g);return this.Ss(i,v,f,_.readTime)?this.gs(e,bm(i,null,"F")):this.Ds(e,v,i,_)}))))})))))}ps(e,i,a,o){return $_(i)||o.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const f=this.bs(i,c);return this.Ss(i,f,a,o)?$.resolve(null):(tl()<=He.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(i)),this.Ds(e,f,i,$S(o,Ko)).next((g=>g)))}))}bs(e,i){let a=new Ft(n1(e));return i.forEach(((o,c)=>{kh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return tl()<=He.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",nl(i)),this.fs.getDocumentsMatchingQuery(e,i,mr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const cg="LocalStore",DR=3e8;class OR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new xt(Ge),this.Fs=new ha((c=>Wm(c)),eg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ER(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function MR(s,e,i,a){return new OR(s,e,i,a)}async function w1(s,e){const i=Ie(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],g=[];let _=Fe();for(const v of o){f.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}for(const v of c){g.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function VR(s,e){const i=Ie(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,T){const A=v.batch,k=A.keys();let G=$.resolve();return k.forEach((ee=>{G=G.next((()=>T.getEntry(_,ee))).next((ne=>{const W=v.docVersions.get(ee);nt(W!==null,48541),ne.version.compareTo(W)<0&&(A.applyToRemoteDocument(ne,v),ne.isValidDocument()&&(ne.setReadTime(v.commitVersion),T.addEntry(ne)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Fe();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function R1(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function jR(s,e){const i=Ie(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,A)=>{const k=o.get(A);if(!k)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,A))));let G=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?G=G.withResumeToken(ln.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,a)),o=o.insert(A,G),(function(ne,W,fe){return ne.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=DR?!0:fe.addedDocuments.size+fe.modifiedDocuments.size+fe.removedDocuments.size>0})(k,G,T)&&g.push(i.li.updateTargetData(c,G))}));let _=xs(),v=Fe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(PR(c,f,e.documentUpdates).next((T=>{_=T.Bs,v=T.Ls}))),!a.isEqual(we.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return $.waitFor(g).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=o,c)))}function PR(s,e,i){let a=Fe(),o=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let f=xs();return i.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):le(cg,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function UR(s,e){const i=Ie(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=$m),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function LR(s,e){const i=Ie(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((f=>(o=new lr(e,f,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Sm(s,e,i){const a=Ie(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Al(f))throw f;le(cg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function uv(s,e,i){const a=Ie(s);let o=we.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,T){const A=Ie(_),k=A.Fs.get(T);return k!==void 0?$.resolve(A.vs.get(k)):A.li.getTargetData(v,T)})(a,f,qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,e,i?o:we.min(),i?c:Fe()))).next((g=>(zR(a,Sw(e),g),{documents:g,ks:c})))))}function zR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class cv{constructor(){this.activeTargetIds=Iw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BR{constructor(){this.vo=new cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qR{Mo(e){}shutdown(){}}const hv="ConnectivityMonitor";class dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(hv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function wm(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const Zf="RestConnection",HR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class GR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===uh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const f=wm(),g=this.Qo(e,i.toUriEncodedString());le(Zf,`Sending RPC '${e}' ${f}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:v}=new URL(g),T=vl(v);return this.zo(e,g,_,a,T).then((A=>(le(Zf,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw oa(Zf,`RPC '${e}' ${f} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(e,i,a,o,c,f){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=HR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class FR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Io=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ul extends GR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=Ob();Io(e,Db.STAT_EVENT,(i=>{i.stat===mm.PROXY?le(un,"STAT_EVENT: detected buffering proxy"):i.stat===mm.NOPROXY&&le(un,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,i,a,o,c){const f=wm();return new Promise(((g,_)=>{const v=new kb;v.setWithCredentials(!0),v.listenOnce(Ib.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Qc.NO_ERROR:const A=v.getResponseJson();le(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),g(A);break;case Qc.TIMEOUT:le(un,`RPC '${e}' ${f} timed out`),_(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Qc.HTTP_ERROR:const k=v.getStatus();if(le(un,`RPC '${e}' ${f} failed with status:`,k,"response text:",v.getResponseText()),k>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const ne=(function(fe){const ye=fe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ye)>=0?ye:J.UNKNOWN})(ee.status);_(new de(ne,ee.message))}else _(new de(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{le(un,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);le(un,`RPC '${e}' ${f} sending request:`,o),v.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=wm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const v=c.join("");le(un,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=f.createWebChannel(v,g);this.I_(T);let A=!1,k=!1;const G=new FR({Ho:ee=>{k?le(un,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(A||(le(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),A=!0),le(un,`RPC '${e}' stream ${o} sending:`,ee),T.send(ee))},Jo:()=>T.close()});return Io(T,Mo.EventType.OPEN,(()=>{k||(le(un,`RPC '${e}' stream ${o} transport opened.`),G.i_())})),Io(T,Mo.EventType.CLOSE,(()=>{k||(k=!0,le(un,`RPC '${e}' stream ${o} transport closed`),G.o_(),this.E_(T))})),Io(T,Mo.EventType.ERROR,(ee=>{k||(k=!0,oa(un,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),G.o_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),Io(T,Mo.EventType.MESSAGE,(ee=>{if(!k){const ne=ee.data[0];nt(!!ne,16349);const W=ne,fe=W?.error||W[0]?.error;if(fe){le(un,`RPC '${e}' stream ${o} received error:`,fe);const ye=fe.status;let Te=(function(re){const w=Ut[re];if(w!==void 0)return f1(w)})(ye),Se=fe.message;ye==="NOT_FOUND"&&Se.includes("database")&&Se.includes("does not exist")&&Se.includes(this.databaseId.database)&&oa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Te===void 0&&(Te=J.INTERNAL,Se="Unknown error status: "+ye+" with message "+fe.message),k=!0,G.o_(new de(Te,Se)),T.close()}else le(un,`RPC '${e}' stream ${o} received:`,ne),G.__(ne)}})),ul.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mb()}}function QR(s){return new ul(s)}function Wf(){return typeof document<"u"?document:null}function Mh(s){return new $w(s,!0)}ul.c_=!1;class N1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fv="PersistentStream";class C1{constructor(e,i,a,o,c,f,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Ts(i.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KR extends C1{constructor(e,i,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Ww(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Hi(f.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,f){let g;const _=f.target;if(g=vm(_)?{documents:nR(c,_)}:{query:iR(c,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=p1(c,f.resumeToken);const v=Em(c,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=gh(c,f.snapshotVersion.toTimestamp());const v=Em(c,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const a=rR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.K_(i)}}class YR extends C1{constructor(e,i,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=tR(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Am(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>eR(this.serializer,a)))};this.K_(i)}}class XR{}class $R extends XR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Tm(i,a),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(e,Tm(i,a),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function JR(s,e,i,a){return new $R(s,e,i,a)}class ZR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class WR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{da(this)&&(le(ua,"Restarting streams for network reachability change."),await(async function(_){const v=Ie(_);v.Ea.add(4),await ou(v),v.Va.set("Unknown"),v.Ea.delete(4),await Vh(v)})(this))}))})),this.Va=new ZR(a,o)}}async function Vh(s){if(da(s))for(const e of s.Ra)await e(!0)}async function ou(s){for(const e of s.Ra)await e(!1)}function k1(s,e){const i=Ie(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mg(i)?fg(i):Sl(i).O_()&&dg(i,e))}function hg(s,e){const i=Ie(s),a=Sl(i);i.Ia.delete(e),a.O_()&&I1(i,e),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Va.set("Unknown"))}function dg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Sl(s).Z_(e)}function I1(s,e){s.da.$e(e),Sl(s).X_(e)}function fg(s){s.da=new Qw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Sl(s).start(),s.Va.ua()}function mg(s){return da(s)&&!Sl(s).x_()&&s.Ia.size>0}function da(s){return Ie(s).Ea.size===0}function D1(s){s.da=void 0}async function eN(s){s.Va.set("Online")}async function tN(s){s.Ia.forEach(((e,i)=>{dg(s,e)}))}async function nN(s,e){D1(s),mg(s)?(s.Va.ha(e),fg(s)):s.Va.set("Unknown")}async function iN(s,e,i){if(s.Va.set("Online"),e instanceof g1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){le(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await yh(s,a)}else if(e instanceof $c?s.da.Xe(e):e instanceof m1?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await R1(s.localStore);i.compareTo(a)>=0&&await(function(c,f){const g=c.da.Tt(f);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,v)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(ln.EMPTY_BYTE_STRING,T.snapshotVersion)),I1(c,_);const A=new lr(T.target,_,v,T.sequenceNumber);dg(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){le(ua,"Failed to raise snapshot:",a),await yh(s,a)}}async function yh(s,e,i){if(!Al(e))throw e;s.Ea.add(1),await ou(s),s.Va.set("Offline"),i||(i=()=>R1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Vh(s)}))}function O1(s,e){return e().catch((i=>yh(s,i,e)))}async function jh(s){const e=Ie(s),i=_r(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;sN(e);)try{const o=await UR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,rN(e,o)}catch(o){await yh(e,o)}M1(e)&&V1(e)}function sN(s){return da(s)&&s.Ta.length<10}function rN(s,e){s.Ta.push(e);const i=_r(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function M1(s){return da(s)&&!_r(s).x_()&&s.Ta.length>0}function V1(s){_r(s).start()}async function aN(s){_r(s).ra()}async function lN(s){const e=_r(s);for(const i of s.Ta)e.ea(i.mutations)}async function oN(s,e,i){const a=s.Ta.shift(),o=sg.from(a,e,i);await O1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await jh(s)}async function uN(s,e){e&&_r(s).Y_&&await(async function(a,o){if((function(f){return Hw(f)&&f!==J.ABORTED})(o.code)){const c=a.Ta.shift();_r(a).B_(),await O1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(a)}})(s,e),M1(s)&&V1(s)}async function mv(s,e){const i=Ie(s);i.asyncQueue.verifyOperationInProgress(),le(ua,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await ou(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Vh(i)}async function cN(s,e){const i=Ie(s);e?(i.Ea.delete(2),await Vh(i)):e||(i.Ea.add(2),await ou(i),i.Va.set("Unknown"))}function Sl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ie(i);return c.sa(),new KR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:eN.bind(null,s),Yo:tN.bind(null,s),t_:nN.bind(null,s),J_:iN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),mg(s)?fg(s):s.Va.set("Unknown")):(await s.ma.stop(),D1(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(i,a,o){const c=Ie(i);return c.sa(),new YR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:aN.bind(null,s),t_:uN.bind(null,s),ta:lN.bind(null,s),na:oN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await jh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const f=Date.now()+a,g=new gg(e,i,f,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(s,e){if(Ts("AsyncQueue",`${e}: ${s}`),Al(s))return new de(J.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||pe.comparator(i.key,a.key):(i,a)=>pe.comparator(i.key,a.key),this.keyedMap=Vo(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class gv{constructor(){this.ga=new xt(pe.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class _l{constructor(e,i,a,o,c,f,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,c){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new _l(e,i,cl.emptySet(i),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class hN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class dN{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ie(i),c=o.queries;o.queries=pv(),c.forEach(((f,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function pv(){return new ha((s=>t1(s)),Ch)}async function fN(s,e){const i=Ie(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new hN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const g=pg(f,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&yg(i)}async function mN(s,e){const i=Ie(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function gN(s,e){const i=Ie(s);let a=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const g of f.ba)g.Fa(o)&&(a=!0);f.wa=o}}a&&yg(i)}function pN(s,e,i){const a=Ie(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function yg(s){s.Ca.forEach((e=>{e.next()}))}var Rm,yv;(yv=Rm||(Rm={})).Ma="default",yv.Cache="cache";class yN{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new _l(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class j1{constructor(e){this.key=e}}class P1{constructor(e){this.key=e}}class _N{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Fe(),this.mutatedKeys=Fe(),this.eu=n1(e),this.tu=new cl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const k=o.get(T),G=kh(this.query,A)?A:null,ee=!!k&&this.mutatedKeys.has(k.key),ne=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;k&&G?k.data.isEqual(G.data)?ee!==ne&&(a.track({type:3,doc:G}),W=!0):this.su(k,G)||(a.track({type:2,doc:G}),W=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(g=!0)):!k&&G?(a.track({type:0,doc:G}),W=!0):k&&!G&&(a.track({type:1,doc:k}),W=!0,(_||v)&&(g=!0)),W&&(G?(f=f.add(G),c=ne?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:f,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,A)=>(function(G,ee){const ne=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:W})}};return ne(G)-ne(ee)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,f.length!==0||v?{snapshot:new _l(this.query,e.tu,c,f,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new P1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new j1(a))})),i}cu(e){this.Za=e.ks,this.Ya=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class vN{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class bN{constructor(e){this.key=e,this.hu=!1}}class EN{constructor(e,i,a,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ha((g=>t1(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.Ru=new xt(pe.comparator),this.Au=new Map,this.Vu=new lg,this.du={},this.mu=new Map,this.fu=yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TN(s,e,i=!0){const a=H1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await U1(a,e,i,!0),o}async function xN(s,e){const i=H1(s);await U1(i,e,!0,!1)}async function U1(s,e,i,a){const o=await LR(s.localStore,qi(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await AN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&i&&k1(s.remoteStore,o),g}async function AN(s,e,i,a,o){s.pu=(A,k,G)=>(async function(ne,W,fe,ye){let Te=W.view.ru(fe);Te.Ss&&(Te=await uv(ne.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,Te))));const Se=ye&&ye.targetChanges.get(W.targetId),B=ye&&ye.targetMismatches.get(W.targetId)!=null,re=W.view.applyChanges(Te,ne.isPrimaryClient,Se,B);return vv(ne,W.targetId,re.au),re.snapshot})(s,A,k,G);const c=await uv(s.localStore,e,!0),f=new _N(e,c.ks),g=f.ru(c.documents),_=lu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=f.applyChanges(g,s.isPrimaryClient,_);vv(s,i,v.au);const T=new vN(e,i,f);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function SN(s,e,i){const a=Ie(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((f=>!Ch(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&hg(a.remoteStore,o.targetId),Nm(a,o.targetId)})).catch(xl)):(Nm(a,o.targetId),await Sm(a.localStore,o.targetId,!0))}async function wN(s,e){const i=Ie(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hg(i.remoteStore,a.targetId))}async function RN(s,e,i){const a=MN(s);try{const o=await(function(f,g){const _=Ie(f),v=yt.now(),T=g.reduce(((G,ee)=>G.add(ee.key)),Fe());let A,k;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=xs(),ne=Fe();return _.xs.getEntries(G,T).next((W=>{ee=W,ee.forEach(((fe,ye)=>{ye.isValidDocument()||(ne=ne.add(fe))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,ee))).next((W=>{A=W;const fe=[];for(const ye of g){const Te=Uw(ye,A.get(ye.key).overlayedDocument);Te!=null&&fe.push(new Er(ye.key,Te,Yb(Te.value.mapValue),Wn.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,fe,g)})).next((W=>{k=W;const fe=W.applyToLocalDocumentSet(A,ne);return _.documentOverlayCache.saveOverlays(G,W.batchId,fe)}))})).then((()=>({batchId:k.batchId,changes:s1(A)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,g,_){let v=f.du[f.currentUser.toKey()];v||(v=new xt(Ge)),v=v.insert(g,_),f.du[f.currentUser.toKey()]=v})(a,o.batchId,i),await uu(a,o.changes),await jh(a.remoteStore)}catch(o){const c=pg(o,"Failed to persist write");i.reject(c)}}async function L1(s,e){const i=Ie(s);try{const a=await jR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?nt(f.hu,14607):o.removedDocuments.size>0&&(nt(f.hu,42227),f.hu=!1))})),await uu(i,a,e)}catch(a){await xl(a)}}function _v(s,e,i){const a=Ie(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const _=Ie(f);_.onlineState=g;let v=!1;_.queries.forEach(((T,A)=>{for(const k of A.ba)k.va(g)&&(v=!0)})),v&&yg(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function NN(s,e,i){const a=Ie(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new xt(pe.comparator);f=f.insert(c,hn.newNoDocument(c,we.min()));const g=Fe().add(c),_=new Oh(we.min(),new Map,new xt(Ge),f,g);await L1(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),vg(a)}else await Sm(a.localStore,e,!1).then((()=>Nm(a,e,i))).catch(xl)}async function CN(s,e){const i=Ie(s),a=e.batch.batchId;try{const o=await VR(i.localStore,e);B1(i,a,null),z1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uu(i,o)}catch(o){await xl(o)}}async function kN(s,e,i){const a=Ie(s);try{const o=await(function(f,g){const _=Ie(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return _.mutationQueue.lookupMutationBatch(v,g).next((A=>(nt(A!==null,37113),T=A.keys(),_.mutationQueue.removeMutationBatch(v,A)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>_.localDocuments.getDocuments(v,T)))}))})(a.localStore,e);B1(a,e,i),z1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uu(a,o)}catch(o){await xl(o)}}function z1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function B1(s,e,i){const a=Ie(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Nm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||q1(s,a)}))}function q1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(hg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),vg(s))}function vv(s,e,i){for(const a of i)a instanceof j1?(s.Vu.addReference(a.key,e),IN(s,a)):a instanceof P1?(le(_g,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||q1(s,a.key)):Ee(19791,{wu:a})}function IN(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(_g,"New document in limbo: "+i),s.Eu.add(a),vg(s))}function vg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new pe(pt.fromString(e)),a=s.fu.next();s.Au.set(a,new bN(i)),s.Ru=s.Ru.insert(i,a),k1(s.remoteStore,new lr(qi(tg(i.path)),a,"TargetPurposeLimboResolution",Sh.ce))}}async function uu(s,e,i){const a=Ie(s),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{f.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(v){o.push(v);const T=ug.Es(_.targetId,v);c.push(T)}})))})),await Promise.all(f),a.Pu.J_(o),await(async function(_,v){const T=Ie(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>$.forEach(v,(k=>$.forEach(k.Ts,(G=>T.persistence.referenceDelegate.addReference(A,k.targetId,G))).next((()=>$.forEach(k.Is,(G=>T.persistence.referenceDelegate.removeReference(A,k.targetId,G)))))))))}catch(A){if(!Al(A))throw A;le(cg,"Failed to update sequence numbers: "+A)}for(const A of v){const k=A.targetId;if(!A.fromCache){const G=T.vs.get(k),ee=G.snapshotVersion,ne=G.withLastLimboFreeSnapshotVersion(ee);T.vs=T.vs.insert(k,ne)}}})(a.localStore,c))}async function DN(s,e){const i=Ie(s);if(!i.currentUser.isEqual(e)){le(_g,"User change. New user:",e.toKey());const a=await w1(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new de(J.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uu(i,a.Ns)}}function ON(s,e){const i=Ie(s),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let o=Fe();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const g=i.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function H1(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ON.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NN.bind(null,e),e.Pu.J_=gN.bind(null,e.eventManager),e.Pu.yu=pN.bind(null,e.eventManager),e}function MN(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kN.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return MR(this.persistence,new IR,e.initialUser,this.serializer)}Cu(e){return new S1(og.Vi,this.serializer)}Du(e){return new BR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class VN extends _h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){nt(this.persistence.referenceDelegate instanceof ph,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new pR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new S1((a=>ph.Vi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=DN.bind(null,this.syncEngine),await cN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new dN})()}createDatastore(e){const i=Mh(e.databaseInfo.databaseId),a=QR(e.databaseInfo);return JR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,f,g){return new WR(a,o,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new qR})())}createSyncEngine(e,i){return(function(o,c,f,g,_,v,T){const A=new EN(o,c,f,g,_,v);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ie(i);le(ua,"RemoteStore shutting down."),a.Ea.add(5),await ou(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class jN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const vr="FirestoreClient";class PN{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{le(vr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(le(vr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=pg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),le(vr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await w1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await UN(s);le(vr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>mv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>mv(e.remoteStore,o))),s._onlineComponents=e}async function UN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(vr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;oa("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new _h)}}else le(vr,"Using default OfflineComponentProvider"),await em(s,new VN(void 0));return s._offlineComponents}async function G1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(vr,"Using user provided OnlineComponentProvider"),await bv(s,s._uninitializedComponentsProvider._online)):(le(vr,"Using default OnlineComponentProvider"),await bv(s,new Cm))),s._onlineComponents}function LN(s){return G1(s).then((e=>e.syncEngine))}async function Ev(s){const e=await G1(s),i=e.eventManager;return i.onListen=TN.bind(null,e.syncEngine),i.onUnlisten=SN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=xN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=wN.bind(null,e.syncEngine),i}function zN(s,e,i,a){const o=new jN(a),c=new yN(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>fN(await Ev(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>mN(await Ev(s),c)))}}function BN(s,e){const i=new na;return s.asyncQueue.enqueueAndForget((async()=>RN(await LN(s),e,i))),i.promise}function F1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const qN="ComponentProvider",Tv=new Map;function HN(s,e,i,a,o){return new aw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,F1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const Q1="firestore.googleapis.com",xv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q1,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mR)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new LS;switch(a.type){case"firstParty":return new HS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Tv.get(i);a&&(le(qN,"Removing Datastore"),Tv.delete(i),a.terminate())})(this),Promise.resolve()}}function GN(s,e,i,a={}){s=Bi(s,Ph);const o=vl(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Fv(`https://${g}`),Qv("Firestore",!0)),c.host!==Q1&&c.host!==g&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!sa(_,f)&&(s._setSettings(_),a.mockUserToken)){let v,T;if(typeof a.mockUserToken=="string")v=a.mockUserToken,T=cn.MOCK_USER;else{v=ux(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(A)}s._authCredentials=new zS(new jb(v,T))}}class Uh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Uh(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(ru(i,zt._jsonSchema))return new zt(e,a||null,new pe(pt.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Lt("string",zt._jsonSchemaVersion),referencePath:Lt("string")};class dr extends Uh{constructor(e,i,a){super(e,i,tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new pe(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Do(s,e,...i){if(s=an(s),Pb("collection","path",e),s instanceof Ph){const a=pt.fromString(e,...i);return P_(a),new dr(s,null,a)}{if(!(s instanceof zt||s instanceof dr))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(pt.fromString(e,...i));return P_(a),new dr(s.firestore,null,a)}}function ps(s,e,...i){if(s=an(s),arguments.length===1&&(e=Ym.newId()),Pb("doc","path",e),s instanceof Ph){const a=pt.fromString(e,...i);return j_(a),new zt(s,null,new pe(a))}{if(!(s instanceof zt||s instanceof dr))throw new de(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(pt.fromString(e,...i));return j_(a),new zt(s.firestore,s instanceof dr?s.converter:null,new pe(a))}}const Sv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N1(this,"async_queue_retry"),this._c=()=>{const a=Wf();a&&le(Sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new na;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;le(Sv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",Rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=gg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ca extends Ph{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function FN(s,e){const i=typeof s=="object"?s:$v(),a=typeof s=="string"?s:uh,o=jm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=lx("firestore");c&&GN(o,...c)}return o}function K1(s){if(s._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||QN(s),s._firestoreClient}function QN(s){const e=s._freezeSettings(),i=HN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new PN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(ln.fromBase64String(e))}catch(i){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Zn(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ru(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Lt("string",Zn._jsonSchemaVersion),bytes:Lt("string")};class bg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eg{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(ru(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:Lt("string",Gi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ru(e,yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new yi(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}yi._jsonSchemaVersion="firestore/vectorValue/1.0",yi._jsonSchema={type:Lt("string",yi._jsonSchemaVersion),vectorValues:Lt("object")};const KN=/^__.*__$/;class YN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new au(e,this.data,i,this.fieldTransforms)}}class Y1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Er(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function X1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class Tg{constructor(e,i,a,o,c,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return vh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(X1(this.dataSource)&&KN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(e)}createContext(e,i,a,o=!1){return new Tg({dataSource:e,methodName:i,targetDoc:a,path:rn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(s){const e=s._freezeSettings(),i=Mh(s._databaseId);return new XN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $1(s,e,i,a,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Ag("Data must be an object, but it was:",f,a);const g=J1(a,f);let _,v;if(c.merge)_=new Pn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const A of c.mergeFields){const k=Wo(e,A,i);if(!f.contains(k))throw new de(J.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);eE(T,k)||T.push(k)}_=new Pn(T),v=f.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,v=f.fieldTransforms;return new YN(new Sn(g),_,v)}class Lh extends Eg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lh}}function $N(s,e,i,a){const o=s.createContext(1,e,i);Ag("Data must be an object, but it was:",o,a);const c=[],f=Sn.empty();br(a,((_,v)=>{const T=W1(e,_,i);v=an(v);const A=o.childContextForFieldPath(T);if(v instanceof Lh)c.push(T);else{const k=zh(v,A);k!=null&&(c.push(T),f.set(T,k))}}));const g=new Pn(c);return new Y1(f,g,o.fieldTransforms)}function JN(s,e,i,a,o,c){const f=s.createContext(1,e,i),g=[Wo(e,a,i)],_=[o];if(c.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)g.push(Wo(e,c[k])),_.push(c[k+1]);const v=[],T=Sn.empty();for(let k=g.length-1;k>=0;--k)if(!eE(v,g[k])){const G=g[k];let ee=_[k];ee=an(ee);const ne=f.childContextForFieldPath(G);if(ee instanceof Lh)v.push(G);else{const W=zh(ee,ne);W!=null&&(v.push(G),T.set(G,W))}}const A=new Pn(v);return new Y1(T,A,f.fieldTransforms)}function zh(s,e){if(Z1(s=an(s)))return Ag("Unsupported field value:",e,s),J1(s,e);if(s instanceof Eg)return(function(a,o){if(!X1(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let f=0;for(const g of a){let _=zh(g,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=an(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Dw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=yt.fromDate(a);return{timestampValue:gh(o.serializer,c)}}if(a instanceof yt){const c=new yt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:gh(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:p1(o.serializer,a._byteString)};if(a instanceof zt){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ag(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof yi)return(function(f,g){const _=f instanceof yi?f.toArray():f;return{mapValue:{fields:{[Qb]:{stringValue:Kb},[ch]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return ng(g.serializer,T)}))}}}}}})(a,o);if(x1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Xm(a)}`)})(s,e)}function J1(s,e){const i={};return zb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((a,o)=>{const c=zh(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Z1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof yt||s instanceof Gi||s instanceof Zn||s instanceof zt||s instanceof Eg||s instanceof yi||x1(s))}function Ag(s,e,i){if(!Z1(i)||!Ub(i)){const a=Xm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Wo(s,e,i){if((e=an(e))instanceof bg)return e._internalPath;if(typeof e=="string")return W1(s,e);throw vh("Field path arguments must be of type string or ",s,!1,void 0,i)}const ZN=new RegExp("[~\\*/\\[\\]]");function W1(s,e,i){if(e.search(ZN)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bg(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function vh(s,e,i,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${a}`),f&&(_+=` in document ${o}`),_+=")"),new de(J.INVALID_ARGUMENT,g+s+_)}function eE(s,e){return s.some((i=>i.isEqual(e)))}class WN{convertValue(e,i="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return br(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ch].arrayValue?.values?.map((a=>Ct(a.doubleValue)));return new yi(i)}convertGeoPoint(e){return new Gi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Rh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){const i=gr(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=pt.fromString(e);nt(T1(a),9688,{name:e});const o=new Xo(a.get(1),a.get(3)),c=new pe(a.popFirst(5));return o.isEqual(i)||Ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class tE extends WN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}const Nv="@firebase/firestore",Cv="4.11.0";function kv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class nE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Wo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class eC extends nE{data(){return super.data()}}function tC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iE(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Po{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends nE{constructor(e,i,a,o,c,f){super(e,i,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Wo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ia._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Lt("string",ia._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Jc extends ia{data(e={}){return super.data(e)}}class hl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Po(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Jc(this._firestore,this._userDataWriter,a.key,a,new Po(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const _=new Jc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Po(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Jc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Po(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:nC(g.type),doc:_,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Lt("string",hl._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function Iv(s,e,i){s=Bi(s,zt);const a=Bi(s.firestore,ca),o=iE(s.converter,e),c=xg(a);return Bh(a,[$1(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Wn.none())])}function Uc(s,e,i,...a){s=Bi(s,zt);const o=Bi(s.firestore,ca),c=xg(o);let f;return f=typeof(e=an(e))=="string"||e instanceof bg?JN(c,"updateDoc",s._key,e,i,a):$N(c,"updateDoc",s._key,e),Bh(o,[f.toMutation(s._key,Wn.exists(!0))])}function Dv(s){return Bh(Bi(s.firestore,ca),[new ig(s._key,Wn.none())])}function tm(s,e){const i=Bi(s.firestore,ca),a=ps(s),o=iE(s.converter,e),c=xg(s.firestore);return Bh(i,[$1(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Wn.exists(!1))]).then((()=>a))}function nm(s,...e){s=an(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,f,g;if(s instanceof zt)f=Bi(s.firestore,ca),g=tg(s._key.path),c={next:v=>{e[a]&&e[a](iC(f,s,v))},error:e[a+1],complete:e[a+2]};else{const v=Bi(s,Uh);f=Bi(v.firestore,ca),g=v._query;const T=new tE(f);c={next:A=>{e[a]&&e[a](new hl(f,T,v,A))},error:e[a+1],complete:e[a+2]},tC(s._query)}const _=K1(f);return zN(_,g,o,c)}function Bh(s,e){const i=K1(s);return BN(i,e)}function iC(s,e,i){const a=i.docs.get(e._key),o=new tE(s);return new ia(s,o,e._key,a,new Po(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){US(bl),dl(new ra("firestore",((a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new ca(new BS(a.getProvider("auth-internal")),new GS(f,a.getProvider("app-check-internal")),lw(f,o),f);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),cr(Nv,Cv,e),cr(Nv,Cv,"esm2020")})();const sE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const sC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const rC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Ov=s=>{const e=rC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var aC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const lC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const oC=ve.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:f,...g},_)=>ve.createElement("svg",{ref:_,...aC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:sE("lucide",o),...!c&&!lC(g)&&{"aria-hidden":"true"},...g},[...f.map(([v,T])=>ve.createElement(v,T)),...Array.isArray(c)?c:[c]]));const je=(s,e)=>{const i=ve.forwardRef(({className:a,...o},c)=>ve.createElement(oC,{ref:c,iconNode:e,className:sE(`lucide-${sC(Ov(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Ov(s),i};const uC=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],cC=je("arrow-up-down",uC);const hC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],rE=je("chart-no-axes-column",hC);const dC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fC=je("chevron-left",dC);const mC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],gC=je("chevron-right",mC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],km=je("circle-alert",pC);const yC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aE=je("circle-check",yC);const _C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],bh=je("clock",_C);const vC=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bC=je("copy",vC);const EC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],TC=je("download",EC);const xC=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],AC=je("earth",xC);const SC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mv=je("external-link",SC);const wC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vv=je("file-text",wC);const RC=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jv=je("folder",RC);const NC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],CC=je("globe",NC);const kC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lE=je("history",kC);const IC=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],DC=je("kanban",IC);const OC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],MC=je("key",OC);const VC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jC=je("layers",VC);const PC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UC=je("list",PC);const LC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],zC=je("lock",LC);const BC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pv=je("log-out",BC);const qC=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Sg=je("megaphone",qC);const HC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],GC=je("message-square",HC);const FC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],QC=je("moon",FC);const KC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zc=je("pen",KC);const YC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],XC=je("pin",YC);const $C=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JC=je("plus",$C);const ZC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WC=je("refresh-cw",ZC);const ek=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tk=je("search",ek);const nk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oE=je("send",nk);const ik=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],sk=je("shield-alert",ik);const rk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uE=je("shield-check",rk);const ak=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],lk=je("smartphone",ak);const ok=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uk=je("sun",ok);const ck=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hk=je("trash-2",ck);const dk=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Lc=je("trash",dk);const fk=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mk=je("upload",fk);const gk=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pk=je("user-check",gk);const yk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fr=je("x",yk);const _k=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],vk=je("zap",_k),bk={apiKey:"AIzaSyC6xIVImyXjYqtWQtdOkFlO3aBtJLGAcc8",authDomain:"polyglot-pm.firebaseapp.com",projectId:"polyglot-pm",storageBucket:"polyglot-pm.firebasestorage.app",messagingSenderId:"665653580466",appId:"1:665653580466:web:b72025d60f51bc3a85efab",measurementId:"G-RPL0YK36R7"},Uv="PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE",Jn=typeof __app_id<"u"?__app_id:"project-dashboard-v1",Wc=typeof __firebase_config<"u"?JSON.parse(__firebase_config):bk,Im=Wc&&Wc.apiKey&&Wc.apiKey!=="PASTE_YOUR_API_KEY_HERE";let im,Uo,pn;Im&&(im=Xv(Wc),Uo=jS(im),pn=FN(im));const Dm=["anthonytosi@gmail.com","atosi@sdl.com","atosi@google.com"],sm=["Anthony","Andrey","Annika","Mieke","Emily","Unassigned"],rl=["Heads-up","Need Assessment","In Assessment","Screenshooting","In Progress","Blocked","Pending Reports","Completed"],Ek=["ar-SA","da-DK","de-DE","en-GB","es-ES","es-419","it-IT","fr-CA","fr-FR","ja-JP","ko-KR","nl-NL","no-NO","pt-PT","sv-SE","zh-TW"],Tk=["P0","P1","P2","P3","P4"],xk={"Heads-up":{bg:"bg-fuchsia-100 dark:bg-fuchsia-900/40",text:"text-fuchsia-700 dark:text-fuchsia-400",border:"border-fuchsia-200 dark:border-fuchsia-800",dot:"bg-fuchsia-500"},"Need Assessment":{bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",dot:"bg-amber-500"},"In Assessment":{bg:"bg-orange-100 dark:bg-orange-900/40",text:"text-orange-700 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800",dot:"bg-orange-500"},Screenshooting:{bg:"bg-pink-100 dark:bg-pink-900/40",text:"text-pink-700 dark:text-pink-400",border:"border-pink-200 dark:border-pink-800",dot:"bg-pink-500"},"In Progress":{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",dot:"bg-blue-500"},Blocked:{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800",dot:"bg-red-500"},"Pending Reports":{bg:"bg-teal-100 dark:bg-teal-900/40",text:"text-teal-700 dark:text-teal-400",border:"border-teal-200 dark:border-teal-800",dot:"bg-teal-500"},Completed:{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800",dot:"bg-green-500"}},ea=s=>xk[s]||{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-300",border:"border-slate-200 dark:border-slate-700",dot:"bg-slate-500"},wg=s=>{const e=["bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400","bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-400","bg-lime-100 text-lime-800 border-lime-200 dark:bg-lime-900/30 dark:text-lime-400","bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400","bg-sky-100 text-sky-800 border-sky-200 dark:bg-sky-900/30 dark:text-sky-400","bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400"];if(!s)return"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300";let i=0;for(let a=0;a<s.length;a++)i=s.charCodeAt(a)+((i<<5)-i);return e[Math.abs(i)%e.length]},Rg=s=>{const e={P0:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400",P1:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400",P2:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400",P3:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300",P4:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300"};return e[s]||e.P2};function Ak(){const[s,e]=ve.useState(null),[i,a]=ve.useState([]),[o,c]=ve.useState([]),[f,g]=ve.useState(!0),[_,v]=ve.useState(!1),[T,A]=ve.useState({teamMembers:sm,allowedDomains:[],allowedUsers:[],userGroups:[],adminEmails:[],users:[]}),[k,G]=ve.useState(null),[ee,ne]=ve.useState(""),[W,fe]=ve.useState({status:"All",lead:"All",pa:"All"}),[ye,Te]=ve.useState({key:"createdAt",direction:"desc"}),[Se,B]=ve.useState("table"),[re,w]=ve.useState(!1),[S,R]=ve.useState(null),[M,I]=ve.useState(!1),[j,N]=ve.useState(null),[dt,bt]=ve.useState(!1),[F,ie]=ve.useState(!1),[he,Pe]=ve.useState([]),[Ze,O]=ve.useState([]),[K,se]=ve.useState(!1),[ae,be]=ve.useState(!1),[De,Ue]=ve.useState(10),Et=ve.useRef(null),Xe=s?.email?.toLowerCase()||"",$t=s?.displayName||s?.email?.split("@")[0]||"User",Yi=Dm.includes(Xe),Ss=(T.adminEmails||[]).includes(Xe),kt=Yi||Ss,Un=ve.useMemo(()=>{if(!s)return{hasAccess:!1,role:"none",allowedPAs:[]};if(kt)return{hasAccess:!0,role:"admin",allowedPAs:["all"]};const Z=Xe.split("@")[1]||"",ue=(T.allowedDomains||[]).includes(Z),Re=(T.allowedUsers||[]).includes(Xe),xe=(T.users||[]).find(tt=>tt.email===Xe),Ne=(T.userGroups||[]).filter(tt=>(tt.members||[]).map(ii=>(ii||"").toLowerCase()).includes(Xe));if(Ne.length===0&&!ue&&!Re&&!xe)return{hasAccess:!1,role:"none",allowedPAs:[]};let Ce=ue||Re?"editor":"viewer",ge=ue||Re?["all"]:[];return xe&&(xe.role==="editor"&&(Ce="editor"),xe.scope==="all"||ge.includes("all")?ge=["all"]:ge=[...new Set([...ge,...xe.scopedPAs||[]])]),Ne.forEach(tt=>{tt.role==="editor"&&(Ce="editor"),tt.scope==="all"||ge.includes("all")?ge=["all"]:ge=[...new Set([...ge,...tt.scopedPAs||[]])]}),{hasAccess:!0,role:Ce,allowedPAs:ge}},[s,T,kt,Xe]),{hasAccess:ei,role:_i,allowedPAs:ti}=Un,wn=kt||_i==="editor",Qe=ve.useCallback((Z,ue="success")=>{const Re=Date.now();O(xe=>[...xe,{id:Re,message:Z,type:ue}]),setTimeout(()=>O(xe=>xe.filter(Ne=>Ne.id!==Re)),3e3)},[]),at=ve.useCallback(async()=>{if(!Uv.includes("PASTE_YOUR"))try{await fetch(Uv,{method:"POST",mode:"no-cors"})}catch{}},[]),vi=async()=>{be(!0),await at(),setTimeout(()=>{be(!1),Qe("System Synced Successfully","success")},800)},wl=async()=>{G(null);try{await FA(Uo,new ys)}catch(Z){console.error("Sign-in Error:",Z),Z.code==="auth/unauthorized-domain"?G(`Action Required: Please add "${window.location.hostname}" to your Authorized Domains in the Firebase Console (Authentication > Settings > Authorized Domains).`):G(Z.message)}};ve.useEffect(()=>{let Z;return K&&ei?Z=setInterval(()=>{Ue(ue=>ue<=1?(at(),10):ue-1)},1e3):Ue(10),()=>clearInterval(Z)},[K,ei,at]),ve.useEffect(()=>{if(!Im){g(!1);return}const Z=SA(Uo,ue=>{e(ue),g(!1)});return()=>Z()},[]),ve.useEffect(()=>{if(!s||!pn){v(!0);return}const Z=ps(pn,"artifacts",Jn,"public","data","settings","config"),ue=nm(Z,Re=>{Re.exists()?A(Re.data()):Iv(Z,{teamMembers:sm,allowedDomains:["google.com"],allowedUsers:[...Dm],userGroups:[],adminEmails:[],users:[]}).catch(xe=>console.log("Init settings skipped (Insufficient permissions):",xe)),v(!0)},Re=>{console.error("Settings fetch error:",Re),v(!0)});return()=>ue()},[s]);const bi=[...ti].sort().join(",");ve.useEffect(()=>{if(!s||!pn||!ei||!_)return;const Z=Do(pn,"artifacts",Jn,"public","data","projects"),ue=nm(Z,Ne=>{let Ce=Ne.docs.map(ge=>({id:ge.id,...ge.data()}));if(bi!=="all"){const ge=bi.split(",");Ce=Ce.filter(tt=>ge.includes(tt.productArea))}a(Ce),R(ge=>ge?Ce.find(Jt=>Jt.id===ge.id)||ge:null)},Ne=>{console.error("Projects Fetch Error:",Ne),Qe("Connection issue with Database","error")}),Re=Do(pn,"artifacts",Jn,"public","data","announcements"),xe=nm(Re,Ne=>{let Ce=Ne.docs.map(ge=>({id:ge.id,...ge.data()}));if(bi!=="all"){const ge=bi.split(",");Ce=Ce.filter(tt=>tt.targetPA==="general"||ge.includes(tt.targetPA))}Ce.sort((ge,tt)=>tt.timestamp-ge.timestamp),c(Ce)},Ne=>console.error("Announcements Fetch Error:",Ne));return()=>{ue(),xe()}},[s,ei,bi,_,Qe]),ve.useEffect(()=>{re?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[re]);const Bt=ve.useMemo(()=>[...new Set([...T.teamMembers||sm,$t])].filter(Z=>Z!=="Unassigned").concat(["Unassigned"]),[$t,T]),ni=ve.useMemo(()=>[...new Set(i.map(Z=>String(Z.productArea||"").trim()).filter(Boolean))].sort(),[i]),Tr=ve.useMemo(()=>{const Z=[];return(i||[]).forEach(ue=>{Array.isArray(ue.comments)&&ue.comments.forEach(Re=>Z.push({...Re,projectName:ue.projectName,projectId:ue.id}))}),Z.sort((ue,Re)=>Re.timestamp-ue.timestamp)},[i]),Xi=ve.useMemo(()=>{let Z=i.filter(ue=>{const Re=ee.toLowerCase(),xe=String(ue.bugNumber||"").toLowerCase(),Ne=String(ue.projectName||"").toLowerCase(),Ce=String(ue.productArea||"").trim(),ge=ue.assignedLead||"Unassigned";return(xe.includes(Re)||Ne.includes(Re))&&(W.status==="All"||ue.status===W.status)&&(W.lead==="All"||ge===W.lead)&&(W.pa==="All"||Ce===W.pa)});return Z.sort((ue,Re)=>{let xe=ue[ye.key],Ne=Re[ye.key];return ye.key==="clientETA"||ye.key==="createdAt"?(xe=xe?new Date(xe).getTime():0,Ne=Ne?new Date(Ne).getTime():0):(xe=String(xe||"").toLowerCase(),Ne=String(Ne||"").toLowerCase()),xe<Ne?ye.direction==="asc"?-1:1:xe>Ne?ye.direction==="asc"?1:-1:0}),Z},[i,ee,W,ye]),Ei=Z=>{Te(ue=>({key:Z,direction:ue.key===Z&&ue.direction==="asc"?"desc":"asc"}))},Rl=async Z=>{if(!wn)return;if(!kt&&ti[0]!=="all"&&!ti.includes(Z.productArea)){Qe("Unauthorized: You cannot save to this Product Area.","error");return}const ue=Do(pn,"artifacts",Jn,"public","data","projects"),Re={...Z,updatedAt:Date.now(),lastEditedBy:s.uid,lastEditedByName:$t};try{Z.id?await Uc(ps(ue,Z.id),Re):await tm(ue,{...Re,createdAt:Date.now(),createdBy:s.uid,comments:[]}),I(!1),N(null),at(),Qe(Z.id?"Project Updated":"Project Created","success")}catch{Qe("Failed to save project","error")}},xr=async(Z,ue)=>{wn&&(await Uc(ps(pn,"artifacts",Jn,"public","data","projects",Z),{...ue,updatedAt:Date.now(),lastEditedByName:$t}),at(),Qe("Record updated","success"))},Ar=async(Z,ue)=>{if(!wn||he.length===0)return;const Re=he.map(xe=>Uc(ps(pn,"artifacts",Jn,"public","data","projects",xe),{[Z]:ue,updatedAt:Date.now(),lastEditedByName:$t}));await Promise.all(Re),Pe([]),at(),Qe(`Bulk updated ${he.length} projects`,"success")},fa=async(Z,ue,Re,xe=!1)=>{if(!kt)return;const Ne=Do(pn,"artifacts",Jn,"public","data","announcements");await tm(Ne,{title:Z,content:ue,targetPA:Re,isPinned:xe,timestamp:Date.now(),author:$t,authorId:s.uid}),Qe("Announcement Posted","success")},Rn=async Z=>{kt&&(await Iv(ps(pn,"artifacts",Jn,"public","data","settings","config"),Z),Qe("Security Rules Updated","success"))},qt=()=>{const Z=["Bug Number","Project Name","Product Area","Status","Assigned Lead","Priority","Client ETA","Tester ETA","Devices","Project Folder URL","Quote URL"],ue=Xi.map(ge=>[ge.bugNumber,ge.projectName,ge.productArea,ge.status,ge.assignedLead,ge.priority||"P2",ge.clientETA||"",ge.testerETA||"",ge.devices||"",ge.projectFolderUrl||"",ge.quoteUrl||""]),Re=[Z.join(","),...ue.map(ge=>ge.map(tt=>`"${String(tt||"").replace(/"/g,'""')}"`).join(","))].join(`
`),xe=new Blob([Re],{type:"text/csv"}),Ne=window.URL.createObjectURL(xe),Ce=document.createElement("a");Ce.href=Ne,Ce.download=`Polyglot_PM_Export_${new Date().toISOString().split("T")[0]}.csv`,Ce.click(),Qe("Export generated","success")},fn=Z=>{const ue=[];let Re="",xe=!1;for(let Ne=0;Ne<Z.length;Ne++)Z[Ne]==='"'?xe=!xe:Z[Ne]===","&&!xe?(ue.push(Re.trim()),Re=""):Re+=Z[Ne];return ue.push(Re.trim()),ue.map(Ne=>Ne.replace(/^"|"$/g,""))},Tt=async Z=>{const ue=Z.target.files[0];if(!ue||!kt)return;const Re=new FileReader;Re.onload=async xe=>{try{const Ce=xe.target.result.split(/\r?\n/).filter(ii=>ii.trim()),ge=fn(Ce[0]),tt=Do(pn,"artifacts",Jn,"public","data","projects");let Jt=0;for(let ii=1;ii<Ce.length;ii++){const ma=fn(Ce[ii]),ft={};ge.forEach(($i,Nl)=>{ft[$i]=ma[Nl]||""}),ft["Project Name"]&&(await tm(tt,{bugNumber:ft["Bug Number"]||"",projectName:ft["Project Name"],productArea:ft["Product Area"]||"General",status:rl.includes(ft.Status)?ft.Status:"Need Assessment",assignedLead:ft["Assigned Lead"]||"Unassigned",priority:ft.Priority||"P2",clientETA:ft["Client ETA"]||"",testerETA:ft["Tester ETA"]||"",devices:ft.Devices||"",projectFolderUrl:ft["Project Folder URL"]||"",quoteUrl:ft["Quote URL"]||"",createdAt:Date.now(),updatedAt:Date.now(),createdBy:s.uid,lastEditedByName:`Import: ${$t}`,comments:[]}),Jt++)}Qe(`Successfully imported ${Jt} projects.`,"success"),at()}catch{Qe("Error parsing CSV. Check format.","error")}Et.current.value=""},Re.readAsText(ue)};return f||s&&!_?p.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-500 font-medium tracking-tight",children:"Authenticating securely..."}):Im?s&&!ei?p.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans p-6",children:p.jsxs("div",{className:"bg-white p-10 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[p.jsx("div",{className:"w-24 h-24 bg-red-50 text-red-500 rounded-[2rem] flex items-center justify-center mb-8",children:p.jsx(zC,{size:40})}),p.jsx("h1",{className:"text-2xl font-black text-slate-900 mb-3",children:"Access Restricted"}),p.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["Your address (",p.jsx("b",{children:Xe}),") is not on the access control list."]}),p.jsxs("button",{onClick:()=>x_(Uo),className:"w-full bg-slate-900 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-slate-800 transition-all active:scale-95",children:[p.jsx(Pv,{size:18})," Sign Out"]})]})}):s?p.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans overflow-hidden transition-colors duration-300",children:[p.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:Ze.map(Z=>p.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-xl font-black text-sm uppercase tracking-widest animate-in slide-in-from-right-8 fade-in ${Z.type==="error"?"bg-red-600 text-white":"bg-slate-900 text-white dark:bg-white dark:text-slate-900"}`,children:[Z.type==="success"?p.jsx(aE,{size:18}):p.jsx(km,{size:18})," ",Z.message]},Z.id))}),p.jsxs("div",{className:"w-24 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col items-center py-8 z-10 justify-between transition-colors",children:[p.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[p.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-[1.5rem] flex items-center justify-center text-white font-black text-xl shadow-lg shadow-indigo-600/30 cursor-pointer hover:rotate-12 transition-transform",onClick:()=>B("table"),children:"P"}),p.jsxs("nav",{className:"flex flex-col gap-4 w-full px-4",children:[p.jsx(zc,{icon:UC,active:Se==="table",onClick:()=>B("table"),label:"Table"}),p.jsx(zc,{icon:DC,active:Se==="kanban",onClick:()=>B("kanban"),label:"Board"}),p.jsx(zc,{icon:rE,active:Se==="metrics",onClick:()=>B("metrics"),label:"Stats"}),kt&&p.jsx(zc,{icon:uE,active:Se==="admin",onClick:()=>B("admin"),label:"Admin",highlight:!0})]})]}),p.jsxs("div",{className:"flex flex-col items-center gap-6",children:[p.jsx("button",{onClick:()=>w(!re),className:"p-3 text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all",children:re?p.jsx(uk,{size:22}):p.jsx(QC,{size:22})}),p.jsx("button",{onClick:()=>x_(Uo),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-2xl transition-all",children:p.jsx(Pv,{size:22})}),p.jsxs("div",{className:"relative group mt-2",children:[p.jsx("div",{className:"w-12 h-12 rounded-[1.2rem] flex items-center justify-center text-sm font-black text-white bg-indigo-600 shadow-md",children:$t.charAt(0).toUpperCase()}),p.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-slate-900 rounded-full"})]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[p.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 px-10 py-6 flex items-center justify-between z-10 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black tracking-tight",children:Se==="admin"?"System Controls":"Project Directory"}),p.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mt-1",children:["Role: ",kt?"System Admin":_i," ",ti[0]!=="all"&&` Scoped (${ti.length})`]})]}),p.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-2xl border transition-colors ${K?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${K?"bg-green-500 animate-pulse":"bg-slate-300 dark:bg-slate-600"}`}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${K?"text-green-700 dark:text-green-400":"text-slate-500"}`,children:K?`Live Pulse: ${De}s`:"Pulse: Off"})]})]}),p.jsx("div",{className:"flex items-center gap-4",children:Se!=="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative",children:[p.jsx(tk,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Search entries...",className:"pl-12 pr-6 py-3.5 bg-slate-100 dark:bg-slate-800 rounded-2xl text-sm font-medium w-72 outline-none focus:ring-2 ring-indigo-500/30 transition-all placeholder:text-slate-400 dark:text-white",value:ee,onChange:Z=>ne(Z.target.value)})]}),p.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[p.jsx(Oo,{icon:WC,onClick:vi,active:ae,title:"Force Sync Refresh"}),kt&&p.jsx(Oo,{icon:vk,onClick:()=>se(!K),active:K,color:"amber",title:"Toggle 10s Auto-Pulse"}),p.jsx(Oo,{icon:lE,onClick:()=>bt(!0),title:"Global Audit Log"}),p.jsx(Oo,{icon:TC,onClick:qt,title:"Export CSV"}),kt&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"file",accept:".csv",ref:Et,className:"hidden",onChange:Tt}),p.jsx(Oo,{icon:mk,onClick:()=>Et.current.click(),title:"Bulk Import CSV"})]})]}),wn&&p.jsxs("button",{onClick:()=>{R(null),N(null),I(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3.5 rounded-2xl text-sm font-black flex items-center gap-2 shadow-lg shadow-indigo-600/20 transition-all active:scale-95 ml-2",children:[p.jsx(JC,{size:20})," New Record"]})]})})]}),o.length>0&&Se!=="admin"&&p.jsx(Sk,{announcements:o,onOpenHistory:()=>ie(!0)}),Se!=="admin"&&Se!=="metrics"&&p.jsxs("div",{className:"px-10 py-4 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800 flex items-center justify-between z-0",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx(rm,{value:W.status,onChange:Z=>fe({...W,status:Z}),options:rl,label:"All Statuses"}),p.jsx(rm,{value:W.lead,onChange:Z=>fe({...W,lead:Z}),options:Bt,label:"All Leads"}),p.jsx(rm,{value:W.pa,onChange:Z=>fe({...W,pa:Z}),options:ni,label:"All Areas"})]}),he.length>0&&wn&&p.jsxs("div",{className:"bg-indigo-600 text-white px-6 py-2 rounded-xl flex items-center gap-6 animate-in slide-in-from-bottom-2",children:[p.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[he.length," Selected"]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("select",{onChange:Z=>Ar("status",Z.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[p.jsx("option",{value:"",children:"Batch Status..."}),rl.map(Z=>p.jsx("option",{value:Z,className:"text-slate-900",children:Z},Z))]}),p.jsxs("select",{onChange:Z=>Ar("assignedLead",Z.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[p.jsx("option",{value:"",children:"Batch Lead..."}),Bt.map(Z=>p.jsx("option",{value:Z,className:"text-slate-900",children:Z},Z))]}),p.jsx("button",{onClick:()=>Pe([]),className:"p-1 hover:bg-white/20 rounded-lg",children:p.jsx(fr,{size:14})})]})]})]}),p.jsxs("div",{className:"flex-1 overflow-auto p-10 bg-slate-50 dark:bg-slate-950",children:[Se==="table"&&p.jsx(wk,{projects:Xi,selectedIds:he,onSelect:Pe,onOpen:R,onUpdateProject:xr,canEdit:wn,sortConfig:ye,onSort:Ei}),Se==="kanban"&&p.jsx("div",{className:"flex gap-8 pb-10 min-h-full",children:rl.map(Z=>p.jsx(Rk,{status:Z,projects:Xi.filter(ue=>ue.status===Z),onOpen:R},Z))}),Se==="metrics"&&p.jsx(Nk,{projects:i}),Se==="admin"&&kt&&p.jsx(Ck,{settings:T,onUpdateSettings:Rn,productAreas:ni,isSuperAdmin:Yi,onPostAnnouncement:fa,announcements:o,onDeleteAnnouncement:Z=>Dv(ps(pn,"artifacts",Jn,"public","data","announcements",Z)),onTogglePin:(Z,ue)=>Uc(ps(pn,"artifacts",Jn,"public","data","announcements",Z),{isPinned:!ue})})]})]}),F&&p.jsx(kk,{announcements:o,onClose:()=>ie(!1)}),dt&&p.jsx(Ok,{activities:Tr,onClose:()=>bt(!1),onOpen:Z=>{R(i.find(ue=>ue.id===Z)),bt(!1)}}),M&&p.jsx(Ik,{project:j,teamMembers:Bt,uniquePAs:ni,onClose:()=>{I(!1),N(null)},onSave:Rl}),S&&!M&&p.jsx(Dk,{project:S,isAdmin:kt,canEdit:wn,currentUserDisplayName:$t,onClose:()=>R(null),onEdit:()=>{N(S),I(!0)},onClone:()=>{const Z={...S,id:null,bugNumber:"",comments:[],locales:[],createdAt:Date.now()};N(Z),I(!0),R(null)},onUpdate:xr,onDelete:Z=>{Dv(ps(pn,"artifacts",Jn,"public","data","projects",Z)),at(),R(null),Qe("Project Deleted","success")}})]}):p.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans p-6",children:p.jsxs("div",{className:"bg-white p-12 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white font-black shadow-lg shadow-indigo-600/30 mb-8 text-4xl",children:"P"}),p.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-3 tracking-tight",children:"Polyglot PM"}),p.jsx("p",{className:"text-slate-500 mb-10 font-medium",children:"Enterprise Localization Management"}),k&&p.jsxs("div",{className:"mb-6 w-full p-4 bg-red-50 border border-red-200 rounded-2xl text-xs text-red-600 font-bold text-left shadow-sm",children:[p.jsx(km,{size:16,className:"inline mr-2 align-text-bottom"}),k]}),p.jsxs("button",{onClick:wl,className:"flex items-center justify-center gap-4 bg-white border-2 border-slate-200 hover:border-indigo-600 hover:bg-indigo-50 text-slate-800 font-black py-4 px-6 rounded-2xl w-full transition-all active:scale-95 shadow-sm",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/action/google.svg",className:"w-5 h-5",alt:"Google"})," Sign in with Google"]})]})}):p.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center p-6",children:p.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[32px] shadow-2xl border border-slate-200 text-center",children:[p.jsx(sk,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),p.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Database Setup Required"}),p.jsxs("p",{className:"text-slate-500 text-sm mb-6 leading-relaxed",children:["Your application needs Firebase credentials to connect to the database. Please update ",p.jsx("b",{children:"App.jsx"})," line 17."]})]})})}const zc=({icon:s,active:e,onClick:i,label:a,highlight:o})=>p.jsx("button",{onClick:i,className:`p-4 rounded-2xl w-full flex justify-center transition-all duration-200 ${e?o?"bg-amber-500/10 text-amber-500":"bg-indigo-600/10 text-indigo-600 dark:text-indigo-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-600 dark:hover:text-slate-300"}`,title:a,children:p.jsx(s,{size:24,className:e&&o?"drop-shadow-sm":""})}),Oo=({icon:s,onClick:e,active:i,color:a="indigo",title:o})=>{const c=i?a==="amber"?"bg-amber-100 text-amber-600 dark:bg-amber-900/30":"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30":"",f=i&&a==="indigo"?"animate-spin":"";return p.jsx("button",{onClick:e,title:o,className:`p-3 rounded-xl transition-all text-slate-500 hover:text-indigo-600 hover:bg-slate-200 dark:hover:bg-slate-700 ${c}`,children:p.jsx(s,{size:20,className:f})})},rm=({value:s,onChange:e,options:i,label:a})=>p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:s,onChange:o=>e(o.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-slate-100 dark:bg-slate-800 border-none rounded-xl text-xs font-black text-slate-700 dark:text-slate-300 outline-none cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[p.jsx("option",{value:"All",children:a}),i.map(o=>p.jsx("option",{value:o,children:o},o))]}),p.jsx(cC,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),Bc=({sortConfig:s,col:e})=>p.jsx("span",{className:`ml-2 inline-block transition-transform ${s.key===e?"text-indigo-500":"text-slate-300"} ${s.key===e&&s.direction==="desc"?"rotate-180":""}`,children:""}),cE=s=>s?s.split(/(\*\*.*?\*\*|\*.*?\*|\[.*?\]\(.*?\)|\`.*?\`)/g).map((i,a)=>{if(i.startsWith("**")&&i.endsWith("**"))return p.jsx("strong",{className:"font-black text-slate-900 dark:text-white",children:i.slice(2,-2)},a);if(i.startsWith("*")&&i.endsWith("*"))return p.jsx("em",{className:"italic text-slate-800 dark:text-slate-200",children:i.slice(1,-1)},a);if(i.startsWith("`")&&i.endsWith("`"))return p.jsx("code",{className:"bg-slate-200 dark:bg-slate-700 text-pink-600 dark:text-pink-400 px-1.5 py-0.5 rounded-md text-[11px] font-mono",children:i.slice(1,-1)},a);if(i.match(/\[(.*?)\]\((.*?)\)/)){const[,o,c]=i.match(/\[(.*?)\]\((.*?)\)/);return p.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 underline font-bold",children:o},a)}return p.jsx("span",{children:i},a)}):null;function Sk({announcements:s,onOpenHistory:e}){const[i,a]=ve.useState(0),o=ve.useMemo(()=>[...s.filter(f=>f.isPinned),...s.filter(f=>!f.isPinned).slice(0,3)],[s]),c=o[i%o.length];return c?p.jsxs("div",{className:`px-10 py-3 flex items-center justify-between border-b transition-colors ${c.isPinned?"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800/50":"bg-indigo-600 border-indigo-700 text-white"}`,children:[p.jsxs("div",{className:"flex items-center gap-6 overflow-hidden",children:[p.jsxs("div",{className:`flex items-center gap-2 flex-shrink-0 font-black text-[10px] uppercase tracking-widest ${c.isPinned?"text-amber-600 dark:text-amber-400":"text-indigo-200"}`,children:[p.jsx(Sg,{size:16})," ",c.isPinned?"Priority Pin":"Updates"]}),p.jsxs("div",{className:`text-sm font-bold truncate ${c.isPinned?"text-slate-900 dark:text-amber-100":"text-white"}`,children:[p.jsxs("span",{className:"opacity-60 font-black mr-3 px-2 py-0.5 rounded border border-current",children:["QA: ",c.targetPA||"GENERAL"]}),c.title,": ",p.jsx("span",{className:"font-medium opacity-90",children:c.content})]})]}),p.jsxs("div",{className:"flex items-center gap-4 ml-6 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>a(f=>f>0?f-1:o.length-1),className:"p-1 hover:bg-black/10 rounded",children:p.jsx(fC,{size:16})}),p.jsx("button",{onClick:()=>a(f=>f+1),className:"p-1 hover:bg-black/10 rounded",children:p.jsx(gC,{size:16})})]}),p.jsx("button",{onClick:e,className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${c.isPinned?"border-amber-300 text-amber-700 bg-white hover:bg-amber-100 dark:bg-transparent dark:text-amber-400":"border-indigo-400 text-white bg-indigo-500/50 hover:bg-indigo-500"}`,children:"Log"})]})]}):null}function wk({projects:s,selectedIds:e,onSelect:i,onOpen:a,onUpdateProject:o,canEdit:c,sortConfig:f,onSort:g}){return p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] shadow-xl border border-slate-100 dark:border-slate-800 overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 text-slate-400 text-[10px] uppercase font-black tracking-widest",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5 w-10",children:c&&p.jsx("input",{type:"checkbox",className:"rounded bg-slate-200 border-none cursor-pointer",checked:s.length>0&&e.length===s.length,onChange:()=>i(e.length?[]:s.map(_=>_.id))})}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("projectName"),children:["Project Specs ",p.jsx(Bc,{sortConfig:f,col:"projectName"})]}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("status"),children:["Current Phase ",p.jsx(Bc,{sortConfig:f,col:"status"})]}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("assignedLead"),children:["Assigned ",p.jsx(Bc,{sortConfig:f,col:"assignedLead"})]}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("clientETA"),children:["Schedule ",p.jsx(Bc,{sortConfig:f,col:"clientETA"})]}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Deliverables"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800/50",children:[s.map(_=>{const v=ea(_.status),T=e.includes(_.id);return p.jsxs("tr",{className:`group cursor-pointer transition-colors ${T?"bg-indigo-50/50 dark:bg-indigo-900/20":"hover:bg-slate-50/80 dark:hover:bg-slate-700/30"}`,onClick:()=>a(_),children:[p.jsx("td",{className:"px-8 py-6",onClick:A=>{A.stopPropagation(),c&&i(k=>T?k.filter(G=>G!==_.id):[...k,_.id])},children:c&&p.jsx("input",{type:"checkbox",checked:T,readOnly:!0,className:"rounded border-slate-300 text-indigo-600 focus:ring-0 cursor-pointer"})}),p.jsxs("td",{className:"px-8 py-6",children:[p.jsxs("div",{className:"font-mono text-[10px] text-indigo-600 dark:text-indigo-400 font-black mb-1.5 uppercase tracking-widest flex gap-2 items-center",children:[_.bugNumber||"DRAFT",_.priority&&_.priority!=="P2"&&p.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] border ${Rg(_.priority)}`,children:_.priority})]}),p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm mb-2.5 leading-tight",children:_.projectName}),p.jsx("span",{className:`inline-block px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${wg(_.productArea)}`,children:_.productArea||"General"})]}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-xl text-[10px] font-black border ${v.bg} ${v.text} ${v.border}`,children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${v.dot}`}),_.status]})}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:String(_.assignedLead||"U").charAt(0)}),p.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:_.assignedLead})]})}),p.jsx("td",{className:"px-8 py-6 text-[10px] font-bold text-slate-500 dark:text-slate-400",children:p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(bh,{size:12,className:"text-slate-300"})," ",p.jsxs("span",{className:_.clientETA?"text-slate-700 dark:text-slate-200":"",children:["Client: ",_.clientETA||"TBD"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(bh,{size:12,className:"opacity-40"})," ",p.jsxs("span",{className:"opacity-70",children:["Tester: ",_.testerETA||"TBD"]})]})]})}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsxs("div",{className:"flex justify-center gap-3",children:[p.jsx("button",{onClick:A=>{A.stopPropagation(),c&&o(_.id,{quoteReady:!_.quoteReady})},className:`p-2 rounded-xl border transition-all ${_.quoteReady?"text-green-600 bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Ready",children:p.jsx(aE,{size:16})}),p.jsx("button",{onClick:A=>{A.stopPropagation(),c&&o(_.id,{quoteSent:!_.quoteSent})},className:`p-2 rounded-xl border transition-all ${_.quoteSent?"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Sent",children:p.jsx(oE,{size:16})})]})})]},_.id)}),s.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"px-8 py-20 text-center text-slate-400 font-bold text-xs uppercase tracking-widest",children:"No matching records found"})})]})]})})}function Rk({status:s,projects:e,onOpen:i}){const a=ea(s);return p.jsxs("div",{className:"flex-shrink-0 w-80 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[p.jsxs("span",{className:"flex items-center gap-3 font-black text-[11px] uppercase tracking-[0.15em] text-slate-500 dark:text-slate-400",children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${a.dot} shadow-sm`}),s]}),p.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2.5 py-1 rounded-lg text-[9px] font-black",children:e.length})]}),p.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-y-auto pb-4",children:[e.map(o=>p.jsxs("div",{onClick:()=>i(o),className:"group bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-sm border border-slate-100 dark:border-slate-700 cursor-pointer hover:border-indigo-400 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[p.jsx("div",{className:"flex justify-between items-start mb-3",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("div",{className:"text-[9px] font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 rounded-md uppercase tracking-wider",children:o.bugNumber||"Draft"}),o.priority&&o.priority!=="P2"&&p.jsx("div",{className:`text-[9px] font-black px-2 py-1 rounded-md border ${Rg(o.priority)}`,children:o.priority})]})}),p.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 mb-5 leading-snug",children:o.projectName}),p.jsxs("div",{className:"flex justify-between items-end border-t border-slate-50 dark:border-slate-700/50 pt-4 mt-auto",children:[p.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${wg(o.productArea)}`,children:o.productArea||"General"}),p.jsx("div",{className:"w-7 h-7 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:String(o.assignedLead||"U").charAt(0)})]})]},o.id)),e.length===0&&p.jsx("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] h-32 flex items-center justify-center text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Empty"})]})]})}function Nk({projects:s}){const e=i=>s.length?Math.round(i/s.length*100):0;return p.jsx("div",{className:"max-w-5xl mx-auto space-y-10 animate-in fade-in zoom-in-95 duration-500",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-12 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl shadow-slate-200/20 dark:shadow-none",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-10 flex items-center gap-3",children:[p.jsx(rE,{size:20})," Phase Distribution Overview"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-10",children:rl.map(i=>{const a=s.filter(o=>o.status===i).length;return a?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-end text-xs font-black uppercase tracking-tight",children:[p.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:i}),p.jsxs("span",{className:"text-slate-400 text-[10px]",children:[a," Records (",e(a),"%)"]})]}),p.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-900 rounded-full overflow-hidden shadow-inner p-0.5",children:p.jsx("div",{className:`h-full rounded-full ${ea(i).dot} transition-all duration-1000 shadow-sm`,style:{width:`${e(a)}%`}})})]},i):null})})]})})}function Ck({settings:s,onUpdateSettings:e,productAreas:i,isSuperAdmin:a,onPostAnnouncement:o,announcements:c,onDeleteAnnouncement:f,onTogglePin:g}){const[_,v]=ve.useState({id:null,name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}),[T,A]=ve.useState({email:"",role:"viewer",scope:"all",scopedPAs:[]}),[k,G]=ve.useState({admin:"",domain:"",annTitle:"",annContent:"",annTarget:"general"}),ee=(B,re)=>{if(!re.trim())return;const w=re.toLowerCase().trim().replace("@","");e({...s,[B]:[...new Set([...s[B]||[],w])]}),G(S=>({...S,[B==="adminEmails"?"admin":"domain"]:""}))},ne=(B,re)=>{e({...s,[B]:(s[B]||[]).filter(w=>w!==re)})},W=()=>{if(!_.name.trim())return;let B;_.id?B=(s.userGroups||[]).map(re=>re.id===_.id?_:re):B=[...s.userGroups||[],{..._,id:Date.now()}],e({...s,userGroups:B}),v({id:null,name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]})},fe=B=>{v(B),window.scrollTo({top:0,behavior:"smooth"})},ye=(B,re)=>{const w=re.split(/[,;\s]+/).map(R=>R.toLowerCase().trim()).filter(Boolean);if(w.length===0)return;const S=(s.userGroups||[]).map(R=>R.id===B?{...R,members:[...new Set([...R.members||[],...w])]}:R);e({...s,userGroups:S})},Te=()=>{if(!T.email.trim())return;const B=T.email.toLowerCase().trim(),re=[...(s.users||[]).filter(S=>S.email!==B),{...T,email:B}],w=(s.allowedUsers||[]).filter(S=>S!==B);e({...s,users:re,allowedUsers:w}),A({email:"",role:"viewer",scope:"all",scopedPAs:[]})},Se=B=>{e({...s,users:(s.users||[]).filter(re=>re.email!==B)})};return p.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(Sg,{className:"text-indigo-500"})," Broadcast Engine"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[p.jsx("input",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:k.annTitle,onChange:B=>G({...k,annTitle:B.target.value}),placeholder:"Headline Subject..."}),p.jsxs("select",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold uppercase tracking-wider outline-none dark:text-white",value:k.annTarget,onChange:B=>G({...k,annTarget:B.target.value}),children:[p.jsx("option",{value:"general",children:"Target: Global Access"}),i.map(B=>p.jsxs("option",{value:B,children:["Target PA: ",B]},B))]})]}),p.jsx("textarea",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-medium mb-6 min-h-[120px] outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:k.annContent,onChange:B=>G({...k,annContent:B.target.value}),placeholder:"Message content..."}),p.jsx("button",{onClick:()=>{o(k.annTitle,k.annContent,k.annTarget),G({...k,annTitle:"",annContent:""})},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-black text-xs transition-colors shadow-lg shadow-indigo-500/20",children:"Publish Broadcast"}),p.jsxs("div",{className:"mt-12 space-y-3 border-t border-slate-100 dark:border-slate-700 pt-8",children:[p.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Active & Historical Broadcasts"}),c.map(B=>p.jsxs("div",{className:`flex items-center justify-between p-5 rounded-2xl border transition-colors ${B.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800"}`,children:[p.jsxs("div",{className:"flex gap-5 items-center overflow-hidden",children:[p.jsx("button",{onClick:()=>g(B.id,B.isPinned),className:`p-2 rounded-xl border transition-all ${B.isPinned?"text-amber-600 bg-amber-100 border-amber-300":"text-slate-400 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:p.jsx(XC,{size:16})}),p.jsxs("div",{className:"truncate",children:[p.jsx("div",{className:"text-[9px] font-black uppercase text-indigo-500 tracking-widest mb-1",children:B.targetPA||"GENERAL"}),p.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 truncate",children:B.title})]})]}),p.jsx("button",{onClick:()=>f(B.id),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(Lc,{size:18})})]},B.id))]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(uE,{className:"text-amber-500"})," Core Security Keys"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"System Admins"}),p.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:k.admin,onChange:B=>G({...k,admin:B.target.value}),onKeyDown:B=>B.key==="Enter"&&ee("adminEmails",k.admin),placeholder:"Add admin email..."}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Dm.map(B=>p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-100 dark:border-amber-800/50 text-[10px] font-black text-amber-700 dark:text-amber-500 uppercase tracking-widest",children:[p.jsx(MC,{size:12})," ",B]},B))}),s.adminEmails&&s.adminEmails.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.adminEmails.map(B=>p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800 text-[10px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:[B," ",p.jsx("button",{onClick:()=>ne("adminEmails",B),className:"ml-2 text-slate-300 hover:text-red-500",children:p.jsx(fr,{size:14})})]},B))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"Whitelist Domains"}),p.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:k.domain,onChange:B=>G({...k,domain:B.target.value}),onKeyDown:B=>B.key==="Enter"&&ee("allowedDomains",k.domain),placeholder:"e.g. company.com..."}),s.allowedDomains&&s.allowedDomains.length>0?p.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:s.allowedDomains.map(B=>p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800 text-[10px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:[p.jsx(CC,{size:12,className:"text-blue-500"})," ",B," ",p.jsx("button",{onClick:()=>ne("allowedDomains",B),className:"ml-2 text-slate-300 hover:text-red-500",children:p.jsx(fr,{size:14})})]},B))}):p.jsx("span",{className:"text-[10px] font-bold text-slate-400 italic block mt-4",children:"No domains whitelisted."})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl transition-all",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(pk,{className:"text-emerald-500"})," Individual User Access"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 items-end",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"User Email"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:T.email,onChange:B=>A({...T,email:B.target.value}),placeholder:"user@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Permissions"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:T.role,onChange:B=>A({...T,role:B.target.value}),children:[p.jsx("option",{value:"viewer",children:"Read Only Viewer"}),p.jsx("option",{value:"editor",children:"Full Editor"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Scope Horizon"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:T.scope,onChange:B=>A({...T,scope:B.target.value}),children:[p.jsx("option",{value:"all",children:"Global Access"}),p.jsx("option",{value:"scoped",children:"Restricted Silos"})]})]}),p.jsx("button",{onClick:Te,disabled:!T.email,className:"bg-indigo-600 text-white h-[52px] rounded-2xl font-black text-xs shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50",children:"Grant Access"})]}),T.scope==="scoped"&&p.jsx("div",{className:"mt-8 p-8 bg-slate-50 dark:bg-slate-900/50 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex flex-wrap gap-3",children:i.map(B=>{const re=T.scopedPAs.includes(B);return p.jsx("button",{onClick:()=>A({...T,scopedPAs:re?T.scopedPAs.filter(w=>w!==B):[...T.scopedPAs,B]}),className:`px-5 py-2.5 rounded-xl text-[10px] font-black border uppercase tracking-widest transition-all ${re?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-indigo-400"}`,children:B},B)})}),p.jsxs("div",{className:"mt-10 pt-8 border-t border-slate-100 dark:border-slate-700",children:[p.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:["Provisioned Users (",(s.users?.length||0)+(s.allowedUsers?.length||0),")"]}),p.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[(s.allowedUsers||[]).map(B=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-800 flex items-center justify-center font-black text-slate-500",children:B.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:B}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-100 dark:border-indigo-800",children:"Editor (Legacy)"}),p.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded border border-slate-200 dark:border-slate-700",children:"Global"})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>{A({email:B,role:"editor",scope:"all",scopedPAs:[]}),window.scrollTo({top:0,behavior:"smooth"})},className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors",title:"Upgrade Record",children:p.jsx(Zc,{size:16})}),p.jsx("button",{onClick:()=>ne("allowedUsers",B),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(Lc,{size:16})})]})]},B)),(s.users||[]).map(B=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-800 flex items-center justify-center font-black text-slate-500",children:B.email.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:B.email}),p.jsxs("div",{className:"flex gap-2 mt-1 items-center",children:[p.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded border ${B.role==="editor"?"text-indigo-600 bg-indigo-50 border-indigo-100 dark:bg-indigo-900/30 dark:border-indigo-800":"text-slate-600 bg-slate-200 border-slate-300 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:B.role}),p.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-white dark:bg-slate-900 px-2 py-0.5 rounded border border-slate-200 dark:border-slate-700",children:B.scope==="all"?"Global Scope":`Scoped: ${B.scopedPAs?.length||0} Areas`})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>{A(B),window.scrollTo({top:0,behavior:"smooth"})},className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors",title:"Edit Permissions",children:p.jsx(Zc,{size:16})}),p.jsx("button",{onClick:()=>Se(B.email),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(Lc,{size:16})})]})]},B.email)),(!s.users||s.users.length===0)&&(!s.allowedUsers||s.allowedUsers.length===0)&&p.jsx("div",{className:"text-center py-10 text-xs font-bold text-slate-400 italic",children:"No individual users provisioned yet."})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl transition-all",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(jC,{className:"text-indigo-500"})," ",_.id?"Edit Group Matrix":"Define Group Matrix"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 items-end",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Matrix Name"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.name,onChange:B=>v({..._,name:B.target.value}),placeholder:"e.g. Vendors"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Permissions"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.role,onChange:B=>v({..._,role:B.target.value}),children:[p.jsx("option",{value:"viewer",children:"Read Only Viewer"}),p.jsx("option",{value:"editor",children:"Full Editor"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Scope Horizon"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.scope,onChange:B=>v({..._,scope:B.target.value}),children:[p.jsx("option",{value:"all",children:"Global Access"}),p.jsx("option",{value:"scoped",children:"Restricted Silos"})]})]}),p.jsxs("div",{className:"flex gap-2",children:[_.id&&p.jsx("button",{onClick:()=>v({id:null,name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}),className:"flex-1 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 h-[52px] rounded-2xl font-black text-xs hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:"Cancel"}),p.jsx("button",{onClick:W,className:`flex-1 text-white h-[52px] rounded-2xl font-black text-xs shadow-lg transition-all active:scale-95 ${_.id?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/20":"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-500/20"}`,children:_.id?"Save Matrix":"Construct"})]})]}),_.scope==="scoped"&&p.jsx("div",{className:"mt-8 p-8 bg-slate-50 dark:bg-slate-900/50 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex flex-wrap gap-3",children:i.map(B=>{const re=_.scopedPAs.includes(B);return p.jsx("button",{onClick:()=>v({..._,scopedPAs:re?_.scopedPAs.filter(w=>w!==B):[..._.scopedPAs,B]}),className:`px-5 py-2.5 rounded-xl text-[10px] font-black border uppercase tracking-widest transition-all ${re?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-indigo-400"}`,children:B},B)})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(s.userGroups||[]).map(B=>p.jsxs("div",{className:`bg-white dark:bg-slate-800 p-8 rounded-[40px] border shadow-sm flex flex-col transition-all ${_.id===B.id?"border-indigo-400 dark:border-indigo-500 ring-4 ring-indigo-500/10":"border-slate-100 dark:border-slate-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3",children:B.name}),p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800",children:B.role}),p.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-slate-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700",children:B.scope==="all"?"Global Scope":`Scoped: ${B.scopedPAs?.length||0}`})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>fe(B),className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors",title:"Edit Group",children:p.jsx(Zc,{size:18})}),p.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.filter(re=>re.id!==B.id)}),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-colors",title:"Delete Group",children:p.jsx(Lc,{size:18})})]})]}),B.scope==="scoped"&&B.scopedPAs&&B.scopedPAs.length>0&&p.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-100 dark:border-slate-700",children:[p.jsx("span",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Authorized Areas"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:B.scopedPAs.map(re=>p.jsx("span",{className:"px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-md text-[9px] font-bold text-slate-600 dark:text-slate-300",children:re},re))})]}),p.jsxs("div",{className:"mt-auto",children:[p.jsxs("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:["Group Roster (",B.members?.length||0,")"]}),p.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-4 focus:ring-2 ring-indigo-500/20 dark:text-white",placeholder:"Add emails (comma separated) and press Enter...",onKeyDown:re=>{re.key==="Enter"&&re.target.value&&(ye(B.id,re.target.value),re.target.value="")}}),p.jsxs("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto pr-2",children:[(B.members||[]).map(re=>p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-900/80 rounded-lg text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[re,p.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.map(w=>w.id===B.id?{...w,members:(w.members||[]).filter(S=>S!==re)}:w)}),className:"hover:text-red-500",children:p.jsx(fr,{size:12})})]},re)),(!B.members||B.members.length===0)&&p.jsx("span",{className:"text-xs text-slate-400 font-medium italic",children:"No identities mapped."})]})]})]},B.id))})]})}function kk({announcements:s,onClose:e}){return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[p.jsxs("h2",{className:"text-2xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[p.jsx(Sg,{size:24,className:"text-indigo-600"})," Comm Log"]}),p.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(fr,{size:20})})]}),p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[s.map(i=>p.jsxs("div",{className:`p-8 rounded-[32px] border transition-all ${i.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800/50 shadow-lg shadow-amber-500/5":"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-800"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${i.isPinned?"bg-amber-100 border-amber-300 text-amber-700":"bg-white dark:bg-slate-900 text-indigo-600 border-indigo-100 dark:border-slate-700"}`,children:i.targetPA||"GENERAL"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:new Date(i.timestamp).toLocaleDateString()})]}),p.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-3 leading-snug",children:i.title}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed font-medium",children:i.content}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-black/5 dark:border-white/5 flex items-center gap-2 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[p.jsx("div",{className:"w-5 h-5 rounded-md bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(i.author||"U").charAt(0)})," ",i.author||"User"]})]},i.id)),s.length===0&&p.jsx("div",{className:"text-center py-20 text-slate-400 font-black uppercase tracking-widest text-xs",children:"No records exist"})]})]})})}function Ik({project:s,onClose:e,onSave:i,teamMembers:a,uniquePAs:o}){const[c,f]=ve.useState(s||{bugNumber:"",projectName:"",productArea:"",assignedLead:"Unassigned",status:"Need Assessment",priority:"P2",clientETA:"",testerETA:"",projectFolderUrl:"",quoteUrl:"",devices:""});return ve.useEffect(()=>{s&&f(s)},[s]),p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[550px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[p.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:s?.id?"Update Full Details":"New Project Entry"}),p.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(fr,{size:20})})]}),p.jsxs("div",{className:"flex-1 p-10 space-y-8 overflow-y-auto",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Bug ID"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.bugNumber,onChange:g=>f({...c,bugNumber:g.target.value}),placeholder:"b/..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Product Area"}),p.jsx("input",{list:"pa-list",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.productArea,onChange:g=>f({...c,productArea:g.target.value}),placeholder:"e.g. Search"}),p.jsx("datalist",{id:"pa-list",children:o.map(g=>p.jsx("option",{value:g},g))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Descriptor"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.projectName,onChange:g=>f({...c,projectName:g.target.value}),placeholder:"Required..."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Assignment"}),p.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:c.assignedLead,onChange:g=>f({...c,assignedLead:g.target.value}),children:a.map(g=>p.jsx("option",{value:g,children:g},g))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Phase"}),p.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:c.status,onChange:g=>f({...c,status:g.target.value}),children:rl.map(g=>p.jsx("option",{value:g,children:g},g))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Priority Level"}),p.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:c.priority||"P2",onChange:g=>f({...c,priority:g.target.value}),children:Tk.map(g=>p.jsx("option",{value:g,children:g},g))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Platform / Devices"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:c.devices||"",onChange:g=>f({...c,devices:g.target.value}),placeholder:"e.g. Android/iOS"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Client Target"}),p.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:c.clientETA||"",onChange:g=>f({...c,clientETA:g.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Tester Target"}),p.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:c.testerETA||"",onChange:g=>f({...c,testerETA:g.target.value})})]})]}),p.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Folder URL"}),p.jsx("input",{type:"url",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white placeholder:font-normal",value:c.projectFolderUrl||"",onChange:g=>f({...c,projectFolderUrl:g.target.value}),placeholder:"https://drive.google.com/..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Quote Reference URL"}),p.jsx("input",{type:"url",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white placeholder:font-normal",value:c.quoteUrl||"",onChange:g=>f({...c,quoteUrl:g.target.value}),placeholder:"https://docs.google.com/..."})]})]})]}),p.jsxs("div",{className:"p-8 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 flex justify-end gap-4",children:[p.jsx("button",{onClick:e,className:"px-6 py-4 text-slate-500 font-black text-xs hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>i(c),disabled:!c.projectName,className:"bg-indigo-600 text-white px-10 py-4 rounded-2xl font-black text-xs shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save to Database"})]})]})})}function Dk({project:s,onClose:e,onEdit:i,onClone:a,onUpdate:o,isAdmin:c,canEdit:f,currentUserDisplayName:g}){const[_,v]=ve.useState("");return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[650px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 relative",children:[p.jsx("button",{onClick:e,className:"absolute top-8 right-8 p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(fr,{size:20})}),p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-lg border border-indigo-100 dark:border-indigo-800/50",children:s.bugNumber||"DRAFT"}),s.priority&&p.jsx("div",{className:`text-[10px] font-black px-3 py-1 rounded-lg border uppercase tracking-widest ${Rg(s.priority)}`,children:s.priority})]}),p.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 leading-tight pr-12",children:s.projectName}),p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black border uppercase tracking-widest ${wg(s.productArea)}`,children:s.productArea||"General"}),p.jsxs("span",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[p.jsx("div",{className:"w-6 h-6 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(s.assignedLead||"U").charAt(0)}),s.assignedLead]})]}),p.jsxs("div",{className:"flex gap-3 items-center",children:[f&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:i,className:"px-5 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-xs font-black text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-all shadow-sm",children:[p.jsx(Zc,{size:16})," Edit"]}),p.jsxs("button",{onClick:a,className:"px-5 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-xs font-black text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-all shadow-sm",title:"Duplicate Project",children:[p.jsx(bC,{size:16})," Clone"]})]}),p.jsxs("span",{className:`px-6 py-3 rounded-2xl text-xs font-black border flex items-center gap-2 ${ea(s.status).bg} ${ea(s.status).text} ${ea(s.status).border}`,children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${ea(s.status).dot}`}),s.status]}),c&&p.jsx("button",{onClick:()=>onDelete(s.id),className:"ml-auto p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(hk,{size:20})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-12",children:[p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-[2rem] border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"col-span-2 md:col-span-1",children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Schedule"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"text-xs font-bold dark:text-white flex items-center gap-2",title:"Client ETA",children:[p.jsx(bh,{size:14,className:"text-indigo-500"})," ",s.clientETA||"TBD"]}),p.jsxs("div",{className:"text-xs font-bold dark:text-slate-300 opacity-80 flex items-center gap-2",title:"Tester ETA",children:[p.jsx(bh,{size:14,className:"text-slate-400"})," ",s.testerETA||"TBD"]})]})]}),p.jsxs("div",{className:"col-span-2 md:col-span-1",children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Platform"}),p.jsxs("div",{className:"text-xs font-bold dark:text-white flex items-center gap-2 mt-2",children:[p.jsx(lk,{size:16,className:"text-slate-400"})," ",s.devices||"N/A"]})]}),p.jsxs("div",{className:"col-span-2 md:col-span-1",children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Quote Status"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{disabled:!f,onClick:()=>o(s.id,{quoteReady:!s.quoteReady}),className:`flex-1 py-1.5 rounded border text-[9px] font-black transition-colors ${s.quoteReady?"bg-green-100 border-green-300 text-green-800 dark:bg-green-900/30 dark:border-green-800 dark:text-green-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-400"}`,children:"READY"}),p.jsx("button",{disabled:!f,onClick:()=>o(s.id,{quoteSent:!s.quoteSent}),className:`flex-1 py-1.5 rounded border text-[9px] font-black transition-colors ${s.quoteSent?"bg-blue-100 border-blue-300 text-blue-800 dark:bg-blue-900/30 dark:border-blue-800 dark:text-blue-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-400"}`,children:"SENT"})]})]}),p.jsxs("div",{className:"col-span-2 md:col-span-1 flex flex-col gap-3 justify-center border-t md:border-t-0 md:border-l border-slate-200 dark:border-slate-700 pt-4 md:pt-0 md:pl-4",children:[s.projectFolderUrl?p.jsxs("a",{href:s.projectFolderUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-[10px] font-black text-indigo-600 dark:text-indigo-400 hover:underline",children:[p.jsx(jv,{size:14})," Access Folder ",p.jsx(Mv,{size:12})]}):p.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[p.jsx(jv,{size:14})," No Folder Linked"]}),s.quoteUrl?p.jsxs("a",{href:s.quoteUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-[10px] font-black text-indigo-600 dark:text-indigo-400 hover:underline",children:[p.jsx(Vv,{size:14})," Quote Doc ",p.jsx(Mv,{size:12})]}):p.jsxs("span",{className:"flex items-center gap-2 text-[10px] font-bold text-slate-400",children:[p.jsx(Vv,{size:14})," No Quote Linked"]})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[p.jsx(AC,{size:16,className:"text-indigo-600"})," Dense Locale Matrix"]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:Ek.map(T=>{const A=(s.locales||[]).find(ne=>ne.name===T),k={Passed:"bg-green-500 ring-green-500/20 text-green-800 border-green-200 dark:border-green-800 dark:bg-green-900/30 dark:text-green-400",Failed:"bg-red-500 ring-red-500/20 text-red-800 border-red-200 dark:border-red-800 dark:bg-red-900/30 dark:text-red-400",Pending:"bg-slate-300 ring-transparent text-slate-500 border-slate-200 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-400"},G=k[A?.status]||k.Pending,ee=A?.status==="Passed"?"bg-green-500":A?.status==="Failed"?"bg-red-500":"bg-slate-300 dark:bg-slate-600";return p.jsxs("button",{disabled:!f,onClick:()=>{const ne=A?.status==="Passed"?"Failed":A?.status==="Failed"?"Pending":"Passed",W=A?(s.locales||[]).map(fe=>fe.name===T?{...fe,status:ne}:fe):[...s.locales||[],{name:T,status:"Passed"}];o(s.id,{locales:W})},className:`flex items-center gap-2 px-3 py-1.5 rounded-lg border text-[10px] font-black transition-all hover:-translate-y-0.5 hover:shadow-sm ${G}`,children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${ee} ring-2 ring-offset-1 ring-offset-transparent ${G.split(" ")[1]}`}),T]},T)})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[p.jsx(GC,{size:16,className:"text-indigo-600"})," Audit Log & Rich Text Comments"]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("input",{className:"flex-1 p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-medium outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:_,onChange:T=>v(T.target.value),placeholder:"Type update (supports **bold**, *italic*, [links](url))...",onKeyDown:T=>{T.key==="Enter"&&_&&(o(s.id,{comments:[...s.comments||[],{id:Date.now(),author:g,text:_,timestamp:Date.now()}]}),v(""))}}),p.jsx("button",{onClick:()=>{_&&(o(s.id,{comments:[...s.comments||[],{id:Date.now(),author:g,text:_,timestamp:Date.now()}]}),v(""))},className:"bg-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all",children:p.jsx(oE,{size:20})})]}),p.jsxs("div",{className:"space-y-4",children:[(Array.isArray(s.comments)?s.comments:[]).slice().reverse().map(T=>p.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex justify-between text-[10px] font-black text-slate-400 mb-3 uppercase tracking-widest flex items-center gap-2",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-5 h-5 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(T.author||"U").charAt(0)}),T.author]}),p.jsx("span",{children:new Date(T.timestamp).toLocaleString()})]}),p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium leading-relaxed whitespace-pre-wrap",children:cE(T.text)})]},T.id)),(!s.comments||s.comments.length===0)&&p.jsx("div",{className:"text-center py-10 text-xs font-bold text-slate-400 italic",children:"No updates logged."})]})]})]})]})})}function Ok({activities:s,onClose:e,onOpen:i}){return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[450px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[p.jsxs("h2",{className:"text-xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[p.jsx(lE,{size:22,className:"text-indigo-600"})," Global Audit Trail"]}),p.jsx("button",{onClick:e,className:"p-3 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:p.jsx(fr,{size:20})})]}),p.jsxs("div",{className:"flex-1 p-8 overflow-y-auto space-y-8 relative",children:[p.jsx("div",{className:"absolute left-[39px] top-8 bottom-8 w-px bg-slate-200 dark:bg-slate-800"}),s.map(a=>p.jsxs("div",{className:"relative pl-12 cursor-pointer group",onClick:()=>i(a.projectId),children:[p.jsx("div",{className:"absolute left-[3px] top-1.5 w-3 h-3 rounded-full bg-indigo-500 ring-4 ring-white dark:ring-slate-900 transition-transform group-hover:scale-150"}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-3xl border border-slate-100 dark:border-slate-800 group-hover:border-indigo-300 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest",children:a.projectName}),p.jsx("div",{className:"text-[9px] font-bold text-slate-400",children:new Date(a.timestamp).toLocaleDateString()})]}),p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3 font-medium line-clamp-3",children:cE(a.text)}),p.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:String(a.author||"U").charAt(0)})," Logged by ",a.author]})]})]},a.id)),s.length===0&&p.jsx("div",{className:"text-center text-slate-400 font-black py-20 uppercase tracking-widest text-[10px]",children:"Trail is currently empty"})]})]})})}class Mk extends FT.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error(" REACT FATAL CRASH:",e,i),this.setState({errorInfo:i})}render(){return this.state.hasError?p.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-slate-950 text-slate-200 font-sans p-6",children:p.jsxs("div",{className:"bg-slate-900 border border-red-500/30 p-8 rounded-[32px] shadow-2xl max-w-2xl w-full",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("div",{className:"w-14 h-14 bg-red-500/20 text-red-500 flex items-center justify-center rounded-2xl shrink-0",children:p.jsx(km,{size:28})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-black text-white",children:"Oops. The Matrix Broke."}),p.jsx("p",{className:"text-red-400 text-sm",children:"A fatal render error occurred. Take a screenshot of the technical jargon below so we can fix it."})]})]}),p.jsxs("div",{className:"bg-black/50 p-5 rounded-2xl border border-red-500/20 font-mono text-xs overflow-auto max-h-64 mb-6",children:[p.jsx("div",{className:"text-red-400 font-bold mb-3 text-sm",children:this.state.error&&this.state.error.toString()}),p.jsx("div",{className:"text-slate-500 leading-relaxed whitespace-pre-wrap",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 hover:bg-red-700 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-red-600/20",children:"Reboot System"})]})}):this.props.children}}function Vk(){return p.jsx(Mk,{children:p.jsx(Ak,{})})}ZT.createRoot(document.getElementById("root")).render(p.jsx(ve.StrictMode,{children:p.jsx(Vk,{})}));
