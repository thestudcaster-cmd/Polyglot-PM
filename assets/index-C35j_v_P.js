(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function zT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pf={exports:{}},No={};var Yy;function BT(){if(Yy)return No;Yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:c}}return No.Fragment=e,No.jsx=i,No.jsxs=i,No}var Xy;function qT(){return Xy||(Xy=1,Pf.exports=BT()),Pf.exports}var p=qT(),Uf={exports:{}},Ne={};var $y;function HT(){if($y)return Ne;$y=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),k=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=k&&O[k]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,W={};function me(O,Y,ie){this.props=O,this.context=Y,this.refs=W,this.updater=ie||ee}me.prototype.isReactComponent={},me.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},me.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function pe(){}pe.prototype=me.prototype;function Te(O,Y,ie){this.props=O,this.context=Y,this.refs=W,this.updater=ie||ee}var Ae=Te.prototype=new pe;Ae.constructor=Te,re(Ae,me.prototype),Ae.isPureReactComponent=!0;var B=Array.isArray;function ae(){}var w={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,Y,ie){var le=ie.ref;return{$$typeof:s,type:O,key:Y,ref:le!==void 0?le:null,props:ie}}function M(O,Y){return R(O.type,Y,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function j(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var N=/\/+/g;function ht(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?j(""+O.key):Y.toString(36)}function vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ae,ae):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,ie,le,ve){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case s:case e:ke=!0;break;case T:return ke=O._init,F(ke(O._payload),Y,ie,le,ve)}}if(ke)return ve=ve(O),ke=le===""?"."+ht(O,0):le,B(ve)?(ie="",ke!=null&&(ie=ke.replace(N,"$&/")+"/"),F(ve,Y,ie,"",function(Ki){return Ki})):ve!=null&&(I(ve)&&(ve=M(ve,ie+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+ke)),Y.push(ve)),1;ke=0;var st=le===""?".":le+":";if(B(O))for(var ut=0;ut<O.length;ut++)le=O[ut],Se=st+ht(le,ut),ke+=F(le,Y,ie,Se,ve);else if(ut=G(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(le=O.next()).done;)le=le.value,Se=st+ht(le,ut++),ke+=F(le,Y,ie,Se,ve);else if(Se==="object"){if(typeof O.then=="function")return F(vt(O),Y,ie,le,ve);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ne(O,Y,ie){if(O==null)return O;var le=[],ve=0;return F(O,le,"","",function(Se){return Y.call(ie,Se,ve++)}),le}function de(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Be=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ue={map:ne,forEach:function(O,Y,ie){ne(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ne(O,function(){Y++}),Y},toArray:function(O){return ne(O,function(Y){return Y})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ne.Activity=S,Ne.Children=Ue,Ne.Component=me,Ne.Fragment=i,Ne.Profiler=o,Ne.PureComponent=Te,Ne.StrictMode=a,Ne.Suspense=_,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},Ne.cache=function(O){return function(){return O.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=re({},O.props),ve=O.key;if(Y!=null)for(Se in Y.key!==void 0&&(ve=""+Y.key),Y)!A.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(le[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)le.children=ie;else if(1<Se){for(var ke=Array(Se),st=0;st<Se;st++)ke[st]=arguments[st+2];le.children=ke}return R(O.type,ve,le)},Ne.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ne.createElement=function(O,Y,ie){var le,ve={},Se=null;if(Y!=null)for(le in Y.key!==void 0&&(Se=""+Y.key),Y)A.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ve[le]=Y[le]);var ke=arguments.length-2;if(ke===1)ve.children=ie;else if(1<ke){for(var st=Array(ke),ut=0;ut<ke;ut++)st[ut]=arguments[ut+2];ve.children=st}if(O&&O.defaultProps)for(le in ke=O.defaultProps,ke)ve[le]===void 0&&(ve[le]=ke[le]);return R(O,Se,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(O){return{$$typeof:g,render:O}},Ne.isValidElement=I,Ne.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:de}},Ne.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},Ne.startTransition=function(O){var Y=w.T,ie={};w.T=ie;try{var le=O(),ve=w.S;ve!==null&&ve(ie,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ae,Be)}catch(Se){Be(Se)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),w.T=Y}},Ne.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Ne.use=function(O){return w.H.use(O)},Ne.useActionState=function(O,Y,ie){return w.H.useActionState(O,Y,ie)},Ne.useCallback=function(O,Y){return w.H.useCallback(O,Y)},Ne.useContext=function(O){return w.H.useContext(O)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(O,Y){return w.H.useDeferredValue(O,Y)},Ne.useEffect=function(O,Y){return w.H.useEffect(O,Y)},Ne.useEffectEvent=function(O){return w.H.useEffectEvent(O)},Ne.useId=function(){return w.H.useId()},Ne.useImperativeHandle=function(O,Y,ie){return w.H.useImperativeHandle(O,Y,ie)},Ne.useInsertionEffect=function(O,Y){return w.H.useInsertionEffect(O,Y)},Ne.useLayoutEffect=function(O,Y){return w.H.useLayoutEffect(O,Y)},Ne.useMemo=function(O,Y){return w.H.useMemo(O,Y)},Ne.useOptimistic=function(O,Y){return w.H.useOptimistic(O,Y)},Ne.useReducer=function(O,Y,ie){return w.H.useReducer(O,Y,ie)},Ne.useRef=function(O){return w.H.useRef(O)},Ne.useState=function(O){return w.H.useState(O)},Ne.useSyncExternalStore=function(O,Y,ie){return w.H.useSyncExternalStore(O,Y,ie)},Ne.useTransition=function(){return w.H.useTransition()},Ne.version="19.2.4",Ne}var Jy;function Om(){return Jy||(Jy=1,Uf.exports=HT()),Uf.exports}var Ee=Om();const GT=zT(Ee);var Lf={exports:{}},Co={},zf={exports:{}},Bf={};var Zy;function FT(){return Zy||(Zy=1,(function(s){function e(F,ne){var de=F.length;F.push(ne);e:for(;0<de;){var Be=de-1>>>1,Ue=F[Be];if(0<o(Ue,ne))F[Be]=ne,F[de]=Ue,de=Be;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ne=F[0],de=F.pop();if(de!==ne){F[0]=de;e:for(var Be=0,Ue=F.length,O=Ue>>>1;Be<O;){var Y=2*(Be+1)-1,ie=F[Y],le=Y+1,ve=F[le];if(0>o(ie,de))le<Ue&&0>o(ve,ie)?(F[Be]=ve,F[le]=de,Be=le):(F[Be]=ie,F[Y]=de,Be=Y);else if(le<Ue&&0>o(ve,de))F[Be]=ve,F[le]=de,Be=le;else break e}}return ne}function o(F,ne){var de=F.sortIndex-ne.sortIndex;return de!==0?de:F.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var _=[],v=[],T=1,S=null,k=3,G=!1,ee=!1,re=!1,W=!1,me=typeof setTimeout=="function"?setTimeout:null,pe=typeof clearTimeout=="function"?clearTimeout:null,Te=typeof setImmediate<"u"?setImmediate:null;function Ae(F){for(var ne=i(v);ne!==null;){if(ne.callback===null)a(v);else if(ne.startTime<=F)a(v),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(v)}}function B(F){if(re=!1,Ae(F),!ee)if(i(_)!==null)ee=!0,ae||(ae=!0,j());else{var ne=i(v);ne!==null&&vt(B,ne.startTime-F)}}var ae=!1,w=-1,A=5,R=-1;function M(){return W?!0:!(s.unstable_now()-R<A)}function I(){if(W=!1,ae){var F=s.unstable_now();R=F;var ne=!0;try{e:{ee=!1,re&&(re=!1,pe(w),w=-1),G=!0;var de=k;try{t:{for(Ae(F),S=i(_);S!==null&&!(S.expirationTime>F&&M());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,k=S.priorityLevel;var Ue=Be(S.expirationTime<=F);if(F=s.unstable_now(),typeof Ue=="function"){S.callback=Ue,Ae(F),ne=!0;break t}S===i(_)&&a(_),Ae(F)}else a(_);S=i(_)}if(S!==null)ne=!0;else{var O=i(v);O!==null&&vt(B,O.startTime-F),ne=!1}}break e}finally{S=null,k=de,G=!1}ne=void 0}}finally{ne?j():ae=!1}}}var j;if(typeof Te=="function")j=function(){Te(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ht=N.port2;N.port1.onmessage=I,j=function(){ht.postMessage(null)}}else j=function(){me(I,0)};function vt(F,ne){w=me(function(){F(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_next=function(F){switch(k){case 1:case 2:case 3:var ne=3;break;default:ne=k}var de=k;k=ne;try{return F()}finally{k=de}},s.unstable_requestPaint=function(){W=!0},s.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=k;k=F;try{return ne()}finally{k=de}},s.unstable_scheduleCallback=function(F,ne,de){var Be=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Be+de:Be):de=Be,F){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=de+Ue,F={id:T++,callback:ne,priorityLevel:F,startTime:de,expirationTime:Ue,sortIndex:-1},de>Be?(F.sortIndex=de,e(v,F),i(_)===null&&F===i(v)&&(re?(pe(w),w=-1):re=!0,vt(B,de-Be))):(F.sortIndex=Ue,e(_,F),ee||G||(ee=!0,ae||(ae=!0,j()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ne=k;return function(){var de=k;k=ne;try{return F.apply(this,arguments)}finally{k=de}}}})(Bf)),Bf}var Wy;function QT(){return Wy||(Wy=1,zf.exports=FT()),zf.exports}var qf={exports:{}},on={};var e_;function KT(){if(e_)return on;e_=1;var s=Om();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)v+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,v,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:v,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(_,v){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(_,v,null,T)},on.flushSync=function(_){var v=f.T,T=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=v,a.p=T,a.d.f()}},on.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},on.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},on.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin),k=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;T==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:k,fetchPriority:G}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:k,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},on.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var T=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},on.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var T=v.as,S=g(T,v.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},on.preloadModule=function(_,v){if(typeof _=="string")if(v){var T=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:T,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},on.requestFormReset=function(_){a.d.r(_)},on.unstable_batchedUpdates=function(_,v){return _(v)},on.useFormState=function(_,v,T){return f.H.useFormState(_,v,T)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.4",on}var t_;function YT(){if(t_)return qf.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),qf.exports=KT(),qf.exports}var n_;function XT(){if(n_)return Co;n_=1;var s=QT(),e=Om(),i=YT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),t;if(d===l)return _(h),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,l=d;break}if(E===l){y=!0,l=h,r=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===r){y=!0,r=d,l=h;break}if(E===l){y=!0,l=d,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,k=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),me=Symbol.for("react.profiler"),pe=Symbol.for("react.consumer"),Te=Symbol.for("react.context"),Ae=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ht(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case me:return"Profiler";case W:return"StrictMode";case B:return"Suspense";case ae:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Te:return t.displayName||"Context";case pe:return(t._context.displayName||"Context")+".Consumer";case Ae:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:ht(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return ht(t(n))}catch{}}return null}var vt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Be=[],Ue=-1;function O(t){return{current:t}}function Y(t){0>Ue||(t.current=Be[Ue],Be[Ue]=null,Ue--)}function ie(t,n){Ue++,Be[Ue]=t.current,t.current=n}var le=O(null),ve=O(null),Se=O(null),ke=O(null);function st(t,n){switch(ie(Se,n),ie(ve,t),ie(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?yy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=yy(n),t=_y(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),ie(le,t)}function ut(){Y(le),Y(ve),Y(Se)}function Ki(t){t.memoizedState!==null&&ie(ke,t);var n=le.current,r=_y(n,t.type);n!==r&&(ie(ve,t),ie(le,r))}function Nt(t){ve.current===t&&(Y(le),Y(ve)),ke.current===t&&(Y(ke),Ao._currentValue=de)}var Ts,Bn;function Cn(t){if(Ts===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ts=n&&n[1]||"",Bn=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+t+Bn}var si=!1;function fn(t,n){if(!t||si)return"";si=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var C=y.split(`
`),L=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var Q=`
`+C[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{si=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Cn(r):""}function Ct(t,n){switch(t.tag){case 26:case 27:case 5:return Cn(t.type);case 16:return Cn("Lazy");case 13:return t.child!==n&&n!==null?Cn("Suspense Fallback"):Cn("Suspense");case 19:return Cn("SuspenseList");case 0:case 15:return fn(t.type,!1);case 11:return fn(t.type.render,!1);case 1:return fn(t.type,!0);case 31:return Cn("Activity");default:return""}}function yn(t){try{var n="",r=null;do n+=Ct(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,xt=s.unstable_scheduleCallback,_n=s.unstable_cancelCallback,br=s.unstable_shouldYield,xs=s.unstable_requestPaint,$t=s.unstable_now,ri=s.unstable_getCurrentPriorityLevel,Er=s.unstable_ImmediatePriority,Tr=s.unstable_UserBlockingPriority,ai=s.unstable_NormalPriority,da=s.unstable_LowPriority,fa=s.unstable_IdlePriority,ma=s.log,ga=s.unstable_setDisableYieldValue,vn=null,zt=null;function J(t){if(typeof ma=="function"&&ga(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(vn,t)}catch{}}var se=Math.clz32?Math.clz32:Me,Re=Math.log,Ie=Math.LN2;function Me(t){return t>>>=0,t===0?32:31-(Re(t)/Ie|0)|0}var Ye=256,ye=262144,je=4194304;function ln(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gt(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=ln(l):(y&=E,y!==0?h=ln(y):r||(r=E&~t,r!==0&&(h=ln(r))))):(E=l&~d,E!==0?h=ln(E):y!==0?h=ln(y):r||(r=l&~t,r!==0&&(h=ln(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function kn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ft(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pa(){var t=je;return je<<=1,(je&62914560)===0&&(je=4194304),t}function qn(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function xr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bh(t,n,r,l,h,d){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(r=y&~r;0<r;){var Q=31-se(r),X=1<<Q;E[Q]=0,C[Q]=-1;var z=L[Q];if(z!==null)for(L[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Ar(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(y&~n))}function Ar(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-se(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function Nl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-se(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Cl(t,n){var r=n&-n;return r=(r&42)!==0?1:Sr(r),(r&(t.suspendedLanes|n))!==0?0:r}function Sr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function li(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var oi=Math.random().toString(36).slice(2),kt="__reactFiber$"+oi,Qt="__reactProps$"+oi,Ei="__reactContainer$"+oi,ya="__reactEvents$"+oi,qh="__reactListeners$"+oi,cu="__reactHandles$"+oi,hu="__reactResources$"+oi,Ti="__reactMarker$"+oi;function _a(t){delete t[kt],delete t[Qt],delete t[ya],delete t[qh],delete t[cu]}function xi(t){var n=t[kt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[kt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Sy(t);t!==null;){if(r=t[kt])return r;t=Sy(t)}return n}t=r,r=t.parentNode}return null}function Hn(t){if(t=t[kt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function In(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[hu];return n||(n=t[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function It(t){t[Ti]=!0}var kl=new Set,Il={};function Si(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Il[t]=n,t=0;t<n.length;t++)kl.add(n[t])}var Dl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ol={},Ml={};function du(t){return bt.call(Ml,t)?!0:bt.call(Ol,t)?!1:Dl.test(t)?Ml[t]=!0:(Ol[t]=!0,!1)}function va(t,n,r){if(du(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Dn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Dt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vl(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Vl(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function bn(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ba(t,n,r,l,h,d,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?jl(t,y,Kt(n)):r!=null?jl(t,y,Kt(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Kt(E):t.removeAttribute("name")}function fu(t,n,r,l,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){tt(t);return}r=r!=null?""+Kt(r):"",n=n!=null?""+Kt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),tt(t)}function jl(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ss(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Kt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function mu(t,n,r){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Kt(r):""}function ws(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(vt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Kt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),tt(t)}function En(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||gu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Ul(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Pl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Pl(t,d,n[d])}function Ea(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Rs.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ui(){}var Ll=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ns=null,Ni=null;function Nr(t){var n=Hn(t);if(n&&(t=n.stateNode)){var r=t[Qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ba(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+bn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Qt]||null;if(!h)throw Error(a(90));ba(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&wr(l)}break e;case"textarea":mu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ss(t,!!r.multiple,n,!1)}}}var xa=!1;function Cs(t,n,r){if(xa)return t(n,r);xa=!0;try{var l=t(n);return l}finally{if(xa=!1,(Ns!==null||Ni!==null)&&(uc(),Ns&&(n=Ns,t=Ni,Ni=Ns=null,Nr(n),t)))for(n=0;n<t.length;n++)Nr(t[n])}}function ci(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Qt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Fn)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Cr=!1}var Ci=null,zl=null,kr=null;function Bl(){if(kr)return kr;var t,n=zl,r=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[d-l];l++);return kr=h.slice(t,1<l?1-l:void 0)}function Ir(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function hi(){return!1}function Jt(t){function n(r,l,h,d,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:hi,this.isPropagationStopped=hi,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=Jt($i),ks=S({},$i,{view:0,detail:0}),ql=Jt(ks),Is,Aa,Ii,Sa=S({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Is=t.screenX-Ii.screenX,Aa=t.screenY-Ii.screenY):Aa=Is=0,Ii=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Hl=Jt(Sa),Dr=S({},Sa,{dataTransfer:0}),yu=Jt(Dr),_u=S({},ks,{relatedTarget:0}),Or=Jt(_u),Gl=S({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Jt(Gl),wa=S({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bu=Jt(wa),Eu=S({},$i,{data:0}),Di=Jt(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Ds(){return Su}var mn=S({},ks,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Jt(mn),Ru=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Jt(Ru),u=S({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),m=Jt(u),b=S({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Jt(b),P=S({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Jt(P),te=S({},$i,{newState:0,oldState:0}),De=Jt(te),At=[9,13,27,32],Ze=Fn&&"CompositionEvent"in window,pt=null;Fn&&"documentMode"in document&&(pt=document.documentMode);var Qn=Fn&&"TextEvent"in window&&!pt,Oi=Fn&&(!Ze||pt&&8<pt&&11>=pt),di=" ",fi=!1;function Mr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ra(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function cE(t,n){switch(t){case"compositionend":return Ra(n);case"keypress":return n.which!==32?null:(fi=!0,di);case"textInput":return t=n.data,t===di&&fi?null:t;default:return null}}function hE(t,n){if(Na)return t==="compositionend"||!Ze&&Mr(t,n)?(t=Bl(),kr=zl=Ci=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function Cg(t,n,r,l){Ns?Ni?Ni.push(l):Ni=[l]:Ns=l,n=pc(n,"onChange"),0<n.length&&(r=new ki("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Fl=null,Ql=null;function fE(t){hy(t,0)}function Nu(t){var n=In(t);if(wr(n))return t}function kg(t,n){if(t==="change")return n}var Ig=!1;if(Fn){var Hh;if(Fn){var Gh="oninput"in document;if(!Gh){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Gh=typeof Dg.oninput=="function"}Hh=Gh}else Hh=!1;Ig=Hh&&(!document.documentMode||9<document.documentMode)}function Og(){Fl&&(Fl.detachEvent("onpropertychange",Mg),Ql=Fl=null)}function Mg(t){if(t.propertyName==="value"&&Nu(Ql)){var n=[];Cg(n,Ql,t,Gn(t)),Cs(fE,n)}}function mE(t,n,r){t==="focusin"?(Og(),Fl=n,Ql=r,Fl.attachEvent("onpropertychange",Mg)):t==="focusout"&&Og()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nu(Ql)}function pE(t,n){if(t==="click")return Nu(n)}function yE(t,n){if(t==="input"||t==="change")return Nu(n)}function _E(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var On=typeof Object.is=="function"?Object.is:_E;function Kl(t,n){if(On(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!bt.call(n,h)||!On(t[h],n[h]))return!1}return!0}function Vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jg(t,n){var r=Vg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vg(r)}}function Pg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Pg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Ug(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function Fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vE=Fn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Qh=null,Yl=null,Kh=!1;function Lg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kh||Ca==null||Ca!==Ri(l)||(l=Ca,"selectionStart"in l&&Fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Yl&&Kl(Yl,l)||(Yl=l,l=pc(Qh,"onSelect"),0<l.length&&(n=new ki("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ca)))}function Vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ka={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Yh={},zg={};Fn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function jr(t){if(Yh[t])return Yh[t];if(!ka[t])return t;var n=ka[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zg)return Yh[t]=n[r];return t}var Bg=jr("animationend"),qg=jr("animationiteration"),Hg=jr("animationstart"),bE=jr("transitionrun"),EE=jr("transitionstart"),TE=jr("transitioncancel"),Gg=jr("transitionend"),Fg=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function mi(t,n){Fg.set(t,n),Si(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Ia=0,$h=0;function ku(){for(var t=Ia,n=$h=Ia=0;n<t;){var r=Kn[n];Kn[n++]=null;var l=Kn[n];Kn[n++]=null;var h=Kn[n];Kn[n++]=null;var d=Kn[n];if(Kn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&Qg(r,h,d)}}function Iu(t,n,r,l){Kn[Ia++]=t,Kn[Ia++]=n,Kn[Ia++]=r,Kn[Ia++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jh(t,n,r,l){return Iu(t,n,r,l),Du(t)}function Pr(t,n){return Iu(t,null,null,n),Du(t)}function Qg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-se(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function Du(t){if(50<yo)throw yo=0,lf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Da={};function xE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,r,l){return new xE(t,n,r,l)}function Zh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var r=t.alternate;return r===null?(r=Mn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,l,h,d){var y=0;if(l=t,typeof t=="function")Zh(t)&&(y=1);else if(typeof t=="string")y=NT(t,r,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=Mn(31,r,n,h),t.elementType=R,t.lanes=d,t;case re:return Ur(r.children,h,d,n);case W:y=8,h|=24;break;case me:return t=Mn(12,r,n,h|2),t.elementType=me,t.lanes=d,t;case B:return t=Mn(13,r,n,h),t.elementType=B,t.lanes=d,t;case ae:return t=Mn(19,r,n,h),t.elementType=ae,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Te:y=10;break e;case pe:y=9;break e;case Ae:y=11;break e;case w:y=14;break e;case A:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Mn(y,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Ur(t,n,r,l){return t=Mn(7,t,l,n),t.lanes=r,t}function Wh(t,n,r){return t=Mn(6,t,null,n),t.lanes=r,t}function Yg(t){var n=Mn(18,null,null,0);return n.stateNode=t,n}function ed(t,n,r){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Xg=new WeakMap;function Yn(t,n){if(typeof t=="object"&&t!==null){var r=Xg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:yn(n)},Xg.set(t,n),n)}return{value:t,source:n,stack:yn(n)}}var Oa=[],Ma=0,Mu=null,Xl=0,Xn=[],$n=0,Os=null,Mi=1,Vi="";function Wi(t,n){Oa[Ma++]=Xl,Oa[Ma++]=Mu,Mu=t,Xl=n}function $g(t,n,r){Xn[$n++]=Mi,Xn[$n++]=Vi,Xn[$n++]=Os,Os=t;var l=Mi;t=Vi;var h=32-se(l)-1;l&=~(1<<h),r+=1;var d=32-se(n)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Mi=1<<32-se(n)+h|r<<h|l,Vi=d+t}else Mi=1<<d|r<<h|l,Vi=t}function td(t){t.return!==null&&(Wi(t,1),$g(t,1,0))}function nd(t){for(;t===Mu;)Mu=Oa[--Ma],Oa[Ma]=null,Xl=Oa[--Ma],Oa[Ma]=null;for(;t===Os;)Os=Xn[--$n],Xn[$n]=null,Vi=Xn[--$n],Xn[$n]=null,Mi=Xn[--$n],Xn[$n]=null}function Jg(t,n){Xn[$n++]=Mi,Xn[$n++]=Vi,Xn[$n++]=Os,Mi=n.id,Vi=n.overflow,Os=t}var Zt=null,dt=null,Ke=!1,Ms=null,Jn=!1,id=Error(a(519));function Vs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Yn(n,t)),id}function Zg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[kt]=t,n[Qt]=l,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<vo.length;r++)ze(vo[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),fu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),ws(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||gy(n.textContent,r)?(l.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),l.onScroll!=null&&ze("scroll",n),l.onScrollEnd!=null&&ze("scrollend",n),l.onClick!=null&&(n.onclick=ui),n=!0):n=!1,n||Vs(t,!0)}function Wg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Zt=Zt.return}}function Va(t){if(t!==Zt)return!1;if(!Ke)return Wg(t),Ke=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Tf(t.type,t.memoizedProps)),r=!r),r&&dt&&Vs(t),Wg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=Ay(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));dt=Ay(t)}else n===27?(n=dt,Xs(t.type)?(t=Rf,Rf=null,dt=t):dt=n):dt=Zt?Wn(t.stateNode.nextSibling):null;return!0}function Lr(){dt=Zt=null,Ke=!1}function sd(){var t=Ms;return t!==null&&(Sn===null?Sn=t:Sn.push.apply(Sn,t),Ms=null),t}function $l(t){Ms===null?Ms=[t]:Ms.push(t)}var rd=O(null),zr=null,es=null;function js(t,n,r){ie(rd,n._currentValue),n._currentValue=r}function ts(t){t._currentValue=rd.current,Y(rd)}function ad(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ld(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){d.lanes|=r,E=d.alternate,E!==null&&(E.lanes|=r),ad(d.return,r,t),l||(y=null);break e}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),ad(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ja(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;On(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===ke.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ao):t=[Ao])}h=h.return}t!==null&&ld(n,t,r,l),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!On(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return ep(zr,t)}function ju(t,n){return zr===null&&Br(t),ep(t,n)}function ep(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(t===null)throw Error(a(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return r}var AE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},SE=s.unstable_scheduleCallback,wE=s.unstable_NormalPriority,Ot={$$typeof:Te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function od(){return{controller:new AE,data:new Map,refCount:0}}function Jl(t){t.refCount--,t.refCount===0&&SE(wE,function(){t.controller.abort()})}var Zl=null,ud=0,Pa=0,Ua=null;function RE(t,n){if(Zl===null){var r=Zl=[];ud=0,Pa=ff(),Ua={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ud++,n.then(tp,tp),n}function tp(){if(--ud===0&&Zl!==null){Ua!==null&&(Ua.status="fulfilled");var t=Zl;Zl=null,Pa=0,Ua=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function NE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var np=F.S;F.S=function(t,n){L0=$t(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(t,n),np!==null&&np(t,n)};var qr=O(null);function cd(){var t=qr.current;return t!==null?t:ct.pooledCache}function Pu(t,n){n===null?ie(qr,qr.current):ie(qr,n.pool)}function ip(){var t=cd();return t===null?null:{parent:Ot._currentValue,pool:t}}var La=Error(a(460)),hd=Error(a(474)),Uu=Error(a(542)),Lu={then:function(){}};function sp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function rp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ui,ui),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lp(t),t;default:if(typeof n.status=="string")n.then(ui,ui);else{if(t=ct,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,lp(t),t}throw Gr=n,La}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gr=r,La):r}}var Gr=null;function ap(){if(Gr===null)throw Error(a(459));var t=Gr;return Gr=null,t}function lp(t){if(t===La||t===Uu)throw Error(a(483))}var za=null,Wl=0;function zu(t){var n=Wl;return Wl+=1,za===null&&(za=[]),rp(za,t,n)}function eo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Bu(t,n){throw n.$$typeof===k?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function op(t){function n(V,D){if(t){var U=V.deletions;U===null?(V.deletions=[D],V.flags|=16):U.push(D)}}function r(V,D){if(!t)return null;for(;D!==null;)n(V,D),D=D.sibling;return null}function l(V){for(var D=new Map;V!==null;)V.key!==null?D.set(V.key,V):D.set(V.index,V),V=V.sibling;return D}function h(V,D){return V=Zi(V,D),V.index=0,V.sibling=null,V}function d(V,D,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<D?(V.flags|=67108866,D):U):(V.flags|=67108866,D)):(V.flags|=1048576,D)}function y(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,D,U,K){return D===null||D.tag!==6?(D=Wh(U,V.mode,K),D.return=V,D):(D=h(D,U),D.return=V,D)}function C(V,D,U,K){var fe=U.type;return fe===re?Q(V,D,U.props.children,K,U.key):D!==null&&(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Hr(fe)===D.type)?(D=h(D,U.props),eo(D,U),D.return=V,D):(D=Ou(U.type,U.key,U.props,null,V.mode,K),eo(D,U),D.return=V,D)}function L(V,D,U,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=ed(U,V.mode,K),D.return=V,D):(D=h(D,U.children||[]),D.return=V,D)}function Q(V,D,U,K,fe){return D===null||D.tag!==7?(D=Ur(U,V.mode,K,fe),D.return=V,D):(D=h(D,U),D.return=V,D)}function X(V,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Wh(""+D,V.mode,U),D.return=V,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return U=Ou(D.type,D.key,D.props,null,V.mode,U),eo(U,D),U.return=V,U;case ee:return D=ed(D,V.mode,U),D.return=V,D;case A:return D=Hr(D),X(V,D,U)}if(vt(D)||j(D))return D=Ur(D,V.mode,U,null),D.return=V,D;if(typeof D.then=="function")return X(V,zu(D),U);if(D.$$typeof===Te)return X(V,ju(V,D),U);Bu(V,D)}return null}function z(V,D,U,K){var fe=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:E(V,D,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===fe?C(V,D,U,K):null;case ee:return U.key===fe?L(V,D,U,K):null;case A:return U=Hr(U),z(V,D,U,K)}if(vt(U)||j(U))return fe!==null?null:Q(V,D,U,K,null);if(typeof U.then=="function")return z(V,D,zu(U),K);if(U.$$typeof===Te)return z(V,D,ju(V,U),K);Bu(V,U)}return null}function H(V,D,U,K,fe){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return V=V.get(U)||null,E(D,V,""+K,fe);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return V=V.get(K.key===null?U:K.key)||null,C(D,V,K,fe);case ee:return V=V.get(K.key===null?U:K.key)||null,L(D,V,K,fe);case A:return K=Hr(K),H(V,D,U,K,fe)}if(vt(K)||j(K))return V=V.get(U)||null,Q(D,V,K,fe,null);if(typeof K.then=="function")return H(V,D,U,zu(K),fe);if(K.$$typeof===Te)return H(V,D,U,ju(D,K),fe);Bu(D,K)}return null}function ue(V,D,U,K){for(var fe=null,$e=null,ce=D,Ve=D=0,He=null;ce!==null&&Ve<U.length;Ve++){ce.index>Ve?(He=ce,ce=null):He=ce.sibling;var Je=z(V,ce,U[Ve],K);if(Je===null){ce===null&&(ce=He);break}t&&ce&&Je.alternate===null&&n(V,ce),D=d(Je,D,Ve),$e===null?fe=Je:$e.sibling=Je,$e=Je,ce=He}if(Ve===U.length)return r(V,ce),Ke&&Wi(V,Ve),fe;if(ce===null){for(;Ve<U.length;Ve++)ce=X(V,U[Ve],K),ce!==null&&(D=d(ce,D,Ve),$e===null?fe=ce:$e.sibling=ce,$e=ce);return Ke&&Wi(V,Ve),fe}for(ce=l(ce);Ve<U.length;Ve++)He=H(ce,V,Ve,U[Ve],K),He!==null&&(t&&He.alternate!==null&&ce.delete(He.key===null?Ve:He.key),D=d(He,D,Ve),$e===null?fe=He:$e.sibling=He,$e=He);return t&&ce.forEach(function(er){return n(V,er)}),Ke&&Wi(V,Ve),fe}function _e(V,D,U,K){if(U==null)throw Error(a(151));for(var fe=null,$e=null,ce=D,Ve=D=0,He=null,Je=U.next();ce!==null&&!Je.done;Ve++,Je=U.next()){ce.index>Ve?(He=ce,ce=null):He=ce.sibling;var er=z(V,ce,Je.value,K);if(er===null){ce===null&&(ce=He);break}t&&ce&&er.alternate===null&&n(V,ce),D=d(er,D,Ve),$e===null?fe=er:$e.sibling=er,$e=er,ce=He}if(Je.done)return r(V,ce),Ke&&Wi(V,Ve),fe;if(ce===null){for(;!Je.done;Ve++,Je=U.next())Je=X(V,Je.value,K),Je!==null&&(D=d(Je,D,Ve),$e===null?fe=Je:$e.sibling=Je,$e=Je);return Ke&&Wi(V,Ve),fe}for(ce=l(ce);!Je.done;Ve++,Je=U.next())Je=H(ce,V,Ve,Je.value,K),Je!==null&&(t&&Je.alternate!==null&&ce.delete(Je.key===null?Ve:Je.key),D=d(Je,D,Ve),$e===null?fe=Je:$e.sibling=Je,$e=Je);return t&&ce.forEach(function(LT){return n(V,LT)}),Ke&&Wi(V,Ve),fe}function ot(V,D,U,K){if(typeof U=="object"&&U!==null&&U.type===re&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var fe=U.key;D!==null;){if(D.key===fe){if(fe=U.type,fe===re){if(D.tag===7){r(V,D.sibling),K=h(D,U.props.children),K.return=V,V=K;break e}}else if(D.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&Hr(fe)===D.type){r(V,D.sibling),K=h(D,U.props),eo(K,U),K.return=V,V=K;break e}r(V,D);break}else n(V,D);D=D.sibling}U.type===re?(K=Ur(U.props.children,V.mode,K,U.key),K.return=V,V=K):(K=Ou(U.type,U.key,U.props,null,V.mode,K),eo(K,U),K.return=V,V=K)}return y(V);case ee:e:{for(fe=U.key;D!==null;){if(D.key===fe)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){r(V,D.sibling),K=h(D,U.children||[]),K.return=V,V=K;break e}else{r(V,D);break}else n(V,D);D=D.sibling}K=ed(U,V.mode,K),K.return=V,V=K}return y(V);case A:return U=Hr(U),ot(V,D,U,K)}if(vt(U))return ue(V,D,U,K);if(j(U)){if(fe=j(U),typeof fe!="function")throw Error(a(150));return U=fe.call(U),_e(V,D,U,K)}if(typeof U.then=="function")return ot(V,D,zu(U),K);if(U.$$typeof===Te)return ot(V,D,ju(V,U),K);Bu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(r(V,D.sibling),K=h(D,U),K.return=V,V=K):(r(V,D),K=Wh(U,V.mode,K),K.return=V,V=K),y(V)):r(V,D)}return function(V,D,U,K){try{Wl=0;var fe=ot(V,D,U,K);return za=null,fe}catch(ce){if(ce===La||ce===Uu)throw ce;var $e=Mn(29,ce,null,V.mode);return $e.lanes=K,$e.return=V,$e}}}var Fr=op(!0),up=op(!1),Ps=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Du(t),Qg(t,null,r),n}return Iu(t,l,n,r),Du(t)}function to(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Nl(t,r)}}function md(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gd=!1;function no(){if(gd){var t=Ua;if(t!==null)throw t}}function io(t,n,r,l){gd=!1;var h=t.updateQueue;Ps=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,y===null?d=L:y.next=L,y=C;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==y&&(E===null?Q.firstBaseUpdate=L:E.next=L,Q.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;y=0,Q=L=C=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(qe&z)===z:(l&z)===z){z!==0&&z===Pa&&(gd=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,_e=E;z=n;var ot=r;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){X=ue.call(ot,X,z);break e}X=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,z=typeof ue=="function"?ue.call(ot,X,z):ue,z==null)break e;X=S({},X,z);break e;case 2:Ps=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(L=Q=H,C=X):Q=Q.next=H,y|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Gs|=y,t.lanes=y,t.memoizedState=X}}function cp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function hp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cp(r[t],n)}var Ba=O(null),qu=O(0);function dp(t,n){t=cs,ie(qu,t),ie(Ba,n),cs=t|n.baseLanes}function pd(){ie(qu,cs),ie(Ba,Ba.current)}function yd(){cs=qu.current,Y(Ba),Y(qu)}var Vn=O(null),Zn=null;function zs(t){var n=t.alternate;ie(St,St.current&1),ie(Vn,t),Zn===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(Zn=t)}function _d(t){ie(St,St.current),ie(Vn,t),Zn===null&&(Zn=t)}function fp(t){t.tag===22?(ie(St,St.current),ie(Vn,t),Zn===null&&(Zn=t)):Bs()}function Bs(){ie(St,St.current),ie(Vn,Vn.current)}function jn(t){Y(Vn),Zn===t&&(Zn=null),Y(St)}var St=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Sf(r)||wf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Oe=null,at=null,Mt=null,Gu=!1,qa=!1,Qr=!1,Fu=0,so=0,Ha=null,CE=0;function Et(){throw Error(a(321))}function vd(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!On(t[r],n[r]))return!1;return!0}function bd(t,n,r,l,h,d){return ns=d,Oe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?$p:Vd,Qr=!1,d=r(l,h),Qr=!1,qa&&(d=gp(n,r,l,h)),mp(t),d}function mp(t){F.H=lo;var n=at!==null&&at.next!==null;if(ns=0,Mt=at=Oe=null,Gu=!1,so=0,Ha=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Vu(t)&&(Vt=!0))}function gp(t,n,r,l){Oe=t;var h=0;do{if(qa&&(Ha=null),so=0,qa=!1,25<=h)throw Error(a(301));if(h+=1,Mt=at=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Jp,d=n(r,l)}while(qa);return d}function kE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?ro(n):n,t=t.useState()[0],(at!==null?at.memoizedState:null)!==t&&(Oe.flags|=1024),n}function Ed(){var t=Fu!==0;return Fu=0,t}function Td(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function xd(t){if(Gu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Gu=!1}ns=0,Mt=at=Oe=null,qa=!1,so=Fu=0,Ha=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Oe.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function wt(){if(at===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var n=Mt===null?Oe.memoizedState:Mt.next;if(n!==null)Mt=n,at=t;else{if(t===null)throw Oe.alternate===null?Error(a(467)):Error(a(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Mt===null?Oe.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ro(t){var n=so;return so+=1,Ha===null&&(Ha=[]),t=rp(Ha,t,n),n=Oe,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?$p:Vd),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ro(t);if(t.$$typeof===Te)return Wt(t)}throw Error(a(438,String(t)))}function Ad(t){var n=null,r=Oe.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Oe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),Oe.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function is(t,n){return typeof n=="function"?n(t):n}function Yu(t){var n=wt();return Sd(n,at,t)}function Sd(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=y=null,C=null,L=n,Q=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(qe&X)===X:(ns&X)===X){var z=L.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===Pa&&(Q=!0);else if((ns&z)===z){L=L.next,z===Pa&&(Q=!0);continue}else X={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=X,y=d):C=C.next=X,Oe.lanes|=z,Gs|=z;X=L.action,Qr&&r(d,X),d=L.hasEagerState?L.eagerState:r(d,X)}else z={lane:X,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=z,y=d):C=C.next=z,Oe.lanes|=X,Gs|=X;L=L.next}while(L!==null&&L!==n);if(C===null?y=d:C.next=E,!On(d,t.memoizedState)&&(Vt=!0,Q&&(r=Ua,r!==null)))throw r;t.memoizedState=d,t.baseState=y,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wd(t){var n=wt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do d=t(d,y.action),y=y.next;while(y!==h);On(d,n.memoizedState)||(Vt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function pp(t,n,r){var l=Oe,h=wt(),d=Ke;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!On((at||h).memoizedState,r);if(y&&(h.memoizedState=r,Vt=!0),h=h.queue,Cd(vp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},_p.bind(null,l,h,r,n),null),ct===null)throw Error(a(349));d||(ns&127)!==0||yp(l,n,r)}return r}function yp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Oe.updateQueue,n===null?(n=Qu(),Oe.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function _p(t,n,r,l){n.value=r,n.getSnapshot=l,bp(n)&&Ep(t)}function vp(t,n,r){return r(function(){bp(n)&&Ep(t)})}function bp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!On(t,r)}catch{return!0}}function Ep(t){var n=Pr(t,2);n!==null&&wn(n,t,2)}function Rd(t){var n=gn();if(typeof t=="function"){var r=t;if(t=r(),Qr){J(!0);try{r()}finally{J(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function Tp(t,n,r,l){return t.baseState=r,Sd(t,at,typeof l=="function"?l:is)}function IE(t,n,r,l,h){if(Ju(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};F.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,xp(n,d)):(d.next=r.next,n.pending=r.next=d)}}function xp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=F.T,y={};F.T=y;try{var E=r(h,l),C=F.S;C!==null&&C(y,E),Ap(t,n,E)}catch(L){Nd(t,n,L)}finally{d!==null&&y.types!==null&&(d.types=y.types),F.T=d}}else try{d=r(h,l),Ap(t,n,d)}catch(L){Nd(t,n,L)}}function Ap(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Sp(t,n,l)},function(l){return Nd(t,n,l)}):Sp(t,n,r)}function Sp(t,n,r){n.status="fulfilled",n.value=r,wp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,xp(t,r)))}function Nd(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,wp(n),n=n.next;while(n!==l)}t.action=null}function wp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rp(t,n){return n}function Np(t,n){if(Ke){var r=ct.formState;if(r!==null){e:{var l=Oe;if(Ke){if(dt){t:{for(var h=dt,d=Jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){dt=Wn(h.nextSibling),l=h.data==="F!";break e}}Vs(l)}l=!1}l&&(n=r[0])}}return r=gn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rp,lastRenderedState:n},r.queue=l,r=Kp.bind(null,Oe,l),l.dispatch=r,l=Rd(!1),d=Md.bind(null,Oe,!1,l.queue),l=gn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=IE.bind(null,Oe,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cp(t){var n=wt();return kp(n,at,t)}function kp(t,n,r){if(n=Sd(t,n,Rp)[0],t=Yu(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=ro(n)}catch(y){throw y===La?Uu:y}else l=n;n=wt();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Oe.flags|=2048,Ga(9,{destroy:void 0},DE.bind(null,h,r),null)),[l,d,t]}function DE(t,n){t.action=n}function Ip(t){var n=wt(),r=at;if(r!==null)return kp(n,r,t);wt(),n=n.memoizedState,r=wt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ga(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Oe.updateQueue,n===null&&(n=Qu(),Oe.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Dp(){return wt().memoizedState}function Xu(t,n,r,l){var h=gn();Oe.flags|=t,h.memoizedState=Ga(1|n,{destroy:void 0},r,l===void 0?null:l)}function $u(t,n,r,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;at!==null&&l!==null&&vd(l,at.memoizedState.deps)?h.memoizedState=Ga(n,d,r,l):(Oe.flags|=t,h.memoizedState=Ga(1|n,d,r,l))}function Op(t,n){Xu(8390656,8,t,n)}function Cd(t,n){$u(2048,8,t,n)}function OE(t){Oe.flags|=4;var n=Oe.updateQueue;if(n===null)n=Qu(),Oe.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Mp(t){var n=wt().memoizedState;return OE({ref:n,nextImpl:t}),function(){if((We&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vp(t,n){return $u(4,2,t,n)}function jp(t,n){return $u(4,4,t,n)}function Pp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Up(t,n,r){r=r!=null?r.concat([t]):null,$u(4,4,Pp.bind(null,n,t),r)}function kd(){}function Lp(t,n){var r=wt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&vd(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function zp(t,n){var r=wt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&vd(n,l[1]))return l[0];if(l=t(),Qr){J(!0);try{t()}finally{J(!1)}}return r.memoizedState=[l,n],l}function Id(t,n,r){return r===void 0||(ns&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=B0(),Oe.lanes|=t,Gs|=t,r)}function Bp(t,n,r,l){return On(r,n)?r:Ba.current!==null?(t=Id(t,r,l),On(t,n)||(Vt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(qe&261930)===0?(Vt=!0,t.memoizedState=r):(t=B0(),Oe.lanes|=t,Gs|=t,n)}function qp(t,n,r,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var y=F.T,E={};F.T=E,Md(t,!1,n,r);try{var C=h(),L=F.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=NE(C,l);ao(t,n,Q,Ln(t))}else ao(t,n,l,Ln(t))}catch(X){ao(t,n,{then:function(){},status:"rejected",reason:X},Ln())}finally{ne.p=d,y!==null&&E.types!==null&&(y.types=E.types),F.T=y}}function ME(){}function Dd(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Hp(t).queue;qp(t,h,n,de,r===null?ME:function(){return Gp(t),r(l)})}function Hp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:de},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Gp(t){var n=Hp(t);n.next===null&&(n=t.alternate.memoizedState),ao(t,n.next.queue,{},Ln())}function Od(){return Wt(Ao)}function Fp(){return wt().memoizedState}function Qp(){return wt().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Ln();t=Us(r);var l=Ls(n,t,r);l!==null&&(wn(l,n,r),to(l,n,r)),n={cache:od()},t.payload=n;return}n=n.return}}function jE(t,n,r){var l=Ln();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ju(t)?Yp(n,r):(r=Jh(t,n,r,l),r!==null&&(wn(r,t,l),Xp(r,n,l)))}function Kp(t,n,r){var l=Ln();ao(t,n,r,l)}function ao(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ju(t))Yp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,E=d(y,r);if(h.hasEagerState=!0,h.eagerState=E,On(E,y))return Iu(t,n,h,0),ct===null&&ku(),!1}catch{}if(r=Jh(t,n,h,l),r!==null)return wn(r,t,l),Xp(r,n,l),!0}return!1}function Md(t,n,r,l){if(l={lane:2,revertLane:ff(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(t)){if(n)throw Error(a(479))}else n=Jh(t,r,l,2),n!==null&&wn(n,t,2)}function Ju(t){var n=t.alternate;return t===Oe||n!==null&&n===Oe}function Yp(t,n){qa=Gu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Xp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Nl(t,r)}}var lo={readContext:Wt,use:Ku,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};lo.useEffectEvent=Et;var $p={readContext:Wt,use:Ku,useCallback:function(t,n){return gn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:Op,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Xu(4194308,4,Pp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Xu(4194308,4,t,n)},useInsertionEffect:function(t,n){Xu(4,2,t,n)},useMemo:function(t,n){var r=gn();n=n===void 0?null:n;var l=t();if(Qr){J(!0);try{t()}finally{J(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=gn();if(r!==void 0){var h=r(n);if(Qr){J(!0);try{r(n)}finally{J(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jE.bind(null,Oe,t),[l.memoizedState,t]},useRef:function(t){var n=gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Rd(t);var n=t.queue,r=Kp.bind(null,Oe,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:kd,useDeferredValue:function(t,n){var r=gn();return Id(r,t,n)},useTransition:function(){var t=Rd(!1);return t=qp.bind(null,Oe,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Oe,h=gn();if(Ke){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ct===null)throw Error(a(349));(qe&127)!==0||yp(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,Op(vp.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},_p.bind(null,l,d,r,n),null),r},useId:function(){var t=gn(),n=ct.identifierPrefix;if(Ke){var r=Vi,l=Mi;r=(l&~(1<<32-se(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=CE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Od,useFormState:Np,useActionState:Np,useOptimistic:function(t){var n=gn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Md.bind(null,Oe,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ad,useCacheRefresh:function(){return gn().memoizedState=VE.bind(null,Oe)},useEffectEvent:function(t){var n=gn(),r={impl:t};return n.memoizedState=r,function(){if((We&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Vd={readContext:Wt,use:Ku,useCallback:Lp,useContext:Wt,useEffect:Cd,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:jp,useMemo:zp,useReducer:Yu,useRef:Dp,useState:function(){return Yu(is)},useDebugValue:kd,useDeferredValue:function(t,n){var r=wt();return Bp(r,at.memoizedState,t,n)},useTransition:function(){var t=Yu(is)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Od,useFormState:Cp,useActionState:Cp,useOptimistic:function(t,n){var r=wt();return Tp(r,at,t,n)},useMemoCache:Ad,useCacheRefresh:Qp};Vd.useEffectEvent=Mp;var Jp={readContext:Wt,use:Ku,useCallback:Lp,useContext:Wt,useEffect:Cd,useImperativeHandle:Up,useInsertionEffect:Vp,useLayoutEffect:jp,useMemo:zp,useReducer:wd,useRef:Dp,useState:function(){return wd(is)},useDebugValue:kd,useDeferredValue:function(t,n){var r=wt();return at===null?Id(r,t,n):Bp(r,at.memoizedState,t,n)},useTransition:function(){var t=wd(is)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:ro(t),n]},useSyncExternalStore:pp,useId:Fp,useHostTransitionStatus:Od,useFormState:Ip,useActionState:Ip,useOptimistic:function(t,n){var r=wt();return at!==null?Tp(r,at,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:Qp};Jp.useEffectEvent=Mp;function jd(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Pd={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Ln(),h=Us(l);h.payload=n,r!=null&&(h.callback=r),n=Ls(t,h,l),n!==null&&(wn(n,t,l),to(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Ln(),h=Us(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ls(t,h,l),n!==null&&(wn(n,t,l),to(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Ln(),l=Us(r);l.tag=2,n!=null&&(l.callback=n),n=Ls(t,l,r),n!==null&&(wn(n,t,r),to(n,t,r))}};function Zp(t,n,r,l,h,d,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Kl(r,l)||!Kl(h,d):!0}function Wp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Pd.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function e0(t){Cu(t)}function t0(t){console.error(t)}function n0(t){Cu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function i0(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ud(t,n,r){return r=Us(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function s0(t){return t=Us(t),t.tag=3,t}function r0(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){i0(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){i0(n,r,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ja(n,r,h,!0),r=Vn.current,r!==null){switch(r.tag){case 31:case 13:return Zn===null?cc():r.alternate===null&&Tt===0&&(Tt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),cf(t,l,h)),!1;case 22:return r.flags|=65536,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),cf(t,l,h)),!1}throw Error(a(435,r.tag))}return cf(t,l,h),cc(),!1}if(Ke)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==id&&(t=Error(a(422),{cause:l}),$l(Yn(t,r)))):(l!==id&&(n=Error(a(423),{cause:l}),$l(Yn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Yn(l,r),h=Ud(t.stateNode,l,h),md(t,h),Tt!==4&&(Tt=2)),!1;var d=Error(a(520),{cause:l});if(d=Yn(d,r),po===null?po=[d]:po.push(d),Tt!==4&&(Tt=2),n===null)return!0;l=Yn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Ud(r.stateNode,l,t),md(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=s0(h),r0(h,t,r,l),md(r,h),!1}r=r.return}while(r!==null);return!1}var Ld=Error(a(461)),Vt=!1;function en(t,n,r,l){n.child=t===null?up(n,null,r,l):Fr(n,t.child,r,l)}function a0(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Br(n),l=bd(t,n,r,y,d,h),E=Ed(),t!==null&&!Vt?(Td(t,n,h),ss(t,n,h)):(Ke&&E&&td(n),n.flags|=1,en(t,n,l,h),n.child)}function l0(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!Zh(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,o0(t,n,d,l,h)):(t=Ou(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Kd(t,h)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(y,l)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=Zi(d,l),t.ref=n.ref,t.return=n,n.child=t}function o0(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Kl(d,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=d,Kd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,ss(t,n,h)}return zd(t,n,r,l,h)}function u0(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return c0(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(n,d!==null?d.cachePool:null),d!==null?dp(n,d):pd(),fp(n);else return l=n.lanes=536870912,c0(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(Pu(n,d.cachePool),dp(n,d),Bs(),n.memoizedState=null):(t!==null&&Pu(n,null),pd(),Bs());return en(t,n,h,r),n.child}function oo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function c0(t,n,r,l,h){var d=cd();return d=d===null?null:{parent:Ot._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&Pu(n,null),pd(),fp(n),t!==null&&ja(t,n,l,!0),n.childLanes=h,null}function Wu(t,n){return n=tc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function h0(t,n,r){return Fr(n,t.child,null,r),t=Wu(n,n.pendingProps),t.flags|=2,jn(n),n.memoizedState=null,t}function UE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(l.mode==="hidden")return t=Wu(n,l),n.lanes=536870912,oo(null,t);if(_d(n),(t=dt)?(t=xy(t,Jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=n,n.child=r,Zt=n,dt=null)):t=null,t===null)throw Vs(n);return n.lanes=536870912,null}return Wu(n,l)}var d=t.memoizedState;if(d!==null){var y=d.dehydrated;if(_d(n),h)if(n.flags&256)n.flags&=-257,n=h0(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||ja(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(l=ct,l!==null&&(y=Cl(l,r),y!==0&&y!==d.retryLane))throw d.retryLane=y,Pr(t,y),wn(l,t,y),Ld;cc(),n=h0(t,n,r)}else t=d.treeContext,dt=Wn(y.nextSibling),Zt=n,Ke=!0,Ms=null,Jn=!1,t!==null&&Jg(n,t),n=Wu(n,l),n.flags|=4096;return n}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ec(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function zd(t,n,r,l,h){return Br(n),r=bd(t,n,r,l,void 0,h),l=Ed(),t!==null&&!Vt?(Td(t,n,h),ss(t,n,h)):(Ke&&l&&td(n),n.flags|=1,en(t,n,r,h),n.child)}function d0(t,n,r,l,h,d){return Br(n),n.updateQueue=null,r=gp(n,l,r,h),mp(t),l=Ed(),t!==null&&!Vt?(Td(t,n,d),ss(t,n,d)):(Ke&&l&&td(n),n.flags|=1,en(t,n,r,d),n.child)}function f0(t,n,r,l,h){if(Br(n),n.stateNode===null){var d=Da,y=r.contextType;typeof y=="object"&&y!==null&&(d=Wt(y)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},dd(n),y=r.contextType,d.context=typeof y=="object"&&y!==null?Wt(y):Da,d.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(jd(n,r,y,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Pd.enqueueReplaceState(d,d.state,null),io(n,l,d,h),no(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,C=Kr(r,E);d.props=C;var L=d.context,Q=r.contextType;y=Da,typeof Q=="object"&&Q!==null&&(y=Wt(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==y)&&Wp(n,d,l,y),Ps=!1;var z=n.memoizedState;d.state=z,io(n,l,d,h),no(),L=n.memoizedState,E||z!==L||Ps?(typeof X=="function"&&(jd(n,r,X,l),L=n.memoizedState),(C=Ps||Zp(n,r,C,l,z,L,y))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),d.props=l,d.state=L,d.context=y,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,fd(t,n),y=n.memoizedProps,Q=Kr(r,y),d.props=Q,X=n.pendingProps,z=d.context,L=r.contextType,C=Da,typeof L=="object"&&L!==null&&(C=Wt(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==X||z!==C)&&Wp(n,d,l,C),Ps=!1,z=n.memoizedState,d.state=z,io(n,l,d,h),no();var H=n.memoizedState;y!==X||z!==H||Ps||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(jd(n,r,E,l),H=n.memoizedState),(Q=Ps||Zp(n,r,Q,l,z,H,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=C,l=Q):(typeof d.componentDidUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,ec(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,r,h)):en(t,n,r,h),n.memoizedState=d.state,t=n.child):t=ss(t,n,h),t}function m0(t,n,r,l){return Lr(),n.flags|=256,en(t,n,r,l),n.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(t){return{baseLanes:t,cachePool:ip()}}function Hd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Un),t}function g0(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?zs(n):Bs(),(t=dt)?(t=xy(t,Jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Os!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Yg(t),r.return=n,n.child=r,Zt=n,dt=null)):t=null,t===null)throw Vs(n);return wf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Bs(),h=n.mode,E=tc({mode:"hidden",children:E},h),l=Ur(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=qd(r),l.childLanes=Hd(t,y,r),n.memoizedState=Bd,oo(null,l)):(zs(n),Gd(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)n.flags&256?(zs(n),n.flags&=-257,n=Fd(t,n,r)):n.memoizedState!==null?(Bs(),n.child=t.child,n.flags|=128,n=null):(Bs(),E=l.fallback,h=n.mode,l=tc({mode:"visible",children:l.children},h),E=Ur(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Fr(n,t.child,null,r),l=n.child,l.memoizedState=qd(r),l.childLanes=Hd(t,y,r),n.memoizedState=Bd,n=oo(null,l));else if(zs(n),wf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(a(419)),l.stack="",l.digest=y,$l({value:l,source:null,stack:null}),n=Fd(t,n,r)}else if(Vt||ja(t,n,r,!1),y=(r&t.childLanes)!==0,Vt||y){if(y=ct,y!==null&&(l=Cl(y,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,Pr(t,l),wn(y,t,l),Ld;Sf(E)||cc(),n=Fd(t,n,r)}else Sf(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,dt=Wn(E.nextSibling),Zt=n,Ke=!0,Ms=null,Jn=!1,t!==null&&Jg(n,t),n=Gd(n,l.children),n.flags|=4096);return n}return h?(Bs(),E=l.fallback,h=n.mode,C=t.child,L=C.sibling,l=Zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Zi(L,E):(E=Ur(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,oo(null,l),l=n.child,E=t.child.memoizedState,E===null?E=qd(r):(h=E.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=ip(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Hd(t,y,r),n.memoizedState=Bd,oo(t.child,l)):(zs(n),r=t.child,t=r.sibling,r=Zi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Gd(t,n){return n=tc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tc(t,n){return t=Mn(22,t,null,n),t.lanes=0,t}function Fd(t,n,r){return Fr(n,t.child,null,r),t=Gd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function p0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ad(t.return,n,r)}function Qd(t,n,r,l,h,d){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=d)}function y0(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=St.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,ie(St,y),en(t,n,l,r),l=Ke?Xl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&p0(t,r,n);else if(t.tag===19)p0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Hu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Qd(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Qd(n,!0,r,null,d,l);break;case"together":Qd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ss(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Gs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ja(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Zi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Zi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Kd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function LE(t,n,r){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),js(n,Ot,t.memoizedState.cache),Lr();break;case 27:case 5:Ki(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_d(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(zs(n),n.flags|=128,null):(r&n.child.childLanes)!==0?g0(t,n,r):(zs(n),t=ss(t,n,r),t!==null?t.sibling:null);zs(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ja(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return y0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:return n.lanes=0,u0(t,n,r,n.pendingProps);case 24:js(n,Ot,t.memoizedState.cache)}return ss(t,n,r)}function _0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Kd(t,r)&&(n.flags&128)===0)return Vt=!1,LE(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,Ke&&(n.flags&1048576)!==0&&$g(n,Xl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Zh(t)?(l=Kr(t,l),n.tag=1,n=f0(null,n,t,l,r)):(n.tag=0,n=zd(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ae){n.tag=11,n=a0(null,n,t,l,r);break e}else if(h===w){n.tag=14,n=l0(null,n,t,l,r);break e}}throw n=ht(t)||t,Error(a(306,n,""))}}return n;case 0:return zd(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Kr(l,n.pendingProps),f0(t,n,l,h,r);case 3:e:{if(st(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,fd(t,n),io(n,l,null,r);var y=n.memoizedState;if(l=y.cache,js(n,Ot,l),l!==d.cache&&ld(n,[Ot],r,!0),no(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=m0(t,n,l,r);break e}else if(l!==h){h=Yn(Error(a(424)),n),$l(h),n=m0(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,dt=Wn(t.firstChild),Zt=n,Ke=!0,Ms=null,Jn=!0,r=up(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lr(),l===h){n=ss(t,n,r);break e}en(t,n,l,r)}n=n.child}return n;case 26:return ec(t,n),t===null?(r=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ke||(r=n.type,t=n.pendingProps,l=yc(Se.current).createElement(r),l[kt]=n,l[Qt]=t,tn(l,r,t),It(l),n.stateNode=l):n.memoizedState=Cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ki(n),t===null&&Ke&&(l=n.stateNode=wy(n.type,n.pendingProps,Se.current),Zt=n,Jn=!0,h=dt,Xs(n.type)?(Rf=h,dt=Wn(l.firstChild)):dt=h),en(t,n,n.pendingProps.children,r),ec(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=l=dt)&&(l=gT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,Zt=n,dt=Wn(l.firstChild),Jn=!1,h=!0):h=!1),h||Vs(n)),Ki(n),h=n.type,d=n.pendingProps,y=t!==null?t.memoizedProps:null,l=d.children,Tf(h,d)?l=null:y!==null&&Tf(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=bd(t,n,kE,null,null,r),Ao._currentValue=h),ec(t,n),en(t,n,l,r),n.child;case 6:return t===null&&Ke&&((t=r=dt)&&(r=pT(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,Zt=n,dt=null,t=!0):t=!1),t||Vs(n)),null;case 13:return g0(t,n,r);case 4:return st(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,r):en(t,n,l,r),n.child;case 11:return a0(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,js(n,n.type,l.value),en(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Br(n),h=Wt(h),l=l(h),n.flags|=1,en(t,n,l,r),n.child;case 14:return l0(t,n,n.type,n.pendingProps,r);case 15:return o0(t,n,n.type,n.pendingProps,r);case 19:return y0(t,n,r);case 31:return UE(t,n,r);case 22:return u0(t,n,r,n.pendingProps);case 24:return Br(n),l=Wt(Ot),t===null?(h=cd(),h===null&&(h=ct,d=od(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},dd(n),js(n,Ot,h)):((t.lanes&r)!==0&&(fd(t,n),io(n,null,null,r),no()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Ot,l)):(l=d.cache,js(n,Ot,l),l!==h.cache&&ld(n,[Ot],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(t){t.flags|=4}function Yd(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(F0())t.flags|=8192;else throw Gr=Lu,hd}else t.flags&=-16777217}function v0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!My(n))if(F0())t.flags|=8192;else throw Gr=Lu,hd}function nc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?pa():536870912,t.lanes|=n,Ya|=n)}function uo(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ft(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function zE(t,n,r){var l=n.pendingProps;switch(nd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(n),null;case 1:return ft(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ts(Ot),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Va(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sd())),ft(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(rs(n),d!==null?(ft(n),v0(n,d)):(ft(n),Yd(n,h,null,l,r))):d?d!==t.memoizedState?(rs(n),ft(n),v0(n,d)):(ft(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(n),ft(n),Yd(n,h,t,l,r)),null;case 27:if(Nt(n),r=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}t=le.current,Va(n)?Zg(n):(t=wy(h,l,r),n.stateNode=t,rs(n))}return ft(n),null;case 5:if(Nt(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ft(n),null}if(d=le.current,Va(n))Zg(n);else{var y=yc(Se.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[kt]=n,d[Qt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(n)}}return ft(n),Yd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,Va(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||gy(t.nodeValue,r)),t||Vs(n,!0)}else t=yc(t).createTextNode(l),t[kt]=n,n.stateNode=t}return ft(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Va(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[kt]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),t=!1}else r=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ft(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[kt]=n}else Lr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ft(n),h=!1}else h=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),ft(n),null);case 4:return ut(),t===null&&yf(n.stateNode.containerInfo),ft(n),null;case 10:return ts(n.type),ft(n),null;case 19:if(Y(St),l=n.memoizedState,l===null)return ft(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)uo(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Hu(t),d!==null){for(n.flags|=128,uo(l,!1),t=d.updateQueue,n.updateQueue=t,nc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Kg(r,t),r=r.sibling;return ie(St,St.current&1|2),Ke&&Wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&$t()>lc&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,nc(n,t),uo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ke)return ft(n),null}else 2*$t()-l.renderingStartTime>lc&&r!==536870912&&(n.flags|=128,h=!0,uo(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=$t(),t.sibling=null,r=St.current,ie(St,h?r&1|2:r&1),Ke&&Wi(n,l.treeForkCount),t):(ft(n),null);case 22:case 23:return jn(n),yd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ft(n),n.subtreeFlags&6&&(n.flags|=8192)):ft(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ts(Ot),ft(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function BE(t,n){switch(nd(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(Ot),ut(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Nt(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(jn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Lr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(St),null;case 4:return ut(),null;case 10:return ts(n.type),null;case 22:case 23:return jn(n),yd(),t!==null&&Y(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(Ot),null;case 25:return null;default:return null}}function b0(t,n){switch(nd(n),n.tag){case 3:ts(Ot),ut();break;case 26:case 27:case 5:Nt(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:Y(St);break;case 10:ts(n.type);break;case 22:case 23:jn(n),yd(),t!==null&&Y(qr);break;case 24:ts(Ot)}}function co(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,y=r.inst;l=d(),y.destroy=l}r=r.next}while(r!==h)}}catch(E){it(n,n.return,E)}}function qs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var C=r,L=E;try{L()}catch(Q){it(h,C,Q)}}}l=l.next}while(l!==d)}}catch(Q){it(n,n.return,Q)}}function E0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{hp(n,r)}catch(l){it(t,t.return,l)}}}function T0(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){it(t,n,l)}}function ho(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){it(t,n,h)}}function ji(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function x0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function Xd(t,n,r){try{var l=t.stateNode;uT(l,t.type,r,n),l[Qt]=n}catch(h){it(t,t.return,h)}}function A0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xs(t.type)||t.tag===4}function $d(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ui));else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Jd(t,n,r),t=t.sibling;t!==null;)Jd(t,n,r),t=t.sibling}function ic(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Xs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ic(t,n,r),t=t.sibling;t!==null;)ic(t,n,r),t=t.sibling}function S0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,l,r),n[kt]=t,n[Qt]=r}catch(d){it(t,t.return,d)}}var as=!1,jt=!1,Zd=!1,w0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function qE(t,n){if(t=t.containerInfo,bf=Ac,t=Ug(t),Fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var y=0,E=-1,C=-1,L=0,Q=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=y+h),X!==d||l!==0&&X.nodeType!==3||(C=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++L===h&&(E=y),z===d&&++Q===l&&(C=y),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ef={focusedElem:t,selectionRange:r},Ac=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ue=Kr(r.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){it(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function R0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),l&4&&co(5,r);break;case 1:if(os(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){it(r,r.return,y)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){it(r,r.return,y)}}l&64&&E0(r),l&512&&ho(r,r.return);break;case 3:if(os(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{hp(t,n)}catch(y){it(r,r.return,y)}}break;case 27:n===null&&l&4&&S0(r);case 26:case 5:os(t,r),n===null&&l&4&&x0(r),l&512&&ho(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),l&4&&k0(t,r);break;case 13:os(t,r),l&4&&I0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=JE.bind(null,r),yT(t,r))));break;case 22:if(l=r.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||jt,h=as;var d=jt;as=l,(jt=n)&&!d?us(t,r,(r.subtreeFlags&8772)!==0):os(t,r),as=h,jt=d}break;case 30:break;default:os(t,r)}}function N0(t){var n=t.alternate;n!==null&&(t.alternate=null,N0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&_a(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Tn=!1;function ls(t,n,r){for(r=r.child;r!==null;)C0(t,n,r),r=r.sibling}function C0(t,n,r){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(vn,r)}catch{}switch(r.tag){case 26:jt||ji(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||ji(r,n);var l=yt,h=Tn;Xs(r.type)&&(yt=r.stateNode,Tn=!1),ls(t,n,r),Eo(r.stateNode),yt=l,Tn=h;break;case 5:jt||ji(r,n);case 6:if(l=yt,h=Tn,yt=null,ls(t,n,r),yt=l,Tn=h,yt!==null)if(Tn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(r.stateNode)}catch(d){it(r,n,d)}else try{yt.removeChild(r.stateNode)}catch(d){it(r,n,d)}break;case 18:yt!==null&&(Tn?(t=yt,Ey(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),nl(t)):Ey(yt,r.stateNode));break;case 4:l=yt,h=Tn,yt=r.stateNode.containerInfo,Tn=!0,ls(t,n,r),yt=l,Tn=h;break;case 0:case 11:case 14:case 15:qs(2,r,n),jt||qs(4,r,n),ls(t,n,r);break;case 1:jt||(ji(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&T0(r,n,l)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:jt=(l=jt)||r.memoizedState!==null,ls(t,n,r),jt=l;break;default:ls(t,n,r)}}function k0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{nl(t)}catch(r){it(n,n.return,r)}}}function I0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{nl(t)}catch(r){it(n,n.return,r)}}function HE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new w0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new w0),n;default:throw Error(a(435,t.tag))}}function sc(t,n){var r=HE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ZE.bind(null,t,l);l.then(h,h)}})}function xn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Xs(E.type)){yt=E.stateNode,Tn=!1;break e}break;case 5:yt=E.stateNode,Tn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,Tn=!0;break e}E=E.return}if(yt===null)throw Error(a(160));C0(d,y,h),yt=null,Tn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)D0(n,t),n=n.sibling}var gi=null;function D0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(n,t),An(t),l&4&&(qs(3,t,t.return),co(3,t),qs(5,t,t.return));break;case 1:xn(n,t),An(t),l&512&&(jt||r===null||ji(r,r.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=gi;if(xn(n,t),An(t),l&512&&(jt||r===null||ji(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ti]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,r),d[kt]=t,It(d),l=d;break e;case"link":var y=Dy("link","href",h).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break t}}d=h.createElement(l),tn(d,l,r),h.head.appendChild(d);break;case"meta":if(y=Dy("meta","content",h).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break t}}d=h.createElement(l),tn(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[kt]=t,It(d),l=d}t.stateNode=l}else Oy(h,t.type,t.stateNode);else t.stateNode=Iy(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?Oy(h,t.type,t.stateNode):Iy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,r.memoizedProps)}break;case 27:xn(n,t),An(t),l&512&&(jt||r===null||ji(r,r.return)),r!==null&&l&4&&Xd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(xn(n,t),An(t),l&512&&(jt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(ue){it(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Xd(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Zd=!0);break;case 6:if(xn(n,t),An(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(ue){it(t,t.return,ue)}}break;case 3:if(bc=null,h=gi,gi=_c(n.containerInfo),xn(n,t),gi=h,An(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{nl(n.containerInfo)}catch(ue){it(t,t.return,ue)}Zd&&(Zd=!1,O0(t));break;case 4:l=gi,gi=_c(t.stateNode.containerInfo),xn(n,t),An(t),gi=l;break;case 12:xn(n,t),An(t);break;case 31:xn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 13:xn(n,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=$t()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,L=as,Q=jt;if(as=L||h,jt=Q||C,xn(n,t),jt=Q,as=L,An(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||as||jt||Yr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(d=C.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){it(C,C.return,ue)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){it(C,C.return,ue)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?Ty(H,!0):Ty(C.stateNode,!1)}catch(ue){it(C,C.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sc(t,r))));break;case 19:xn(n,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,sc(t,l)));break;case 30:break;case 21:break;default:xn(n,t),An(t)}}function An(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(A0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=$d(t);ic(t,d,h);break;case 5:var y=r.stateNode;r.flags&32&&(En(y,""),r.flags&=-33);var E=$d(t);ic(t,E,y);break;case 3:case 4:var C=r.stateNode.containerInfo,L=$d(t);Jd(t,L,C);break;default:throw Error(a(161))}}catch(Q){it(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function O0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;O0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)R0(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:qs(4,n,n.return),Yr(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&T0(n,n.return,r),Yr(n);break;case 27:Eo(n.stateNode);case 26:case 5:ji(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function us(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:us(h,d,r),co(4,d);break;case 1:if(us(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){it(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)cp(C[h],E)}catch(L){it(l,l.return,L)}}r&&y&64&&E0(d),ho(d,d.return);break;case 27:S0(d);case 26:case 5:us(h,d,r),r&&l===null&&y&4&&x0(d),ho(d,d.return);break;case 12:us(h,d,r);break;case 31:us(h,d,r),r&&y&4&&k0(h,d);break;case 13:us(h,d,r),r&&y&4&&I0(h,d);break;case 22:d.memoizedState===null&&us(h,d,r),ho(d,d.return);break;case 30:break;default:us(h,d,r)}n=n.sibling}}function Wd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Jl(r))}function ef(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t))}function pi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)M0(t,n,r,l),n=n.sibling}function M0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(t,n,r,l),h&2048&&co(9,n);break;case 1:pi(t,n,r,l);break;case 3:pi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Jl(t)));break;case 12:if(h&2048){pi(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(n,n.return,C)}}else pi(t,n,r,l);break;case 31:pi(t,n,r,l);break;case 13:pi(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?pi(t,n,r,l):fo(t,n):d._visibility&2?pi(t,n,r,l):(d._visibility|=2,Fa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wd(y,n);break;case 24:pi(t,n,r,l),h&2048&&ef(n.alternate,n);break;default:pi(t,n,r,l)}}function Fa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,y=n,E=r,C=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Fa(d,y,E,C,h),co(8,y);break;case 23:break;case 22:var Q=y.stateNode;y.memoizedState!==null?Q._visibility&2?Fa(d,y,E,C,h):fo(d,y):(Q._visibility|=2,Fa(d,y,E,C,h)),h&&L&2048&&Wd(y.alternate,y);break;case 24:Fa(d,y,E,C,h),h&&L&2048&&ef(y.alternate,y);break;default:Fa(d,y,E,C,h)}n=n.sibling}}function fo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:fo(r,l),h&2048&&Wd(l.alternate,l);break;case 24:fo(r,l),h&2048&&ef(l.alternate,l);break;default:fo(r,l)}n=n.sibling}}var mo=8192;function Qa(t,n,r){if(t.subtreeFlags&mo)for(t=t.child;t!==null;)V0(t,n,r),t=t.sibling}function V0(t,n,r){switch(t.tag){case 26:Qa(t,n,r),t.flags&mo&&t.memoizedState!==null&&CT(r,gi,t.memoizedState,t.memoizedProps);break;case 5:Qa(t,n,r);break;case 3:case 4:var l=gi;gi=_c(t.stateNode.containerInfo),Qa(t,n,r),gi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=mo,mo=16777216,Qa(t,n,r),mo=l):Qa(t,n,r));break;default:Qa(t,n,r)}}function j0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function go(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,U0(l,t)}j0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)P0(t),t=t.sibling}function P0(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&qs(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,rc(t)):go(t);break;default:go(t)}}function rc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,U0(l,t)}j0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:qs(8,n,n.return),rc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,rc(n));break;default:rc(n)}t=t.sibling}}function U0(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:qs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var h=l.sibling,d=l.return;if(N0(l),l===r){Yt=null;break e}if(h!==null){h.return=d,Yt=h;break e}Yt=d}}}var GE={getCacheForType:function(t){var n=Wt(Ot),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(Ot).controller.signal}},FE=typeof WeakMap=="function"?WeakMap:Map,We=0,ct=null,Le=null,qe=0,nt=0,Pn=null,Hs=!1,Ka=!1,tf=!1,cs=0,Tt=0,Gs=0,Xr=0,nf=0,Un=0,Ya=0,po=null,Sn=null,sf=!1,ac=0,L0=0,lc=1/0,oc=null,Fs=null,Bt=0,Qs=null,Xa=null,hs=0,rf=0,af=null,z0=null,yo=0,lf=null;function Ln(){return(We&2)!==0&&qe!==0?qe&-qe:F.T!==null?ff():uu()}function B0(){if(Un===0)if((qe&536870912)===0||Ke){var t=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),Un=t}else Un=536870912;return t=Vn.current,t!==null&&(t.flags|=32),Un}function wn(t,n,r){(t===ct&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&($a(t,0),Ks(t,qe,Un,!1)),xr(t,r),((We&2)===0||t!==ct)&&(t===ct&&((We&2)===0&&(Xr|=r),Tt===4&&Ks(t,qe,Un,!1)),Pi(t))}function q0(t,n,r){if((We&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||kn(t,n),h=l?YE(t,n):uf(t,n,!0),d=l;do{if(h===0){Ka&&!l&&Ks(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!QE(r)){h=uf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=po;var C=E.current.memoizedState.isDehydrated;if(C&&($a(E,y).flags|=256),y=uf(E,y,!1),y!==2){if(tf&&!C){E.errorRecoveryDisabledLanes|=d,Xr|=d,h=4;break e}d=Sn,Sn=h,d!==null&&(Sn===null?Sn=d:Sn.push.apply(Sn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),Ks(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(l,n,Un,!Hs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ac+300-$t(),10<h)){if(Ks(l,n,Un,!Hs),Gt(l,0,!0)!==0)break e;hs=n,l.timeoutHandle=vy(H0.bind(null,l,r,Sn,oc,sf,n,Un,Xr,Ya,Hs,d,"Throttled",-0,0),h);break e}H0(l,r,Sn,oc,sf,n,Un,Xr,Ya,Hs,d,null,-0,0)}}break}while(!0);Pi(t)}function H0(t,n,r,l,h,d,y,E,C,L,Q,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},V0(n,d,X);var ue=(d&62914560)===d?ac-$t():(d&4194048)===d?L0-$t():0;if(ue=kT(X,ue),ue!==null){hs=d,t.cancelPendingCommit=ue(J0.bind(null,t,n,d,r,l,h,y,E,C,Q,X,null,z,H)),Ks(t,d,y,!L);return}}J0(t,n,d,r,l,h,y,E,C)}function QE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!On(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,r,l){n&=~nf,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-se(h),y=1<<d;l[d]=-1,h&=~y}r!==0&&Ar(t,r,n)}function uc(){return(We&6)===0?(_o(0),!1):!0}function of(){if(Le!==null){if(nt===0)var t=Le.return;else t=Le,es=zr=null,xd(t),za=null,Wl=0,t=Le;for(;t!==null;)b0(t.alternate,t),t=t.return;Le=null}}function $a(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hs=0,of(),ct=t,Le=r=Zi(t.current,null),qe=n,nt=0,Pn=null,Hs=!1,Ka=kn(t,n),tf=!1,Ya=Un=nf=Xr=Gs=Tt=0,Sn=po=null,sf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-se(l),d=1<<h;n|=t[h],l&=~d}return cs=n,ku(),r}function G0(t,n){Oe=null,F.H=lo,n===La||n===Uu?(n=ap(),nt=3):n===hd?(n=ap(),nt=4):nt=n===Ld?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Pn=n,Le===null&&(Tt=1,Zu(t,Yn(n,t.current)))}function F0(){var t=Vn.current;return t===null?!0:(qe&4194048)===qe?Zn===null:(qe&62914560)===qe||(qe&536870912)!==0?t===Zn:!1}function Q0(){var t=F.H;return F.H=lo,t===null?lo:t}function K0(){var t=F.A;return F.A=GE,t}function cc(){Tt=4,Hs||(qe&4194048)!==qe&&Vn.current!==null||(Ka=!0),(Gs&134217727)===0&&(Xr&134217727)===0||ct===null||Ks(ct,qe,Un,!1)}function uf(t,n,r){var l=We;We|=2;var h=Q0(),d=K0();(ct!==t||qe!==n)&&(oc=null,$a(t,n)),n=!1;var y=Tt;e:do try{if(nt!==0&&Le!==null){var E=Le,C=Pn;switch(nt){case 8:of(),y=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var L=nt;if(nt=0,Pn=null,Ja(t,E,C,L),r&&Ka){y=0;break e}break;default:L=nt,nt=0,Pn=null,Ja(t,E,C,L)}}KE(),y=Tt;break}catch(Q){G0(t,Q)}while(!0);return n&&t.shellSuspendCounter++,es=zr=null,We=l,F.H=h,F.A=d,Le===null&&(ct=null,qe=0,ku()),y}function KE(){for(;Le!==null;)Y0(Le)}function YE(t,n){var r=We;We|=2;var l=Q0(),h=K0();ct!==t||qe!==n?(oc=null,lc=$t()+500,$a(t,n)):Ka=kn(t,n);e:do try{if(nt!==0&&Le!==null){n=Le;var d=Pn;t:switch(nt){case 1:nt=0,Pn=null,Ja(t,n,d,1);break;case 2:case 9:if(sp(d)){nt=0,Pn=null,X0(n);break}n=function(){nt!==2&&nt!==9||ct!==t||(nt=7),Pi(t)},d.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:sp(d)?(nt=0,Pn=null,X0(n)):(nt=0,Pn=null,Ja(t,n,d,7));break;case 5:var y=null;switch(Le.tag){case 26:y=Le.memoizedState;case 5:case 27:var E=Le;if(y?My(y):E.stateNode.complete){nt=0,Pn=null;var C=E.sibling;if(C!==null)Le=C;else{var L=E.return;L!==null?(Le=L,hc(L)):Le=null}break t}}nt=0,Pn=null,Ja(t,n,d,5);break;case 6:nt=0,Pn=null,Ja(t,n,d,6);break;case 8:of(),Tt=6;break e;default:throw Error(a(462))}}XE();break}catch(Q){G0(t,Q)}while(!0);return es=zr=null,F.H=l,F.A=h,We=r,Le!==null?0:(ct=null,qe=0,ku(),Tt)}function XE(){for(;Le!==null&&!br();)Y0(Le)}function Y0(t){var n=_0(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?hc(t):Le=n}function X0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=d0(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=d0(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:xd(n);default:b0(r,n),n=Le=Kg(n,cs),n=_0(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?hc(t):Le=n}function Ja(t,n,r,l){es=zr=null,xd(n),za=null,Wl=0;var h=n.return;try{if(PE(t,h,n,r,qe)){Tt=1,Zu(t,Yn(r,t.current)),Le=null;return}}catch(d){if(h!==null)throw Le=h,d;Tt=1,Zu(t,Yn(r,t.current)),Le=null;return}n.flags&32768?(Ke||l===1?t=!0:Ka||(qe&536870912)!==0?t=!1:(Hs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$0(n,t)):hc(n)}function hc(t){var n=t;do{if((n.flags&32768)!==0){$0(n,Hs);return}t=n.return;var r=zE(n.alternate,n,cs);if(r!==null){Le=r;return}if(n=n.sibling,n!==null){Le=n;return}Le=n=t}while(n!==null);Tt===0&&(Tt=5)}function $0(t,n){do{var r=BE(t.alternate,t);if(r!==null){r.flags&=32767,Le=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Le=t;return}Le=t=r}while(t!==null);Tt=6,Le=null}function J0(t,n,r,l,h,d,y,E,C){t.cancelPendingCommit=null;do dc();while(Bt!==0);if((We&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=$h,Bh(t,r,d,y,E,C),t===ct&&(Le=ct=null,qe=0),Xa=n,Qs=t,hs=r,rf=d,af=h,z0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WE(ai,function(){return ny(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,y=We,We|=4;try{qE(t,n,r)}finally{We=y,ne.p=h,F.T=l}}Bt=1,Z0(),W0(),ey()}}function Z0(){if(Bt===1){Bt=0;var t=Qs,n=Xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ne.p;ne.p=2;var h=We;We|=4;try{D0(n,t);var d=Ef,y=Ug(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&Pg(E.ownerDocument.documentElement,E)){if(C!==null&&Fh(E)){var L=C.start,Q=C.end;if(Q===void 0&&(Q=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=E.textContent.length,_e=Math.min(C.start,ue),ot=C.end===void 0?_e:Math.min(C.end,ue);!H.extend&&_e>ot&&(y=ot,ot=_e,_e=y);var V=jg(E,_e),D=jg(E,ot);if(V&&D&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=X.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),_e>ot?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!bf,Ef=bf=null}finally{We=h,ne.p=l,F.T=r}}t.current=n,Bt=2}}function W0(){if(Bt===2){Bt=0;var t=Qs,n=Xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ne.p;ne.p=2;var h=We;We|=4;try{R0(t,n.alternate,n)}finally{We=h,ne.p=l,F.T=r}}Bt=3}}function ey(){if(Bt===4||Bt===3){Bt=0,xs();var t=Qs,n=Xa,r=hs,l=z0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Xa=Qs=null,ty(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Yi(r),n=n.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(vn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var d=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];d(E.value,{componentStack:E.stack})}}finally{F.T=n,ne.p=h}}(hs&3)!==0&&dc(),Pi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===lf?yo++:(yo=0,lf=t):yo=0,_o(0)}}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Jl(n)))}function dc(){return Z0(),W0(),ey(),ny()}function ny(){if(Bt!==5)return!1;var t=Qs,n=rf;rf=0;var r=Yi(hs),l=F.T,h=ne.p;try{ne.p=32>r?32:r,F.T=null,r=af,af=null;var d=Qs,y=hs;if(Bt=0,Xa=Qs=null,hs=0,(We&6)!==0)throw Error(a(331));var E=We;if(We|=4,P0(d.current),M0(d,d.current,y,r),We=E,_o(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(vn,d)}catch{}return!0}finally{ne.p=h,F.T=l,ty(t,n)}}function iy(t,n,r){n=Yn(r,n),n=Ud(t.stateNode,n,2),t=Ls(t,n,2),t!==null&&(xr(t,2),Pi(t))}function it(t,n,r){if(t.tag===3)iy(t,t,r);else for(;n!==null;){if(n.tag===3){iy(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Yn(r,t),r=s0(2),l=Ls(n,r,2),l!==null&&(r0(r,l,n,t),xr(l,2),Pi(l));break}}n=n.return}}function cf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new FE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(tf=!0,h.add(r),t=$E.bind(null,t,n,r),n.then(t,t))}function $E(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ct===t&&(qe&r)===r&&(Tt===4||Tt===3&&(qe&62914560)===qe&&300>$t()-ac?(We&2)===0&&$a(t,0):nf|=r,Ya===qe&&(Ya=0)),Pi(t)}function sy(t,n){n===0&&(n=pa()),t=Pr(t,n),t!==null&&(xr(t,n),Pi(t))}function JE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sy(t,r)}function ZE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),sy(t,r)}function WE(t,n){return xt(t,n)}var fc=null,Za=null,hf=!1,mc=!1,df=!1,Ys=0;function Pi(t){t!==Za&&t.next===null&&(Za===null?fc=Za=t:Za=Za.next=t),mc=!0,hf||(hf=!0,tT())}function _o(t,n){if(!df&&mc){df=!0;do for(var r=!1,l=fc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-se(42|t)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,oy(l,d))}else d=qe,d=Gt(l,l===ct?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||kn(l,d)||(r=!0,oy(l,d));l=l.next}while(r);df=!1}}function eT(){ry()}function ry(){mc=hf=!1;var t=0;Ys!==0&&hT()&&(t=Ys);for(var n=$t(),r=null,l=fc;l!==null;){var h=l.next,d=ay(l,n);d===0?(l.next=null,r===null?fc=h:r.next=h,h===null&&(Za=r)):(r=l,(t!==0||(d&3)!==0)&&(mc=!0)),l=h}Bt!==0&&Bt!==5||_o(t),Ys!==0&&(Ys=0)}function ay(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var y=31-se(d),E=1<<y,C=h[y];C===-1?((E&r)===0||(E&l)!==0)&&(h[y]=Ft(E,n)):C<=n&&(t.expiredLanes|=E),d&=~E}if(n=ct,r=qe,r=Gt(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_n(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||kn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&_n(l),Yi(r)){case 2:case 8:r=Tr;break;case 32:r=ai;break;case 268435456:r=fa;break;default:r=ai}return l=ly.bind(null,t),r=xt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&_n(l),t.callbackPriority=2,t.callbackNode=null,2}function ly(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(dc()&&t.callbackNode!==r)return null;var l=qe;return l=Gt(t,t===ct?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(q0(t,l,n),ay(t,$t()),t.callbackNode!=null&&t.callbackNode===r?ly.bind(null,t):null)}function oy(t,n){if(dc())return null;q0(t,n,!0)}function tT(){fT(function(){(We&6)!==0?xt(Er,eT):ry()})}function ff(){if(Ys===0){var t=Pa;t===0&&(t=Ye,Ye<<=1,(Ye&261888)===0&&(Ye=256)),Ys=t}return Ys}function uy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function cy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function nT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=uy((h[Qt]||null).action),y=l.submitter;y&&(n=(n=y[Qt]||null)?uy(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var E=new ki("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ys!==0){var C=y?cy(h,y):new FormData(h);Dd(r,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=y?cy(h,y):new FormData(h),Dd(r,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var mf=0;mf<Xh.length;mf++){var gf=Xh[mf],iT=gf.toLowerCase(),sT=gf[0].toUpperCase()+gf.slice(1);mi(iT,"on"+sT)}mi(Bg,"onAnimationEnd"),mi(qg,"onAnimationIteration"),mi(Hg,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(bE,"onTransitionRun"),mi(EE,"onTransitionStart"),mi(TE,"onTransitionCancel"),mi(Gg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vo));function hy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(Q){Cu(Q)}h.currentTarget=null,d=C}else for(y=0;y<l.length;y++){if(E=l[y],C=E.instance,L=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(Q){Cu(Q)}h.currentTarget=null,d=C}}}}function ze(t,n){var r=n[ya];r===void 0&&(r=n[ya]=new Set);var l=t+"__bubble";r.has(l)||(dy(n,t,2,!1),r.add(l))}function pf(t,n,r){var l=0;n&&(l|=4),dy(r,t,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function yf(t){if(!t[gc]){t[gc]=!0,kl.forEach(function(r){r!=="selectionchange"&&(rT.has(r)||pf(r,!1,t),pf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[gc]||(n[gc]=!0,pf("selectionchange",!1,n))}}function dy(t,n,r,l){switch(By(n)){case 2:var h=OT;break;case 8:h=MT;break;default:h=Df}r=h.bind(null,n,r,t),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function _f(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=xi(E),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){l=d=y;continue e}E=E.parentNode}}l=l.return}Cs(function(){var L=d,Q=Gn(r),X=[];e:{var z=Fg.get(t);if(z!==void 0){var H=ki,ue=t;switch(t){case"keypress":if(Ir(r)===0)break e;case"keydown":case"keyup":H=wu;break;case"focusin":ue="focus",H=Or;break;case"focusout":ue="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Bg:case qg:case Hg:H=vu;break;case Gg:H=x;break;case"scroll":case"scrollend":H=ql;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=De}var _e=(n&4)!==0,ot=!_e&&(t==="scroll"||t==="scrollend"),V=_e?z!==null?z+"Capture":null:z;_e=[];for(var D=L,U;D!==null;){var K=D;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||V===null||(K=ci(D,V),K!=null&&_e.push(bo(D,K,U))),ot)break;D=D.return}0<_e.length&&(z=new H(z,ue,null,r,Q),X.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Ll&&(ue=r.relatedTarget||r.fromElement)&&(xi(ue)||ue[Ei]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=r.relatedTarget||r.toElement,H=L,ue=ue?xi(ue):null,ue!==null&&(ot=c(ue),_e=ue.tag,ue!==ot||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(H=null,ue=L),H!==ue)){if(_e=Hl,K="onMouseLeave",V="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ji,K="onPointerLeave",V="onPointerEnter",D="pointer"),ot=H==null?z:In(H),U=ue==null?z:In(ue),z=new _e(K,D+"leave",H,r,Q),z.target=ot,z.relatedTarget=U,K=null,xi(Q)===L&&(_e=new _e(V,D+"enter",ue,r,Q),_e.target=U,_e.relatedTarget=ot,K=_e),ot=K,H&&ue)t:{for(_e=aT,V=H,D=ue,U=0,K=V;K;K=_e(K))U++;K=0;for(var fe=D;fe;fe=_e(fe))K++;for(;0<U-K;)V=_e(V),U--;for(;0<K-U;)D=_e(D),K--;for(;U--;){if(V===D||D!==null&&V===D.alternate){_e=V;break t}V=_e(V),D=_e(D)}_e=null}else _e=null;H!==null&&fy(X,z,H,_e,!1),ue!==null&&ot!==null&&fy(X,ot,ue,_e,!0)}}e:{if(z=L?In(L):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=kg;else if(Ng(z))if(Ig)$e=yE;else{$e=gE;var ce=mE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&Ea(L.elementType)&&($e=kg):$e=pE;if($e&&($e=$e(t,L))){Cg(X,$e,r,Q);break e}ce&&ce(t,z,L),t==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&jl(z,"number",z.value)}switch(ce=L?In(L):window,t){case"focusin":(Ng(ce)||ce.contentEditable==="true")&&(Ca=ce,Qh=L,Yl=null);break;case"focusout":Yl=Qh=Ca=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Lg(X,r,Q);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":Lg(X,r,Q)}var Ve;if(Ze)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Na?Mr(t,r)&&(He="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(Oi&&r.locale!=="ko"&&(Na||He!=="onCompositionStart"?He==="onCompositionEnd"&&Na&&(Ve=Bl()):(Ci=Q,zl="value"in Ci?Ci.value:Ci.textContent,Na=!0)),ce=pc(L,He),0<ce.length&&(He=new Di(He,t,null,r,Q),X.push({event:He,listeners:ce}),Ve?He.data=Ve:(Ve=Ra(r),Ve!==null&&(He.data=Ve)))),(Ve=Qn?cE(t,r):hE(t,r))&&(He=pc(L,"onBeforeInput"),0<He.length&&(ce=new Di("onBeforeInput","beforeinput",null,r,Q),X.push({event:ce,listeners:He}),ce.data=Ve)),nT(X,t,L,r,Q)}hy(X,n)})}function bo(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ci(t,r),h!=null&&l.unshift(bo(t,h,d)),h=ci(t,n),h!=null&&l.push(bo(t,h,d))),t.tag===3)return l;t=t.return}return[]}function aT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fy(t,n,r,l,h){for(var d=n._reactName,y=[];r!==null&&r!==l;){var E=r,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=ci(r,d),L!=null&&y.unshift(bo(r,L,C))):h||(L=ci(r,d),L!=null&&y.push(bo(r,L,C)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var lT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function my(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(oT,"")}function gy(t,n){return n=my(n),my(t)===n}function lt(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(t,""+l);break;case"className":Dn(t,"class",l);break;case"tabIndex":Dn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(t,r,l);break;case"style":Ul(t,l,d);break;case"data":if(n!=="object"){Dn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&lt(t,n,"name",h.name,h,null),lt(t,n,"formEncType",h.formEncType,h,null),lt(t,n,"formMethod",h.formMethod,h,null),lt(t,n,"formTarget",h.formTarget,h,null)):(lt(t,n,"encType",h.encType,h,null),lt(t,n,"method",h.method,h,null),lt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ta(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ui);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),va(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,va(t,r,l))}}function vf(t,n,r,l,h,d){switch(r){case"style":Ul(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[Qt]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):va(t,r,l)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,d,y,r,null)}}h&&lt(t,n,"srcSet",r.srcSet,r,null),l&&lt(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var E=d=y=h=null,C=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var Q=r[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":y=Q;break;case"checked":C=Q;break;case"defaultChecked":L=Q;break;case"value":d=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:lt(t,n,l,Q,r,null)}}fu(t,d,E,C,L,y,h,!1);return;case"select":ze("invalid",t),l=y=d=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:lt(t,n,h,E,r,null)}n=d,r=y,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):r!=null&&Ss(t,!!l,r,!0);return;case"textarea":ze("invalid",t),d=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:lt(t,n,y,E,r,null)}ws(t,l,h,d);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":lt(t,n,C,l,r,null));return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<vo.length;l++)ze(vo[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:lt(t,n,L,l,r,null)}return;default:if(Ea(n)){for(Q in r)r.hasOwnProperty(Q)&&(l=r[Q],l!==void 0&&vf(t,n,Q,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&lt(t,n,E,l,r,null))}function uT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,C=null,L=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||lt(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":Q=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&lt(t,n,z,H,l,X)}}ba(t,y,E,C,L,Q,d,h);return;case"select":H=y=E=z=null;for(d in r)if(C=r[d],r.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||lt(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=r[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==C&&lt(t,n,h,d,l,C)}n=E,r=y,l=H,z!=null?Ss(t,!!r,z,!1):!!l!=!!r&&(n!=null?Ss(t,!!r,n,!0):Ss(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:lt(t,n,E,null,l,h)}for(y in l)if(h=l[y],d=r[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&lt(t,n,y,h,l,d)}mu(t,z,H);return;case"option":for(var ue in r)z=r[ue],r.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue)&&(ue==="selected"?t.selected=!1:lt(t,n,ue,null,l,z));for(C in l)z=l[C],H=r[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":lt(t,n,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)z=r[_e],r.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&lt(t,n,_e,null,l,z);for(L in l)if(z=l[L],H=r[L],l.hasOwnProperty(L)&&z!==H&&(z!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:lt(t,n,L,z,l,H)}return;default:if(Ea(n)){for(var ot in r)z=r[ot],r.hasOwnProperty(ot)&&z!==void 0&&!l.hasOwnProperty(ot)&&vf(t,n,ot,void 0,l,z);for(Q in l)z=l[Q],H=r[Q],!l.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||vf(t,n,Q,z,l,H);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&lt(t,n,V,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||lt(t,n,X,z,l,H)}function py(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&py(y)){for(y=0,E=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],L=C.startTime;if(L>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&py(X)&&(C=C.responseEnd,y+=Q*(C<E?1:(E-L)/(C-L)))}if(--l,n+=8*(d+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var bf=null,Ef=null;function yc(t){return t.nodeType===9?t:t.ownerDocument}function yy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _y(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xf=null;function hT(){var t=window.event;return t&&t.type==="popstate"?t===xf?!1:(xf=t,!0):(xf=null,!1)}var vy=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(mT)}:vy;function mT(t){setTimeout(function(){throw t})}function Xs(t){return t==="head"}function Ey(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),nl(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Eo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Eo(r);for(var d=r.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=y}}else r==="body"&&Eo(t.ownerDocument.body);r=h}while(r);nl(n)}function Ty(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Af(r),_a(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function pT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Wn(t.nextSibling),t===null))return null;return t}function xy(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Wn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$?"||t.data==="$~"}function wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Rf=null;function Ay(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Wn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Sy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function wy(t,n,r){switch(n=yc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Eo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);_a(t)}var ei=new Map,Ry=new Set;function _c(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ne.d;ne.d={f:_T,r:vT,D:bT,C:ET,L:TT,m:xT,X:ST,S:AT,M:wT};function _T(){var t=ds.f(),n=uc();return t||n}function vT(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?Gp(n):ds.r(t)}var Wa=typeof document>"u"?null:document;function Ny(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var h=bn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ry.has(h)||(Ry.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),tn(n,"link",t),It(n),l.head.appendChild(n)))}}function bT(t){ds.D(t),Ny("dns-prefetch",t,null)}function ET(t,n){ds.C(t,n),Ny("preconnect",t,n)}function TT(t,n,r){ds.L(t,n,r);var l=Wa;if(l&&t&&n){var h='link[rel="preload"][as="'+bn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+bn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+bn(r.imageSizes)+'"]')):h+='[href="'+bn(t)+'"]';var d=h;switch(n){case"style":d=el(t);break;case"script":d=tl(t)}ei.has(d)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ei.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(To(d))||n==="script"&&l.querySelector(xo(d))||(n=l.createElement("link"),tn(n,"link",t),It(n),l.head.appendChild(n)))}}function xT(t,n){ds.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+bn(l)+'"][href="'+bn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=tl(t)}if(!ei.has(d)&&(t=S({rel:"modulepreload",href:t},n),ei.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(xo(d)))return}l=r.createElement("link"),tn(l,"link",t),It(l),r.head.appendChild(l)}}}function AT(t,n,r){ds.S(t,n,r);var l=Wa;if(l&&t){var h=Ai(l).hoistableStyles,d=el(t);n=n||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(To(d)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ei.get(d))&&Nf(t,r);var C=y=l.createElement("link");It(C),tn(C,"link",t),C._p=new Promise(function(L,Q){C.onload=L,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function ST(t,n){ds.X(t,n);var r=Wa;if(r&&t){var l=Ai(r).hoistableScripts,h=tl(t),d=l.get(h);d||(d=r.querySelector(xo(h)),d||(t=S({src:t,async:!0},n),(n=ei.get(h))&&Cf(t,n),d=r.createElement("script"),It(d),tn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function wT(t,n){ds.M(t,n);var r=Wa;if(r&&t){var l=Ai(r).hoistableScripts,h=tl(t),d=l.get(h);d||(d=r.querySelector(xo(h)),d||(t=S({src:t,async:!0,type:"module"},n),(n=ei.get(h))&&Cf(t,n),d=r.createElement("script"),It(d),tn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Cy(t,n,r,l){var h=(h=Se.current)?_c(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=el(r.href),r=Ai(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=el(r.href);var d=Ai(h).hoistableStyles,y=d.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,y),(d=h.querySelector(To(t)))&&!d._p&&(y.instance=d,y.state.loading=5),ei.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ei.set(t,r),d||RT(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=tl(r),r=Ai(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function el(t){return'href="'+bn(t)+'"'}function To(t){return'link[rel="stylesheet"]['+t+"]"}function ky(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function RT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",r),It(n),t.head.appendChild(n))}function tl(t){return'[src="'+bn(t)+'"]'}function xo(t){return"script[async]"+t}function Iy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+bn(r.href)+'"]');if(l)return n.instance=l,It(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),It(l),tn(l,"style",h),vc(l,r.precedence,t),n.instance=l;case"stylesheet":h=el(r.href);var d=t.querySelector(To(h));if(d)return n.state.loading|=4,n.instance=d,It(d),d;l=ky(r),(h=ei.get(h))&&Nf(l,h),d=(t.ownerDocument||t).createElement("link"),It(d);var y=d;return y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),tn(d,"link",l),n.state.loading|=4,vc(d,r.precedence,t),n.instance=d;case"script":return d=tl(r.src),(h=t.querySelector(xo(d)))?(n.instance=h,It(h),h):(l=r,(h=ei.get(d))&&(l=S({},r),Cf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),It(h),tn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vc(l,r.precedence,t));return n.instance}function vc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var bc=null;function Dy(t,n,r){if(bc===null){var l=new Map,h=bc=new Map;h.set(r,l)}else h=bc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[Ti]||d[kt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(d):l.set(y,[d])}}return l}function Oy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function NT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function My(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function CT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=el(l.href),d=n.querySelector(To(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,It(d);return}d=n.ownerDocument||n,l=ky(l),(h=ei.get(h))&&Nf(l,h),d=d.createElement("link"),It(d);var y=d;y._p=new Promise(function(E,C){y.onload=E,y.onerror=C}),tn(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var kf=0;function kT(t,n){return t.stylesheets&&t.count===0&&xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&kf===0&&(kf=62500*cT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>kf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function xc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(IT,t),Tc=null,Ec.call(t))}function IT(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var l=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),d=r.get(y)||l,d===l&&r.set(null,h),r.set(y,h),this.count++,l=Ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Ao={$$typeof:Te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function DT(t,n,r,l,h,d,y,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qn(0),this.hiddenUpdates=qn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Vy(t,n,r,l,h,d,y,E,C,L,Q,X){return t=new DT(t,n,r,y,C,L,Q,X,E),n=1,d===!0&&(n|=24),d=Mn(3,null,null,n),t.current=d,d.stateNode=t,n=od(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},dd(d),t}function jy(t){return t?(t=Da,t):Da}function Py(t,n,r,l,h,d){h=jy(h),l.context===null?l.context=h:l.pendingContext=h,l=Us(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Ls(t,l,n),r!==null&&(wn(r,t,n),to(r,t,n))}function Uy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function If(t,n){Uy(t,n),(t=t.alternate)&&Uy(t,n)}function Ly(t){if(t.tag===13||t.tag===31){var n=Pr(t,67108864);n!==null&&wn(n,t,67108864),If(t,67108864)}}function zy(t){if(t.tag===13||t.tag===31){var n=Ln();n=Sr(n);var r=Pr(t,n);r!==null&&wn(r,t,n),If(t,n)}}var Ac=!0;function OT(t,n,r,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=2,Df(t,n,r,l)}finally{ne.p=d,F.T=h}}function MT(t,n,r,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=8,Df(t,n,r,l)}finally{ne.p=d,F.T=h}}function Df(t,n,r,l){if(Ac){var h=Of(l);if(h===null)_f(t,n,l,Sc,r),qy(t,l);else if(jT(h,t,n,r,l))l.stopPropagation();else if(qy(t,l),n&4&&-1<VT.indexOf(t)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=ln(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var C=1<<31-se(y);E.entanglements[1]|=C,y&=~C}Pi(d),(We&6)===0&&(lc=$t()+500,_o(0))}}break;case 31:case 13:E=Pr(d,2),E!==null&&wn(E,d,2),uc(),If(d,2)}if(d=Of(l),d===null&&_f(t,n,l,Sc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else _f(t,n,l,null,r)}}function Of(t){return t=Gn(t),Mf(t)}var Sc=null;function Mf(t){if(Sc=null,t=xi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case Er:return 2;case Tr:return 8;case ai:case da:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Vf=!1,$s=null,Js=null,Zs=null,So=new Map,wo=new Map,Ws=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(t,n){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":So.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(n.pointerId)}}function Ro(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&Ly(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function jT(t,n,r,l,h){switch(n){case"focusin":return $s=Ro($s,t,n,r,l,h),!0;case"dragenter":return Js=Ro(Js,t,n,r,l,h),!0;case"mouseover":return Zs=Ro(Zs,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return So.set(d,Ro(So.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,wo.set(d,Ro(wo.get(d)||null,t,n,r,l,h)),!0}return!1}function Hy(t){var n=xi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,li(t.priority,function(){zy(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,li(t.priority,function(){zy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Of(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ll=l,r.target.dispatchEvent(l),Ll=null}else return n=Hn(r),n!==null&&Ly(n),t.blockedOn=r,!1;n.shift()}return!0}function Gy(t,n,r){wc(t)&&r.delete(n)}function PT(){Vf=!1,$s!==null&&wc($s)&&($s=null),Js!==null&&wc(Js)&&(Js=null),Zs!==null&&wc(Zs)&&(Zs=null),So.forEach(Gy),wo.forEach(Gy)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Vf||(Vf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PT)))}var Nc=null;function Fy(t){Nc!==t&&(Nc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nc===t&&(Nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Mf(l||r)===null)continue;break}var d=Hn(r);d!==null&&(t.splice(n,3),n-=3,Dd(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function nl(t){function n(C){return Rc(C,t)}$s!==null&&Rc($s,t),Js!==null&&Rc(Js,t),Zs!==null&&Rc(Zs,t),So.forEach(n),wo.forEach(n);for(var r=0;r<Ws.length;r++){var l=Ws[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ws.length&&(r=Ws[0],r.blockedOn===null);)Hy(r),r.blockedOn===null&&Ws.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],y=h[Qt]||null;if(typeof d=="function")y||Fy(r);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Qt]||null)E=y.formAction;else if(Mf(h)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Fy(r)}}}function Qy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jf(t){this._internalRoot=t}Cc.prototype.render=jf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Ln();Py(r,l,t,n,null,null)},Cc.prototype.unmount=jf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Py(t.current,2,null,t,null,null),uc(),n[Ei]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=uu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ws.length&&n!==0&&n<Ws[r].priority;r++);Ws.splice(r,0,t),r===0&&Hy(t)}};var Ky=e.version;if(Ky!=="19.2.4")throw Error(a(527,Ky,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var UT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{vn=kc.inject(UT),zt=kc}catch{}}return Co.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=e0,d=t0,y=n0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Vy(t,1,!1,null,null,r,l,null,h,d,y,Qy),t[Ei]=n.current,yf(t),new jf(n)},Co.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=e0,y=t0,E=n0,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Vy(t,1,!0,n,r??null,l,h,C,d,y,E,Qy),n.context=jy(null),r=n.current,l=Ln(),l=Sr(l),h=Us(l),h.callback=null,Ls(r,h,l),r=l,n.current.lanes=r,xr(n,r),Pi(n),t[Ei]=n.current,yf(t),new Cc(n)},Co.version="19.2.4",Co}var i_;function $T(){if(i_)return Lf.exports;i_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Lf.exports=XT(),Lf.exports}var JT=$T();const ZT=()=>{};var s_={};const Lv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},WT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],f=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let k=(g&15)<<2|v>>6,G=v&63;_||(G=64,f||(k=64)),a.push(i[T],i[S],i[k],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Lv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):WT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||v==null||S==null)throw new ex;const k=c<<2|g>>4;if(a.push(k),v!==64){const G=g<<4&240|v>>2;if(a.push(G),S!==64){const ee=v<<6&192|S;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class ex extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tx=function(s){const e=Lv(s);return zv.encodeByteArray(e,!0)},Wc=function(s){return tx(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ix=()=>nx().__FIREBASE_DEFAULTS__,sx=()=>{if(typeof process>"u"||typeof s_>"u")return;const s=s_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Bv(s[1]);return e&&JSON.parse(e)},bh=()=>{try{return ZT()||ix()||sx()||rx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qv=s=>bh()?.emulatorHosts?.[s],ax=s=>{const e=qv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Hv=()=>bh()?.config,Gv=s=>bh()?.[`_${s}`];class lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function El(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(s){return(await fetch(s,{credentials:"include"})).ok}function ox(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(f)),""].join(".")}const Uo={};function ux(){const s={prod:[],emulator:[]};for(const e of Object.keys(Uo))Uo[e]?s.emulator.push(e):s.prod.push(e);return s}function cx(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let r_=!1;function Qv(s,e){if(typeof window>"u"||typeof document>"u"||!El(window.location.host)||Uo[s]===e||Uo[s]||r_)return;Uo[s]=e;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=ux().prod.length>0;function f(){const k=document.getElementById(a);k&&k.remove()}function g(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function _(k,G){k.setAttribute("width","24"),k.setAttribute("id",G),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function v(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{r_=!0,f()},k}function T(k,G){k.setAttribute("id",G),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function S(){const k=cx(a),G=i("text"),ee=document.getElementById(G)||document.createElement("span"),re=i("learnmore"),W=document.getElementById(re)||document.createElement("a"),me=i("preprendIcon"),pe=document.getElementById(me)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const Te=k.element;g(Te),T(W,re);const Ae=v();_(pe,me),Te.append(pe,ee,W,Ae),document.body.appendChild(Te)}c?(ee.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function dx(){const s=bh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mx(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function px(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yx(){return!dx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _x(){try{return typeof indexedDB=="object"}catch{return!1}}function vx(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const bx="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=bx,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Ex(c,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Es(o,g,a)}}function Ex(s,e){return s.replace(Tx,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const Tx=/\{\$([^}]+)}/g;function xx(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],f=e[o];if(a_(c)&&a_(f)){if(!ia(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function a_(s){return s!==null&&typeof s=="object"}function eu(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Ax(s,e){const i=new Sx(s,e);return i.subscribe.bind(i)}class Sx{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wx(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Hf),o.error===void 0&&(o.error=Hf),o.complete===void 0&&(o.complete=Hf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wx(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Hf(){}function rn(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class Rx{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new lx;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Cx(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Nx(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nx(s){return s===$r?void 0:s}function Cx(s){return s.instantiationMode==="EAGER"}class kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Rx(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Ge;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ge||(Ge={}));const Ix={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Dx=Ge.INFO,Ox={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Mx=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=Ox[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=Dx,this._logHandler=Mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ix[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const Vx=(s,e)=>e.some(i=>s instanceof i);let l_,o_;function jx(){return l_||(l_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Px(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,am=new WeakMap,Yv=new WeakMap,Gf=new WeakMap,Vm=new WeakMap;function Ux(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(ar(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),Vm.set(e,s),e}function Lx(s){if(am.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});am.set(s,e)}let lm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return am.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Yv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function zx(s){lm=s(lm)}function Bx(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Ff(this),e,...i);return Yv.set(a,e.sort?e.sort():[e]),ar(a)}:Px().includes(s)?function(...e){return s.apply(Ff(this),e),ar(Kv.get(this))}:function(...e){return ar(s.apply(Ff(this),e))}}function qx(s){return typeof s=="function"?Bx(s):(s instanceof IDBTransaction&&Lx(s),Vx(s,jx())?new Proxy(s,lm):s)}function ar(s){if(s instanceof IDBRequest)return Ux(s);if(Gf.has(s))return Gf.get(s);const e=qx(s);return e!==s&&(Gf.set(s,e),Vm.set(e,s)),e}const Ff=s=>Vm.get(s);function Hx(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),g=ar(f);return a&&f.addEventListener("upgradeneeded",_=>{a(ar(f.result),_.oldVersion,_.newVersion,ar(f.transaction),_)}),i&&f.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const Gx=["get","getKey","getAll","getAllKeys","count"],Fx=["put","add","delete","clear"],Qf=new Map;function u_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=Fx.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Gx.includes(i)))return;const c=async function(f,...g){const _=this.transaction(f,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Qf.set(e,c),c}zx(s=>({...s,get:(e,i,a)=>u_(e,i)||s.get(e,i,a),has:(e,i)=>!!u_(e,i)||s.has(e,i)}));class Qx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Kx(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Kx(s){return s.getComponent()?.type==="VERSION"}const om="@firebase/app",c_="0.14.8";const ys=new Mm("@firebase/app"),Yx="@firebase/app-compat",Xx="@firebase/analytics-compat",$x="@firebase/analytics",Jx="@firebase/app-check-compat",Zx="@firebase/app-check",Wx="@firebase/auth",eA="@firebase/auth-compat",tA="@firebase/database",nA="@firebase/data-connect",iA="@firebase/database-compat",sA="@firebase/functions",rA="@firebase/functions-compat",aA="@firebase/installations",lA="@firebase/installations-compat",oA="@firebase/messaging",uA="@firebase/messaging-compat",cA="@firebase/performance",hA="@firebase/performance-compat",dA="@firebase/remote-config",fA="@firebase/remote-config-compat",mA="@firebase/storage",gA="@firebase/storage-compat",pA="@firebase/firestore",yA="@firebase/ai",_A="@firebase/firestore-compat",vA="firebase",bA="12.9.0";const um="[DEFAULT]",EA={[om]:"fire-core",[Yx]:"fire-core-compat",[$x]:"fire-analytics",[Xx]:"fire-analytics-compat",[Zx]:"fire-app-check",[Jx]:"fire-app-check-compat",[Wx]:"fire-auth",[eA]:"fire-auth-compat",[tA]:"fire-rtdb",[nA]:"fire-data-connect",[iA]:"fire-rtdb-compat",[sA]:"fire-fn",[rA]:"fire-fn-compat",[aA]:"fire-iid",[lA]:"fire-iid-compat",[oA]:"fire-fcm",[uA]:"fire-fcm-compat",[cA]:"fire-perf",[hA]:"fire-perf-compat",[dA]:"fire-rc",[fA]:"fire-rc-compat",[mA]:"fire-gcs",[gA]:"fire-gcs-compat",[pA]:"fire-fst",[_A]:"fire-fst-compat",[yA]:"fire-vertex","fire-js":"fire-js",[vA]:"fire-js-all"};const eh=new Map,TA=new Map,cm=new Map;function h_(s,e){try{s.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function ml(s){const e=s.name;if(cm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;cm.set(e,s);for(const i of eh.values())h_(i,s);for(const i of TA.values())h_(i,s);return!0}function jm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function yi(s){return s==null?!1:s.settings!==void 0}const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Wo("app","Firebase",xA);class AA{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const Tl=bA;function Xv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:um,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(i||(i=Hv()),!i)throw lr.create("no-options");const c=eh.get(o);if(c){if(ia(i,c.options)&&ia(a,c.config))return c;throw lr.create("duplicate-app",{appName:o})}const f=new kx(o);for(const _ of cm.values())f.addComponent(_);const g=new AA(i,a,f);return eh.set(o,g),g}function $v(s=um){const e=eh.get(s);if(!e&&s===um&&Hv())return Xv();if(!e)throw lr.create("no-app",{appName:s});return e}function or(s,e,i){let a=EA[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(f.join(" "));return}ml(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const SA="firebase-heartbeat-database",wA=1,Go="firebase-heartbeat-store";let Kf=null;function Jv(){return Kf||(Kf=Hx(SA,wA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Go)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Kf}async function RA(s){try{const i=(await Jv()).transaction(Go),a=await i.objectStore(Go).get(Zv(s));return await i.done,a}catch(e){if(e instanceof Es)ys.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function d_(s,e){try{const a=(await Jv()).transaction(Go,"readwrite");await a.objectStore(Go).put(e,Zv(s)),await a.done}catch(i){if(i instanceof Es)ys.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Zv(s){return`${s.name}!${s.options.appId}`}const NA=1024,CA=30;class kA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=f_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>CA){const o=OA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=f_(),{heartbeatsToSend:i,unsentEntries:a}=IA(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ys.warn(e),""}}}function f_(){return new Date().toISOString().substring(0,10)}function IA(s,e=NA){const i=[];let a=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),m_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),m_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _x()?vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return d_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function m_(s){return Wc(JSON.stringify({version:2,heartbeats:s})).length}function OA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function MA(s){ml(new sa("platform-logger",e=>new Qx(e),"PRIVATE")),ml(new sa("heartbeat",e=>new kA(e),"PRIVATE")),or(om,c_,s),or(om,c_,"esm2020"),or("fire-js","")}MA("");var VA="firebase",jA="12.9.0";or(VA,jA,"app");function Wv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PA=Wv,eb=new Wo("auth","Firebase",Wv());const th=new Mm("@firebase/auth");function UA(s,...e){th.logLevel<=Ge.WARN&&th.warn(`Auth (${Tl}): ${s}`,...e)}function Bc(s,...e){th.logLevel<=Ge.ERROR&&th.error(`Auth (${Tl}): ${s}`,...e)}function Gi(s,...e){throw Um(s,...e)}function vi(s,...e){return Um(s,...e)}function Pm(s,e,i){const a={...PA(),[e]:i};return new Wo("auth","Firebase",a).create(e,{appName:s.name})}function ea(s){return Pm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function LA(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Gi(s,"argument-error"),Pm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return eb.create(s,...e)}function xe(s,e,...i){if(!s)throw Um(e,...i)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Bc(e),new Error(e)}function _s(s,e){s||gs(e)}function hm(){return typeof self<"u"&&self.location?.href||""}function zA(){return g_()==="http:"||g_()==="https:"}function g_(){return typeof self<"u"&&self.location?.protocol||null}function BA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zA()||mx()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class tu{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=hx()||gx()}get(){return BA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Lm(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class tb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FA=new tu(3e4,6e4);function zm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function xl(s,e,i,a,o={}){return nb(s,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const g=eu({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const v={method:e,headers:_,...c};return fx()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&El(s.emulatorConfig.host)&&(v.credentials="include"),tb.fetch()(await ib(s,s.config.apiHost,i,g),v)})}async function nb(s,e,i){s._canInitEmulator=!1;const a={...HA,...e};try{const o=new KA(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ic(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",f);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Pm(s,T,v);Gi(s,T)}}catch(o){if(o instanceof Es)throw o;Gi(s,"network-request-failed",{message:String(o)})}}async function QA(s,e,i,a,o={}){const c=await xl(s,e,i,a,o);return"mfaPendingCredential"in c&&Gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function ib(s,e,i,a){const o=`${e}${i}?${a}`,c=s,f=c.config.emulator?Lm(s.config,o):`${s.config.apiScheme}://${o}`;return GA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(vi(this.auth,"network-request-failed")),FA.get())})}}function Ic(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=vi(s,e,a);return o.customData._tokenResponse=i,o}async function YA(s,e){return xl(s,"POST","/v1/accounts:delete",e)}async function nh(s,e){return xl(s,"POST","/v1/accounts:lookup",e)}function Lo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XA(s,e=!1){const i=rn(s),a=await i.getIdToken(e),o=Bm(a);xe(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:Lo(Yf(o.auth_time)),issuedAtTime:Lo(Yf(o.iat)),expirationTime:Lo(Yf(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yf(s){return Number(s)*1e3}function Bm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bv(i);return o?JSON.parse(o):(Bc("Failed to decode base64 JWT payload"),null)}catch(o){return Bc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function p_(s){const e=Bm(s);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Fo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Es&&$A(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $A({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class JA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class dm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const e=s.auth,i=await s.getIdToken(),a=await Fo(s,nh(e,{idToken:i}));xe(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?sb(o.providerUserInfo):[],f=WA(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,v=g?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(s,T)}async function ZA(s){const e=rn(s);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WA(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function sb(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function e2(s,e){const i=await nb(s,{},async()=>{const a=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await ib(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&El(s.emulatorConfig.host)&&(_.credentials="include"),tb.fetch()(f,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function t2(s,e){return xl(s,"POST","/v2/accounts:revokeToken",zm(s,e))}class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):p_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const i=p_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await e2(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,f=new ol;return a&&(xe(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(xe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(xe(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return gs("not implemented")}}function tr(s,e){xe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new JA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return xe(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return XA(this,e)}reload(){return ZA(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await Fo(this,YA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,v=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:k,isAnonymous:G,providerData:ee,stsTokenManager:re}=i;xe(S&&re,e,"internal-error");const W=ol.fromJSON(this.name,re);xe(typeof S=="string",e,"internal-error"),tr(a,e.name),tr(o,e.name),xe(typeof k=="boolean",e,"internal-error"),xe(typeof G=="boolean",e,"internal-error"),tr(c,e.name),tr(f,e.name),tr(g,e.name),tr(_,e.name),tr(v,e.name),tr(T,e.name);const me=new _i({uid:S,auth:e,email:o,emailVerified:k,displayName:a,isAnonymous:G,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:v,lastLoginAt:T});return ee&&Array.isArray(ee)&&(me.providerData=ee.map(pe=>({...pe}))),_&&(me._redirectEventId=_),me}static async _fromIdTokenResponse(e,i,a=!1){const o=new ol;o.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await ih(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];xe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?sb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new ol;g.updateFromIdToken(a);const _=new _i({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,v),_}}const y_=new Map;function ps(s){_s(s instanceof Function,"Expected a class definition");let e=y_.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,y_.set(s,e),e)}class rb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}rb.type="NONE";const __=rb;function qc(s,e,i){return`firebase:${s}:${e}:${i}`}class ul{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,c),this.fullPersistenceKey=qc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await nh(this.auth,{idToken:e}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ul(ps(__),e,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||ps(__);const f=qc(a,e.config.apiKey,e.name);let g=null;for(const v of i)try{const T=await v._get(f);if(T){let S;if(typeof T=="string"){const k=await nh(e,{idToken:T}).catch(()=>{});if(!k)break;S=await _i._fromGetAccountInfoResponse(e,k,T)}else S=_i._fromJSON(e,T);v!==c&&(g=S),c=v;break}}catch{}const _=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ul(c,e,a):(c=_[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(f)}catch{}})),new ul(c,e,a))}}function v_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ub(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hb(e))return"Blackberry";if(db(e))return"Webos";if(lb(e))return"Safari";if((e.includes("chrome/")||ob(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function ab(s=dn()){return/firefox\//i.test(s)}function lb(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ob(s=dn()){return/crios\//i.test(s)}function ub(s=dn()){return/iemobile/i.test(s)}function cb(s=dn()){return/android/i.test(s)}function hb(s=dn()){return/blackberry/i.test(s)}function db(s=dn()){return/webos/i.test(s)}function qm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function n2(s=dn()){return qm(s)&&!!window.navigator?.standalone}function i2(){return px()&&document.documentMode===10}function fb(s=dn()){return qm(s)||cb(s)||db(s)||hb(s)||/windows phone/i.test(s)||ub(s)}function mb(s,e=[]){let i;switch(s){case"Browser":i=v_(dn());break;case"Worker":i=`${v_(dn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Tl}/${a}`}class s2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((f,g)=>{try{const _=e(c);f(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function r2(s,e={}){return xl(s,"GET","/v2/passwordPolicy",zm(s,e))}const a2=6;class l2{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??a2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class o2{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b_(this),this.idTokenSubscription=new b_(this),this.beforeStateQueue=new s2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await nh(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(ea(this));const i=e?rn(e):null;return i&&xe(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await r2(this),i=new l2(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await t2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;xe(i,this,"argument-error"),this.redirectPersistenceManager=await ul.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{f=!0,_()}}else{const _=e.addObserver(i);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&UA(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Eh(s){return rn(s)}class b_{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ax(i=>this.observer=i)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Hm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u2(s){Hm=s}function c2(s){return Hm.loadJS(s)}function h2(){return Hm.gapiScript}function d2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function f2(s,e){const i=jm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ia(c,e??{}))return o;Gi(o,"already-initialized")}return i.initialize({options:e})}function m2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function g2(s,e,i){const a=Eh(s);xe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=gb(e),{host:f,port:g}=p2(e),_=g===null?"":`:${g}`,v={url:`${c}//${f}${_}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xe(ia(v,a.config.emulator)&&ia(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,El(f)?(Fv(`${c}//${f}${_}`),Qv("Auth",!0)):y2()}function gb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function p2(s){const e=gb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:E_(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:E_(f)}}}function E_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function y2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class pb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function cl(s,e){return QA(s,"POST","/v1/accounts:signInWithIdp",zm(s,e))}const _2="http://localhost";class ra extends pb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const f=new ra(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return cl(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,cl(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,cl(e,i)}buildRequest(){const e={requestUri:_2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=eu(i)}return e}}class Gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nu extends Gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends nu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ms extends nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ms.credential(i,a)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class ir extends nu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends nu{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await _i._fromIdTokenResponse(e,a,o),f=T_(a);return new gl({user:c,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=T_(a);return new gl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function T_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class sh extends Es{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new sh(e,i,a,o)}}function yb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,e,a):c})}async function v2(s,e,i=!1){const a=await Fo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return gl._forOperation(s,"link",a)}async function b2(s,e,i=!1){const{auth:a}=s;if(yi(a.app))return Promise.reject(ea(a));const o="reauthenticate";try{const c=await Fo(s,yb(a,o,e,s),i);xe(c.idToken,a,"internal-error");const f=Bm(c.idToken);xe(f,a,"internal-error");const{sub:g}=f;return xe(s.uid===g,a,"user-mismatch"),gl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Gi(a,"user-mismatch"),c}}async function E2(s,e,i=!1){if(yi(s.app))return Promise.reject(ea(s));const a="signIn",o=await yb(s,a,e),c=await gl._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function T2(s,e,i,a){return rn(s).onIdTokenChanged(e,i,a)}function x2(s,e,i){return rn(s).beforeAuthStateChanged(e,i)}function A2(s,e,i,a){return rn(s).onAuthStateChanged(e,i,a)}function x_(s){return rn(s).signOut()}const rh="__sak";class _b{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(rh,"1"),this.storage.removeItem(rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const S2=1e3,w2=10;class vb extends _b{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);i2()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,w2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},S2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}vb.type="LOCAL";const R2=vb;class bb extends _b{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}bb.type="SESSION";const Eb=bb;function N2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Th{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Th(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(f).map(async v=>v(i.origin,c)),_=await N2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Th.receivers=[];function Fm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class C2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,_)=>{const v=Fm("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(S){const k=S;if(k.data.eventId===v)switch(k.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Li(){return window}function k2(s){Li().location.href=s}function Tb(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function I2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D2(){return navigator?.serviceWorker?.controller||null}function O2(){return Tb()?self:null}const xb="firebaseLocalStorageDb",M2=1,ah="firebaseLocalStorage",Ab="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,e){return s.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function V2(){const s=indexedDB.deleteDatabase(xb);return new iu(s).toPromise()}function fm(){const s=indexedDB.open(xb,M2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ah,{keyPath:Ab})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await V2(),e(await fm()))})})}async function A_(s,e,i){const a=xh(s,!0).put({[Ab]:e,value:i});return new iu(a).toPromise()}async function j2(s,e){const i=xh(s,!1).get(e),a=await new iu(i).toPromise();return a===void 0?null:a.value}function S_(s,e){const i=xh(s,!0).delete(e);return new iu(i).toPromise()}const P2=800,U2=3;class Sb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>U2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Th._getInstance(O2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await I2(),!this.activeServiceWorker)return;this.sender=new C2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||D2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await A_(e,rh,"1"),await S_(e,rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>A_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>j2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>S_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=xh(o,!1).getAll();return new iu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sb.type="LOCAL";const L2=Sb;new tu(3e4,6e4);function wb(s,e){return e?ps(e):(xe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Qm extends pb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cl(e,this._buildIdpRequest())}_linkToIdToken(e,i){return cl(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return cl(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function z2(s){return E2(s.auth,new Qm(s),s.bypassAuthState)}function B2(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),b2(i,new Qm(s),s.bypassAuthState)}async function q2(s){const{auth:e,user:i}=s;return xe(i,e,"internal-error"),v2(i,new Qm(s),s.bypassAuthState)}class Rb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z2;case"linkViaPopup":case"linkViaRedirect":return q2;case"reauthViaPopup":case"reauthViaRedirect":return B2;default:Gi(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const H2=new tu(2e3,1e4);async function G2(s,e,i){if(yi(s.app))return Promise.reject(vi(s,"operation-not-supported-in-this-environment"));const a=Eh(s);LA(s,e,Gm);const o=wb(a,i);return new Jr(a,"signInViaPopup",e,o).executeNotNull()}class Jr extends Rb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Fm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H2.get())};e()}}Jr.currentPopupAction=null;const F2="pendingRedirect",Hc=new Map;class Q2 extends Rb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Hc.get(this.auth._key());if(!e){try{const a=await K2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Hc.set(this.auth._key(),e)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K2(s,e){const i=$2(e),a=X2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Y2(s,e){Hc.set(s._key(),e)}function X2(s){return ps(s._redirectPersistence)}function $2(s){return qc(F2,s.config.apiKey,s.name)}async function J2(s,e,i=!1){if(yi(s.app))return Promise.reject(ea(s));const a=Eh(s),o=wb(a,e),f=await new Q2(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const Z2=600*1e3;class W2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eS(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Nb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(vi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z2&&this.cachedEventUids.clear(),this.cachedEventUids.has(w_(e))}saveEventToCache(e){this.cachedEventUids.add(w_(e)),this.lastProcessedEventTime=Date.now()}}function w_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Nb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function eS(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nb(s);default:return!1}}async function tS(s,e={}){return xl(s,"GET","/v1/projects",e)}const nS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iS=/^https?/;async function sS(s){if(s.config.emulator)return;const{authorizedDomains:e}=await tS(s);for(const i of e)try{if(rS(i))return}catch{}Gi(s,"unauthorized-domain")}function rS(s){const e=hm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!iS.test(i))return!1;if(nS.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const aS=new tu(3e4,6e4);function R_(){const s=Li().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function lS(s){return new Promise((e,i)=>{function a(){R_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R_(),i(vi(s,"network-request-failed"))},timeout:aS.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)a();else{const o=d2("iframefcb");return Li()[o]=()=>{gapi.load?a():i(vi(s,"network-request-failed"))},c2(`${h2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function oS(s){return Gc=Gc||lS(s),Gc}const uS=new tu(5e3,15e3),cS="__/auth/iframe",hS="emulator/auth/iframe",dS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mS(s){const e=s.config;xe(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Lm(e,hS):`https://${s.config.authDomain}/${cS}`,a={apiKey:e.apiKey,appName:s.name,v:Tl},o=fS.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${eu(a).slice(1)}`}async function gS(s){const e=await oS(s),i=Li().gapi;return xe(i,s,"internal-error"),e.open({where:document.body,url:mS(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dS,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=vi(s,"network-request-failed"),g=Li().setTimeout(()=>{c(f)},uS.get());function _(){Li().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(f)})}))}const pS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yS=500,_S=600,vS="_blank",bS="http://localhost";class N_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ES(s,e,i,a=yS,o=_S){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...pS,width:a.toString(),height:o.toString(),top:c,left:f},v=dn().toLowerCase();i&&(g=ob(v)?vS:i),ab(v)&&(e=e||bS,_.scrollbars="yes");const T=Object.entries(_).reduce((k,[G,ee])=>`${k}${G}=${ee},`,"");if(n2(v)&&g!=="_self")return TS(e||"",g),new N_(null);const S=window.open(e||"",g,T);xe(S,s,"popup-blocked");try{S.focus()}catch{}return new N_(S)}function TS(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const xS="__/auth/handler",AS="emulator/auth/handler",SS=encodeURIComponent("fac");async function C_(s,e,i,a,o,c){xe(s.config.authDomain,s,"auth-domain-config-required"),xe(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Tl,eventId:o};if(e instanceof Gm){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",xx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))f[T]=S}if(e instanceof nu){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),v=_?`#${SS}=${encodeURIComponent(_)}`:"";return`${wS(s)}?${eu(g).slice(1)}${v}`}function wS({config:s}){return s.emulator?Lm(s,AS):`https://${s.authDomain}/${xS}`}const Xf="webStorageSupport";class RS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=J2,this._overrideRedirectResult=Y2}async _openPopup(e,i,a,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await C_(e,i,a,hm(),o);return ES(e,c,Fm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await C_(e,i,a,hm(),o);return k2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await gS(e),a=new W2(e);return i.register("authEvent",o=>(xe(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Xf,{type:Xf},o=>{const c=o?.[0]?.[Xf];c!==void 0&&i(!!c),Gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sS(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return fb()||lb()||qm()}}const NS=RS;var k_="@firebase/auth",I_="1.12.0";class CS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kS(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IS(s){ml(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;xe(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mb(s)},v=new o2(a,o,c,_);return m2(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ml(new sa("auth-internal",e=>{const i=Eh(e.getProvider("auth").getImmediate());return(a=>new CS(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(k_,I_,kS(s)),or(k_,I_,"esm2020")}const DS=300,OS=Gv("authIdTokenMaxAge")||DS;let D_=null;const MS=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>OS)return;const o=i?.token;D_!==o&&(D_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VS(s=$v()){const e=jm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=f2(s,{popupRedirectResolver:NS,persistence:[L2,R2,Eb]}),a=Gv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=MS(c.toString());x2(i,f,()=>f(i.currentUser)),T2(i,g=>f(g))}}const o=qv("auth");return o&&g2(i,`http://${o}`),i}function jS(){return document.getElementsByTagName("head")?.[0]??document}u2({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=vi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",jS().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IS("Browser");var O_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,Cb;(function(){var s;function e(w,A){function R(){}R.prototype=A.prototype,w.F=A.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(M,I,j){for(var N=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)N[ht-2]=arguments[ht];return A.prototype[I].apply(M,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)M[I]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(I=0;I<16;++I)M[I]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=w.g[0],R=w.g[1],I=w.g[2];let j=w.g[3],N;N=A+(j^R&(I^j))+M[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(I^A&(R^I))+M[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=I+(R^j&(A^R))+M[2]+606105819&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(A^I&(j^A))+M[3]+3250441966&4294967295,R=I+(N<<22&4294967295|N>>>10),N=A+(j^R&(I^j))+M[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(I^A&(R^I))+M[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=I+(R^j&(A^R))+M[6]+2821735955&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(A^I&(j^A))+M[7]+4249261313&4294967295,R=I+(N<<22&4294967295|N>>>10),N=A+(j^R&(I^j))+M[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(I^A&(R^I))+M[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=I+(R^j&(A^R))+M[10]+4294925233&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(A^I&(j^A))+M[11]+2304563134&4294967295,R=I+(N<<22&4294967295|N>>>10),N=A+(j^R&(I^j))+M[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=j+(I^A&(R^I))+M[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=I+(R^j&(A^R))+M[14]+2792965006&4294967295,I=j+(N<<17&4294967295|N>>>15),N=R+(A^I&(j^A))+M[15]+1236535329&4294967295,R=I+(N<<22&4294967295|N>>>10),N=A+(I^j&(R^I))+M[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(A^R))+M[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=I+(A^R&(j^A))+M[11]+643717713&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(I^j))+M[0]+3921069994&4294967295,R=I+(N<<20&4294967295|N>>>12),N=A+(I^j&(R^I))+M[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(A^R))+M[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=I+(A^R&(j^A))+M[15]+3634488961&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(I^j))+M[4]+3889429448&4294967295,R=I+(N<<20&4294967295|N>>>12),N=A+(I^j&(R^I))+M[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(A^R))+M[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=I+(A^R&(j^A))+M[3]+4107603335&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(I^j))+M[8]+1163531501&4294967295,R=I+(N<<20&4294967295|N>>>12),N=A+(I^j&(R^I))+M[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=j+(R^I&(A^R))+M[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=I+(A^R&(j^A))+M[7]+1735328473&4294967295,I=j+(N<<14&4294967295|N>>>18),N=R+(j^A&(I^j))+M[12]+2368359562&4294967295,R=I+(N<<20&4294967295|N>>>12),N=A+(R^I^j)+M[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^I)+M[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=I+(j^A^R)+M[11]+1839030562&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^A)+M[14]+4259657740&4294967295,R=I+(N<<23&4294967295|N>>>9),N=A+(R^I^j)+M[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^I)+M[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=I+(j^A^R)+M[7]+4139469664&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^A)+M[10]+3200236656&4294967295,R=I+(N<<23&4294967295|N>>>9),N=A+(R^I^j)+M[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^I)+M[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=I+(j^A^R)+M[3]+3572445317&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^A)+M[6]+76029189&4294967295,R=I+(N<<23&4294967295|N>>>9),N=A+(R^I^j)+M[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=j+(A^R^I)+M[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=I+(j^A^R)+M[15]+530742520&4294967295,I=j+(N<<16&4294967295|N>>>16),N=R+(I^j^A)+M[2]+3299628645&4294967295,R=I+(N<<23&4294967295|N>>>9),N=A+(I^(R|~j))+M[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~I))+M[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=I+(A^(j|~R))+M[14]+2878612391&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~A))+M[5]+4237533241&4294967295,R=I+(N<<21&4294967295|N>>>11),N=A+(I^(R|~j))+M[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~I))+M[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=I+(A^(j|~R))+M[10]+4293915773&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~A))+M[1]+2240044497&4294967295,R=I+(N<<21&4294967295|N>>>11),N=A+(I^(R|~j))+M[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~I))+M[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=I+(A^(j|~R))+M[6]+2734768916&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~A))+M[13]+1309151649&4294967295,R=I+(N<<21&4294967295|N>>>11),N=A+(I^(R|~j))+M[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=j+(R^(A|~I))+M[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=I+(A^(j|~R))+M[2]+718787259&4294967295,I=j+(N<<15&4294967295|N>>>17),N=R+(j^(I|~A))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+A&4294967295,w.g[1]=w.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+j&4294967295}a.prototype.v=function(w,A){A===void 0&&(A=w.length);const R=A-this.blockSize,M=this.C;let I=this.h,j=0;for(;j<A;){if(I==0)for(;j<=R;)o(this,w,j),j+=this.blockSize;if(typeof w=="string"){for(;j<A;)if(M[I++]=w.charCodeAt(j++),I==this.blockSize){o(this,M),I=0;break}}else for(;j<A;)if(M[I++]=w[j++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=A},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var A=1;A<w.length-8;++A)w[A]=0;A=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=A&255,A/=256;for(this.v(w),w=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)w[A++]=this.g[R]>>>M&255;return w};function c(w,A){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=A(w)}function f(w,A){this.h=A;const R=[];let M=!0;for(let I=w.length-1;I>=0;I--){const j=w[I]|0;M&&j==A||(R[I]=j,M=!1)}this.g=R}var g={};function _(w){return-128<=w&&w<128?c(w,function(A){return new f([A|0],A<0?-1:0)}):new f([w|0],w<0?-1:0)}function v(w){if(isNaN(w)||!isFinite(w))return S;if(w<0)return W(v(-w));const A=[];let R=1;for(let M=0;w>=R;M++)A[M]=w/R|0,R*=4294967296;return new f(A,0)}function T(w,A){if(w.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w.charAt(0)=="-")return W(T(w.substring(1),A));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=v(Math.pow(A,8));let M=S;for(let j=0;j<w.length;j+=8){var I=Math.min(8,w.length-j);const N=parseInt(w.substring(j,j+I),A);I<8?(I=v(Math.pow(A,I)),M=M.j(I).add(v(N))):(M=M.j(R),M=M.add(v(N)))}return M}var S=_(0),k=_(1),G=_(16777216);s=f.prototype,s.m=function(){if(re(this))return-W(this).m();let w=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);w+=(M>=0?M:4294967296+M)*A,A*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(ee(this))return"0";if(re(this))return"-"+W(this).toString(w);const A=v(Math.pow(w,6));var R=this;let M="";for(;;){const I=Ae(R,A).g;R=me(R,I.j(A));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=I,ee(R))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function ee(w){if(w.h!=0)return!1;for(let A=0;A<w.g.length;A++)if(w.g[A]!=0)return!1;return!0}function re(w){return w.h==-1}s.l=function(w){return w=me(this,w),re(w)?-1:ee(w)?0:1};function W(w){const A=w.g.length,R=[];for(let M=0;M<A;M++)R[M]=~w.g[M];return new f(R,~w.h).add(k)}s.abs=function(){return re(this)?W(this):this},s.add=function(w){const A=Math.max(this.g.length,w.g.length),R=[];let M=0;for(let I=0;I<=A;I++){let j=M+(this.i(I)&65535)+(w.i(I)&65535),N=(j>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);M=N>>>16,j&=65535,N&=65535,R[I]=N<<16|j}return new f(R,R[R.length-1]&-2147483648?-1:0)};function me(w,A){return w.add(W(A))}s.j=function(w){if(ee(this)||ee(w))return S;if(re(this))return re(w)?W(this).j(W(w)):W(W(this).j(w));if(re(w))return W(this.j(W(w)));if(this.l(G)<0&&w.l(G)<0)return v(this.m()*w.m());const A=this.g.length+w.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<w.g.length;I++){const j=this.i(M)>>>16,N=this.i(M)&65535,ht=w.i(I)>>>16,vt=w.i(I)&65535;R[2*M+2*I]+=N*vt,pe(R,2*M+2*I),R[2*M+2*I+1]+=j*vt,pe(R,2*M+2*I+1),R[2*M+2*I+1]+=N*ht,pe(R,2*M+2*I+1),R[2*M+2*I+2]+=j*ht,pe(R,2*M+2*I+2)}for(w=0;w<A;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=A;w<2*A;w++)R[w]=0;return new f(R,0)};function pe(w,A){for(;(w[A]&65535)!=w[A];)w[A+1]+=w[A]>>>16,w[A]&=65535,A++}function Te(w,A){this.g=w,this.h=A}function Ae(w,A){if(ee(A))throw Error("division by zero");if(ee(w))return new Te(S,S);if(re(w))return A=Ae(W(w),A),new Te(W(A.g),W(A.h));if(re(A))return A=Ae(w,W(A)),new Te(W(A.g),A.h);if(w.g.length>30){if(re(w)||re(A))throw Error("slowDivide_ only works with positive integers.");for(var R=k,M=A;M.l(w)<=0;)R=B(R),M=B(M);var I=ae(R,1),j=ae(M,1);for(M=ae(M,2),R=ae(R,2);!ee(M);){var N=j.add(M);N.l(w)<=0&&(I=I.add(R),j=N),M=ae(M,1),R=ae(R,1)}return A=me(w,I.j(A)),new Te(I,A)}for(I=S;w.l(A)>=0;){for(R=Math.max(1,Math.floor(w.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=v(R),N=j.j(A);re(N)||N.l(w)>0;)R-=M,j=v(R),N=j.j(A);ee(j)&&(j=k),I=I.add(j),w=me(w,N)}return new Te(I,w)}s.B=function(w){return Ae(this,w).h},s.and=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&w.i(M);return new f(R,this.h&w.h)},s.or=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|w.i(M);return new f(R,this.h|w.h)},s.xor=function(w){const A=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^w.i(M);return new f(R,this.h^w.h)};function B(w){const A=w.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=w.i(M)<<1|w.i(M-1)>>>31;return new f(R,w.h)}function ae(w,A){const R=A>>5;A%=32;const M=w.g.length-R,I=[];for(let j=0;j<M;j++)I[j]=A>0?w.i(j+R)>>>A|w.i(j+R+1)<<32-A:w.i(j+R);return new f(I,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Cb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,ur=f}).apply(typeof O_<"u"?O_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kb,Oo,Ib,Fc,mm,Db,Ob,Mb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var b=u[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var b=a;u=u.split(".");for(var x=0;x<u.length-1;x++){var P=u[x];if(!(P in b))break e;b=b[P]}u=u[u.length-1],x=b[u],m=m(x),m!=x&&m!=null&&e(b,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var b=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&b.push([x,m[x]]);return b}});var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,b){return u.call.apply(u.bind,arguments)}function v(u,m,b){return v=_,v.apply(null,arguments)}function T(u,m){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function S(u,m){function b(){}b.prototype=m.prototype,u.Z=m.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(x,P,q){for(var te=Array(arguments.length-2),De=2;De<arguments.length;De++)te[De-2]=arguments[De];return m.prototype[P].apply(x,te)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const b=Array(m);for(let x=0;x<m;x++)b[x]=u[x];return b}return[]}function ee(u,m){for(let x=1;x<arguments.length;x++){const P=arguments[x];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=u.length||0;const q=P.length||0;u.length=b+q;for(let te=0;te<q;te++)u[b+te]=P[te]}else u.push(P)}}class re{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){f.setTimeout(()=>{throw u},0)}function me(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,b){const x=Te.get();x.set(m,b),this.h?this.h.next=x:this.g=x,this.h=x}}var Te=new re(()=>new Ae,u=>u.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let B,ae=!1,w=new pe,A=()=>{const u=Promise.resolve(void 0);B=()=>{u.then(R)}};function R(){for(var u;u=me();){try{u.h.call(u.g)}catch(b){W(b)}var m=Te;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ae=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,m),f.removeEventListener("test",b,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function ht(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ht,I),ht.prototype.init=function(u,m){const b=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(b=="mouseover"?m=u.fromElement:b=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ht.Z.h.call(this)},ht.prototype.h=function(){ht.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,m,b,x,P){this.listener=u,this.proxy=null,this.src=m,this.type=b,this.capture=!!x,this.ha=P,this.key=++F,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Be(u,m,b){for(const x in u)m.call(b,u[x],x,u)}function Ue(u,m){for(const b in u)m.call(void 0,u[b],b,u)}function O(u){const m={};for(const b in u)m[b]=u[b];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let b,x;for(let P=1;P<arguments.length;P++){x=arguments[P];for(b in x)u[b]=x[b];for(let q=0;q<Y.length;q++)b=Y[q],Object.prototype.hasOwnProperty.call(x,b)&&(u[b]=x[b])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,b,x,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const te=Se(u,m,x,P);return te>-1?(m=u[te],b||(m.fa=!1)):(m=new ne(m,this.src,q,!!x,P),m.fa=b,u.push(m)),m};function ve(u,m){const b=m.type;if(b in u.g){var x=u.g[b],P=Array.prototype.indexOf.call(x,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(x,P,1),q&&(de(m),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Se(u,m,b,x){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!b&&q.ha==x)return P}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),st={};function ut(u,m,b,x,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ut(u,m[q],b,x,P);return null}return b=yn(b),u&&u[vt]?u.J(m,b,g(x)?!!x.capture:!1,P):Ki(u,m,b,!1,x,P)}function Ki(u,m,b,x,P,q){if(!m)throw Error("Invalid event type");const te=g(P)?!!P.capture:!!P;let De=fn(u);if(De||(u[ke]=De=new le(u)),b=De.add(m,b,x,te,q),b.proxy)return b;if(x=Nt(),b.proxy=x,x.src=u,x.listener=b,u.addEventListener)j||(P=te),P===void 0&&(P=!1),u.addEventListener(m.toString(),x,P);else if(u.attachEvent)u.attachEvent(Cn(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Nt(){function u(b){return m.call(u.src,u.listener,b)}const m=si;return u}function Ts(u,m,b,x,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ts(u,m[q],b,x,P);else x=g(x)?!!x.capture:!!x,b=yn(b),u&&u[vt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],b=Se(m,b,x,P),b>-1&&(de(m[b]),Array.prototype.splice.call(m,b,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=fn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,b,x,P)),(b=u>-1?m[u]:null)&&Bn(b))}function Bn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[vt])ve(m.i,u);else{var b=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(b,x,u.capture):m.detachEvent?m.detachEvent(Cn(b),x):m.addListener&&m.removeListener&&m.removeListener(x),(b=fn(m))?(ve(b,u),b.h==0&&(b.src=null,m[ke]=null)):de(u)}}}function Cn(u){return u in st?st[u]:st[u]="on"+u}function si(u,m){if(u.da)u=!0;else{m=new ht(m,this);const b=u.listener,x=u.ha||u.src;u.fa&&Bn(u),u=b.call(x,m)}return u}function fn(u){return u=u[ke],u instanceof le?u:null}var Ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function yn(u){return typeof u=="function"?u:(u[Ct]||(u[Ct]=function(m){return u.handleEvent(m)}),u[Ct])}function bt(){M.call(this),this.i=new le(this),this.M=this,this.G=null}S(bt,M),bt.prototype[vt]=!0,bt.prototype.removeEventListener=function(u,m,b,x){Ts(this,u,m,b,x)};function xt(u,m){var b,x=u.G;if(x)for(b=[];x;x=x.G)b.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var P=m;m=new I(x,u),ie(m,P)}P=!0;let q,te;if(b)for(te=b.length-1;te>=0;te--)q=m.g=b[te],P=_n(q,x,!0,m)&&P;if(q=m.g=u,P=_n(q,x,!0,m)&&P,P=_n(q,x,!1,m)&&P,b)for(te=0;te<b.length;te++)q=m.g=b[te],P=_n(q,x,!1,m)&&P}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const b=u.g[m];for(let x=0;x<b.length;x++)de(b[x]);delete u.g[m],u.h--}}this.G=null},bt.prototype.J=function(u,m,b,x){return this.i.add(String(u),m,!1,b,x)},bt.prototype.K=function(u,m,b,x){return this.i.add(String(u),m,!0,b,x)};function _n(u,m,b,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const te=m[q];if(te&&!te.da&&te.capture==b){const De=te.listener,At=te.ha||te.src;te.fa&&ve(u.i,te),P=De.call(At,x)!==!1&&P}}return P&&!x.defaultPrevented}function br(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function xs(u){u.g=br(()=>{u.g=null,u.i&&(u.i=!1,xs(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $t extends M{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(u){M.call(this),this.h=u,this.g={}}S(ri,M);var Er=[];function Tr(u){Be(u.g,function(m,b){this.g.hasOwnProperty(b)&&Bn(m)},u),u.g={}}ri.prototype.N=function(){ri.Z.N.call(this),Tr(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=f.JSON.stringify,da=f.JSON.parse,fa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function ma(){}function ga(){}var vn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){I.call(this,"d")}S(zt,I);function J(){I.call(this,"c")}S(J,I);var se={},Re=null;function Ie(){return Re=Re||new bt}se.Ia="serverreachability";function Me(u){I.call(this,se.Ia,u)}S(Me,I);function Ye(u){const m=Ie();xt(m,new Me(m))}se.STAT_EVENT="statevent";function ye(u,m){I.call(this,se.STAT_EVENT,u),this.stat=m}S(ye,I);function je(u){const m=Ie();xt(m,new ye(m,u))}se.Ja="timingevent";function ln(u,m){I.call(this,se.Ja,u),this.size=m}S(ln,I);function Gt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Ft(u,m,b,x,P,q){u.info(function(){if(u.g)if(q){var te="",De=q.split("&");for(let Ze=0;Ze<De.length;Ze++){var At=De[Ze].split("=");if(At.length>1){const pt=At[0];At=At[1];const Qn=pt.split("_");te=Qn.length>=2&&Qn[1]=="type"?te+(pt+"="+At+"&"):te+(pt+"=redacted&")}}}else te=null;else te=q;return"XMLHTTP REQ ("+x+") [attempt "+P+"]: "+m+`
`+b+`
`+te})}function pa(u,m,b,x,P,q,te){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+P+"]: "+m+`
`+b+`
`+q+" "+te})}function qn(u,m,b,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Bh(u,b)+(x?" "+x:"")})}function xr(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function Bh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var b=q[u];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<x.length;te++)x[te]=""}}}}return ai(q)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Cl;function Sr(){}S(Sr,ma),Sr.prototype.g=function(){return new XMLHttpRequest},Cl=new Sr;function Yi(u){return encodeURIComponent(String(u))}function uu(u){var m=1;u=u.split(":");const b=[];for(;m>0&&u.length;)b.push(u.shift()),m--;return u.length&&b.push(u.join(":")),b}function li(u,m,b,x){this.j=u,this.i=m,this.l=b,this.S=x||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var kt={},Qt={};function Ei(u,m,b){u.M=1,u.A=wr(Dt(m)),u.u=b,u.R=!0,ya(u,null)}function ya(u,m){u.F=Date.now(),Ti(u),u.B=Dt(u.A);var b=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Ea(b.i,"t",x),u.C=0,b=u.j.L,u.h=new oi,u.g=Au(u.j,b?m:null,!u.u),u.P>0&&(u.O=new $t(v(u.Y,u,u.g),u.P)),m=u.V,b=u.g,x=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Er[0]=P.toString()),P=Er);for(let q=0;q<P.length;q++){const te=ut(b,P[q],x||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ye(),Ft(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&hi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const De=hi(this.g),At=this.g.ya(),Ze=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||De!=4||At==7||(At==8||Ze<=0?Ye(3):Ye(2)),xi(this);var m=this.g.ca();this.X=m;var b=qh(this);if(this.o=m==200,pa(this.i,this.v,this.B,this.l,this.S,De,m),this.o){if(this.U&&!this.L){t:{if(this.g){var x,P=this.g;if((x=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var q=x;break t}}q=null}if(u=q)qn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,je(12),In(this),Hn(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<b.length;)if(pt=hu(this,b),pt==Qt){De==4&&(this.m=4,je(14),u=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==kt){this.m=4,je(15),qn(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else qn(this.i,this.l,pt,null),Ai(this,pt);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||b.length!=0||this.h.h||(this.m=1,je(16),u=!1),this.o=this.o&&u,!u)qn(this.i,this.l,b,"[Invalid Chunked Response]"),In(this),Hn(this);else if(b.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Gl(te),te.P=!0,je(11))}}else qn(this.i,this.l,b,null),Ai(this,b);De==4&&In(this),this.o&&!this.K&&(De==4?bu(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),m==400&&b.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),In(this),Hn(this)}}}catch{}};function qh(u){if(!cu(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let b="";const x=m.length,P=hi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return In(u),Hn(u),"";u.h.i=new f.TextDecoder}for(let q=0;q<x;q++)u.h.h=!0,b+=u.h.i.decode(m[q],{stream:!(P&&q==x-1)});return m.length=0,u.h.g+=b,u.C=0,u.h.g}function cu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hu(u,m){var b=u.C,x=m.indexOf(`
`,b);return x==-1?Qt:(b=Number(m.substring(b,x)),isNaN(b)?kt:(x+=1,x+b>m.length?Qt:(m=m.slice(x,x+b),u.C=x+b,m)))}li.prototype.cancel=function(){this.K=!0,In(this)};function Ti(u){u.T=Date.now()+u.H,_a(u,u.H)}function _a(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gt(v(u.aa,u),m)}function xi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xr(this.i,this.B),this.M!=2&&(Ye(),je(17)),In(this),this.m=2,Hn(this)):_a(this,this.T-u)};function Hn(u){u.j.I==0||u.K||bu(u.j,u)}function In(u){xi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Tr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var b=u.j;if(b.I!=0&&(b.g==u||wi(b.h,u))){if(!u.L&&wi(b.h,u)&&b.I==3){try{var x=b.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var P=x;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)wa(b),Is(b);else break e;Or(b),je(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Gt(v(b.Va,b),6e3));Si(b.h)<=1&&b.ta&&(b.ta=void 0)}else Di(b,11)}else if((u.L||b.g==u)&&wa(b),!N(m))for(P=b.Ba.g.parse(m),m=0;m<P.length;m++){let Ze=P[m];const pt=Ze[0];if(!(pt<=b.K))if(b.K=pt,Ze=Ze[1],b.I==2)if(Ze[0]=="c"){b.M=Ze[1],b.ba=Ze[2];const Qn=Ze[3];Qn!=null&&(b.ka=Qn,b.j.info("VER="+b.ka));const Oi=Ze[4];Oi!=null&&(b.za=Oi,b.j.info("SVER="+b.za));const di=Ze[5];di!=null&&typeof di=="number"&&di>0&&(x=1.5*di,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const fi=u.g;if(fi){const Mr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=x.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Dl(q,q.h),q.h=null))}if(x.G){const Ra=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ra&&(x.wa=Ra,tt(x.J,x.G,Ra))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var te=u;if(x.na=xu(x,x.L?x.ba:null,x.W),te.L){Ol(x.h,te);var De=te,At=x.O;At&&(De.H=At),De.D&&(xi(De),Ti(De)),x.g=te}else _u(x);b.i.length>0&&Ii(b)}else Ze[0]!="stop"&&Ze[0]!="close"||Di(b,7);else b.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Di(b,7):ql(b):Ze[0]!="noop"&&b.l&&b.l.qa(Ze),b.A=0)}}Ye(4)}catch{}}var It=class{constructor(u,m){this.g=u,this.map=m}};function kl(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Dl(u,m){u.g?u.g.add(m):u.h=m}function Ol(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}kl.prototype.cancel=function(){if(this.i=Ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ml(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const b of u.g.values())m=m.concat(b.G);return m}return G(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(u,m){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const x=u[b].indexOf("=");let P,q=null;x>=0?(P=u[b].substring(0,x),q=u[b].substring(x+1)):P=u[b],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Dn?(this.l=u.l,Kt(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Vl(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,Kt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),As(this,m[4]),this.h=Ri(m[5]||"",!0),Vl(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ba,!0),":");var b=this.g;return(b||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ba,!0),"@"),u.push(Yi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Rr(b,b.charAt(0)=="/"?jl:fu,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Rr(b,mu)),u.join("")},Dn.prototype.resolve=function(u){const m=Dt(this);let b=!!u.j;b?Kt(m,u.j):b=!!u.o,b?m.o=u.o:b=!!u.g,b?m.g=u.g:b=u.u!=null;var x=u.h;if(b)As(m,u.u);else if(b=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var P=m.h.lastIndexOf("/");P!=-1&&(x=m.h.slice(0,P+1)+x)}if(P=x,P==".."||P==".")x="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){x=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let te=0;te<P.length;){const De=P[te++];De=="."?x&&te==P.length&&q.push(""):De==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),x&&te==P.length&&q.push("")):(q.push(De),x=!0)}x=q.join("/")}else x=P}return b?m.h=x:b=u.i.toString()!=="",b?Vl(m,pu(u.i)):b=!!u.m,b&&(m.m=u.m),m};function Dt(u){return new Dn(u)}function Kt(u,m,b){u.j=b?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Vl(u,m,b){m instanceof ws?(u.i=m,Ta(u.i,u.l)):(b||(m=Rr(m,Ss)),u.i=new ws(m,u.l))}function tt(u,m,b){u.i.set(m,b)}function wr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,b){return typeof u=="string"?(u=encodeURI(u).replace(m,bn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ba=/[#\/\?@]/g,fu=/[#\?:]/g,jl=/[#\?]/g,Ss=/[#\?@]/g,mu=/#/g;function ws(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&va(u.i,function(m,b){u.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}s=ws.prototype,s.add=function(u,m){En(this),this.i=null,u=Rs(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(m),this.h+=1,this};function gu(u,m){En(u),m=Rs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Pl(u,m){return En(u),m=Rs(u,m),u.g.has(m)}s.forEach=function(u,m){En(this),this.g.forEach(function(b,x){b.forEach(function(P){u.call(m,P,x,this)},this)},this)};function Ul(u,m){En(u);let b=[];if(typeof m=="string")Pl(u,m)&&(b=b.concat(u.g.get(Rs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)b=b.concat(u[m]);return b}s.set=function(u,m){return En(this),this.i=null,u=Rs(this,u),Pl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ul(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,b){gu(u,m),b.length>0&&(u.i=null,u.g.set(Rs(u,m),G(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var b=m[x];const P=Yi(b);b=Ul(this,b);for(let q=0;q<b.length;q++){let te=P;b[q]!==""&&(te+="="+Yi(b[q])),u.push(te)}}return this.i=u.join("&")};function pu(u){const m=new ws;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Rs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(b,x){const P=x.toLowerCase();x!=P&&(gu(this,x),Ea(this,P,b))},u)),u.j=m}function ui(u,m){const b=new kn;if(f.Image){const x=new Image;x.onload=T(Gn,b,"TestLoadImage: loaded",!0,m,x),x.onerror=T(Gn,b,"TestLoadImage: error",!1,m,x),x.onabort=T(Gn,b,"TestLoadImage: abort",!1,m,x),x.ontimeout=T(Gn,b,"TestLoadImage: timeout",!1,m,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function Ll(u,m){const b=new kn,x=new AbortController,P=setTimeout(()=>{x.abort(),Gn(b,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(q=>{clearTimeout(P),q.ok?Gn(b,"TestPingServer: ok",!0,m):Gn(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Gn(b,"TestPingServer: error",!1,m)})}function Gn(u,m,b,x,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),x(b)}catch{}}function Ns(){this.g=new fa}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ni,ma),Ni.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){bt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,bt),s=Nr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ci(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ci(this),this.readyState==3&&xa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ci(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=m.next();return u.join(`\r
`)};function ci(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Fn(u){let m="";return Be(u,function(b,x){m+=x,m+=":",m+=b,m+=`\r
`}),m}function Cr(u,m,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=Fn(b),typeof u=="string"?b!=null&&Yi(b):tt(u,m,b))}function rt(u){bt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(rt,bt);var Ci=/^https?$/i,zl=["POST","PUT"];s=rt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=k(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){kr(this,q);return}if(u=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var P in x)b.set(P,x[P]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const q of x.keys())b.set(q,x.get(q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(zl,m,void 0)>=0)||x||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,te]of b)this.g.setRequestHeader(q,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){kr(this,q)}};function kr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Bl(u),Xi(u)}function Bl(u){u.A||(u.A=!0,xt(u,"complete"),xt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xt(this,"complete"),xt(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),rt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},s.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&hi(u)==4)setTimeout(u.Ca.bind(u),0);else if(xt(u,"readystatechange"),hi(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var x;if(x=q===0){let te=String(u.D).match(du)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),x=!Ci.test(te?te.toLowerCase():"")}b=x}if(b)xt(u,"complete"),xt(u,"success");else{u.o=6;try{var P=hi(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Bl(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,m||xt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function hi(u){return u.g?u.g.readyState:0}s.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),da(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&hi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(N(u[x]))continue;var b=uu(u[x]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=m[P]||[];m[P]=q,q.push(b)}Ue(m,function(x){return x.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new kl(u&&u.concurrentRequestLimit),this.Ba=new Ns,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(u,m,b,x){je(0),this.W=u,this.H=m||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=xu(this,null,this.W),Ii(this)};function ql(u){if(Aa(u),u.I==3){var m=u.V++,b=Dt(u.J);if(tt(b,"SID",u.M),tt(b,"RID",m),tt(b,"TYPE","terminate"),Dr(u,b),m=new li(u,u.j,m),m.M=2,m.A=wr(Dt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=m.A,b=!0),b||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Tu(u)}function Is(u){u.g&&(Gl(u),u.g.cancel(),u.g=null)}function Aa(u){Is(u),u.v&&(f.clearTimeout(u.v),u.v=null),wa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Il(u.h)&&!u.m){u.m=!0;var m=u.Ea;B||A(),ae||(B(),ae=!0),w.add(m,u),u.D=0}}function Sa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gt(v(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new li(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),ie(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=yu(this,P,m),b=Dt(this.J),tt(b,"RID",u),tt(b,"CVER",22),this.G&&tt(b,"X-HTTP-Session-Id",this.G),Dr(this,b),q&&(this.R?m="headers="+Yi(Fn(q))+"&"+m:this.u&&Cr(b,this.u,q)),Dl(this.h,P),this.Ra&&tt(b,"TYPE","init"),this.S?(tt(b,"$req",m),tt(b,"SID","null"),P.U=!0,Ei(P,b,null)):Ei(P,b,m),this.I=2}}else this.I==3&&(u?Hl(this,u):this.i.length==0||Il(this.h)||Hl(this))};function Hl(u,m){var b;m?b=m.l:b=u.V++;const x=Dt(u.J);tt(x,"SID",u.M),tt(x,"RID",b),tt(x,"AID",u.K),Dr(u,x),u.u&&u.o&&Cr(x,u.u,u.o),b=new li(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),m&&(u.i=m.G.concat(u.i)),m=yu(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Dl(u.h,b),Ei(b,x,m)}function Dr(u,m){u.H&&Be(u.H,function(b,x){tt(m,x,b)}),u.l&&Be({},function(b,x){tt(m,x,b)})}function yu(u,m,b){b=Math.min(u.i.length,b);const x=u.l?v(u.l.Ka,u.l,u):null;e:{var P=u.i;let De=-1;for(;;){const At=["count="+b];De==-1?b>0?(De=P[0].g,At.push("ofs="+De)):De=0:At.push("ofs="+De);let Ze=!0;for(let pt=0;pt<b;pt++){var q=P[pt].g;const Qn=P[pt].map;if(q-=De,q<0)De=Math.max(0,P[pt].g-100),Ze=!1;else try{q="req"+q+"_"||"";try{var te=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Oi,di]of te){let fi=di;g(di)&&(fi=ai(di)),At.push(q+Oi+"="+encodeURIComponent(fi))}}catch(Oi){throw At.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{x&&x(Qn)}}if(Ze){te=At.join("&");break e}}te=void 0}return u=u.i.splice(0,b),m.G=u,te}function _u(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;B||A(),ae||(B(),ae=!0),w.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gt(v(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gt(v(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),Is(this),vu(this))};function Gl(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function vu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=wr(Dt(m)),b.u=null,b.R=!0,ya(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Or(this),je(19))};function wa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function bu(u,m){var b=null;if(u.g==m){wa(u),Gl(u),u.g=null;var x=2}else if(wi(u.h,m))b=m.G,Ol(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){b=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;x=Ie(),xt(x,new ln(x,b)),Ii(u)}else _u(u);else if(P=m.m,P==3||P==0&&m.X>0||!(x==1&&Sa(u,m)||x==2&&Or(u)))switch(b&&b.length>0&&(m=u.h,m.i=m.i.concat(b)),P){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Eu(u,m){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var b=v(u.bb,u),x=u.Ua;const P=!x;x=new Dn(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Kt(x,"https"),wr(x),P?ui(x.toString(),b):Ll(x.toString(),b)}else je(2);u.I=0,u.l&&u.l.pa(m),Tu(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Ml(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function xu(u,m,b){var x=b instanceof Dn?Dt(b):new Dn(b);if(x.g!="")m&&(x.g=m+"."+x.g),As(x,x.u);else{var P=f.location;x=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new Dn(null);x&&Kt(q,x),m&&(q.g=m),P&&As(q,P),b&&(q.h=b),x=q}return b=u.G,m=u.wa,b&&m&&tt(x,b,m),tt(x,"VER",u.ka),Dr(u,x),x}function Au(u,m,b){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new rt(new Ni({ab:b})):new rt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ds(){}Ds.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){bt.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}S(mn,bt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){ql(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=ai(u),u=b);m.i.push(new It(m.Ya++,u)),m.I==3&&Ii(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,ql(this.g),delete this.g,mn.Z.N.call(this)};function wu(u){zt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const b in m){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(wu,zt);function Ru(){J.call(this),this.status=1}S(Ru,J);function Ji(u){this.g=u}S(Ji,Su),Ji.prototype.ra=function(){xt(this.g,"a")},Ji.prototype.qa=function(u){xt(this.g,new wu(u))},Ji.prototype.pa=function(u){xt(this.g,new Ru)},Ji.prototype.oa=function(){xt(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Mb=function(){return new Ds},Ob=function(){return Ie()},Db=se,mm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Fc=Ar,Nl.COMPLETE="complete",Ib=Nl,ga.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Oo=ga,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,kb=rt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let Al="12.9.0";function PS(s){Al=s}const aa=new Mm("@firebase/firestore");function il(){return aa.logLevel}function oe(s,...e){if(aa.logLevel<=Ge.DEBUG){const i=e.map(Km);aa.debug(`Firestore (${Al}): ${s}`,...i)}}function vs(s,...e){if(aa.logLevel<=Ge.ERROR){const i=e.map(Km);aa.error(`Firestore (${Al}): ${s}`,...i)}}function la(s,...e){if(aa.logLevel<=Ge.WARN){const i=e.map(Km);aa.warn(`Firestore (${Al}): ${s}`,...i)}}function Km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function be(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Vb(s,a,i)}function Vb(s,e,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function et(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Vb(e,o,a)}function Ce(s,e){return s}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class jb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class LS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zS{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ta)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new jb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class BS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new BS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class M_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new M_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new M_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Ym{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=GS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Fe(s,e){return s<e?-1:s>e?1:0}function gm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return $f(o)===$f(c)?Fe(o,c):$f(o)?1:-1}return Fe(s.length,e.length)}const FS=55296,QS=57343;function $f(s){const e=s.charCodeAt(0);return e>=FS&&e<=QS}function pl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const V_="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&be(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&be(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ui.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Fe(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),o=Ui.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):gm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class mt extends Ui{construct(e,i,a){return new mt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new mt(i)}static emptyPath(){return new mt([])}}const KS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Ui{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return KS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V_}static keyField(){return new sn([V_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(c(),o++)}if(c(),f)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(mt.fromString(e))}static fromName(e){return new ge(mt.fromString(e).popFirst(5))}static empty(){return new ge(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return mt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new mt(e.slice()))}}function Pb(s,e,i){if(!i)throw new he(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function YS(s,e,i,a){if(e===!0&&a===!0)throw new he(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function j_(s){if(!ge.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function P_(s){if(ge.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ub(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Xm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":be(12329,{type:typeof s})}function zi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Xm(s);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function su(s,e){if(!Ub(s))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const f=s[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new he(Z.INVALID_ARGUMENT,i);return!0}const U_=-62135596800,L_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*L_);return new gt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<U_)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/L_}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-U_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Ut("string",gt._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new gt(0,0))}static max(){return new we(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qo=-1;function XS(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new gt(i+1,0):new gt(i,a));return new dr(o,ge.empty(),e)}function $S(s){return new dr(s.readTime,s.key,Qo)}class dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(we.min(),ge.empty(),Qo)}static max(){return new dr(we.max(),ge.empty(),Qo)}}function JS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Fe(s.largestBatchId,e.largestBatchId))}const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sl(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==ZS)throw s;oe("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&i()}),(_=>a(_)))})),f=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const v=_;i(e[v]).next((T=>{f[v]=T,++g,g===c&&a(f)}),(T=>o(T)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ew(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function wl(s){return s.name==="IndexedDbTransactionError"}class Ah{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ah.ce=-1;const $m=-1;function Sh(s){return s==null}function lh(s){return s===0&&1/s==-1/0}function tw(s){return typeof s=="number"&&Number.isInteger(s)&&!lh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Lb="";function nw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=z_(e)),e=iw(s.get(i),e);return z_(e)}function iw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Lb:i+="";break;default:i+=c}}return i}function z_(s){return s+Lb+""}function B_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function _r(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function zb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class _t{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new _t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new nn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new q_(this.data.getIterator())}getIteratorFrom(e){return new q_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ht(this.comparator);return i.data=e,i}}class q_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Ht(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return pl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Bb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Bb("Invalid base64 string: "+c):c}})(e);return new an(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=sw.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Rt(s.seconds),nanos:Rt(s.nanos)}}function Rt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mr(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const qb="server_timestamp",Hb="__type__",Gb="__previous_value__",Fb="__local_write_time__";function Jm(s){return(s?.mapValue?.fields||{})[Hb]?.stringValue===qb}function wh(s){const e=s.mapValue.fields[Gb];return Jm(e)?wh(e):e}function Ko(s){const e=fr(s.mapValue.fields[Fb].timestampValue);return new gt(e.seconds,e.nanos)}class rw{constructor(e,i,a,o,c,f,g,_,v,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v,this.isUsingEmulator=T,this.apiKey=S}}const oh="(default)";class Yo{constructor(e,i){this.projectId=e,this.database=i||oh}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}function aw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(s.options.projectId,e)}const Qb="__type__",lw="__max__",Mc={mapValue:{}},Kb="__vector__",uh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Jm(s)?4:uw(s)?9007199254740991:ow(s)?10:11:be(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=gr(s);if(i!==gr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ko(s).isEqual(Ko(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=fr(o.timestampValue),g=fr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return mr(o.bytesValue).isEqual(mr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Rt(o.geoPointValue.latitude)===Rt(c.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Rt(o.integerValue)===Rt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Rt(o.doubleValue),g=Rt(c.doubleValue);return f===g?lh(f)===lh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return pl(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(B_(f)!==B_(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Fi(f[_],g[_])))return!1;return!0})(s,e);default:return be(52216,{left:s})}}function Xo(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function yl(s,e){if(s===e)return 0;const i=gr(s),a=gr(e);if(i!==a)return Fe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Fe(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=Rt(c.integerValue||c.doubleValue),_=Rt(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return H_(s.timestampValue,e.timestampValue);case 4:return H_(Ko(s),Ko(e));case 5:return gm(s.stringValue,e.stringValue);case 6:return(function(c,f){const g=mr(c),_=mr(f);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),_=f.split("/");for(let v=0;v<g.length&&v<_.length;v++){const T=Fe(g[v],_[v]);if(T!==0)return T}return Fe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Fe(Rt(c.latitude),Rt(f.latitude));return g!==0?g:Fe(Rt(c.longitude),Rt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return G_(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},_=f.fields||{},v=g[uh]?.arrayValue,T=_[uh]?.arrayValue,S=Fe(v?.values?.length||0,T?.values?.length||0);return S!==0?S:G_(v,T)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Mc.mapValue&&f===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),v=f.fields||{},T=Object.keys(v);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const k=gm(_[S],T[S]);if(k!==0)return k;const G=yl(g[_[S]],v[T[S]]);if(G!==0)return G}return Fe(_.length,T.length)})(s.mapValue,e.mapValue);default:throw be(23264,{he:i})}}function H_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Fe(s,e);const i=fr(s),a=fr(e),o=Fe(i.seconds,a.seconds);return o!==0?o:Fe(i.nanos,a.nanos)}function G_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=yl(i[o],a[o]);if(c)return c}return Fe(i.length,a.length)}function _l(s){return pm(s)}function pm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return mr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=pm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${pm(i.fields[f])}`;return o+"}"})(s.mapValue):be(61005,{value:s})}function Qc(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(s);return e?16+Qc(e):16;case 5:return 2*s.stringValue.length;case 6:return mr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Qc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return _r(a.fields,((c,f)=>{o+=c.length+Qc(f)})),o})(s.mapValue);default:throw be(13486,{value:s})}}function ym(s){return!!s&&"integerValue"in s}function Zm(s){return!!s&&"arrayValue"in s}function F_(s){return!!s&&"nullValue"in s}function Q_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Kc(s){return!!s&&"mapValue"in s}function ow(s){return(s?.mapValue?.fields||{})[Qb]?.stringValue===Kb}function zo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return _r(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=zo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zo(s.arrayValue.values[i]);return e}return{...s}}function uw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lw}class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Kc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zo(i)}setAll(e){let i=sn.emptyPath(),a={},o=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}f?a[g.lastSegment()]=zo(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){_r(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new Nn(zo(this.value))}}function Yb(s){const e=[];return _r(s.fields,((i,a)=>{const o=new sn([i]);if(Kc(a)){const c=Yb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new zn(e)}class hn{constructor(e,i,a,o,c,f,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,we.min(),we.min(),we.min(),Nn.empty(),0)}static newFoundDocument(e,i,a,o){return new hn(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new hn(e,2,i,we.min(),we.min(),Nn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,we.min(),we.min(),Nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ch{constructor(e,i){this.position=e,this.inclusive=i}}function K_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(f.referenceValue),i.key):a=yl(f,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Y_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class hh{constructor(e,i="asc"){this.field=e,this.dir=i}}function cw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Xb{}class qt extends Xb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new dw(e,i,a):i==="array-contains"?new gw(e,a):i==="in"?new pw(e,a):i==="not-in"?new yw(e,a):i==="array-contains-any"?new _w(e,a):new qt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fw(e,a):new mw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(yl(i,this.value)):i!==null&&gr(this.value)===gr(i)&&this.matchesComparison(yl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends Xb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return $b(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $b(s){return s.op==="and"}function Jb(s){return hw(s)&&$b(s)}function hw(s){for(const e of s.filters)if(e instanceof Qi)return!1;return!0}function _m(s){if(s instanceof qt)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(Jb(s))return s.filters.map((e=>_m(e))).join(",");{const e=s.filters.map((i=>_m(i))).join(",");return`${s.op}(${e})`}}function Zb(s,e){return s instanceof qt?(function(a,o){return o instanceof qt&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(s,e):s instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,f,g)=>c&&Zb(f,o.filters[g])),!0):!1})(s,e):void be(19439)}function Wb(s){return s instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${_l(i.value)}`})(s):s instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Wb).join(" ,")+"}"})(s):"Filter"}class dw extends qt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class fw extends qt{constructor(e,i){super(e,"in",i),this.keys=e1("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class mw extends qt{constructor(e,i){super(e,"not-in",i),this.keys=e1("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function e1(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class gw extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zm(i)&&Xo(i.arrayValue,this.value)}}class pw extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Xo(this.value.arrayValue,i)}}class yw extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Xo(this.value.arrayValue,i)}}class _w extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Xo(this.value.arrayValue,a)))}}class vw{constructor(e,i=null,a=[],o=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function X_(s,e=null,i=[],a=[],o=null,c=null,f=null){return new vw(s,e,i,a,o,c,f)}function Wm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>_m(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>_l(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>_l(a))).join(",")),e.Te=i}return e.Te}function eg(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!cw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Zb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Y_(s.startAt,e.startAt)&&Y_(s.endAt,e.endAt)}function vm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Rh{constructor(e,i=null,a=[],o=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bw(s,e,i,a,o,c,f,g){return new Rh(s,e,i,a,o,c,f,g)}function tg(s){return new Rh(s)}function $_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ew(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Tw(s){return s.collectionGroup!==null}function Bo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ht(sn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hh(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new hh(sn.keyField(),a))}return e.Ie}function Bi(s){const e=Ce(s);return e.Ee||(e.Ee=xw(e,Bo(s))),e.Ee}function xw(s,e){if(s.limitType==="F")return X_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new hh(o.field,c)}));const i=s.endAt?new ch(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ch(s.startAt.position,s.startAt.inclusive):null;return X_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function bm(s,e,i){return new Rh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nh(s,e){return eg(Bi(s),Bi(e))&&s.limitType===e.limitType}function t1(s){return`${Wm(Bi(s))}|lt:${s.limitType}`}function sl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Wb(o))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>_l(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>_l(o))).join(",")),`Target(${a})`})(Bi(s))}; limitType=${s.limitType})`}function Ch(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(f,g,_){const v=K_(f,g,_);return f.inclusive?v<=0:v<0})(a.startAt,Bo(a),o)||a.endAt&&!(function(f,g,_){const v=K_(f,g,_);return f.inclusive?v>=0:v>0})(a.endAt,Bo(a),o))})(s,e)}function Aw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function n1(s){return(e,i)=>{let a=!1;for(const o of Bo(s)){const c=Sw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Sw(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,f,g){const _=f.data.field(c),v=g.data.field(c);return _!==null&&v!==null?yl(_,v):be(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return be(19790,{direction:s.dir})}}class ca{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_r(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return zb(this.inner)}size(){return this.innerSize}}const ww=new _t(ge.comparator);function bs(){return ww}const i1=new _t(ge.comparator);function Mo(...s){let e=i1;for(const i of s)e=e.insert(i.key,i);return e}function s1(s){let e=i1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Zr(){return qo()}function r1(){return qo()}function qo(){return new ca((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Rw=new _t(ge.comparator),Nw=new Ht(ge.comparator);function Qe(...s){let e=Nw;for(const i of s)e=e.add(i);return e}const Cw=new Ht(Fe);function kw(){return Cw}function ng(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lh(e)?"-0":e}}function a1(s){return{integerValue:""+s}}function Iw(s,e){return tw(e)?a1(e):ng(s,e)}class kh{constructor(){this._=void 0}}function Dw(s,e,i){return s instanceof dh?(function(o,c){const f={fields:{[Hb]:{stringValue:qb},[Fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Jm(c)&&(c=wh(c)),c&&(f.fields[Gb]=c),{mapValue:f}})(i,e):s instanceof $o?o1(s,e):s instanceof Jo?u1(s,e):(function(o,c){const f=l1(o,c),g=J_(f)+J_(o.Ae);return ym(f)&&ym(o.Ae)?a1(g):ng(o.serializer,g)})(s,e)}function Ow(s,e,i){return s instanceof $o?o1(s,e):s instanceof Jo?u1(s,e):i}function l1(s,e){return s instanceof fh?(function(a){return ym(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dh extends kh{}class $o extends kh{constructor(e){super(),this.elements=e}}function o1(s,e){const i=c1(e);for(const a of s.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Jo extends kh{constructor(e){super(),this.elements=e}}function u1(s,e){let i=c1(e);for(const a of s.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class fh extends kh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function J_(s){return Rt(s.integerValue||s.doubleValue)}function c1(s){return Zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Mw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof $o&&o instanceof $o||a instanceof Jo&&o instanceof Jo?pl(a.elements,o.elements,Fi):a instanceof fh&&o instanceof fh?Fi(a.Ae,o.Ae):a instanceof dh&&o instanceof dh})(s.transform,e.transform)}class Vw{constructor(e,i){this.version=e,this.transformResults=i}}class ii{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ih{}function h1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ig(s.key,ii.none()):new ru(s.key,s.data,ii.none());{const i=s.data,a=Nn.empty();let o=new Ht(sn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new vr(s.key,a,new zn(o.toArray()),ii.none())}}function jw(s,e,i){s instanceof ru?(function(o,c,f){const g=o.value.clone(),_=W_(o.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,i):s instanceof vr?(function(o,c,f){if(!Yc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=W_(o.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(d1(o)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Ho(s,e,i,a){return s instanceof ru?(function(c,f,g,_){if(!Yc(c.precondition,f))return g;const v=c.value.clone(),T=ev(c.fieldTransforms,_,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null})(s,e,i,a):s instanceof vr?(function(c,f,g,_){if(!Yc(c.precondition,f))return g;const v=ev(c.fieldTransforms,_,f),T=f.data;return T.setAll(d1(c)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,f,g){return Yc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,i)}function Pw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=l1(a.transform,o||null);c!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,c))}return i||null}function Z_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&pl(a,o,((c,f)=>Mw(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class ru extends Ih{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vr extends Ih{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function d1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function W_(s,e,i){const a=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],f=c.transform,g=e.data.field(c.field);a.set(c.field,Ow(f,g,i[o]))}return a}function ev(s,e,i){const a=new Map;for(const o of s){const c=o.transform,f=i.data.field(o.field);a.set(o.field,Dw(c,f,e))}return a}class ig extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uw extends Ih{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&jw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Ho(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Ho(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=r1();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=i.has(o.key)?null:g;const _=h1(f,g);_!==null&&a.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Qe())}isEqual(e){return this.batchId===e.batchId&&pl(this.mutations,e.mutations,((i,a)=>Z_(i,a)))&&pl(this.baseMutations,e.baseMutations,((i,a)=>Z_(i,a)))}}class sg{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Rw})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new sg(e,i,a,o)}}class zw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,Xe;function qw(s){switch(s){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:s})}}function f1(s){if(s===void 0)return vs("GRPC error has no .code"),Z.UNKNOWN;switch(s){case Pt.OK:return Z.OK;case Pt.CANCELLED:return Z.CANCELLED;case Pt.UNKNOWN:return Z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Z.INTERNAL;case Pt.UNAVAILABLE:return Z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Z.NOT_FOUND;case Pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Pt.ABORTED:return Z.ABORTED;case Pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Pt.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:s})}}(Xe=Pt||(Pt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";function Hw(){return new TextEncoder}const Gw=new ur([4294967295,4294967295],0);function tv(s){const e=Hw().encode(s),i=new Cb;return i.update(e),new Uint8Array(i.digest())}function nv(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ur([i,a],0),new ur([o,c],0)]}class rg{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Vo(`Invalid padding: ${i}`);if(a<0)throw new Vo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ur.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ur.fromNumber(a)));return o.compare(Gw)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new rg(c,o,i);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=tv(e),[a,o]=nv(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.be(f)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Dh(we.min(),o,new _t(Fe),bs(),Qe())}}class au{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new au(a,i,Qe(),Qe(),Qe())}}class Xc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class m1{constructor(e,i){this.targetId=e,this.Ce=i}}class g1{constructor(e,i,a=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class iv{constructor(){this.ve=0,this.Fe=sv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Qe(),i=Qe(),a=Qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:be(38017,{changeType:c})}})),new au(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=sv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Fw{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Vc(),this.Je=Vc(),this.Ze=new _t(Fe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(vm(c))if(a===0){const f=new ge(c.path);this.et(i,f,hn.newNoDocument(f,we.min()))}else et(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let f,g;try{f=mr(a).toUint8Array()}catch(_){if(_ instanceof Bb)return la("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new rg(f,o,c)}catch(_){return la(_ instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&vm(g.target)){const _=new ge(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,hn.newNoDocument(_,e))}c.Be&&(i.set(f,c.ke()),c.Ke())}}));let a=Qe();this.Je.forEach(((c,f)=>{let g=!0;f.forEachWhile((_=>{const v=this.ot(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Dh(e,i,this.Ze,this.je,a);return this.je=bs(),this.He=Vc(),this.Je=Vc(),this.Ze=new _t(Fe),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new iv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ht(Fe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ht(Fe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||oe("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new _t(ge.comparator)}function sv(){return new _t(ge.comparator)}const Qw={asc:"ASCENDING",desc:"DESCENDING"},Kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yw={and:"AND",or:"OR"};class Xw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Em(s,e){return s.useProto3Json||Sh(e)?e:{value:e}}function mh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $w(s,e){return mh(s,e.toTimestamp())}function qi(s){return et(!!s,49232),we.fromTimestamp((function(i){const a=fr(i);return new gt(a.seconds,a.nanos)})(s))}function ag(s,e){return Tm(s,e).canonicalString()}function Tm(s,e){const i=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function y1(s){const e=mt.fromString(s);return et(T1(e),10190,{key:e.toString()}),e}function xm(s,e){return ag(s.databaseId,e.path)}function Jf(s,e){const i=y1(e);if(i.get(1)!==s.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(v1(i))}function _1(s,e){return ag(s.databaseId,e)}function Jw(s){const e=y1(s);return e.length===4?mt.emptyPath():v1(e)}function Am(s){return new mt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function v1(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function rv(s,e,i){return{name:xm(s,e),fields:i.value.mapValue.fields}}function Zw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:be(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(v,T){return v.useProto3Json?(et(T===void 0||typeof T=="string",58123),an.fromBase64String(T||"")):(et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),an.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(v){const T=v.code===void 0?Z.UNKNOWN:f1(v.code);return new he(T,v.message||"")})(f);i=new g1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Jf(s,a.document.name),c=qi(a.document.updateTime),f=a.document.createTime?qi(a.document.createTime):we.min(),g=new Nn({mapValue:{fields:a.document.fields}}),_=hn.newFoundDocument(o,c,f,g),v=a.targetIds||[],T=a.removedTargetIds||[];i=new Xc(v,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Jf(s,a.document),c=a.readTime?qi(a.readTime):we.min(),f=hn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Xc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Jf(s,a.document),c=a.removedTargetIds||[];i=new Xc([],c,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new Bw(o,c),g=a.targetId;i=new m1(g,f)}}return i}function Ww(s,e){let i;if(e instanceof ru)i={update:rv(s,e.key,e.value)};else if(e instanceof ig)i={delete:xm(s,e.key)};else if(e instanceof vr)i={update:rv(s,e.key,e.data),updateMask:oR(e.fieldMask)};else{if(!(e instanceof Uw))return be(16599,{dt:e.type});i={verify:xm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const g=f.transform;if(g instanceof dh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof $o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Jo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof fh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw be(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:$w(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:be(27497)})(s,e.precondition)),i}function eR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let f=o.updateTime?qi(o.updateTime):qi(c);return f.isEqual(we.min())&&(f=qi(c)),new Vw(f,o.transformResults||[])})(i,e)))):[]}function tR(s,e){return{documents:[_1(s,e.path)]}}function nR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=_1(s,o);const c=(function(v){if(v.length!==0)return E1(Qi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(v){if(v.length!==0)return v.map((T=>(function(k){return{field:rl(k.field),direction:rR(k.dir)}})(T)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=Em(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function iR(s){let e=Jw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const k=b1(S);return k instanceof Qi&&Jb(k)?k.getFilters():[k]})(i.where));let f=[];i.orderBy&&(f=(function(S){return S.map((k=>(function(ee){return new hh(al(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(k)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let k;return k=typeof S=="object"?S.value:S,Sh(k)?null:k})(i.limit));let _=null;i.startAt&&(_=(function(S){const k=!!S.before,G=S.values||[];return new ch(G,k)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const k=!S.before,G=S.values||[];return new ch(G,k)})(i.endAt)),bw(e,o,f,c,g,"F",_,v)}function sR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function b1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=al(i.unaryFilter.field);return qt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=al(i.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=al(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=al(i.unaryFilter.field);return qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(s):s.fieldFilter!==void 0?(function(i){return qt.create(al(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>b1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(i.compositeFilter.op))})(s):be(30097,{filter:s})}function rR(s){return Qw[s]}function aR(s){return Kw[s]}function lR(s){return Yw[s]}function rl(s){return{fieldPath:s.canonicalString()}}function al(s){return sn.fromServerFormat(s.fieldPath)}function E1(s){return s instanceof qt?(function(i){if(i.op==="=="){if(Q_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Q_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:rl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(i.field),op:aR(i.op),value:i.value}}})(s):s instanceof Qi?(function(i){const a=i.getFilters().map((o=>E1(o)));return a.length===1?a[0]:{compositeFilter:{op:lR(i.op),filters:a}}})(s):be(54877,{filter:s})}function oR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function T1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function x1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(e,i,a,o,c=we.min(),f=we.min(),g=an.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uR{constructor(e){this.yt=e}}function cR(s){const e=iR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?bm(e,e.limit,"L"):e}class hR{constructor(){this.Sn=new dR}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(dr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class dR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ht(mt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ht(mt.comparator)).toArray()}}const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A1=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(A1,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);class vl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vl(0)}static ar(){return new vl(-1)}}const lv="LruGarbageCollector",fR=1048576;function ov([s,e],[i,a]){const o=Fe(s,i);return o===0?Fe(e,a):o}class mR{constructor(e){this.Pr=e,this.buffer=new Ht(ov),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();ov(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){oe(lv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){wl(i)?oe(lv,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Ar(3e5)}))}}class pR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Ah.ce);const a=new mR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(av)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,f,g,_,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(v=Date.now(),il()<=Ge.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(v-_)+`ms
Total Duration: ${v-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function yR(s,e){return new pR(s,e)}class _R{constructor(){this.changes=new ca((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class bR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Ho(a.mutation,o,zn.empty(),gt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Qe()){const o=Zr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let f=Mo();return c.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const a=Zr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,a,o){let c=bs();const f=qo(),g=(function(){return qo()})();return i.forEach(((_,v)=>{const T=a.get(v.key);o.has(v.key)&&(T===void 0||T.mutation instanceof vr)?c=c.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Ho(T.mutation,v,T.mutation.getFieldMask(),gt.now())):f.set(v.key,zn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((v,T)=>f.set(v,T))),i.forEach(((v,T)=>g.set(v,new vR(T,f.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=qo();let o=new _t(((f,g)=>f-g)),c=Qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((_=>{const v=i.get(_);if(v===null)return;let T=a.get(_)||zn.empty();T=g.applyToLocalView(v,T),a.set(_,T);const S=(o.get(g.batchId)||Qe()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,T=_.value,S=r1();T.forEach((k=>{if(!c.has(k)){const G=h1(i.get(k),a.get(k));G!==null&&S.set(k,G),c=c.add(k)}})),f.push(this.documentOverlayCache.saveOverlays(e,v,S))}return $.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return Ew(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Tw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(Zr());let g=Qo,_=c;return f.next((v=>$.forEach(v,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((k=>{_=_.insert(T,k)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,_,v,Qe()))).next((T=>({batchId:g,changes:s1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=Mo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let f=Mo();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const v=(function(S,k){return new Rh(k,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((T=>{T.forEach(((S,k)=>{f=f.insert(S,k)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((f=>{c.forEach(((_,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,hn.newInvalidDocument(T)))}));let g=Mo();return f.forEach(((_,v)=>{const T=c.get(_);T!==void 0&&Ho(T.mutation,v,zn.empty(),gt.now()),Ch(i,v)&&(g=g.insert(_,v))})),g}))}}class ER{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:qi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:cR(o.bundledQuery),readTime:qi(o.readTime)}})(i)),$.resolve()}}class TR{constructor(){this.overlays=new _t(ge.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Zr();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Zr(),c=i.length+1,f=new ge(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new _t(((v,T)=>v-T));const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let T=c.get(v.largestBatchId);T===null&&(T=Zr(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const g=Zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((v,T)=>g.set(v,T))),!(g.size()>=o)););return $.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new zw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class xR{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class lg{constructor(){this.kr=new Ht(Xt.Kr),this.qr=new Ht(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Xt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new mt([])),a=new Xt(i,e),o=new Xt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new mt([])),a=new Xt(i,e),o=new Xt(i,e+1);let c=Qe();return this.qr.forEachInRange([a,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Fe(e.Hr,i.Hr)}static Ur(e,i){return Fe(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class AR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(Xt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Lw(c,i,a,o);this.mutationQueue.push(f);for(const g of o)this.Jr=this.Jr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$m:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(f=>{const g=this.Zr(f.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ht(Fe);return i.forEach((o=>{const c=new Xt(o,0),f=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const f=new Xt(new ge(c),0);let g=new Ht(Fe);return this.Jr.forEachWhile((_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Hr)),!0)}),f),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Xt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Xt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class SR{constructor(e){this.ti=e,this.docs=(function(){return new _t(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,f=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=bs();const f=i.path,g=new ge(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:T}}=_.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||JS($S(T),a)<=0||(o.has(T.key)||Ch(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){be(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new wR(this)}getSize(e){return $.resolve(this.size)}}class wR extends _R{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class RR{constructor(e){this.persistence=e,this.ri=new ca((i=>Wm(i)),eg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new lg,this.targetCount=0,this.oi=vl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new vl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class S1{constructor(e,i){this._i={},this.overlays={},this.ai=new Ah(0),this.ui=!1,this.ui=!0,this.ci=new xR,this.referenceDelegate=e(this),this.li=new RR(this),this.indexManager=new hR,this.remoteDocumentCache=(function(o){return new SR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new uR(i),this.Pi=new ER(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new TR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new AR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){oe("MemoryPersistence","Starting transaction:",e);const o=new NR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class NR extends WS{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Ri=new lg,this.Ai=null}static Vi(e){return new og(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class gh{constructor(e,i){this.persistence=e,this.fi=new ca((a=>nw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=yR(this,i)}static Vi(e,i){return new gh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,i).next((g=>{g||(a++,c.removeEntry(f,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ug{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Qe(),o=Qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ug(e,i.fromCache,a,o)}}class CR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yx()?8:ew(dn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new CR;return this.ys(e,i,f).next((g=>{if(c.result=g,this.As)return this.ws(e,i,f,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(il()<=Ge.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",sl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(il()<=Ge.DEBUG&&oe("QueryEngine","Query:",sl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(il()<=Ge.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",sl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bi(i))):$.resolve())}gs(e,i){if($_(i))return $.resolve(null);let a=Bi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=bm(i,null,"F"),a=Bi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=Qe(...c);return this.fs.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const v=this.bs(i,g);return this.Ss(i,v,f,_.readTime)?this.gs(e,bm(i,null,"F")):this.Ds(e,v,i,_)}))))})))))}ps(e,i,a,o){return $_(i)||o.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const f=this.bs(i,c);return this.Ss(i,f,a,o)?$.resolve(null):(il()<=Ge.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sl(i)),this.Ds(e,f,i,XS(o,Qo)).next((g=>g)))}))}bs(e,i){let a=new Ht(n1(e));return i.forEach(((o,c)=>{Ch(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return il()<=Ge.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",sl(i)),this.fs.getDocumentsMatchingQuery(e,i,dr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const cg="LocalStore",IR=3e8;class DR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new _t(Fe),this.Fs=new ca((c=>Wm(c)),eg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function OR(s,e,i,a){return new DR(s,e,i,a)}async function w1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],g=[];let _=Qe();for(const v of o){f.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}for(const v of c){g.push(v.batchId);for(const T of v.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((v=>({Ns:v,removedBatchIds:f,addedBatchIds:g})))}))}))}function MR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,v,T){const S=v.batch,k=S.keys();let G=$.resolve();return k.forEach((ee=>{G=G.next((()=>T.getEntry(_,ee))).next((re=>{const W=v.docVersions.get(ee);et(W!==null,48541),re.version.compareTo(W)<0&&(S.applyToRemoteDocument(re,v),re.isValidDocument()&&(re.setReadTime(v.commitVersion),T.addEntry(re)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Qe();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function R1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function VR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const k=o.get(S);if(!k)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let G=k.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?G=G.withResumeToken(an.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,a)),o=o.insert(S,G),(function(re,W,me){return re.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=IR?!0:me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0})(k,G,T)&&g.push(i.li.updateTargetData(c,G))}));let _=bs(),v=Qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(jR(c,f,e.documentUpdates).next((T=>{_=T.Bs,v=T.Ls}))),!a.isEqual(we.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return $.waitFor(g).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,v))).next((()=>_))})).then((c=>(i.vs=o,c)))}function jR(s,e,i){let a=Qe(),o=Qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let f=bs();return i.forEach(((g,_)=>{const v=c.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):oe(cg,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function PR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=$m),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function UR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((f=>(o=new rr(e,f,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Sm(s,e,i){const a=Ce(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wl(f))throw f;oe(cg,`Failed to update sequence numbers for target ${e}: ${f}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function uv(s,e,i){const a=Ce(s);let o=we.min(),c=Qe();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,v,T){const S=Ce(_),k=S.Fs.get(T);return k!==void 0?$.resolve(S.vs.get(k)):S.li.getTargetData(v,T)})(a,f,Bi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,e,i?o:we.min(),i?c:Qe()))).next((g=>(LR(a,Aw(e),g),{documents:g,ks:c})))))}function LR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class cv{constructor(){this.activeTargetIds=kw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zR{constructor(){this.vo=new cv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new cv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BR{Mo(e){}shutdown(){}}const hv="ConnectivityMonitor";class dv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){oe(hv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){oe(hv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function wm(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const Zf="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===oh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const f=wm(),g=this.Qo(e,i.toUriEncodedString());oe(Zf,`Sending RPC '${e}' ${f}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:v}=new URL(g),T=El(v);return this.zo(e,g,_,a,T).then((S=>(oe(Zf,`Received RPC '${e}' ${f}: `,S),S)),(S=>{throw la(Zf,`RPC '${e}' ${f} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(e,i,a,o,c,f){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=qR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class GR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",ko=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class hl extends HR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!hl.c_){const e=Ob();ko(e,Db.STAT_EVENT,(i=>{i.stat===mm.PROXY?oe(un,"STAT_EVENT: detected buffering proxy"):i.stat===mm.NOPROXY&&oe(un,"STAT_EVENT: detected no buffering proxy")})),hl.c_=!0}}zo(e,i,a,o,c){const f=wm();return new Promise(((g,_)=>{const v=new kb;v.setWithCredentials(!0),v.listenOnce(Ib.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Fc.NO_ERROR:const S=v.getResponseJson();oe(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),g(S);break;case Fc.TIMEOUT:oe(un,`RPC '${e}' ${f} timed out`),_(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const k=v.getStatus();if(oe(un,`RPC '${e}' ${f} failed with status:`,k,"response text:",v.getResponseText()),k>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const re=(function(me){const pe=me.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(pe)>=0?pe:Z.UNKNOWN})(ee.status);_(new he(re,ee.message))}else _(new he(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else _(new he(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{oe(un,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);oe(un,`RPC '${e}' ${f} sending request:`,o),v.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=wm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const v=c.join("");oe(un,`Creating RPC '${e}' stream ${o}: ${v}`,g);const T=f.createWebChannel(v,g);this.I_(T);let S=!1,k=!1;const G=new GR({Ho:ee=>{k?oe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,ee):(S||(oe(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),oe(un,`RPC '${e}' stream ${o} sending:`,ee),T.send(ee))},Jo:()=>T.close()});return ko(T,Oo.EventType.OPEN,(()=>{k||(oe(un,`RPC '${e}' stream ${o} transport opened.`),G.i_())})),ko(T,Oo.EventType.CLOSE,(()=>{k||(k=!0,oe(un,`RPC '${e}' stream ${o} transport closed`),G.o_(),this.E_(T))})),ko(T,Oo.EventType.ERROR,(ee=>{k||(k=!0,la(un,`RPC '${e}' stream ${o} transport errored. Name:`,ee.name,"Message:",ee.message),G.o_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),ko(T,Oo.EventType.MESSAGE,(ee=>{if(!k){const re=ee.data[0];et(!!re,16349);const W=re,me=W?.error||W[0]?.error;if(me){oe(un,`RPC '${e}' stream ${o} received error:`,me);const pe=me.status;let Te=(function(ae){const w=Pt[ae];if(w!==void 0)return f1(w)})(pe),Ae=me.message;pe==="NOT_FOUND"&&Ae.includes("database")&&Ae.includes("does not exist")&&Ae.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Te===void 0&&(Te=Z.INTERNAL,Ae="Unknown error status: "+pe+" with message "+me.message),k=!0,G.o_(new he(Te,Ae)),T.close()}else oe(un,`RPC '${e}' stream ${o} received:`,re),G.__(re)}})),hl.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mb()}}function FR(s){return new hl(s)}function Wf(){return typeof document<"u"?document:null}function Oh(s){return new Xw(s,!0)}hl.c_=!1;class N1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const fv="PersistentStream";class C1{constructor(e,i,a,o,c,f,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new N1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(fv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(oe(fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QR extends C1{constructor(e,i,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Zw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?qi(f.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,f){let g;const _=f.target;if(g=vm(_)?{documents:tR(c,_)}:{query:nR(c,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=p1(c,f.resumeToken);const v=Em(c,f.expectedCount);v!==null&&(g.expectedCount=v)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=mh(c,f.snapshotVersion.toTimestamp());const v=Em(c,f.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const a=sR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.K_(i)}}class KR extends C1{constructor(e,i,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=eR(e.writeResults,e.commitTime),a=qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Am(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Ww(this.serializer,a)))};this.K_(i)}}class YR{}class XR extends YR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Tm(i,a),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(e,Tm(i,a),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $R(s,e,i,a){return new XR(s,e,i,a)}class JR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):oe("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class ZR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{ha(this)&&(oe(oa,"Restarting streams for network reachability change."),await(async function(_){const v=Ce(_);v.Ea.add(4),await lu(v),v.Va.set("Unknown"),v.Ea.delete(4),await Mh(v)})(this))}))})),this.Va=new JR(a,o)}}async function Mh(s){if(ha(s))for(const e of s.Ra)await e(!0)}async function lu(s){for(const e of s.Ra)await e(!1)}function k1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),mg(i)?fg(i):Rl(i).O_()&&dg(i,e))}function hg(s,e){const i=Ce(s),a=Rl(i);i.Ia.delete(e),a.O_()&&I1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Va.set("Unknown"))}function dg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rl(s).Z_(e)}function I1(s,e){s.da.$e(e),Rl(s).X_(e)}function fg(s){s.da=new Fw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Rl(s).start(),s.Va.ua()}function mg(s){return ha(s)&&!Rl(s).x_()&&s.Ia.size>0}function ha(s){return Ce(s).Ea.size===0}function D1(s){s.da=void 0}async function WR(s){s.Va.set("Online")}async function eN(s){s.Ia.forEach(((e,i)=>{dg(s,e)}))}async function tN(s,e){D1(s),mg(s)?(s.Va.ha(e),fg(s)):s.Va.set("Unknown")}async function nN(s,e,i){if(s.Va.set("Online"),e instanceof g1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){oe(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ph(s,a)}else if(e instanceof Xc?s.da.Xe(e):e instanceof m1?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await R1(s.localStore);i.compareTo(a)>=0&&await(function(c,f){const g=c.da.Tt(f);return g.targetChanges.forEach(((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(v);T&&c.Ia.set(v,T.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,v)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),I1(c,_);const S=new rr(T.target,_,v,T.sequenceNumber);dg(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){oe(oa,"Failed to raise snapshot:",a),await ph(s,a)}}async function ph(s,e,i){if(!wl(e))throw e;s.Ea.add(1),await lu(s),s.Va.set("Offline"),i||(i=()=>R1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{oe(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Mh(s)}))}function O1(s,e){return e().catch((i=>ph(s,i,e)))}async function Vh(s){const e=Ce(s),i=pr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$m;for(;iN(e);)try{const o=await PR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,sN(e,o)}catch(o){await ph(e,o)}M1(e)&&V1(e)}function iN(s){return ha(s)&&s.Ta.length<10}function sN(s,e){s.Ta.push(e);const i=pr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function M1(s){return ha(s)&&!pr(s).x_()&&s.Ta.length>0}function V1(s){pr(s).start()}async function rN(s){pr(s).ra()}async function aN(s){const e=pr(s);for(const i of s.Ta)e.ea(i.mutations)}async function lN(s,e,i){const a=s.Ta.shift(),o=sg.from(a,e,i);await O1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Vh(s)}async function oN(s,e){e&&pr(s).Y_&&await(async function(a,o){if((function(f){return qw(f)&&f!==Z.ABORTED})(o.code)){const c=a.Ta.shift();pr(a).B_(),await O1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vh(a)}})(s,e),M1(s)&&V1(s)}async function mv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),oe(oa,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await lu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function uN(s,e){const i=Ce(s);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await lu(i),i.Va.set("Unknown"))}function Rl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new QR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:WR.bind(null,s),Yo:eN.bind(null,s),t_:tN.bind(null,s),J_:nN.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),mg(s)?fg(s):s.Va.set("Unknown")):(await s.ma.stop(),D1(s))}))),s.ma}function pr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new KR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rN.bind(null,s),t_:oN.bind(null,s),ta:aN.bind(null,s),na:lN.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Vh(s)):(await s.fa.stop(),s.Ta.length>0&&(oe(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class gg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const f=Date.now()+a,g=new gg(e,i,f,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(s,e){if(vs("AsyncQueue",`${e}: ${s}`),wl(s))return new he(Z.UNAVAILABLE,`${e}: ${s}`);throw s}class dl{static emptySet(e){return new dl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=Mo(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof dl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new dl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class gv{constructor(){this.ga=new _t(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class bl{constructor(e,i,a,o,c,f,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,c){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new bl(e,i,dl.emptySet(i),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class cN{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class hN{constructor(){this.queries=pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=pv(),c.forEach(((f,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function pv(){return new ca((s=>t1(s)),Nh)}async function dN(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new cN,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const g=pg(f,`Initialization of query '${sl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&yg(i)}async function fN(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mN(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const g of f.ba)g.Fa(o)&&(a=!0);f.wa=o}}a&&yg(i)}function gN(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function yg(s){s.Ca.forEach((e=>{e.next()}))}var Rm,yv;(yv=Rm||(Rm={})).Ma="default",yv.Cache="cache";class pN{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Rm.Cache}}class j1{constructor(e){this.key=e}}class P1{constructor(e){this.key=e}}class yN{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Qe(),this.mutatedKeys=Qe(),this.eu=n1(e),this.tu=new dl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new gv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const k=o.get(T),G=Ch(this.query,S)?S:null,ee=!!k&&this.mutatedKeys.has(k.key),re=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;k&&G?k.data.isEqual(G.data)?ee!==re&&(a.track({type:3,doc:G}),W=!0):this.su(k,G)||(a.track({type:2,doc:G}),W=!0,(_&&this.eu(G,_)>0||v&&this.eu(G,v)<0)&&(g=!0)):!k&&G?(a.track({type:0,doc:G}),W=!0):k&&!G&&(a.track({type:1,doc:k}),W=!0,(_||v)&&(g=!0)),W&&(G?(f=f.add(G),c=re?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:f,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,S)=>(function(G,ee){const re=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:W})}};return re(G)-re(ee)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,v=_!==this.Xa;return this.Xa=_,f.length!==0||v?{snapshot:new bl(this.query,e.tu,c,f,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new gv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new P1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new j1(a))})),i}cu(e){this.Za=e.ks,this.Ya=Qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const _g="SyncEngine";class _N{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vN{constructor(e){this.key=e,this.hu=!1}}class bN{constructor(e,i,a,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((g=>t1(g)),Nh),this.Iu=new Map,this.Eu=new Set,this.Ru=new _t(ge.comparator),this.Au=new Map,this.Vu=new lg,this.du={},this.mu=new Map,this.fu=vl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EN(s,e,i=!0){const a=H1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await U1(a,e,i,!0),o}async function TN(s,e){const i=H1(s);await U1(i,e,!0,!1)}async function U1(s,e,i,a){const o=await UR(s.localStore,Bi(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await xN(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&i&&k1(s.remoteStore,o),g}async function xN(s,e,i,a,o){s.pu=(S,k,G)=>(async function(re,W,me,pe){let Te=W.view.ru(me);Te.Ss&&(Te=await uv(re.localStore,W.query,!1).then((({documents:w})=>W.view.ru(w,Te))));const Ae=pe&&pe.targetChanges.get(W.targetId),B=pe&&pe.targetMismatches.get(W.targetId)!=null,ae=W.view.applyChanges(Te,re.isPrimaryClient,Ae,B);return vv(re,W.targetId,ae.au),ae.snapshot})(s,S,k,G);const c=await uv(s.localStore,e,!0),f=new yN(e,c.ks),g=f.ru(c.documents),_=au.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=f.applyChanges(g,s.isPrimaryClient,_);vv(s,i,v.au);const T=new _N(e,i,f);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),v.snapshot}async function AN(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((f=>!Nh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&hg(a.remoteStore,o.targetId),Nm(a,o.targetId)})).catch(Sl)):(Nm(a,o.targetId),await Sm(a.localStore,o.targetId,!0))}async function SN(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),hg(i.remoteStore,a.targetId))}async function wN(s,e,i){const a=ON(s);try{const o=await(function(f,g){const _=Ce(f),v=gt.now(),T=g.reduce(((G,ee)=>G.add(ee.key)),Qe());let S,k;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=bs(),re=Qe();return _.xs.getEntries(G,T).next((W=>{ee=W,ee.forEach(((me,pe)=>{pe.isValidDocument()||(re=re.add(me))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,ee))).next((W=>{S=W;const me=[];for(const pe of g){const Te=Pw(pe,S.get(pe.key).overlayedDocument);Te!=null&&me.push(new vr(pe.key,Te,Yb(Te.value.mapValue),ii.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,me,g)})).next((W=>{k=W;const me=W.applyToLocalDocumentSet(S,re);return _.documentOverlayCache.saveOverlays(G,W.batchId,me)}))})).then((()=>({batchId:k.batchId,changes:s1(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,g,_){let v=f.du[f.currentUser.toKey()];v||(v=new _t(Fe)),v=v.insert(g,_),f.du[f.currentUser.toKey()]=v})(a,o.batchId,i),await ou(a,o.changes),await Vh(a.remoteStore)}catch(o){const c=pg(o,"Failed to persist write");i.reject(c)}}async function L1(s,e){const i=Ce(s);try{const a=await VR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await ou(i,a,e)}catch(a){await Sl(a)}}function _v(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const _=Ce(f);_.onlineState=g;let v=!1;_.queries.forEach(((T,S)=>{for(const k of S.ba)k.va(g)&&(v=!0)})),v&&yg(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RN(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new _t(ge.comparator);f=f.insert(c,hn.newNoDocument(c,we.min()));const g=Qe().add(c),_=new Dh(we.min(),new Map,new _t(Fe),f,g);await L1(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),vg(a)}else await Sm(a.localStore,e,!1).then((()=>Nm(a,e,i))).catch(Sl)}async function NN(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await MR(i.localStore,e);B1(i,a,null),z1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ou(i,o)}catch(o){await Sl(o)}}async function CN(s,e,i){const a=Ce(s);try{const o=await(function(f,g){const _=Ce(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let T;return _.mutationQueue.lookupMutationBatch(v,g).next((S=>(et(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(v,S)))).next((()=>_.mutationQueue.performConsistencyCheck(v))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(v,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T))).next((()=>_.localDocuments.getDocuments(v,T)))}))})(a.localStore,e);B1(a,e,i),z1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ou(a,o)}catch(o){await Sl(o)}}function z1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function B1(s,e,i){const a=Ce(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Nm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||q1(s,a)}))}function q1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(hg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),vg(s))}function vv(s,e,i){for(const a of i)a instanceof j1?(s.Vu.addReference(a.key,e),kN(s,a)):a instanceof P1?(oe(_g,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||q1(s,a.key)):be(19791,{wu:a})}function kN(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(oe(_g,"New document in limbo: "+i),s.Eu.add(a),vg(s))}function vg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(mt.fromString(e)),a=s.fu.next();s.Au.set(a,new vN(i)),s.Ru=s.Ru.insert(i,a),k1(s.remoteStore,new rr(Bi(tg(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function ou(s,e,i){const a=Ce(s),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{f.push(a.pu(_,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const T=v?!v.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(v){o.push(v);const T=ug.Es(_.targetId,v);c.push(T)}})))})),await Promise.all(f),a.Pu.J_(o),await(async function(_,v){const T=Ce(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(v,(k=>$.forEach(k.Ts,(G=>T.persistence.referenceDelegate.addReference(S,k.targetId,G))).next((()=>$.forEach(k.Is,(G=>T.persistence.referenceDelegate.removeReference(S,k.targetId,G)))))))))}catch(S){if(!wl(S))throw S;oe(cg,"Failed to update sequence numbers: "+S)}for(const S of v){const k=S.targetId;if(!S.fromCache){const G=T.vs.get(k),ee=G.snapshotVersion,re=G.withLastLimboFreeSnapshotVersion(ee);T.vs=T.vs.insert(k,re)}}})(a.localStore,c))}async function IN(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){oe(_g,"User change. New user:",e.toKey());const a=await w1(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new he(Z.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ou(i,a.Ns)}}function DN(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return Qe().add(a.key);{let o=Qe();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const g=i.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function H1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=L1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RN.bind(null,e),e.Pu.J_=mN.bind(null,e.eventManager),e.Pu.yu=gN.bind(null,e.eventManager),e}function ON(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CN.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return OR(this.persistence,new kR,e.initialUser,this.serializer)}Cu(e){return new S1(og.Vi,this.serializer)}Du(e){return new zR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class MN extends yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof gh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new S1((a=>gh.Vi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_v(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IN.bind(null,this.syncEngine),await uN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hN})()}createDatastore(e){const i=Oh(e.databaseInfo.databaseId),a=FR(e.databaseInfo);return $R(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,f,g){return new ZR(a,o,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>_v(this.syncEngine,i,0)),(function(){return dv.v()?new dv:new BR})())}createSyncEngine(e,i){return(function(o,c,f,g,_,v,T){const S=new bN(o,c,f,g,_,v);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);oe(oa,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class VN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const yr="FirestoreClient";class jN{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{oe(yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(oe(yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=pg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function em(s,e){s.asyncQueue.verifyOperationInProgress(),oe(yr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await w1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function bv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await PN(s);oe(yr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>mv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>mv(e.remoteStore,o))),s._onlineComponents=e}async function PN(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){oe(yr,"Using user provided OfflineComponentProvider");try{await em(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;la("Error using user provided cache. Falling back to memory cache: "+i),await em(s,new yh)}}else oe(yr,"Using default OfflineComponentProvider"),await em(s,new MN(void 0));return s._offlineComponents}async function G1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(oe(yr,"Using user provided OnlineComponentProvider"),await bv(s,s._uninitializedComponentsProvider._online)):(oe(yr,"Using default OnlineComponentProvider"),await bv(s,new Cm))),s._onlineComponents}function UN(s){return G1(s).then((e=>e.syncEngine))}async function Ev(s){const e=await G1(s),i=e.eventManager;return i.onListen=EN.bind(null,e.syncEngine),i.onUnlisten=AN.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TN.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=SN.bind(null,e.syncEngine),i}function LN(s,e,i,a){const o=new VN(a),c=new pN(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>dN(await Ev(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>fN(await Ev(s),c)))}}function zN(s,e){const i=new ta;return s.asyncQueue.enqueueAndForget((async()=>wN(await UN(s),e,i))),i.promise}function F1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const BN="ComponentProvider",Tv=new Map;function qN(s,e,i,a,o){return new rw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,F1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const Q1="firestore.googleapis.com",xv=!0;class Av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Q1,this.ssl=xv}else this.host=e.host,this.ssl=e.ssl??xv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fR)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new US;switch(a.type){case"firstParty":return new qS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Tv.get(i);a&&(oe(BN,"Removing Datastore"),Tv.delete(i),a.terminate())})(this),Promise.resolve()}}function HN(s,e,i,a={}){s=zi(s,jh);const o=El(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Fv(`https://${g}`),Qv("Firestore",!0)),c.host!==Q1&&c.host!==g&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!ia(_,f)&&(s._setSettings(_),a.mockUserToken)){let v,T;if(typeof a.mockUserToken=="string")v=a.mockUserToken,T=cn.MOCK_USER;else{v=ox(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(S)}s._authCredentials=new LS(new jb(v,T))}}class Ph{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class Lt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(su(i,Lt._jsonSchema))return new Lt(e,a||null,new ge(mt.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ut("string",Lt._jsonSchemaVersion),referencePath:Ut("string")};class cr extends Ph{constructor(e,i,a){super(e,i,tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ge(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function Io(s,e,...i){if(s=rn(s),Pb("collection","path",e),s instanceof jh){const a=mt.fromString(e,...i);return P_(a),new cr(s,null,a)}{if(!(s instanceof Lt||s instanceof cr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(mt.fromString(e,...i));return P_(a),new cr(s.firestore,null,a)}}function fs(s,e,...i){if(s=rn(s),arguments.length===1&&(e=Ym.newId()),Pb("doc","path",e),s instanceof jh){const a=mt.fromString(e,...i);return j_(a),new Lt(s,null,new ge(a))}{if(!(s instanceof Lt||s instanceof cr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(mt.fromString(e,...i));return j_(a),new Lt(s.firestore,s instanceof cr?s.converter:null,new ge(a))}}const Sv="AsyncQueue";class wv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new N1(this,"async_queue_retry"),this._c=()=>{const a=Wf();a&&oe(Sv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!wl(e))throw e;oe(Sv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",Rv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=gg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:Rv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Rv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ua extends jh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new wv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wv(e),this._firestoreClient=void 0,await e}}}function GN(s,e){const i=typeof s=="object"?s:$v(),a=typeof s=="string"?s:oh,o=jm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=ax("firestore");c&&HN(o,...c)}return o}function K1(s){if(s._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||FN(s),s._firestoreClient}function FN(s){const e=s._freezeSettings(),i=qN(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new jN(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ni(an.fromBase64String(e))}catch(i){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ni(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,ni._jsonSchema))return ni.fromBase64String(e.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Ut("string",ni._jsonSchemaVersion),bytes:Ut("string")};class bg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Eg{constructor(e){this._methodName=e}}class Hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(su(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ut("string",Hi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class bi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new bi(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Ut("string",bi._jsonSchemaVersion),vectorValues:Ut("object")};const QN=/^__.*__$/;class KN{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ru(e,this.data,i,this.fieldTransforms)}}class Y1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new vr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function X1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:s})}}class Tg{constructor(e,i,a,o,c,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _h(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(X1(this.dataSource)&&QN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YN{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Oh(e)}createContext(e,i,a,o=!1){return new Tg({dataSource:e,methodName:i,targetDoc:a,path:sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xg(s){const e=s._freezeSettings(),i=Oh(s._databaseId);return new YN(s._databaseId,!!e.ignoreUndefinedProperties,i)}function $1(s,e,i,a,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Ag("Data must be an object, but it was:",f,a);const g=J1(a,f);let _,v;if(c.merge)_=new zn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const k=Zo(e,S,i);if(!f.contains(k))throw new he(Z.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);eE(T,k)||T.push(k)}_=new zn(T),v=f.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,v=f.fieldTransforms;return new KN(new Nn(g),_,v)}class Uh extends Eg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}function XN(s,e,i,a){const o=s.createContext(1,e,i);Ag("Data must be an object, but it was:",o,a);const c=[],f=Nn.empty();_r(a,((_,v)=>{const T=W1(e,_,i);v=rn(v);const S=o.childContextForFieldPath(T);if(v instanceof Uh)c.push(T);else{const k=Lh(v,S);k!=null&&(c.push(T),f.set(T,k))}}));const g=new zn(c);return new Y1(f,g,o.fieldTransforms)}function $N(s,e,i,a,o,c){const f=s.createContext(1,e,i),g=[Zo(e,a,i)],_=[o];if(c.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let k=0;k<c.length;k+=2)g.push(Zo(e,c[k])),_.push(c[k+1]);const v=[],T=Nn.empty();for(let k=g.length-1;k>=0;--k)if(!eE(v,g[k])){const G=g[k];let ee=_[k];ee=rn(ee);const re=f.childContextForFieldPath(G);if(ee instanceof Uh)v.push(G);else{const W=Lh(ee,re);W!=null&&(v.push(G),T.set(G,W))}}const S=new zn(v);return new Y1(T,S,f.fieldTransforms)}function Lh(s,e){if(Z1(s=rn(s)))return Ag("Unsupported field value:",e,s),J1(s,e);if(s instanceof Eg)return(function(a,o){if(!X1(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let f=0;for(const g of a){let _=Lh(g,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Iw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=gt.fromDate(a);return{timestampValue:mh(o.serializer,c)}}if(a instanceof gt){const c=new gt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mh(o.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ni)return{bytesValue:p1(o.serializer,a._byteString)};if(a instanceof Lt){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ag(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof bi)return(function(f,g){const _=f instanceof bi?f.toArray():f;return{mapValue:{fields:{[Qb]:{stringValue:Kb},[uh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return ng(g.serializer,T)}))}}}}}})(a,o);if(x1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Xm(a)}`)})(s,e)}function J1(s,e){const i={};return zb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_r(s,((a,o)=>{const c=Lh(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function Z1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof gt||s instanceof Hi||s instanceof ni||s instanceof Lt||s instanceof Eg||s instanceof bi||x1(s))}function Ag(s,e,i){if(!Z1(i)||!Ub(i)){const a=Xm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Zo(s,e,i){if((e=rn(e))instanceof bg)return e._internalPath;if(typeof e=="string")return W1(s,e);throw _h("Field path arguments must be of type string or ",s,!1,void 0,i)}const JN=new RegExp("[~\\*/\\[\\]]");function W1(s,e,i){if(e.search(JN)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bg(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function _h(s,e,i,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${a}`),f&&(_+=` in document ${o}`),_+=")"),new he(Z.INVALID_ARGUMENT,g+s+_)}function eE(s,e){return s.some((i=>i.isEqual(e)))}class ZN{convertValue(e,i="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return _r(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[uh].arrayValue?.values?.map((a=>Rt(a.doubleValue)));return new bi(i)}convertGeoPoint(e){return new Hi(Rt(e.latitude),Rt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=wh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const i=fr(e);return new gt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=mt.fromString(e);et(T1(a),9688,{name:e});const o=new Yo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class tE extends ZN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ni(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}const Nv="@firebase/firestore",Cv="4.11.0";function kv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class nE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Zo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WN extends nE{data(){return super.data()}}function eC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function iE(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class jo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends nE{constructor(e,i,a,o,c,f){super(e,i,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new $c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Zo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Ut("string",na._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class $c extends na{data(e={}){return super.data(e)}}class fl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new jo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new $c(this._firestore,this._userDataWriter,a.key,a,new jo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const _=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new jo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new $c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new jo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,T=-1;return g.type!==0&&(v=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:tC(g.type),doc:_,oldIndex:v,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:s})}}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Ut("string",fl._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function Iv(s,e,i){s=zi(s,Lt);const a=zi(s.firestore,ua),o=iE(s.converter,e),c=xg(a);return zh(a,[$1(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ii.none())])}function Pc(s,e,i,...a){s=zi(s,Lt);const o=zi(s.firestore,ua),c=xg(o);let f;return f=typeof(e=rn(e))=="string"||e instanceof bg?$N(c,"updateDoc",s._key,e,i,a):XN(c,"updateDoc",s._key,e),zh(o,[f.toMutation(s._key,ii.exists(!0))])}function Dv(s){return zh(zi(s.firestore,ua),[new ig(s._key,ii.none())])}function tm(s,e){const i=zi(s.firestore,ua),a=fs(s),o=iE(s.converter,e),c=xg(s.firestore);return zh(i,[$1(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ii.exists(!1))]).then((()=>a))}function nm(s,...e){s=rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kv(e[a])){const v=e[a];e[a]=v.next?.bind(v),e[a+1]=v.error?.bind(v),e[a+2]=v.complete?.bind(v)}let c,f,g;if(s instanceof Lt)f=zi(s.firestore,ua),g=tg(s._key.path),c={next:v=>{e[a]&&e[a](nC(f,s,v))},error:e[a+1],complete:e[a+2]};else{const v=zi(s,Ph);f=zi(v.firestore,ua),g=v._query;const T=new tE(f);c={next:S=>{e[a]&&e[a](new fl(f,T,v,S))},error:e[a+1],complete:e[a+2]},eC(s._query)}const _=K1(f);return LN(_,g,o,c)}function zh(s,e){const i=K1(s);return zN(i,e)}function nC(s,e,i){const a=i.docs.get(e._key),o=new tE(s);return new na(s,o,e._key,a,new jo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){PS(Tl),ml(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new ua(new zS(a.getProvider("auth-internal")),new HS(f,a.getProvider("app-check-internal")),aw(f,o),f);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),or(Nv,Cv,e),or(Nv,Cv,"esm2020")})();const sE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const iC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const Ov=s=>{const e=sC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var rC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const lC=Ee.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:f,...g},_)=>Ee.createElement("svg",{ref:_,...rC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:sE("lucide",o),...!c&&!aC(g)&&{"aria-hidden":"true"},...g},[...f.map(([v,T])=>Ee.createElement(v,T)),...Array.isArray(c)?c:[c]]));const Pe=(s,e)=>{const i=Ee.forwardRef(({className:a,...o},c)=>Ee.createElement(lC,{ref:c,iconNode:e,className:sE(`lucide-${iC(Ov(s))}`,`lucide-${s}`,a),...o}));return i.displayName=Ov(s),i};const oC=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],uC=Pe("arrow-up-down",oC);const cC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],rE=Pe("chart-no-axes-column",cC);const hC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dC=Pe("chevron-left",hC);const fC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mC=Pe("chevron-right",fC);const gC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],km=Pe("circle-alert",gC);const pC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aE=Pe("circle-check",pC);const yC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],vh=Pe("clock",yC);const _C=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vC=Pe("download",_C);const bC=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EC=Pe("earth",bC);const TC=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Mv=Pe("external-link",TC);const xC=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Vv=Pe("file-text",xC);const AC=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],jv=Pe("folder",AC);const SC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wC=Pe("globe",SC);const RC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lE=Pe("history",RC);const NC=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],CC=Pe("kanban",NC);const kC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],IC=Pe("key",kC);const DC=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],OC=Pe("layers",DC);const MC=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VC=Pe("list",MC);const jC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PC=Pe("lock",jC);const UC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pv=Pe("log-out",UC);const LC=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Sg=Pe("megaphone",LC);const zC=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],BC=Pe("message-square",zC);const qC=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],HC=Pe("moon",qC);const GC=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Jc=Pe("pen",GC);const FC=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],QC=Pe("pin",FC);const KC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YC=Pe("plus",KC);const XC=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$C=Pe("refresh-cw",XC);const JC=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ZC=Pe("search",JC);const WC=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oE=Pe("send",WC);const ek=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],tk=Pe("shield-alert",ek);const nk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uE=Pe("shield-check",nk);const ik=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sk=Pe("smartphone",ik);const rk=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ak=Pe("sun",rk);const lk=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ok=Pe("trash-2",lk);const uk=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Uc=Pe("trash",uk);const ck=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],hk=Pe("upload",ck);const dk=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fk=Pe("user-check",dk);const mk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hr=Pe("x",mk);const gk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],pk=Pe("zap",gk),yk={apiKey:"AIzaSyC6xIVImyXjYqtWQtdOkFlO3aBtJLGAcc8",authDomain:"polyglot-pm.firebaseapp.com",projectId:"polyglot-pm",storageBucket:"polyglot-pm.firebasestorage.app",messagingSenderId:"665653580466",appId:"1:665653580466:web:b72025d60f51bc3a85efab",measurementId:"G-RPL0YK36R7"},Uv="PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE",ti=typeof __app_id<"u"?__app_id:"project-dashboard-v1",Zc=typeof __firebase_config<"u"?JSON.parse(__firebase_config):yk,Im=Zc&&Zc.apiKey&&Zc.apiKey!=="PASTE_YOUR_API_KEY_HERE";let im,Po,pn;Im&&(im=Xv(Zc),Po=VS(im),pn=GN(im));const Dm=["anthonytosi@gmail.com","atosi@sdl.com","atosi@google.com"],sm=["Anthony","Andrey","Annika","Mieke","Emily","Unassigned"],ll=["Heads-up","Need Assessment","In Assessment","Screenshooting","In Progress","Blocked","Pending Reports","Completed"],_k=["ar-SA","da-DK","de-DE","en-GB","es-ES","es-419","it-IT","fr-CA","fr-FR","ja-JP","ko-KR","nl-NL","no-NO","pt-PT","sv-SE","zh-TW"],vk=["P0","P1","P2","P3","P4"],bk={"Heads-up":{bg:"bg-fuchsia-100 dark:bg-fuchsia-900/40",text:"text-fuchsia-700 dark:text-fuchsia-400",border:"border-fuchsia-200 dark:border-fuchsia-800",dot:"bg-fuchsia-500"},"Need Assessment":{bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",dot:"bg-amber-500"},"In Assessment":{bg:"bg-orange-100 dark:bg-orange-900/40",text:"text-orange-700 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800",dot:"bg-orange-500"},Screenshooting:{bg:"bg-pink-100 dark:bg-pink-900/40",text:"text-pink-700 dark:text-pink-400",border:"border-pink-200 dark:border-pink-800",dot:"bg-pink-500"},"In Progress":{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",dot:"bg-blue-500"},Blocked:{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800",dot:"bg-red-500"},"Pending Reports":{bg:"bg-teal-100 dark:bg-teal-900/40",text:"text-teal-700 dark:text-teal-400",border:"border-teal-200 dark:border-teal-800",dot:"bg-teal-500"},Completed:{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800",dot:"bg-green-500"}},Wr=s=>bk[s]||{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-300",border:"border-slate-200 dark:border-slate-700",dot:"bg-slate-500"},wg=s=>{const e=["bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400","bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-400","bg-lime-100 text-lime-800 border-lime-200 dark:bg-lime-900/30 dark:text-lime-400","bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400","bg-sky-100 text-sky-800 border-sky-200 dark:bg-sky-900/30 dark:text-sky-400","bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400"];if(!s)return"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300";let i=0;for(let a=0;a<s.length;a++)i=s.charCodeAt(a)+((i<<5)-i);return e[Math.abs(i)%e.length]},Rg=s=>{const e={P0:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400",P1:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400",P2:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400",P3:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300",P4:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300"};return e[s]||e.P2};function Ek(){const[s,e]=Ee.useState(null),[i,a]=Ee.useState([]),[o,c]=Ee.useState([]),[f,g]=Ee.useState(!0),[_,v]=Ee.useState(!1),[T,S]=Ee.useState({teamMembers:sm,allowedDomains:[],allowedUsers:[],userGroups:[],adminEmails:[],users:[]}),[k,G]=Ee.useState(null),[ee,re]=Ee.useState(""),[W,me]=Ee.useState({status:"All",lead:"All",pa:"All"}),[pe,Te]=Ee.useState({key:"createdAt",direction:"desc"}),[Ae,B]=Ee.useState("table"),[ae,w]=Ee.useState(!1),[A,R]=Ee.useState(null),[M,I]=Ee.useState(!1),[j,N]=Ee.useState(!1),[ht,vt]=Ee.useState(!1),[F,ne]=Ee.useState([]),[de,Be]=Ee.useState([]),[Ue,O]=Ee.useState(!1),[Y,ie]=Ee.useState(!1),[le,ve]=Ee.useState(10),Se=Ee.useRef(null),ke=s?.email?.toLowerCase()||"",st=s?.displayName||s?.email?.split("@")[0]||"User",ut=Dm.includes(ke),Ki=(T.adminEmails||[]).includes(ke),Nt=ut||Ki,Ts=Ee.useMemo(()=>{if(!s)return{hasAccess:!1,role:"none",allowedPAs:[]};if(Nt)return{hasAccess:!0,role:"admin",allowedPAs:["all"]};const J=ke.split("@")[1]||"",se=(T.allowedDomains||[]).includes(J),Re=(T.allowedUsers||[]).includes(ke),Ie=(T.users||[]).find(je=>je.email===ke),Me=(T.userGroups||[]).filter(je=>(je.members||[]).map(Gt=>(Gt||"").toLowerCase()).includes(ke));if(Me.length===0&&!se&&!Re&&!Ie)return{hasAccess:!1,role:"none",allowedPAs:[]};let Ye=se||Re?"editor":"viewer",ye=se||Re?["all"]:[];return Ie&&(Ie.role==="editor"&&(Ye="editor"),Ie.scope==="all"||ye.includes("all")?ye=["all"]:ye=[...new Set([...ye,...Ie.scopedPAs||[]])]),Me.forEach(je=>{je.role==="editor"&&(Ye="editor"),je.scope==="all"||ye.includes("all")?ye=["all"]:ye=[...new Set([...ye,...je.scopedPAs||[]])]}),{hasAccess:!0,role:Ye,allowedPAs:ye}},[s,T,Nt,ke]),{hasAccess:Bn,role:Cn,allowedPAs:si}=Ts,fn=Nt||Cn==="editor",Ct=Ee.useCallback((J,se="success")=>{const Re=Date.now();Be(Ie=>[...Ie,{id:Re,message:J,type:se}]),setTimeout(()=>Be(Ie=>Ie.filter(Me=>Me.id!==Re)),3e3)},[]),yn=Ee.useCallback(async()=>{if(!Uv.includes("PASTE_YOUR"))try{await fetch(Uv,{method:"POST",mode:"no-cors"})}catch{}},[]),bt=async()=>{ie(!0),await yn(),setTimeout(()=>{ie(!1),Ct("System Synced Successfully","success")},800)},xt=async()=>{G(null);try{await G2(Po,new ms)}catch(J){console.error("Sign-in Error:",J),J.code==="auth/unauthorized-domain"?G(`Action Required: Please add "${window.location.hostname}" to your Authorized Domains in the Firebase Console (Authentication > Settings > Authorized Domains).`):G(J.message)}};Ee.useEffect(()=>{let J;return Ue&&Bn?J=setInterval(()=>{ve(se=>se<=1?(yn(),10):se-1)},1e3):ve(10),()=>clearInterval(J)},[Ue,Bn,yn]),Ee.useEffect(()=>{if(!Im){g(!1);return}const J=A2(Po,se=>{e(se),g(!1)});return()=>J()},[]),Ee.useEffect(()=>{if(!s||!pn){v(!0);return}const J=fs(pn,"artifacts",ti,"public","data","settings","config"),se=nm(J,Re=>{Re.exists()?S(Re.data()):Iv(J,{teamMembers:sm,allowedDomains:["google.com"],allowedUsers:[...Dm],userGroups:[],adminEmails:[],users:[]}).catch(Ie=>console.log("Init settings skipped (Insufficient permissions):",Ie)),v(!0)},Re=>{console.error("Settings fetch error:",Re),v(!0)});return()=>se()},[s]);const _n=[...si].sort().join(",");Ee.useEffect(()=>{if(!s||!pn||!Bn||!_)return;const J=Io(pn,"artifacts",ti,"public","data","projects"),se=nm(J,Me=>{let Ye=Me.docs.map(ye=>({id:ye.id,...ye.data()}));if(_n!=="all"){const ye=_n.split(",");Ye=Ye.filter(je=>ye.includes(je.productArea))}a(Ye),R(ye=>ye?Ye.find(ln=>ln.id===ye.id)||ye:null)},Me=>{console.error("Projects Fetch Error:",Me),Ct("Connection issue with Database","error")}),Re=Io(pn,"artifacts",ti,"public","data","announcements"),Ie=nm(Re,Me=>{let Ye=Me.docs.map(ye=>({id:ye.id,...ye.data()}));if(_n!=="all"){const ye=_n.split(",");Ye=Ye.filter(je=>je.targetPA==="general"||ye.includes(je.targetPA))}Ye.sort((ye,je)=>je.timestamp-ye.timestamp),c(Ye)},Me=>console.error("Announcements Fetch Error:",Me));return()=>{se(),Ie()}},[s,Bn,_n,_,Ct]),Ee.useEffect(()=>{ae?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[ae]);const br=Ee.useMemo(()=>[...new Set([...T.teamMembers||sm,st])].filter(J=>J!=="Unassigned").concat(["Unassigned"]),[st,T]),xs=Ee.useMemo(()=>[...new Set(i.map(J=>String(J.productArea||"").trim()).filter(Boolean))].sort(),[i]),$t=Ee.useMemo(()=>{const J=[];return(i||[]).forEach(se=>{Array.isArray(se.comments)&&se.comments.forEach(Re=>J.push({...Re,projectName:se.projectName,projectId:se.id}))}),J.sort((se,Re)=>Re.timestamp-se.timestamp)},[i]),ri=Ee.useMemo(()=>{let J=i.filter(se=>{const Re=ee.toLowerCase(),Ie=String(se.bugNumber||"").toLowerCase(),Me=String(se.projectName||"").toLowerCase(),Ye=String(se.productArea||"").trim(),ye=se.assignedLead||"Unassigned";return(Ie.includes(Re)||Me.includes(Re))&&(W.status==="All"||se.status===W.status)&&(W.lead==="All"||ye===W.lead)&&(W.pa==="All"||Ye===W.pa)});return J.sort((se,Re)=>{let Ie=se[pe.key],Me=Re[pe.key];return pe.key==="clientETA"||pe.key==="createdAt"?(Ie=Ie?new Date(Ie).getTime():0,Me=Me?new Date(Me).getTime():0):(Ie=String(Ie||"").toLowerCase(),Me=String(Me||"").toLowerCase()),Ie<Me?pe.direction==="asc"?-1:1:Ie>Me?pe.direction==="asc"?1:-1:0}),J},[i,ee,W,pe]),Er=J=>{Te(se=>({key:J,direction:se.key===J&&se.direction==="asc"?"desc":"asc"}))},Tr=async J=>{if(!fn)return;if(!Nt&&si[0]!=="all"&&!si.includes(J.productArea)){Ct("Unauthorized: You cannot save to this Product Area.","error");return}const se=Io(pn,"artifacts",ti,"public","data","projects"),Re={...J,updatedAt:Date.now(),lastEditedBy:s.uid,lastEditedByName:st};try{J.id?await Pc(fs(se,J.id),Re):await tm(se,{...Re,createdAt:Date.now(),createdBy:s.uid,comments:[]}),I(!1),yn(),Ct(J.id?"Project Updated":"Project Created","success")}catch{Ct("Failed to save project","error")}},ai=async(J,se)=>{fn&&(await Pc(fs(pn,"artifacts",ti,"public","data","projects",J),{...se,updatedAt:Date.now(),lastEditedByName:st}),yn(),Ct("Record updated","success"))},da=async(J,se)=>{if(!fn||F.length===0)return;const Re=F.map(Ie=>Pc(fs(pn,"artifacts",ti,"public","data","projects",Ie),{[J]:se,updatedAt:Date.now(),lastEditedByName:st}));await Promise.all(Re),ne([]),yn(),Ct(`Bulk updated ${F.length} projects`,"success")},fa=async(J,se,Re,Ie=!1)=>{if(!Nt)return;const Me=Io(pn,"artifacts",ti,"public","data","announcements");await tm(Me,{title:J,content:se,targetPA:Re,isPinned:Ie,timestamp:Date.now(),author:st,authorId:s.uid}),Ct("Announcement Posted","success")},ma=async J=>{Nt&&(await Iv(fs(pn,"artifacts",ti,"public","data","settings","config"),J),Ct("Security Rules Updated","success"))},ga=()=>{const J=["Bug Number","Project Name","Product Area","Status","Assigned Lead","Priority","Client ETA","Tester ETA","Devices","Project Folder URL","Quote URL"],se=ri.map(ye=>[ye.bugNumber,ye.projectName,ye.productArea,ye.status,ye.assignedLead,ye.priority||"P2",ye.clientETA||"",ye.testerETA||"",ye.devices||"",ye.projectFolderUrl||"",ye.quoteUrl||""]),Re=[J.join(","),...se.map(ye=>ye.map(je=>`"${String(je||"").replace(/"/g,'""')}"`).join(","))].join(`
`),Ie=new Blob([Re],{type:"text/csv"}),Me=window.URL.createObjectURL(Ie),Ye=document.createElement("a");Ye.href=Me,Ye.download=`Polyglot_PM_Export_${new Date().toISOString().split("T")[0]}.csv`,Ye.click(),Ct("Export generated","success")},vn=J=>{const se=[];let Re="",Ie=!1;for(let Me=0;Me<J.length;Me++)J[Me]==='"'?Ie=!Ie:J[Me]===","&&!Ie?(se.push(Re.trim()),Re=""):Re+=J[Me];return se.push(Re.trim()),se.map(Me=>Me.replace(/^"|"$/g,""))},zt=async J=>{const se=J.target.files[0];if(!se||!Nt)return;const Re=new FileReader;Re.onload=async Ie=>{try{const Ye=Ie.target.result.split(/\r?\n/).filter(Gt=>Gt.trim()),ye=vn(Ye[0]),je=Io(pn,"artifacts",ti,"public","data","projects");let ln=0;for(let Gt=1;Gt<Ye.length;Gt++){const kn=vn(Ye[Gt]),Ft={};ye.forEach((pa,qn)=>{Ft[pa]=kn[qn]||""}),Ft["Project Name"]&&(await tm(je,{bugNumber:Ft["Bug Number"]||"",projectName:Ft["Project Name"],productArea:Ft["Product Area"]||"General",status:ll.includes(Ft.Status)?Ft.Status:"Need Assessment",assignedLead:Ft["Assigned Lead"]||"Unassigned",priority:Ft.Priority||"P2",clientETA:Ft["Client ETA"]||"",testerETA:Ft["Tester ETA"]||"",devices:Ft.Devices||"",projectFolderUrl:Ft["Project Folder URL"]||"",quoteUrl:Ft["Quote URL"]||"",createdAt:Date.now(),updatedAt:Date.now(),createdBy:s.uid,lastEditedByName:`Import: ${st}`,comments:[]}),ln++)}Ct(`Successfully imported ${ln} projects.`,"success"),yn()}catch{Ct("Error parsing CSV. Check format.","error")}Se.current.value=""},Re.readAsText(se)};return f||s&&!_?p.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-500 font-medium tracking-tight",children:"Authenticating securely..."}):Im?s&&!Bn?p.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans p-6",children:p.jsxs("div",{className:"bg-white p-10 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[p.jsx("div",{className:"w-24 h-24 bg-red-50 text-red-500 rounded-[2rem] flex items-center justify-center mb-8",children:p.jsx(PC,{size:40})}),p.jsx("h1",{className:"text-2xl font-black text-slate-900 mb-3",children:"Access Restricted"}),p.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["Your address (",p.jsx("b",{children:ke}),") is not on the access control list."]}),p.jsxs("button",{onClick:()=>x_(Po),className:"w-full bg-slate-900 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-slate-800 transition-all active:scale-95",children:[p.jsx(Pv,{size:18})," Sign Out"]})]})}):s?p.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans overflow-hidden transition-colors duration-300",children:[p.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:de.map(J=>p.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-xl font-black text-sm uppercase tracking-widest animate-in slide-in-from-right-8 fade-in ${J.type==="error"?"bg-red-600 text-white":"bg-slate-900 text-white dark:bg-white dark:text-slate-900"}`,children:[J.type==="success"?p.jsx(aE,{size:18}):p.jsx(km,{size:18})," ",J.message]},J.id))}),p.jsxs("div",{className:"w-24 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col items-center py-8 z-10 justify-between transition-colors",children:[p.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[p.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-[1.5rem] flex items-center justify-center text-white font-black text-xl shadow-lg shadow-indigo-600/30 cursor-pointer hover:rotate-12 transition-transform",onClick:()=>B("table"),children:"P"}),p.jsxs("nav",{className:"flex flex-col gap-4 w-full px-4",children:[p.jsx(Lc,{icon:VC,active:Ae==="table",onClick:()=>B("table"),label:"Table"}),p.jsx(Lc,{icon:CC,active:Ae==="kanban",onClick:()=>B("kanban"),label:"Board"}),p.jsx(Lc,{icon:rE,active:Ae==="metrics",onClick:()=>B("metrics"),label:"Stats"}),Nt&&p.jsx(Lc,{icon:uE,active:Ae==="admin",onClick:()=>B("admin"),label:"Admin",highlight:!0})]})]}),p.jsxs("div",{className:"flex flex-col items-center gap-6",children:[p.jsx("button",{onClick:()=>w(!ae),className:"p-3 text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all",children:ae?p.jsx(ak,{size:22}):p.jsx(HC,{size:22})}),p.jsx("button",{onClick:()=>x_(Po),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-2xl transition-all",children:p.jsx(Pv,{size:22})}),p.jsxs("div",{className:"relative group mt-2",children:[p.jsx("div",{className:"w-12 h-12 rounded-[1.2rem] flex items-center justify-center text-sm font-black text-white bg-indigo-600 shadow-md",children:st.charAt(0).toUpperCase()}),p.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-slate-900 rounded-full"})]})]})]}),p.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[p.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 px-10 py-6 flex items-center justify-between z-10 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-black tracking-tight",children:Ae==="admin"?"System Controls":"Project Directory"}),p.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mt-1",children:["Role: ",Nt?"System Admin":Cn," ",si[0]!=="all"&&` Scoped (${si.length})`]})]}),p.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-2xl border transition-colors ${Ue?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${Ue?"bg-green-500 animate-pulse":"bg-slate-300 dark:bg-slate-600"}`}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${Ue?"text-green-700 dark:text-green-400":"text-slate-500"}`,children:Ue?`Live Pulse: ${le}s`:"Pulse: Off"})]})]}),p.jsx("div",{className:"flex items-center gap-4",children:Ae!=="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative",children:[p.jsx(ZC,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),p.jsx("input",{type:"text",placeholder:"Search entries...",className:"pl-12 pr-6 py-3.5 bg-slate-100 dark:bg-slate-800 rounded-2xl text-sm font-medium w-72 outline-none focus:ring-2 ring-indigo-500/30 transition-all placeholder:text-slate-400 dark:text-white",value:ee,onChange:J=>re(J.target.value)})]}),p.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[p.jsx(Do,{icon:$C,onClick:bt,active:Y,title:"Force Sync Refresh"}),Nt&&p.jsx(Do,{icon:pk,onClick:()=>O(!Ue),active:Ue,color:"amber",title:"Toggle 10s Auto-Pulse"}),p.jsx(Do,{icon:lE,onClick:()=>N(!0),title:"Global Audit Log"}),p.jsx(Do,{icon:vC,onClick:ga,title:"Export CSV"}),Nt&&p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"file",accept:".csv",ref:Se,className:"hidden",onChange:zt}),p.jsx(Do,{icon:hk,onClick:()=>Se.current.click(),title:"Bulk Import CSV"})]})]}),fn&&p.jsxs("button",{onClick:()=>{R(null),I(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3.5 rounded-2xl text-sm font-black flex items-center gap-2 shadow-lg shadow-indigo-600/20 transition-all active:scale-95 ml-2",children:[p.jsx(YC,{size:20})," New Record"]})]})})]}),o.length>0&&Ae!=="admin"&&p.jsx(Tk,{announcements:o,onOpenHistory:()=>vt(!0)}),Ae!=="admin"&&Ae!=="metrics"&&p.jsxs("div",{className:"px-10 py-4 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800 flex items-center justify-between z-0",children:[p.jsxs("div",{className:"flex gap-4",children:[p.jsx(rm,{value:W.status,onChange:J=>me({...W,status:J}),options:ll,label:"All Statuses"}),p.jsx(rm,{value:W.lead,onChange:J=>me({...W,lead:J}),options:br,label:"All Leads"}),p.jsx(rm,{value:W.pa,onChange:J=>me({...W,pa:J}),options:xs,label:"All Areas"})]}),F.length>0&&fn&&p.jsxs("div",{className:"bg-indigo-600 text-white px-6 py-2 rounded-xl flex items-center gap-6 animate-in slide-in-from-bottom-2",children:[p.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[F.length," Selected"]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("select",{onChange:J=>da("status",J.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[p.jsx("option",{value:"",children:"Batch Status..."}),ll.map(J=>p.jsx("option",{value:J,className:"text-slate-900",children:J},J))]}),p.jsxs("select",{onChange:J=>da("assignedLead",J.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[p.jsx("option",{value:"",children:"Batch Lead..."}),br.map(J=>p.jsx("option",{value:J,className:"text-slate-900",children:J},J))]}),p.jsx("button",{onClick:()=>ne([]),className:"p-1 hover:bg-white/20 rounded-lg",children:p.jsx(hr,{size:14})})]})]})]}),p.jsxs("div",{className:"flex-1 overflow-auto p-10 bg-slate-50 dark:bg-slate-950",children:[Ae==="table"&&p.jsx(xk,{projects:ri,selectedIds:F,onSelect:ne,onOpen:R,onUpdateProject:ai,canEdit:fn,sortConfig:pe,onSort:Er}),Ae==="kanban"&&p.jsx("div",{className:"flex gap-8 pb-10 min-h-full",children:ll.map(J=>p.jsx(Ak,{status:J,projects:ri.filter(se=>se.status===J),onOpen:R},J))}),Ae==="metrics"&&p.jsx(Sk,{projects:i}),Ae==="admin"&&Nt&&p.jsx(wk,{settings:T,onUpdateSettings:ma,productAreas:xs,isSuperAdmin:ut,onPostAnnouncement:fa,announcements:o,onDeleteAnnouncement:J=>Dv(fs(pn,"artifacts",ti,"public","data","announcements",J)),onTogglePin:(J,se)=>Pc(fs(pn,"artifacts",ti,"public","data","announcements",J),{isPinned:!se})})]})]}),ht&&p.jsx(Rk,{announcements:o,onClose:()=>vt(!1)}),j&&p.jsx(kk,{activities:$t,onClose:()=>N(!1),onOpen:J=>{R(i.find(se=>se.id===J)),N(!1)}}),M&&p.jsx(Nk,{project:A,teamMembers:br,uniquePAs:xs,onClose:()=>{I(!1),R(null)},onSave:Tr}),A&&!M&&p.jsx(Ck,{project:A,isAdmin:Nt,canEdit:fn,onClose:()=>R(null),onEdit:()=>I(!0),onUpdate:ai,onDelete:J=>{Dv(fs(pn,"artifacts",ti,"public","data","projects",J)),yn(),R(null),Ct("Project Deleted","success")}})]}):p.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans p-6",children:p.jsxs("div",{className:"bg-white p-12 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[p.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white font-black shadow-lg shadow-indigo-600/30 mb-8 text-4xl",children:"P"}),p.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-3 tracking-tight",children:"Polyglot PM"}),p.jsx("p",{className:"text-slate-500 mb-10 font-medium",children:"Enterprise Localization Management"}),k&&p.jsxs("div",{className:"mb-6 w-full p-4 bg-red-50 border border-red-200 rounded-2xl text-xs text-red-600 font-bold text-left shadow-sm",children:[p.jsx(km,{size:16,className:"inline mr-2 align-text-bottom"}),k]}),p.jsxs("button",{onClick:xt,className:"flex items-center justify-center gap-4 bg-white border-2 border-slate-200 hover:border-indigo-600 hover:bg-indigo-50 text-slate-800 font-black py-4 px-6 rounded-2xl w-full transition-all active:scale-95 shadow-sm",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/action/google.svg",className:"w-5 h-5",alt:"Google"})," Sign in with Google"]})]})}):p.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center p-6",children:p.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[32px] shadow-2xl border border-slate-200 text-center",children:[p.jsx(tk,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),p.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Database Setup Required"}),p.jsxs("p",{className:"text-slate-500 text-sm mb-6 leading-relaxed",children:["Your application needs Firebase credentials to connect to the database. Please update ",p.jsx("b",{children:"App.jsx"})," line 17."]})]})})}const Lc=({icon:s,active:e,onClick:i,label:a,highlight:o})=>p.jsx("button",{onClick:i,className:`p-4 rounded-2xl w-full flex justify-center transition-all duration-200 ${e?o?"bg-amber-500/10 text-amber-500":"bg-indigo-600/10 text-indigo-600 dark:text-indigo-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-600 dark:hover:text-slate-300"}`,title:a,children:p.jsx(s,{size:24,className:e&&o?"drop-shadow-sm":""})}),Do=({icon:s,onClick:e,active:i,color:a="indigo",title:o})=>{const c=i?a==="amber"?"bg-amber-100 text-amber-600 dark:bg-amber-900/30":"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30":"",f=i&&a==="indigo"?"animate-spin":"";return p.jsx("button",{onClick:e,title:o,className:`p-3 rounded-xl transition-all text-slate-500 hover:text-indigo-600 hover:bg-slate-200 dark:hover:bg-slate-700 ${c}`,children:p.jsx(s,{size:20,className:f})})},rm=({value:s,onChange:e,options:i,label:a})=>p.jsxs("div",{className:"relative",children:[p.jsxs("select",{value:s,onChange:o=>e(o.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-slate-100 dark:bg-slate-800 border-none rounded-xl text-xs font-black text-slate-700 dark:text-slate-300 outline-none cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[p.jsx("option",{value:"All",children:a}),i.map(o=>p.jsx("option",{value:o,children:o},o))]}),p.jsx(uC,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),zc=({sortConfig:s,col:e})=>p.jsx("span",{className:`ml-2 inline-block transition-transform ${s.key===e?"text-indigo-500":"text-slate-300"} ${s.key===e&&s.direction==="desc"?"rotate-180":""}`,children:""});function Tk({announcements:s,onOpenHistory:e}){const[i,a]=Ee.useState(0),o=Ee.useMemo(()=>[...s.filter(f=>f.isPinned),...s.filter(f=>!f.isPinned).slice(0,3)],[s]),c=o[i%o.length];return c?p.jsxs("div",{className:`px-10 py-3 flex items-center justify-between border-b transition-colors ${c.isPinned?"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800/50":"bg-indigo-600 border-indigo-700 text-white"}`,children:[p.jsxs("div",{className:"flex items-center gap-6 overflow-hidden",children:[p.jsxs("div",{className:`flex items-center gap-2 flex-shrink-0 font-black text-[10px] uppercase tracking-widest ${c.isPinned?"text-amber-600 dark:text-amber-400":"text-indigo-200"}`,children:[p.jsx(Sg,{size:16})," ",c.isPinned?"Priority Pin":"Updates"]}),p.jsxs("div",{className:`text-sm font-bold truncate ${c.isPinned?"text-slate-900 dark:text-amber-100":"text-white"}`,children:[p.jsxs("span",{className:"opacity-60 font-black mr-3 px-2 py-0.5 rounded border border-current",children:["QA: ",c.targetPA||"GENERAL"]}),c.title,": ",p.jsx("span",{className:"font-medium opacity-90",children:c.content})]})]}),p.jsxs("div",{className:"flex items-center gap-4 ml-6 flex-shrink-0",children:[p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>a(f=>f>0?f-1:o.length-1),className:"p-1 hover:bg-black/10 rounded",children:p.jsx(dC,{size:16})}),p.jsx("button",{onClick:()=>a(f=>f+1),className:"p-1 hover:bg-black/10 rounded",children:p.jsx(mC,{size:16})})]}),p.jsx("button",{onClick:e,className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${c.isPinned?"border-amber-300 text-amber-700 bg-white hover:bg-amber-100 dark:bg-transparent dark:text-amber-400":"border-indigo-400 text-white bg-indigo-500/50 hover:bg-indigo-500"}`,children:"Log"})]})]}):null}function xk({projects:s,selectedIds:e,onSelect:i,onOpen:a,onUpdateProject:o,canEdit:c,sortConfig:f,onSort:g}){return p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] shadow-xl border border-slate-100 dark:border-slate-800 overflow-hidden",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 text-slate-400 text-[10px] uppercase font-black tracking-widest",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-8 py-5 w-10",children:c&&p.jsx("input",{type:"checkbox",className:"rounded bg-slate-200 border-none cursor-pointer",checked:s.length>0&&e.length===s.length,onChange:()=>i(e.length?[]:s.map(_=>_.id))})}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("projectName"),children:["Project Specs ",p.jsx(zc,{sortConfig:f,col:"projectName"})]}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("status"),children:["Current Phase ",p.jsx(zc,{sortConfig:f,col:"status"})]}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("assignedLead"),children:["Assigned ",p.jsx(zc,{sortConfig:f,col:"assignedLead"})]}),p.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("clientETA"),children:["Schedule ",p.jsx(zc,{sortConfig:f,col:"clientETA"})]}),p.jsx("th",{className:"px-8 py-5 text-center",children:"Deliverables"})]})}),p.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800/50",children:[s.map(_=>{const v=Wr(_.status),T=e.includes(_.id);return p.jsxs("tr",{className:`group cursor-pointer transition-colors ${T?"bg-indigo-50/50 dark:bg-indigo-900/20":"hover:bg-slate-50/80 dark:hover:bg-slate-700/30"}`,onClick:()=>a(_),children:[p.jsx("td",{className:"px-8 py-6",onClick:S=>{S.stopPropagation(),c&&i(k=>T?k.filter(G=>G!==_.id):[...k,_.id])},children:c&&p.jsx("input",{type:"checkbox",checked:T,readOnly:!0,className:"rounded border-slate-300 text-indigo-600 focus:ring-0 cursor-pointer"})}),p.jsxs("td",{className:"px-8 py-6",children:[p.jsxs("div",{className:"font-mono text-[10px] text-indigo-600 dark:text-indigo-400 font-black mb-1.5 uppercase tracking-widest flex gap-2 items-center",children:[_.bugNumber||"DRAFT",_.priority&&_.priority!=="P2"&&p.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] border ${Rg(_.priority)}`,children:_.priority})]}),p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm mb-2.5 leading-tight",children:_.projectName}),p.jsx("span",{className:`inline-block px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${wg(_.productArea)}`,children:_.productArea||"General"})]}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-xl text-[10px] font-black border ${v.bg} ${v.text} ${v.border}`,children:[p.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${v.dot}`}),_.status]})}),p.jsx("td",{className:"px-8 py-6",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:String(_.assignedLead||"U").charAt(0)}),p.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:_.assignedLead})]})}),p.jsx("td",{className:"px-8 py-6 text-[10px] font-bold text-slate-500 dark:text-slate-400",children:p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vh,{size:12,className:"text-slate-300"})," ",p.jsxs("span",{className:_.clientETA?"text-slate-700 dark:text-slate-200":"",children:["Client: ",_.clientETA||"TBD"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vh,{size:12,className:"opacity-40"})," ",p.jsxs("span",{className:"opacity-70",children:["Tester: ",_.testerETA||"TBD"]})]})]})}),p.jsx("td",{className:"px-8 py-6 text-center",children:p.jsxs("div",{className:"flex justify-center gap-3",children:[p.jsx("button",{onClick:S=>{S.stopPropagation(),c&&o(_.id,{quoteReady:!_.quoteReady})},className:`p-2 rounded-xl border transition-all ${_.quoteReady?"text-green-600 bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Ready",children:p.jsx(aE,{size:16})}),p.jsx("button",{onClick:S=>{S.stopPropagation(),c&&o(_.id,{quoteSent:!_.quoteSent})},className:`p-2 rounded-xl border transition-all ${_.quoteSent?"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Sent",children:p.jsx(oE,{size:16})})]})})]},_.id)}),s.length===0&&p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"px-8 py-20 text-center text-slate-400 font-bold text-xs uppercase tracking-widest",children:"No matching records found"})})]})]})})}function Ak({status:s,projects:e,onOpen:i}){const a=Wr(s);return p.jsxs("div",{className:"flex-shrink-0 w-80 flex flex-col",children:[p.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[p.jsxs("span",{className:"flex items-center gap-3 font-black text-[11px] uppercase tracking-[0.15em] text-slate-500 dark:text-slate-400",children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${a.dot} shadow-sm`}),s]}),p.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2.5 py-1 rounded-lg text-[9px] font-black",children:e.length})]}),p.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-y-auto pb-4",children:[e.map(o=>p.jsxs("div",{onClick:()=>i(o),className:"group bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-sm border border-slate-100 dark:border-slate-700 cursor-pointer hover:border-indigo-400 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[p.jsx("div",{className:"flex justify-between items-start mb-3",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx("div",{className:"text-[9px] font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 rounded-md uppercase tracking-wider",children:o.bugNumber||"Draft"}),o.priority&&o.priority!=="P2"&&p.jsx("div",{className:`text-[9px] font-black px-2 py-1 rounded-md border ${Rg(o.priority)}`,children:o.priority})]})}),p.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 mb-5 leading-snug",children:o.projectName}),p.jsxs("div",{className:"flex justify-between items-end border-t border-slate-50 dark:border-slate-700/50 pt-4 mt-auto",children:[p.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${wg(o.productArea)}`,children:o.productArea||"General"}),p.jsx("div",{className:"w-7 h-7 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:String(o.assignedLead||"U").charAt(0)})]})]},o.id)),e.length===0&&p.jsx("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] h-32 flex items-center justify-center text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Empty"})]})]})}function Sk({projects:s}){const e=i=>s.length?Math.round(i/s.length*100):0;return p.jsx("div",{className:"max-w-5xl mx-auto space-y-10 animate-in fade-in zoom-in-95 duration-500",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-12 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl shadow-slate-200/20 dark:shadow-none",children:[p.jsxs("h3",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-10 flex items-center gap-3",children:[p.jsx(rE,{size:20})," Phase Distribution Overview"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-10",children:ll.map(i=>{const a=s.filter(o=>o.status===i).length;return a?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between items-end text-xs font-black uppercase tracking-tight",children:[p.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:i}),p.jsxs("span",{className:"text-slate-400 text-[10px]",children:[a," Records (",e(a),"%)"]})]}),p.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-900 rounded-full overflow-hidden shadow-inner p-0.5",children:p.jsx("div",{className:`h-full rounded-full ${Wr(i).dot} transition-all duration-1000 shadow-sm`,style:{width:`${e(a)}%`}})})]},i):null})})]})})}function wk({settings:s,onUpdateSettings:e,productAreas:i,isSuperAdmin:a,onPostAnnouncement:o,announcements:c,onDeleteAnnouncement:f,onTogglePin:g}){const[_,v]=Ee.useState({id:null,name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}),[T,S]=Ee.useState({email:"",role:"viewer",scope:"all",scopedPAs:[]}),[k,G]=Ee.useState({admin:"",domain:"",annTitle:"",annContent:"",annTarget:"general"}),ee=(B,ae)=>{if(!ae.trim())return;const w=ae.toLowerCase().trim().replace("@","");e({...s,[B]:[...new Set([...s[B]||[],w])]}),G(A=>({...A,[B==="adminEmails"?"admin":"domain"]:""}))},re=(B,ae)=>{e({...s,[B]:(s[B]||[]).filter(w=>w!==ae)})},W=()=>{if(!_.name.trim())return;let B;_.id?B=(s.userGroups||[]).map(ae=>ae.id===_.id?_:ae):B=[...s.userGroups||[],{..._,id:Date.now()}],e({...s,userGroups:B}),v({id:null,name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]})},me=B=>{v(B),window.scrollTo({top:0,behavior:"smooth"})},pe=(B,ae)=>{const w=ae.split(/[,;\s]+/).map(R=>R.toLowerCase().trim()).filter(Boolean);if(w.length===0)return;const A=(s.userGroups||[]).map(R=>R.id===B?{...R,members:[...new Set([...R.members||[],...w])]}:R);e({...s,userGroups:A})},Te=()=>{if(!T.email.trim())return;const B=T.email.toLowerCase().trim(),ae=[...(s.users||[]).filter(A=>A.email!==B),{...T,email:B}],w=(s.allowedUsers||[]).filter(A=>A!==B);e({...s,users:ae,allowedUsers:w}),S({email:"",role:"viewer",scope:"all",scopedPAs:[]})},Ae=B=>{e({...s,users:(s.users||[]).filter(ae=>ae.email!==B)})};return p.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 pb-20 animate-in fade-in duration-500",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(Sg,{className:"text-indigo-500"})," Broadcast Engine"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[p.jsx("input",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:k.annTitle,onChange:B=>G({...k,annTitle:B.target.value}),placeholder:"Headline Subject..."}),p.jsxs("select",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold uppercase tracking-wider outline-none dark:text-white",value:k.annTarget,onChange:B=>G({...k,annTarget:B.target.value}),children:[p.jsx("option",{value:"general",children:"Target: Global Access"}),i.map(B=>p.jsxs("option",{value:B,children:["Target PA: ",B]},B))]})]}),p.jsx("textarea",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-medium mb-6 min-h-[120px] outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:k.annContent,onChange:B=>G({...k,annContent:B.target.value}),placeholder:"Message content..."}),p.jsx("button",{onClick:()=>{o(k.annTitle,k.annContent,k.annTarget),G({...k,annTitle:"",annContent:""})},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-black text-xs transition-colors shadow-lg shadow-indigo-500/20",children:"Publish Broadcast"}),p.jsxs("div",{className:"mt-12 space-y-3 border-t border-slate-100 dark:border-slate-700 pt-8",children:[p.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Active & Historical Broadcasts"}),c.map(B=>p.jsxs("div",{className:`flex items-center justify-between p-5 rounded-2xl border transition-colors ${B.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800"}`,children:[p.jsxs("div",{className:"flex gap-5 items-center overflow-hidden",children:[p.jsx("button",{onClick:()=>g(B.id,B.isPinned),className:`p-2 rounded-xl border transition-all ${B.isPinned?"text-amber-600 bg-amber-100 border-amber-300":"text-slate-400 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:p.jsx(QC,{size:16})}),p.jsxs("div",{className:"truncate",children:[p.jsx("div",{className:"text-[9px] font-black uppercase text-indigo-500 tracking-widest mb-1",children:B.targetPA||"GENERAL"}),p.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 truncate",children:B.title})]})]}),p.jsx("button",{onClick:()=>f(B.id),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(Uc,{size:18})})]},B.id))]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(uE,{className:"text-amber-500"})," Core Security Keys"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"System Admins"}),p.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:k.admin,onChange:B=>G({...k,admin:B.target.value}),onKeyDown:B=>B.key==="Enter"&&ee("adminEmails",k.admin),placeholder:"Add admin email..."}),p.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Dm.map(B=>p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-100 dark:border-amber-800/50 text-[10px] font-black text-amber-700 dark:text-amber-500 uppercase tracking-widest",children:[p.jsx(IC,{size:12})," ",B]},B))}),s.adminEmails&&s.adminEmails.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.adminEmails.map(B=>p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800 text-[10px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:[B," ",p.jsx("button",{onClick:()=>re("adminEmails",B),className:"ml-2 text-slate-300 hover:text-red-500",children:p.jsx(hr,{size:14})})]},B))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"Whitelist Domains"}),p.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:k.domain,onChange:B=>G({...k,domain:B.target.value}),onKeyDown:B=>B.key==="Enter"&&ee("allowedDomains",k.domain),placeholder:"e.g. company.com..."}),s.allowedDomains&&s.allowedDomains.length>0?p.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:s.allowedDomains.map(B=>p.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800 text-[10px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:[p.jsx(wC,{size:12,className:"text-blue-500"})," ",B," ",p.jsx("button",{onClick:()=>re("allowedDomains",B),className:"ml-2 text-slate-300 hover:text-red-500",children:p.jsx(hr,{size:14})})]},B))}):p.jsx("span",{className:"text-[10px] font-bold text-slate-400 italic block mt-4",children:"No domains whitelisted."})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl transition-all",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(fk,{className:"text-emerald-500"})," Individual User Access"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 items-end",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"User Email"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:T.email,onChange:B=>S({...T,email:B.target.value}),placeholder:"user@company.com"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Permissions"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:T.role,onChange:B=>S({...T,role:B.target.value}),children:[p.jsx("option",{value:"viewer",children:"Read Only Viewer"}),p.jsx("option",{value:"editor",children:"Full Editor"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Scope Horizon"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:T.scope,onChange:B=>S({...T,scope:B.target.value}),children:[p.jsx("option",{value:"all",children:"Global Access"}),p.jsx("option",{value:"scoped",children:"Restricted Silos"})]})]}),p.jsx("button",{onClick:Te,disabled:!T.email,className:"bg-indigo-600 text-white h-[52px] rounded-2xl font-black text-xs shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50",children:"Grant Access"})]}),T.scope==="scoped"&&p.jsx("div",{className:"mt-8 p-8 bg-slate-50 dark:bg-slate-900/50 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex flex-wrap gap-3",children:i.map(B=>{const ae=T.scopedPAs.includes(B);return p.jsx("button",{onClick:()=>S({...T,scopedPAs:ae?T.scopedPAs.filter(w=>w!==B):[...T.scopedPAs,B]}),className:`px-5 py-2.5 rounded-xl text-[10px] font-black border uppercase tracking-widest transition-all ${ae?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-indigo-400"}`,children:B},B)})}),p.jsxs("div",{className:"mt-10 pt-8 border-t border-slate-100 dark:border-slate-700",children:[p.jsxs("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-6",children:["Provisioned Users (",(s.users?.length||0)+(s.allowedUsers?.length||0),")"]}),p.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:[(s.allowedUsers||[]).map(B=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-800 flex items-center justify-center font-black text-slate-500",children:B.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:B}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-0.5 rounded border border-indigo-100 dark:border-indigo-800",children:"Editor (Legacy)"}),p.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded border border-slate-200 dark:border-slate-700",children:"Global"})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>{S({email:B,role:"editor",scope:"all",scopedPAs:[]}),window.scrollTo({top:0,behavior:"smooth"})},className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors",title:"Upgrade Record",children:p.jsx(Jc,{size:16})}),p.jsx("button",{onClick:()=>re("allowedUsers",B),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(Uc,{size:16})})]})]},B)),(s.users||[]).map(B=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-900/50 rounded-2xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-200 dark:bg-slate-800 flex items-center justify-center font-black text-slate-500",children:B.email.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("div",{className:"font-bold text-sm text-slate-800 dark:text-slate-200",children:B.email}),p.jsxs("div",{className:"flex gap-2 mt-1 items-center",children:[p.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded border ${B.role==="editor"?"text-indigo-600 bg-indigo-50 border-indigo-100 dark:bg-indigo-900/30 dark:border-indigo-800":"text-slate-600 bg-slate-200 border-slate-300 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300"}`,children:B.role}),p.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-white dark:bg-slate-900 px-2 py-0.5 rounded border border-slate-200 dark:border-slate-700",children:B.scope==="all"?"Global Scope":`Scoped: ${B.scopedPAs?.length||0} Areas`})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>{S(B),window.scrollTo({top:0,behavior:"smooth"})},className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors",title:"Edit Permissions",children:p.jsx(Jc,{size:16})}),p.jsx("button",{onClick:()=>Ae(B.email),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(Uc,{size:16})})]})]},B.email)),(!s.users||s.users.length===0)&&(!s.allowedUsers||s.allowedUsers.length===0)&&p.jsx("div",{className:"text-center py-10 text-xs font-bold text-slate-400 italic",children:"No individual users provisioned yet."})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl transition-all",children:[p.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[p.jsx(OC,{className:"text-indigo-500"})," ",_.id?"Edit Group Matrix":"Define Group Matrix"]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 items-end",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Matrix Name"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.name,onChange:B=>v({..._,name:B.target.value}),placeholder:"e.g. Vendors"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Permissions"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.role,onChange:B=>v({..._,role:B.target.value}),children:[p.jsx("option",{value:"viewer",children:"Read Only Viewer"}),p.jsx("option",{value:"editor",children:"Full Editor"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Scope Horizon"}),p.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.scope,onChange:B=>v({..._,scope:B.target.value}),children:[p.jsx("option",{value:"all",children:"Global Access"}),p.jsx("option",{value:"scoped",children:"Restricted Silos"})]})]}),p.jsxs("div",{className:"flex gap-2",children:[_.id&&p.jsx("button",{onClick:()=>v({id:null,name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}),className:"flex-1 bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 h-[52px] rounded-2xl font-black text-xs hover:bg-slate-300 dark:hover:bg-slate-600 transition-all",children:"Cancel"}),p.jsx("button",{onClick:W,className:`flex-1 text-white h-[52px] rounded-2xl font-black text-xs shadow-lg transition-all active:scale-95 ${_.id?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/20":"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-500/20"}`,children:_.id?"Save Matrix":"Construct"})]})]}),_.scope==="scoped"&&p.jsx("div",{className:"mt-8 p-8 bg-slate-50 dark:bg-slate-900/50 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex flex-wrap gap-3",children:i.map(B=>{const ae=_.scopedPAs.includes(B);return p.jsx("button",{onClick:()=>v({..._,scopedPAs:ae?_.scopedPAs.filter(w=>w!==B):[..._.scopedPAs,B]}),className:`px-5 py-2.5 rounded-xl text-[10px] font-black border uppercase tracking-widest transition-all ${ae?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-indigo-400"}`,children:B},B)})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(s.userGroups||[]).map(B=>p.jsxs("div",{className:`bg-white dark:bg-slate-800 p-8 rounded-[40px] border shadow-sm flex flex-col transition-all ${_.id===B.id?"border-indigo-400 dark:border-indigo-500 ring-4 ring-indigo-500/10":"border-slate-100 dark:border-slate-700"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-3",children:B.name}),p.jsxs("div",{className:"flex gap-3 items-center",children:[p.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800",children:B.role}),p.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-slate-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700",children:B.scope==="all"?"Global Scope":`Scoped: ${B.scopedPAs?.length||0}`})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>me(B),className:"p-3 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-xl transition-colors",title:"Edit Group",children:p.jsx(Jc,{size:18})}),p.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.filter(ae=>ae.id!==B.id)}),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-colors",title:"Delete Group",children:p.jsx(Uc,{size:18})})]})]}),B.scope==="scoped"&&B.scopedPAs&&B.scopedPAs.length>0&&p.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-100 dark:border-slate-700",children:[p.jsx("span",{className:"block text-[9px] font-black text-slate-400 uppercase tracking-widest mb-3",children:"Authorized Areas"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:B.scopedPAs.map(ae=>p.jsx("span",{className:"px-2 py-1 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-md text-[9px] font-bold text-slate-600 dark:text-slate-300",children:ae},ae))})]}),p.jsxs("div",{className:"mt-auto",children:[p.jsxs("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-3",children:["Group Roster (",B.members?.length||0,")"]}),p.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-4 focus:ring-2 ring-indigo-500/20 dark:text-white",placeholder:"Add emails (comma separated) and press Enter...",onKeyDown:ae=>{ae.key==="Enter"&&ae.target.value&&(pe(B.id,ae.target.value),ae.target.value="")}}),p.jsxs("div",{className:"flex flex-wrap gap-2 max-h-40 overflow-y-auto pr-2",children:[(B.members||[]).map(ae=>p.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-900/80 rounded-lg text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[ae,p.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.map(w=>w.id===B.id?{...w,members:(w.members||[]).filter(A=>A!==ae)}:w)}),className:"hover:text-red-500",children:p.jsx(hr,{size:12})})]},ae)),(!B.members||B.members.length===0)&&p.jsx("span",{className:"text-xs text-slate-400 font-medium italic",children:"No identities mapped."})]})]})]},B.id))})]})}function Rk({announcements:s,onClose:e}){return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[p.jsxs("h2",{className:"text-2xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[p.jsx(Sg,{size:24,className:"text-indigo-600"})," Comm Log"]}),p.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(hr,{size:20})})]}),p.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[s.map(i=>p.jsxs("div",{className:`p-8 rounded-[32px] border transition-all ${i.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800/50 shadow-lg shadow-amber-500/5":"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-800"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${i.isPinned?"bg-amber-100 border-amber-300 text-amber-700":"bg-white dark:bg-slate-900 text-indigo-600 border-indigo-100 dark:border-slate-700"}`,children:i.targetPA||"GENERAL"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:new Date(i.timestamp).toLocaleDateString()})]}),p.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-3 leading-snug",children:i.title}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed font-medium",children:i.content}),p.jsxs("div",{className:"mt-6 pt-6 border-t border-black/5 dark:border-white/5 flex items-center gap-2 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[p.jsx("div",{className:"w-5 h-5 rounded-md bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(i.author||"U").charAt(0)})," ",i.author||"User"]})]},i.id)),s.length===0&&p.jsx("div",{className:"text-center py-20 text-slate-400 font-black uppercase tracking-widest text-xs",children:"No records exist"})]})]})})}function Nk({project:s,onClose:e,onSave:i,teamMembers:a,uniquePAs:o}){const[c,f]=Ee.useState(s||{bugNumber:"",projectName:"",productArea:"",assignedLead:"Unassigned",status:"Need Assessment",priority:"P2",clientETA:"",testerETA:"",projectFolderUrl:"",quoteUrl:"",devices:""});return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[550px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[p.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:s?"Update Full Details":"New Project Entry"}),p.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(hr,{size:20})})]}),p.jsxs("div",{className:"flex-1 p-10 space-y-8 overflow-y-auto",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Bug ID"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.bugNumber,onChange:g=>f({...c,bugNumber:g.target.value}),placeholder:"b/..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Product Area"}),p.jsx("input",{list:"pa-list",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.productArea,onChange:g=>f({...c,productArea:g.target.value}),placeholder:"e.g. Search"}),p.jsx("datalist",{id:"pa-list",children:o.map(g=>p.jsx("option",{value:g},g))})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Descriptor"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.projectName,onChange:g=>f({...c,projectName:g.target.value}),placeholder:"Required..."})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Assignment"}),p.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.assignedLead,onChange:g=>f({...c,assignedLead:g.target.value}),children:a.map(g=>p.jsx("option",{value:g,children:g},g))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Phase"}),p.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.status,onChange:g=>f({...c,status:g.target.value}),children:ll.map(g=>p.jsx("option",{value:g,children:g},g))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Priority Level"}),p.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.priority||"P2",onChange:g=>f({...c,priority:g.target.value}),children:vk.map(g=>p.jsx("option",{value:g,children:g},g))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Platform / Devices"}),p.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.devices||"",onChange:g=>f({...c,devices:g.target.value}),placeholder:"e.g. Android/iOS"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Client Target"}),p.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.clientETA,onChange:g=>f({...c,clientETA:g.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Tester Target"}),p.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.testerETA,onChange:g=>f({...c,testerETA:g.target.value})})]})]}),p.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Folder URL"}),p.jsx("input",{type:"url",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white placeholder:font-normal",value:c.projectFolderUrl||"",onChange:g=>f({...c,projectFolderUrl:g.target.value}),placeholder:"https://drive.google.com/..."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Quote Reference URL"}),p.jsx("input",{type:"url",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white placeholder:font-normal",value:c.quoteUrl||"",onChange:g=>f({...c,quoteUrl:g.target.value}),placeholder:"https://docs.google.com/..."})]})]})]}),p.jsxs("div",{className:"p-8 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 flex justify-end gap-4",children:[p.jsx("button",{onClick:e,className:"px-6 py-4 text-slate-500 font-black text-xs hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:"Cancel"}),p.jsx("button",{onClick:()=>i(c),disabled:!c.projectName,className:"bg-indigo-600 text-white px-10 py-4 rounded-2xl font-black text-xs shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Full Record"})]})]})})}function Ck({project:s,onClose:e,onEdit:i,onUpdate:a,isAdmin:o,canEdit:c,onDelete:f}){const[g,_]=Ee.useState("");return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[650px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[p.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 relative",children:[p.jsx("button",{onClick:e,className:"absolute top-8 right-8 p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:p.jsx(hr,{size:20})}),p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-lg",children:s.bugNumber||"DRAFT"}),s.priority&&p.jsx("div",{className:`text-[10px] font-black px-3 py-1 rounded-lg border uppercase tracking-widest ${Rg(s.priority)}`,children:s.priority})]}),p.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 leading-tight pr-12",children:s.projectName}),p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black border uppercase tracking-widest ${wg(s.productArea)}`,children:s.productArea||"General"}),p.jsxs("span",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[p.jsx("div",{className:"w-6 h-6 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(s.assignedLead||"U").charAt(0)}),s.assignedLead]})]}),p.jsxs("div",{className:"flex gap-4 items-center",children:[c&&p.jsxs("button",{onClick:i,className:"px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-xs font-black text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-all shadow-sm",children:[p.jsx(Jc,{size:16})," Edit Full Record"]}),p.jsxs("span",{className:`px-6 py-3 rounded-2xl text-xs font-black border flex items-center gap-2 ${Wr(s.status).bg} ${Wr(s.status).text} ${Wr(s.status).border}`,children:[p.jsx("span",{className:`w-2 h-2 rounded-full ${Wr(s.status).dot}`}),s.status]}),o&&p.jsx("button",{onClick:()=>f(s.id),className:"ml-auto p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:p.jsx(ok,{size:20})})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-12",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-6 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-[2rem] border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Client ETA"}),p.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[p.jsx(vh,{size:16,className:"text-indigo-500"})," ",s.clientETA||"Unscheduled"]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tester ETA"}),p.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[p.jsx(vh,{size:16,className:"text-indigo-500"})," ",s.testerETA||"Unscheduled"]})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Platform / Devices"}),p.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[p.jsx(sk,{size:16,className:"text-slate-400"})," ",s.devices||"N/A"]})]}),p.jsxs("div",{className:"flex flex-col gap-2 justify-center",children:[s.projectFolderUrl?p.jsxs("a",{href:s.projectFolderUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-[11px] font-black text-indigo-600 hover:underline",children:[p.jsx(jv,{size:14})," Access Project Folder ",p.jsx(Mv,{size:12})]}):p.jsxs("span",{className:"flex items-center gap-2 text-[11px] font-bold text-slate-400",children:[p.jsx(jv,{size:14})," No Folder Linked"]}),s.quoteUrl?p.jsxs("a",{href:s.quoteUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-[11px] font-black text-indigo-600 hover:underline",children:[p.jsx(Vv,{size:14})," Access Quote Doc ",p.jsx(Mv,{size:12})]}):p.jsxs("span",{className:"flex items-center gap-2 text-[11px] font-bold text-slate-400",children:[p.jsx(Vv,{size:14})," No Quote Linked"]})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[p.jsx(EC,{size:16,className:"text-indigo-600"})," Locale Footprint Matrix"]}),p.jsx("div",{className:"grid grid-cols-4 gap-3",children:_k.map(v=>{const T=(s.locales||[]).find(S=>S.name===v);return p.jsxs("button",{disabled:!c,onClick:()=>{const S=T?.status==="Passed"?"Failed":T?.status==="Failed"?"Pending":"Passed",k=T?(s.locales||[]).map(G=>G.name===v?{...G,status:S}:G):[...s.locales||[],{name:v,status:"Passed"}];a(s.id,{locales:k})},className:`text-center py-4 px-2 rounded-2xl border text-[10px] font-black transition-all ${T?.status==="Passed"?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":T?.status==="Failed"?"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-400 hover:border-indigo-300"}`,children:[p.jsx("div",{className:"mb-1 text-[11px]",children:v}),p.jsx("div",{className:"opacity-60",children:T?.status||"N/A"})]},v)})})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[p.jsx(BC,{size:16,className:"text-indigo-600"})," Audit & Comm Log"]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsx("input",{className:"flex-1 p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-medium outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:g,onChange:v=>_(v.target.value),placeholder:"Append secure note...",onKeyDown:v=>{v.key==="Enter"&&g&&(a(s.id,{comments:[...s.comments||[],{id:Date.now(),author:currentUserDisplayName,text:g,timestamp:Date.now()}]}),_(""))}}),p.jsx("button",{onClick:()=>{g&&(a(s.id,{comments:[...s.comments||[],{id:Date.now(),author:currentUserDisplayName,text:g,timestamp:Date.now()}]}),_(""))},className:"bg-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all",children:p.jsx(oE,{size:20})})]}),p.jsx("div",{className:"space-y-4",children:(Array.isArray(s.comments)?s.comments:[]).slice().reverse().map(v=>p.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"flex justify-between text-[10px] font-black text-slate-400 mb-3 uppercase tracking-widest flex items-center gap-2",children:[p.jsxs("span",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-5 h-5 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(v.author||"U").charAt(0)}),v.author]}),p.jsx("span",{children:new Date(v.timestamp).toLocaleString()})]}),p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium leading-relaxed",children:v.text})]},v.id))})]})]})]})})}function kk({activities:s,onClose:e,onOpen:i}){return p.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:p.jsxs("div",{className:"w-[450px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-100 dark:border-slate-800",children:[p.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[p.jsxs("h2",{className:"text-xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[p.jsx(lE,{size:22,className:"text-indigo-600"})," Global Audit Trail"]}),p.jsx("button",{onClick:e,className:"p-3 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:p.jsx(hr,{size:20})})]}),p.jsxs("div",{className:"flex-1 p-8 overflow-y-auto space-y-8 relative",children:[p.jsx("div",{className:"absolute left-[39px] top-8 bottom-8 w-px bg-slate-200 dark:bg-slate-800"}),s.map(a=>p.jsxs("div",{className:"relative pl-12 cursor-pointer group",onClick:()=>i(a.projectId),children:[p.jsx("div",{className:"absolute left-[3px] top-1.5 w-3 h-3 rounded-full bg-indigo-500 ring-4 ring-white dark:ring-slate-900 transition-transform group-hover:scale-150"}),p.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-3xl border border-slate-100 dark:border-slate-800 group-hover:border-indigo-300 transition-colors",children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest",children:a.projectName}),p.jsx("div",{className:"text-[9px] font-bold text-slate-400",children:new Date(a.timestamp).toLocaleDateString()})]}),p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3 font-medium line-clamp-3",children:a.text}),p.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter flex items-center gap-2",children:[p.jsx("div",{className:"w-4 h-4 rounded bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:String(a.author||"U").charAt(0)})," Logged by ",a.author]})]})]},a.id)),s.length===0&&p.jsx("div",{className:"text-center text-slate-400 font-black py-20 uppercase tracking-widest text-[10px]",children:"Trail is currently empty"})]})]})})}class Ik extends GT.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error(" REACT FATAL CRASH:",e,i),this.setState({errorInfo:i})}render(){return this.state.hasError?p.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-slate-950 text-slate-200 font-sans p-6",children:p.jsxs("div",{className:"bg-slate-900 border border-red-500/30 p-8 rounded-[32px] shadow-2xl max-w-2xl w-full",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[p.jsx("div",{className:"w-14 h-14 bg-red-500/20 text-red-500 flex items-center justify-center rounded-2xl shrink-0",children:p.jsx(km,{size:28})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-black text-white",children:"Oops. The Matrix Broke."}),p.jsx("p",{className:"text-red-400 text-sm",children:"A fatal render error occurred. Take a screenshot of the technical jargon below so we can fix it."})]})]}),p.jsxs("div",{className:"bg-black/50 p-5 rounded-2xl border border-red-500/20 font-mono text-xs overflow-auto max-h-64 mb-6",children:[p.jsx("div",{className:"text-red-400 font-bold mb-3 text-sm",children:this.state.error&&this.state.error.toString()}),p.jsx("div",{className:"text-slate-500 leading-relaxed whitespace-pre-wrap",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 hover:bg-red-700 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-red-600/20",children:"Reboot System"})]})}):this.props.children}}function Dk(){return p.jsx(Ik,{children:p.jsx(Ek,{})})}JT.createRoot(document.getElementById("root")).render(p.jsx(Ee.StrictMode,{children:p.jsx(Dk,{})}));
