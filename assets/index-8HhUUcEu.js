(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},El={};var L0;function Sb(){if(L0)return El;L0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return El.Fragment=e,El.jsx=i,El.jsxs=i,El}var U0;function wb(){return U0||(U0=1,Id.exports=Sb()),Id.exports}var E=wb(),Dd={exports:{}},we={};var j0;function xb(){if(j0)return we;j0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function W(M,Q,se){this.props=M,this.context=Q,this.refs=te,this.updater=se||Z}W.prototype.isReactComponent={},W.prototype.setState=function(M,Q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Q,"setState")},W.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function fe(){}fe.prototype=W.prototype;function pe(M,Q,se){this.props=M,this.context=Q,this.refs=te,this.updater=se||Z}var Oe=pe.prototype=new fe;Oe.constructor=pe,ee(Oe,W.prototype),Oe.isPureReactComponent=!0;var He=Array.isArray;function Fe(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(M,Q,se){var oe=se.ref;return{$$typeof:s,type:M,key:Q,ref:oe!==void 0?oe:null,props:se}}function V(M,Q){return N(M.type,Q,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function k(M){var Q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(se){return Q[se]})}var R=/\/+/g;function Ze(M,Q){return typeof M=="object"&&M!==null&&M.key!=null?k(""+M.key):Q.toString(36)}function Et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Fe,Fe):(M.status="pending",M.then(function(Q){M.status==="pending"&&(M.status="fulfilled",M.value=Q)},function(Q){M.status==="pending"&&(M.status="rejected",M.reason=Q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,Q,se,oe,be){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var ke=!1;if(M===null)ke=!0;else switch(Re){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(M.$$typeof){case s:case e:ke=!0;break;case A:return ke=M._init,H(ke(M._payload),Q,se,oe,be)}}if(ke)return be=be(M),ke=oe===""?"."+Ze(M,0):oe,He(be)?(se="",ke!=null&&(se=ke.replace(R,"$&/")+"/"),H(be,Q,se,"",function(ci){return ci})):be!=null&&(D(be)&&(be=V(be,se+(be.key==null||M&&M.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+ke)),Q.push(be)),1;ke=0;var gt=oe===""?".":oe+":";if(He(M))for(var lt=0;lt<M.length;lt++)oe=M[lt],Re=gt+Ze(oe,lt),ke+=H(oe,Q,se,Re,be);else if(lt=G(M),typeof lt=="function")for(M=lt.call(M),lt=0;!(oe=M.next()).done;)oe=oe.value,Re=gt+Ze(oe,lt++),ke+=H(oe,Q,se,Re,be);else if(Re==="object"){if(typeof M.then=="function")return H(Et(M),Q,se,oe,be);throw Q=String(M),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ke}function ie(M,Q,se){if(M==null)return M;var oe=[],be=0;return H(M,oe,"","",function(Re){return Q.call(se,Re,be++)}),oe}function me(M){if(M._status===-1){var Q=M._result;Q=Q(),Q.then(function(se){(M._status===0||M._status===-1)&&(M._status=1,M._result=se)},function(se){(M._status===0||M._status===-1)&&(M._status=2,M._result=se)}),M._status===-1&&(M._status=0,M._result=Q)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ye={map:ie,forEach:function(M,Q,se){ie(M,function(){Q.apply(this,arguments)},se)},count:function(M){var Q=0;return ie(M,function(){Q++}),Q},toArray:function(M){return ie(M,function(Q){return Q})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return we.Activity=w,we.Children=Ye,we.Component=W,we.Fragment=i,we.Profiler=l,we.PureComponent=pe,we.StrictMode=a,we.Suspense=v,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,we.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},we.cache=function(M){return function(){return M.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(M,Q,se){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=ee({},M.props),be=M.key;if(Q!=null)for(Re in Q.key!==void 0&&(be=""+Q.key),Q)!S.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(oe[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)oe.children=se;else if(1<Re){for(var ke=Array(Re),gt=0;gt<Re;gt++)ke[gt]=arguments[gt+2];oe.children=ke}return N(M.type,be,oe)},we.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},we.createElement=function(M,Q,se){var oe,be={},Re=null;if(Q!=null)for(oe in Q.key!==void 0&&(Re=""+Q.key),Q)S.call(Q,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(be[oe]=Q[oe]);var ke=arguments.length-2;if(ke===1)be.children=se;else if(1<ke){for(var gt=Array(ke),lt=0;lt<ke;lt++)gt[lt]=arguments[lt+2];be.children=gt}if(M&&M.defaultProps)for(oe in ke=M.defaultProps,ke)be[oe]===void 0&&(be[oe]=ke[oe]);return N(M,Re,be)},we.createRef=function(){return{current:null}},we.forwardRef=function(M){return{$$typeof:p,render:M}},we.isValidElement=D,we.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:me}},we.memo=function(M,Q){return{$$typeof:y,type:M,compare:Q===void 0?null:Q}},we.startTransition=function(M){var Q=I.T,se={};I.T=se;try{var oe=M(),be=I.S;be!==null&&be(se,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Fe,De)}catch(Re){De(Re)}finally{Q!==null&&se.types!==null&&(Q.types=se.types),I.T=Q}},we.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},we.use=function(M){return I.H.use(M)},we.useActionState=function(M,Q,se){return I.H.useActionState(M,Q,se)},we.useCallback=function(M,Q){return I.H.useCallback(M,Q)},we.useContext=function(M){return I.H.useContext(M)},we.useDebugValue=function(){},we.useDeferredValue=function(M,Q){return I.H.useDeferredValue(M,Q)},we.useEffect=function(M,Q){return I.H.useEffect(M,Q)},we.useEffectEvent=function(M){return I.H.useEffectEvent(M)},we.useId=function(){return I.H.useId()},we.useImperativeHandle=function(M,Q,se){return I.H.useImperativeHandle(M,Q,se)},we.useInsertionEffect=function(M,Q){return I.H.useInsertionEffect(M,Q)},we.useLayoutEffect=function(M,Q){return I.H.useLayoutEffect(M,Q)},we.useMemo=function(M,Q){return I.H.useMemo(M,Q)},we.useOptimistic=function(M,Q){return I.H.useOptimistic(M,Q)},we.useReducer=function(M,Q,se){return I.H.useReducer(M,Q,se)},we.useRef=function(M){return I.H.useRef(M)},we.useState=function(M){return I.H.useState(M)},we.useSyncExternalStore=function(M,Q,se){return I.H.useSyncExternalStore(M,Q,se)},we.useTransition=function(){return I.H.useTransition()},we.version="19.2.4",we}var P0;function Tm(){return P0||(P0=1,Dd.exports=xb()),Dd.exports}var qe=Tm(),Od={exports:{}},Tl={},Md={exports:{}},Vd={};var z0;function Rb(){return z0||(z0=1,(function(s){function e(H,ie){var me=H.length;H.push(ie);e:for(;0<me;){var De=me-1>>>1,Ye=H[De];if(0<l(Ye,ie))H[De]=ie,H[me]=Ye,me=De;else break e}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ie=H[0],me=H.pop();if(me!==ie){H[0]=me;e:for(var De=0,Ye=H.length,M=Ye>>>1;De<M;){var Q=2*(De+1)-1,se=H[Q],oe=Q+1,be=H[oe];if(0>l(se,me))oe<Ye&&0>l(be,se)?(H[De]=be,H[oe]=me,De=oe):(H[De]=se,H[Q]=me,De=Q);else if(oe<Ye&&0>l(be,me))H[De]=be,H[oe]=me,De=oe;else break e}}return ie}function l(H,ie){var me=H.sortIndex-ie.sortIndex;return me!==0?me:H.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],y=[],A=1,w=null,x=3,G=!1,Z=!1,ee=!1,te=!1,W=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;function Oe(H){for(var ie=i(y);ie!==null;){if(ie.callback===null)a(y);else if(ie.startTime<=H)a(y),ie.sortIndex=ie.expirationTime,e(v,ie);else break;ie=i(y)}}function He(H){if(ee=!1,Oe(H),!Z)if(i(v)!==null)Z=!0,Fe||(Fe=!0,k());else{var ie=i(y);ie!==null&&Et(He,ie.startTime-H)}}var Fe=!1,I=-1,S=5,N=-1;function V(){return te?!0:!(s.unstable_now()-N<S)}function D(){if(te=!1,Fe){var H=s.unstable_now();N=H;var ie=!0;try{e:{Z=!1,ee&&(ee=!1,fe(I),I=-1),G=!0;var me=x;try{t:{for(Oe(H),w=i(v);w!==null&&!(w.expirationTime>H&&V());){var De=w.callback;if(typeof De=="function"){w.callback=null,x=w.priorityLevel;var Ye=De(w.expirationTime<=H);if(H=s.unstable_now(),typeof Ye=="function"){w.callback=Ye,Oe(H),ie=!0;break t}w===i(v)&&a(v),Oe(H)}else a(v);w=i(v)}if(w!==null)ie=!0;else{var M=i(y);M!==null&&Et(He,M.startTime-H),ie=!1}}break e}finally{w=null,x=me,G=!1}ie=void 0}}finally{ie?k():Fe=!1}}}var k;if(typeof pe=="function")k=function(){pe(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ze=R.port2;R.port1.onmessage=D,k=function(){Ze.postMessage(null)}}else k=function(){W(D,0)};function Et(H,ie){I=W(function(){H(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(H){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var me=x;x=ie;try{return H()}finally{x=me}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(H,ie){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var me=x;x=H;try{return ie()}finally{x=me}},s.unstable_scheduleCallback=function(H,ie,me){var De=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?De+me:De):me=De,H){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=me+Ye,H={id:A++,callback:ie,priorityLevel:H,startTime:me,expirationTime:Ye,sortIndex:-1},me>De?(H.sortIndex=me,e(y,H),i(v)===null&&H===i(y)&&(ee?(fe(I),I=-1):ee=!0,Et(He,me-De))):(H.sortIndex=Ye,e(v,H),Z||G||(Z=!0,Fe||(Fe=!0,k()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var ie=x;return function(){var me=x;x=ie;try{return H.apply(this,arguments)}finally{x=me}}}})(Vd)),Vd}var B0;function Cb(){return B0||(B0=1,Md.exports=Rb()),Md.exports}var kd={exports:{}},nn={};var q0;function Nb(){if(q0)return nn;q0=1;var s=Tm();function e(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:v,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(v,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(v,y,null,A)},nn.flushSync=function(v){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=A,a.d.f()}},nn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},nn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},nn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:G}):A==="script"&&a.d.X(v,{crossOrigin:w,integrity:x,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},nn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=p(A,y.crossOrigin);a.d.L(v,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(v,y){if(typeof v=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},nn.requestFormReset=function(v){a.d.r(v)},nn.unstable_batchedUpdates=function(v,y){return v(y)},nn.useFormState=function(v,y,A){return d.H.useFormState(v,y,A)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var H0;function Ib(){if(H0)return kd.exports;H0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),kd.exports=Nb(),kd.exports}var F0;function Db(){if(F0)return Tl;F0=1;var s=Cb(),e=Tm(),i=Ib();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return v(h),t;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,o=f;break}if(T===o){g=!0,o=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,o=h;break}if(T===o){g=!0,o=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),pe=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),He=Symbol.for("react.suspense"),Fe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ee:return"Fragment";case W:return"Profiler";case te:return"StrictMode";case He:return"Suspense";case Fe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case pe:return t.displayName||"Context";case fe:return(t._context.displayName||"Context")+".Consumer";case Oe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:Ze(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ze(t(n))}catch{}}return null}var Et=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},De=[],Ye=-1;function M(t){return{current:t}}function Q(t){0>Ye||(t.current=De[Ye],De[Ye]=null,Ye--)}function se(t,n){Ye++,De[Ye]=t.current,t.current=n}var oe=M(null),be=M(null),Re=M(null),ke=M(null);function gt(t,n){switch(se(Re,n),se(be,t),se(oe,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?r0(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=r0(n),t=a0(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(oe),se(oe,t)}function lt(){Q(oe),Q(be),Q(Re)}function ci(t){t.memoizedState!==null&&se(ke,t);var n=oe.current,r=a0(n,t.type);n!==r&&(se(be,t),se(oe,r))}function ps(t){be.current===t&&(Q(oe),Q(be)),ke.current===t&&(Q(ke),pl._currentValue=me)}var ys,_s;function En(t){if(ys===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ys=n&&n[1]||"",_s=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+t+_s}var pr=!1;function z(t,n){if(!t||pr)return"";pr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(t,[],X)}else{try{X.call()}catch(F){B=F}t.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),P=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var K=`
`+C[o].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=o&&0<=h);break}}}finally{pr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?En(r):""}function ae(t,n){switch(t.tag){case 26:case 27:case 5:return En(t.type);case 16:return En("Lazy");case 13:return t.child!==n&&n!==null?En("Suspense Fallback"):En("Suspense");case 19:return En("SuspenseList");case 0:case 15:return z(t.type,!1);case 11:return z(t.type.render,!1);case 1:return z(t.type,!0);case 31:return En("Activity");default:return""}}function ue(t){try{var n="",r=null;do n+=ae(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var re=Object.prototype.hasOwnProperty,de=s.unstable_scheduleCallback,ye=s.unstable_cancelCallback,yt=s.unstable_shouldYield,cn=s.unstable_requestPaint,Ut=s.unstable_now,Tt=s.unstable_getCurrentPriorityLevel,vo=s.unstable_ImmediatePriority,Eo=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,Oh=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,Yn=null,Qt=null;function On(t){if(typeof iu=="function"&&su(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Yn,t)}catch{}}var bt=Math.clz32?Math.clz32:au,ru=Math.log,aa=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(ru(t)/aa|0)|0}var hi=256,yr=262144,Rt=4194304;function fi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=fi(o):(g&=T,g!==0?h=fi(g):r||(r=T&~t,r!==0&&(h=fi(r))))):(T=o&~f,T!==0?h=fi(T):g!==0?h=fi(g):r||(r=o&~t,r!==0&&(h=fi(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Xn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Mh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),t}function mi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function _r(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vh(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,P=t.hiddenUpdates;for(r=g&~r;0<r;){var K=31-bt(r),X=1<<K;T[K]=0,C[K]=-1;var B=P[K];if(B!==null)for(P[K]=null,K=0;K<B.length;K++){var F=B[K];F!==null&&(F.lane&=-536870913)}r&=~X}o!==0&&vr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function vr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function To(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-bt(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function bo(t,n){var r=n&-n;return r=(r&42)!==0?1:Er(r),(r&(t.suspendedLanes|n))!==0?0:r}function Er(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:N0(t.type))}function $n(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var Jn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+Jn,qt="__reactProps$"+Jn,gi="__reactContainer$"+Jn,oa="__reactEvents$"+Jn,kh="__reactListeners$"+Jn,uu="__reactHandles$"+Jn,cu="__reactResources$"+Jn,pi="__reactMarker$"+Jn;function la(t){delete t[Ct],delete t[qt],delete t[oa],delete t[kh],delete t[uu]}function yi(t){var n=t[Ct];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gi]||r[Ct]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=d0(t);t!==null;){if(r=t[Ct])return r;t=d0(t)}return n}t=r,r=t.parentNode}return null}function Mn(t){if(t=t[Ct]||t[gi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Tn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function _i(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Nt(t){t[pi]=!0}var Ao=new Set,So={};function vi(t,n){Ei(t,n),Ei(t+"Capture",n)}function Ei(t,n){for(So[t]=n,t=0;t<n.length;t++)Ao.add(n[t])}var wo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Ro={};function hu(t){return re.call(Ro,t)?!0:re.call(xo,t)?!1:wo.test(t)?Ro[t]=!0:(xo[t]=!0,!1)}function ua(t,n,r){if(hu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function bn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function It(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Es(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function We(t){if(!t._valueTracker){var n=Es(t)?"checked":"value";t._valueTracker=Co(t,n,""+t[n])}}function Tr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Es(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var br=/[\n"\\]/g;function hn(t){return t.replace(br,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(t,n,r,o,h,f,g,T){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?No(t,g,Ht(n)):r!=null?No(t,g,Ht(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ht(T):t.removeAttribute("name")}function fu(t,n,r,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){We(t);return}r=r!=null?""+Ht(r):"",n=n!=null?""+Ht(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),We(t)}function No(t,n,r){n==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ts(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,r){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ht(r):""}function bs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Et(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ht(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),We(t)}function fn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||mu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Do(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&Io(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Io(t,f,n[f])}function ha(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Zn(){}var Oo=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,bi=null;function Ar(t){var n=Mn(t);if(n&&(t=n.stateNode)){var r=t[qt]||null;e:switch(t=n.stateNode,n.type){case"input":if(ca(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[qt]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Tr(o)}break e;case"textarea":du(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ts(t,!!r.multiple,n,!1)}}}var da=!1;function ws(t,n,r){if(da)return t(n,r);da=!0;try{var o=t(n);return o}finally{if(da=!1,(Ss!==null||bi!==null)&&(lc(),Ss&&(n=Ss,t=bi,bi=Ss=null,Ar(n),t)))for(n=0;n<t.length;n++)Ar(t[n])}}function Wn(t,n){var r=t.stateNode;if(r===null)return null;var o=r[qt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sr=!1;if(kn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Sr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Sr=!1}var Ai=null,Mo=null,wr=null;function Vo(){if(wr)return wr;var t,n=Mo,r=n.length,o,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return wr=h.slice(t,1<o?1-o:void 0)}function xr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function ei(){return!1}function Kt(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Bi:ei,this.isPropagationStopped=ei,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Kt(qi),xs=w({},qi,{view:0,detail:0}),ko=Kt(xs),Rs,ma,wi,ga=w({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Rs=t.screenX-wi.screenX,ma=t.screenY-wi.screenY):ma=Rs=0,wi=t),Rs)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),Lo=Kt(ga),Rr=w({},ga,{dataTransfer:0}),pu=Kt(Rr),yu=w({},xs,{relatedTarget:0}),Cr=Kt(yu),Uo=w({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Kt(Uo),pa=w({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Kt(pa),Eu=w({},qi,{data:0}),xi=Kt(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function Cs(){return Su}var ln=w({},xs,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=xr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?xr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=Kt(ln),xu=w({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Kt(xu),u=w({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Kt(u),_=w({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Kt(_),U=w({},ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Kt(U),ne=w({},qi,{newState:0,oldState:0}),Ce=Kt(ne),At=[9,13,27,32],Xe=kn&&"CompositionEvent"in window,dt=null;kn&&"documentMode"in document&&(dt=document.documentMode);var Ln=kn&&"TextEvent"in window&&!dt,Ri=kn&&(!Xe||dt&&8<dt&&11>=dt),ti=" ",ni=!1;function Nr(t,n){switch(t){case"keyup":return At.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function YT(t,n){switch(t){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ni=!0,ti);case"textInput":return t=n.data,t===ti&&ni?null:t;default:return null}}function XT(t,n){if(_a)return t==="compositionend"||!Xe&&Nr(t,n)?(t=Vo(),wr=Mo=Ai=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ri&&n.locale!=="ko"?null:n.data;default:return null}}var $T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!$T[t.type]:n==="textarea"}function yg(t,n,r,o){Ss?bi?bi.push(o):bi=[o]:Ss=o,n=gc(n,"onChange"),0<n.length&&(r=new Si("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var jo=null,Po=null;function JT(t){Wy(t,0)}function Ru(t){var n=Tn(t);if(Tr(n))return t}function _g(t,n){if(t==="change")return n}var vg=!1;if(kn){var Lh;if(kn){var Uh="oninput"in document;if(!Uh){var Eg=document.createElement("div");Eg.setAttribute("oninput","return;"),Uh=typeof Eg.oninput=="function"}Lh=Uh}else Lh=!1;vg=Lh&&(!document.documentMode||9<document.documentMode)}function Tg(){jo&&(jo.detachEvent("onpropertychange",bg),Po=jo=null)}function bg(t){if(t.propertyName==="value"&&Ru(Po)){var n=[];yg(n,Po,t,Vn(t)),ws(JT,n)}}function ZT(t,n,r){t==="focusin"?(Tg(),jo=n,Po=r,jo.attachEvent("onpropertychange",bg)):t==="focusout"&&Tg()}function WT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Po)}function e1(t,n){if(t==="click")return Ru(n)}function t1(t,n){if(t==="input"||t==="change")return Ru(n)}function n1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var An=typeof Object.is=="function"?Object.is:n1;function zo(t,n){if(An(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!re.call(n,h)||!An(t[h],n[h]))return!1}return!0}function Ag(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sg(t,n){var r=Ag(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ag(r)}}function wg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ti(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ti(t.document)}return n}function jh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var i1=kn&&"documentMode"in document&&11>=document.documentMode,va=null,Ph=null,Bo=null,zh=!1;function Rg(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||va==null||va!==Ti(o)||(o=va,"selectionStart"in o&&jh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bo&&zo(Bo,o)||(Bo=o,o=gc(Ph,"onSelect"),0<o.length&&(n=new Si("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=va)))}function Ir(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ea={animationend:Ir("Animation","AnimationEnd"),animationiteration:Ir("Animation","AnimationIteration"),animationstart:Ir("Animation","AnimationStart"),transitionrun:Ir("Transition","TransitionRun"),transitionstart:Ir("Transition","TransitionStart"),transitioncancel:Ir("Transition","TransitionCancel"),transitionend:Ir("Transition","TransitionEnd")},Bh={},Cg={};kn&&(Cg=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Dr(t){if(Bh[t])return Bh[t];if(!Ea[t])return t;var n=Ea[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cg)return Bh[t]=n[r];return t}var Ng=Dr("animationend"),Ig=Dr("animationiteration"),Dg=Dr("animationstart"),s1=Dr("transitionrun"),r1=Dr("transitionstart"),a1=Dr("transitioncancel"),Og=Dr("transitionend"),Mg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function ii(t,n){Mg.set(t,n),vi(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Ta=0,Hh=0;function Nu(){for(var t=Ta,n=Hh=Ta=0;n<t;){var r=Un[n];Un[n++]=null;var o=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Vg(r,h,f)}}function Iu(t,n,r,o){Un[Ta++]=t,Un[Ta++]=n,Un[Ta++]=r,Un[Ta++]=o,Hh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Fh(t,n,r,o){return Iu(t,n,r,o),Du(t)}function Or(t,n){return Iu(t,null,null,n),Du(t)}function Vg(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-bt(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Du(t){if(50<ul)throw ul=0,ed=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ba={};function o1(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,n,r,o){return new o1(t,n,r,o)}function Gh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var r=t.alternate;return r===null?(r=Sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function kg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")Gh(t)&&(g=1);else if(typeof t=="string")g=fb(t,r,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Sn(31,r,n,h),t.elementType=N,t.lanes=f,t;case ee:return Mr(r.children,h,f,n);case te:g=8,h|=24;break;case W:return t=Sn(12,r,n,h|2),t.elementType=W,t.lanes=f,t;case He:return t=Sn(13,r,n,h),t.elementType=He,t.lanes=f,t;case Fe:return t=Sn(19,r,n,h),t.elementType=Fe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pe:g=10;break e;case fe:g=9;break e;case Oe:g=11;break e;case I:g=14;break e;case S:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Sn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Mr(t,n,r,o){return t=Sn(7,t,o,n),t.lanes=r,t}function Qh(t,n,r){return t=Sn(6,t,null,n),t.lanes=r,t}function Lg(t){var n=Sn(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,r){return n=Sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ug=new WeakMap;function jn(t,n){if(typeof t=="object"&&t!==null){var r=Ug.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ue(n)},Ug.set(t,n),n)}return{value:t,source:n,stack:ue(n)}}var Aa=[],Sa=0,Mu=null,qo=0,Pn=[],zn=0,Ns=null,Ci=1,Ni="";function Gi(t,n){Aa[Sa++]=qo,Aa[Sa++]=Mu,Mu=t,qo=n}function jg(t,n,r){Pn[zn++]=Ci,Pn[zn++]=Ni,Pn[zn++]=Ns,Ns=t;var o=Ci;t=Ni;var h=32-bt(o)-1;o&=~(1<<h),r+=1;var f=32-bt(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-bt(n)+h|r<<h|o,Ni=f+t}else Ci=1<<f|r<<h|o,Ni=t}function Yh(t){t.return!==null&&(Gi(t,1),jg(t,1,0))}function Xh(t){for(;t===Mu;)Mu=Aa[--Sa],Aa[Sa]=null,qo=Aa[--Sa],Aa[Sa]=null;for(;t===Ns;)Ns=Pn[--zn],Pn[zn]=null,Ni=Pn[--zn],Pn[zn]=null,Ci=Pn[--zn],Pn[zn]=null}function Pg(t,n){Pn[zn++]=Ci,Pn[zn++]=Ni,Pn[zn++]=Ns,Ci=n.id,Ni=n.overflow,Ns=t}var Yt=null,ut=null,Be=!1,Is=null,Bn=!1,$h=Error(a(519));function Ds(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(jn(n,t)),$h}function zg(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ct]=t,n[qt]=o,r){case"dialog":Ve("cancel",n),Ve("close",n);break;case"iframe":case"object":case"embed":Ve("load",n);break;case"video":case"audio":for(r=0;r<hl.length;r++)Ve(hl[r],n);break;case"source":Ve("error",n);break;case"img":case"image":case"link":Ve("error",n),Ve("load",n);break;case"details":Ve("toggle",n);break;case"input":Ve("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",n);break;case"textarea":Ve("invalid",n),bs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||i0(n.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",n),Ve("toggle",n)),o.onScroll!=null&&Ve("scroll",n),o.onScrollEnd!=null&&Ve("scrollend",n),o.onClick!=null&&(n.onclick=Zn),n=!0):n=!1,n||Ds(t,!0)}function Bg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Yt=Yt.return}}function wa(t){if(t!==Yt)return!1;if(!Be)return Bg(t),Be=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||gd(t.type,t.memoizedProps)),r=!r),r&&ut&&Ds(t),Bg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=f0(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ut=f0(t)}else n===27?(n=ut,Gs(t.type)?(t=Ed,Ed=null,ut=t):ut=n):ut=Yt?Hn(t.stateNode.nextSibling):null;return!0}function Vr(){ut=Yt=null,Be=!1}function Jh(){var t=Is;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Is=null),t}function Ho(t){Is===null?Is=[t]:Is.push(t)}var Zh=M(null),kr=null,Qi=null;function Os(t,n,r){se(Zh,n._currentValue),n._currentValue=r}function Ki(t){t._currentValue=Zh.current,Q(Zh)}function Wh(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function ef(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Wh(f.return,r,t),o||(g=null);break e}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Wh(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function xa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;An(h.pendingProps.value,g.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}h=h.return}t!==null&&ef(n,t,r,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Lr(t){kr=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return qg(kr,t)}function ku(t,n){return kr===null&&Lr(t),qg(t,n)}function qg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Qi===null){if(t===null)throw Error(a(308));Qi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Qi=Qi.next=n;return r}var l1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},u1=s.unstable_scheduleCallback,c1=s.unstable_NormalPriority,Dt={$$typeof:pe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new l1,data:new Map,refCount:0}}function Fo(t){t.refCount--,t.refCount===0&&u1(c1,function(){t.controller.abort()})}var Go=null,nf=0,Ra=0,Ca=null;function h1(t,n){if(Go===null){var r=Go=[];nf=0,Ra=ad(),Ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return nf++,n.then(Hg,Hg),n}function Hg(){if(--nf===0&&Go!==null){Ca!==null&&(Ca.status="fulfilled");var t=Go;Go=null,Ra=0,Ca=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function f1(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Fg=H.S;H.S=function(t,n){Ry=Ut(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&h1(t,n),Fg!==null&&Fg(t,n)};var Ur=M(null);function sf(){var t=Ur.current;return t!==null?t:at.pooledCache}function Lu(t,n){n===null?se(Ur,Ur.current):se(Ur,n.pool)}function Gg(){var t=sf();return t===null?null:{parent:Dt._currentValue,pool:t}}var Na=Error(a(460)),rf=Error(a(474)),Uu=Error(a(542)),ju={then:function(){}};function Qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Kg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zn,Zn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xg(t),t;default:if(typeof n.status=="string")n.then(Zn,Zn);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xg(t),t}throw Pr=n,Na}}function jr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Pr=r,Na):r}}var Pr=null;function Yg(){if(Pr===null)throw Error(a(459));var t=Pr;return Pr=null,t}function Xg(t){if(t===Na||t===Uu)throw Error(a(483))}var Ia=null,Qo=0;function Pu(t){var n=Qo;return Qo+=1,Ia===null&&(Ia=[]),Kg(Ia,t,n)}function Ko(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $g(t){function n(L,O){if(t){var j=L.deletions;j===null?(L.deletions=[O],L.flags|=16):j.push(O)}}function r(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Fi(L,O),L.index=0,L.sibling=null,L}function f(L,O,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<O?(L.flags|=67108866,O):j):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,O,j,Y){return O===null||O.tag!==6?(O=Qh(j,L.mode,Y),O.return=L,O):(O=h(O,j),O.return=L,O)}function C(L,O,j,Y){var _e=j.type;return _e===ee?K(L,O,j.props.children,Y,j.key):O!==null&&(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&jr(_e)===O.type)?(O=h(O,j.props),Ko(O,j),O.return=L,O):(O=Ou(j.type,j.key,j.props,null,L.mode,Y),Ko(O,j),O.return=L,O)}function P(L,O,j,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Kh(j,L.mode,Y),O.return=L,O):(O=h(O,j.children||[]),O.return=L,O)}function K(L,O,j,Y,_e){return O===null||O.tag!==7?(O=Mr(j,L.mode,Y,_e),O.return=L,O):(O=h(O,j),O.return=L,O)}function X(L,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,L.mode,j),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return j=Ou(O.type,O.key,O.props,null,L.mode,j),Ko(j,O),j.return=L,j;case Z:return O=Kh(O,L.mode,j),O.return=L,O;case S:return O=jr(O),X(L,O,j)}if(Et(O)||k(O))return O=Mr(O,L.mode,j,null),O.return=L,O;if(typeof O.then=="function")return X(L,Pu(O),j);if(O.$$typeof===pe)return X(L,ku(L,O),j);zu(L,O)}return null}function B(L,O,j,Y){var _e=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return _e!==null?null:T(L,O,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===_e?C(L,O,j,Y):null;case Z:return j.key===_e?P(L,O,j,Y):null;case S:return j=jr(j),B(L,O,j,Y)}if(Et(j)||k(j))return _e!==null?null:K(L,O,j,Y,null);if(typeof j.then=="function")return B(L,O,Pu(j),Y);if(j.$$typeof===pe)return B(L,O,ku(L,j),Y);zu(L,j)}return null}function F(L,O,j,Y,_e){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(j)||null,T(O,L,""+Y,_e);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return L=L.get(Y.key===null?j:Y.key)||null,C(O,L,Y,_e);case Z:return L=L.get(Y.key===null?j:Y.key)||null,P(O,L,Y,_e);case S:return Y=jr(Y),F(L,O,j,Y,_e)}if(Et(Y)||k(Y))return L=L.get(j)||null,K(O,L,Y,_e,null);if(typeof Y.then=="function")return F(L,O,j,Pu(Y),_e);if(Y.$$typeof===pe)return F(L,O,j,ku(O,Y),_e);zu(O,Y)}return null}function ce(L,O,j,Y){for(var _e=null,Qe=null,he=O,Ie=O=0,Ue=null;he!==null&&Ie<j.length;Ie++){he.index>Ie?(Ue=he,he=null):Ue=he.sibling;var Ke=B(L,he,j[Ie],Y);if(Ke===null){he===null&&(he=Ue);break}t&&he&&Ke.alternate===null&&n(L,he),O=f(Ke,O,Ie),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke,he=Ue}if(Ie===j.length)return r(L,he),Be&&Gi(L,Ie),_e;if(he===null){for(;Ie<j.length;Ie++)he=X(L,j[Ie],Y),he!==null&&(O=f(he,O,Ie),Qe===null?_e=he:Qe.sibling=he,Qe=he);return Be&&Gi(L,Ie),_e}for(he=o(he);Ie<j.length;Ie++)Ue=F(he,L,Ie,j[Ie],Y),Ue!==null&&(t&&Ue.alternate!==null&&he.delete(Ue.key===null?Ie:Ue.key),O=f(Ue,O,Ie),Qe===null?_e=Ue:Qe.sibling=Ue,Qe=Ue);return t&&he.forEach(function($s){return n(L,$s)}),Be&&Gi(L,Ie),_e}function Ee(L,O,j,Y){if(j==null)throw Error(a(151));for(var _e=null,Qe=null,he=O,Ie=O=0,Ue=null,Ke=j.next();he!==null&&!Ke.done;Ie++,Ke=j.next()){he.index>Ie?(Ue=he,he=null):Ue=he.sibling;var $s=B(L,he,Ke.value,Y);if($s===null){he===null&&(he=Ue);break}t&&he&&$s.alternate===null&&n(L,he),O=f($s,O,Ie),Qe===null?_e=$s:Qe.sibling=$s,Qe=$s,he=Ue}if(Ke.done)return r(L,he),Be&&Gi(L,Ie),_e;if(he===null){for(;!Ke.done;Ie++,Ke=j.next())Ke=X(L,Ke.value,Y),Ke!==null&&(O=f(Ke,O,Ie),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke);return Be&&Gi(L,Ie),_e}for(he=o(he);!Ke.done;Ie++,Ke=j.next())Ke=F(he,L,Ie,Ke.value,Y),Ke!==null&&(t&&Ke.alternate!==null&&he.delete(Ke.key===null?Ie:Ke.key),O=f(Ke,O,Ie),Qe===null?_e=Ke:Qe.sibling=Ke,Qe=Ke);return t&&he.forEach(function(Ab){return n(L,Ab)}),Be&&Gi(L,Ie),_e}function rt(L,O,j,Y){if(typeof j=="object"&&j!==null&&j.type===ee&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:e:{for(var _e=j.key;O!==null;){if(O.key===_e){if(_e=j.type,_e===ee){if(O.tag===7){r(L,O.sibling),Y=h(O,j.props.children),Y.return=L,L=Y;break e}}else if(O.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===S&&jr(_e)===O.type){r(L,O.sibling),Y=h(O,j.props),Ko(Y,j),Y.return=L,L=Y;break e}r(L,O);break}else n(L,O);O=O.sibling}j.type===ee?(Y=Mr(j.props.children,L.mode,Y,j.key),Y.return=L,L=Y):(Y=Ou(j.type,j.key,j.props,null,L.mode,Y),Ko(Y,j),Y.return=L,L=Y)}return g(L);case Z:e:{for(_e=j.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){r(L,O.sibling),Y=h(O,j.children||[]),Y.return=L,L=Y;break e}else{r(L,O);break}else n(L,O);O=O.sibling}Y=Kh(j,L.mode,Y),Y.return=L,L=Y}return g(L);case S:return j=jr(j),rt(L,O,j,Y)}if(Et(j))return ce(L,O,j,Y);if(k(j)){if(_e=k(j),typeof _e!="function")throw Error(a(150));return j=_e.call(j),Ee(L,O,j,Y)}if(typeof j.then=="function")return rt(L,O,Pu(j),Y);if(j.$$typeof===pe)return rt(L,O,ku(L,j),Y);zu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(r(L,O.sibling),Y=h(O,j),Y.return=L,L=Y):(r(L,O),Y=Qh(j,L.mode,Y),Y.return=L,L=Y),g(L)):r(L,O)}return function(L,O,j,Y){try{Qo=0;var _e=rt(L,O,j,Y);return Ia=null,_e}catch(he){if(he===Na||he===Uu)throw he;var Qe=Sn(29,he,null,L.mode);return Qe.lanes=Y,Qe.return=L,Qe}}}var zr=$g(!0),Jg=$g(!1),Ms=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ks(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,($e&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(t),Vg(t,null,r),n}return Iu(t,o,n,r),Du(t)}function Yo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,To(t,r)}}function lf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var uf=!1;function Xo(){if(uf){var t=Ca;if(t!==null)throw t}}function $o(t,n,r,o){uf=!1;var h=t.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==g&&(T===null?K.firstBaseUpdate=P:T.next=P,K.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,K=P=C=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(Le&B)===B:(o&B)===B){B!==0&&B===Ra&&(uf=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ce=t,Ee=T;B=n;var rt=r;switch(Ee.tag){case 1:if(ce=Ee.payload,typeof ce=="function"){X=ce.call(rt,X,B);break e}X=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ee.payload,B=typeof ce=="function"?ce.call(rt,X,B):ce,B==null)break e;X=w({},X,B);break e;case 2:Ms=!0}}B=T.callback,B!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(P=K=F,C=X):K=K.next=F,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),zs|=g,t.lanes=g,t.memoizedState=X}}function Zg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Wg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Zg(r[t],n)}var Da=M(null),Bu=M(0);function ep(t,n){t=ns,se(Bu,t),se(Da,n),ns=t|n.baseLanes}function cf(){se(Bu,ns),se(Da,Da.current)}function hf(){ns=Bu.current,Q(Da),Q(Bu)}var wn=M(null),qn=null;function Ls(t){var n=t.alternate;se(St,St.current&1),se(wn,t),qn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(qn=t)}function ff(t){se(St,St.current),se(wn,t),qn===null&&(qn=t)}function tp(t){t.tag===22?(se(St,St.current),se(wn,t),qn===null&&(qn=t)):Us()}function Us(){se(St,St.current),se(wn,wn.current)}function xn(t){Q(wn),qn===t&&(qn=null),Q(St)}var St=M(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_d(r)||vd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yi=0,Ne=null,it=null,Ot=null,Hu=!1,Oa=!1,Br=!1,Fu=0,Jo=0,Ma=null,d1=0;function _t(){throw Error(a(321))}function df(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!An(t[r],n[r]))return!1;return!0}function mf(t,n,r,o,h,f){return Yi=f,Ne=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?jp:Nf,Br=!1,f=r(o,h),Br=!1,Oa&&(f=ip(n,r,o,h)),np(t),f}function np(t){H.H=el;var n=it!==null&&it.next!==null;if(Yi=0,Ot=it=Ne=null,Hu=!1,Jo=0,Ma=null,n)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&Vu(t)&&(Mt=!0))}function ip(t,n,r,o){Ne=t;var h=0;do{if(Oa&&(Ma=null),Jo=0,Oa=!1,25<=h)throw Error(a(301));if(h+=1,Ot=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Pp,f=n(r,o)}while(Oa);return f}function m1(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Zo(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ne.flags|=1024),n}function gf(){var t=Fu!==0;return Fu=0,t}function pf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function yf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}Yi=0,Ot=it=Ne=null,Oa=!1,Jo=Fu=0,Ma=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=t:Ot=Ot.next=t,Ot}function wt(){if(it===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=Ot===null?Ne.memoizedState:Ot.next;if(n!==null)Ot=n,it=t;else{if(t===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Ot===null?Ne.memoizedState=Ot=t:Ot=Ot.next=t}return Ot}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var n=Jo;return Jo+=1,Ma===null&&(Ma=[]),t=Kg(Ma,t,n),n=Ne,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?jp:Nf),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===pe)return Xt(t)}throw Error(a(438,String(t)))}function _f(t){var n=null,r=Ne.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ne.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Ne.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function Xi(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=wt();return vf(n,it,t)}function vf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=g=null,C=null,P=n,K=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(Le&X)===X:(Yi&X)===X){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ra&&(K=!0);else if((Yi&B)===B){P=P.next,B===Ra&&(K=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=X,g=f):C=C.next=X,Ne.lanes|=B,zs|=B;X=P.action,Br&&r(f,X),f=P.hasEagerState?P.eagerState:r(f,X)}else B={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(T=C=B,g=f):C=C.next=B,Ne.lanes|=X,zs|=X;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=T,!An(f,t.memoizedState)&&(Mt=!0,K&&(r=Ca,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Ef(t){var n=wt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Mt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function sp(t,n,r){var o=Ne,h=wt(),f=Be;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!An((it||h).memoizedState,r);if(g&&(h.memoizedState=r,Mt=!0),h=h.queue,Af(op.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},ap.bind(null,o,h,r,n),null),at===null)throw Error(a(349));f||(Yi&127)!==0||rp(o,n,r)}return r}function rp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ne.updateQueue,n===null?(n=Gu(),Ne.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ap(t,n,r,o){n.value=r,n.getSnapshot=o,lp(n)&&up(t)}function op(t,n,r){return r(function(){lp(n)&&up(t)})}function lp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!An(t,r)}catch{return!0}}function up(t){var n=Or(t,2);n!==null&&yn(n,t,2)}function Tf(t){var n=un();if(typeof t=="function"){var r=t;if(t=r(),Br){On(!0);try{r()}finally{On(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},n}function cp(t,n,r,o){return t.baseState=r,vf(t,it,typeof o=="function"?o:Xi)}function g1(t,n,r,o,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,hp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function hp(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var T=r(h,o),C=H.S;C!==null&&C(g,T),fp(t,n,T)}catch(P){bf(t,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),fp(t,n,f)}catch(P){bf(t,n,P)}}function fp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){dp(t,n,o)},function(o){return bf(t,n,o)}):dp(t,n,r)}function dp(t,n,r){n.status="fulfilled",n.value=r,mp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,hp(t,r)))}function bf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,mp(n),n=n.next;while(n!==o)}t.action=null}function mp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gp(t,n){return n}function pp(t,n){if(Be){var r=at.formState;if(r!==null){e:{var o=Ne;if(Be){if(ut){t:{for(var h=ut,f=Bn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ut=Hn(h.nextSibling),o=h.data==="F!";break e}}Ds(o)}o=!1}o&&(n=r[0])}}return r=un(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},r.queue=o,r=kp.bind(null,Ne,o),o.dispatch=r,o=Tf(!1),f=Cf.bind(null,Ne,!1,o.queue),o=un(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=g1.bind(null,Ne,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function yp(t){var n=wt();return _p(n,it,t)}function _p(t,n,r){if(n=vf(t,n,gp)[0],t=Ku(Xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===Na?Uu:g}else o=n;n=wt();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Ne.flags|=2048,Va(9,{destroy:void 0},p1.bind(null,h,r),null)),[o,f,t]}function p1(t,n){t.action=n}function vp(t){var n=wt(),r=it;if(r!==null)return _p(n,r,t);wt(),n=n.memoizedState,r=wt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function Va(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Ne.updateQueue,n===null&&(n=Gu(),Ne.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Ep(){return wt().memoizedState}function Yu(t,n,r,o){var h=un();Ne.flags|=t,h.memoizedState=Va(1|n,{destroy:void 0},r,o===void 0?null:o)}function Xu(t,n,r,o){var h=wt();o=o===void 0?null:o;var f=h.memoizedState.inst;it!==null&&o!==null&&df(o,it.memoizedState.deps)?h.memoizedState=Va(n,f,r,o):(Ne.flags|=t,h.memoizedState=Va(1|n,f,r,o))}function Tp(t,n){Yu(8390656,8,t,n)}function Af(t,n){Xu(2048,8,t,n)}function y1(t){Ne.flags|=4;var n=Ne.updateQueue;if(n===null)n=Gu(),Ne.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function bp(t){var n=wt().memoizedState;return y1({ref:n,nextImpl:t}),function(){if(($e&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(t,n){return Xu(4,2,t,n)}function Sp(t,n){return Xu(4,4,t,n)}function wp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xp(t,n,r){r=r!=null?r.concat([t]):null,Xu(4,4,wp.bind(null,n,t),r)}function Sf(){}function Rp(t,n){var r=wt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&df(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Cp(t,n){var r=wt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=t(),Br){On(!0);try{t()}finally{On(!1)}}return r.memoizedState=[o,n],o}function wf(t,n,r){return r===void 0||(Yi&1073741824)!==0&&(Le&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ny(),Ne.lanes|=t,zs|=t,r)}function Np(t,n,r,o){return An(r,n)?r:Da.current!==null?(t=wf(t,r,o),An(t,n)||(Mt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(Le&261930)===0?(Mt=!0,t.memoizedState=r):(t=Ny(),Ne.lanes|=t,zs|=t,n)}function Ip(t,n,r,o,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var g=H.T,T={};H.T=T,Cf(t,!1,n,r);try{var C=h(),P=H.S;if(P!==null&&P(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=f1(C,o);Wo(t,n,K,Nn(t))}else Wo(t,n,o,Nn(t))}catch(X){Wo(t,n,{then:function(){},status:"rejected",reason:X},Nn())}finally{ie.p=f,g!==null&&T.types!==null&&(g.types=T.types),H.T=g}}function _1(){}function xf(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Dp(t).queue;Ip(t,h,n,me,r===null?_1:function(){return Op(t),r(o)})}function Dp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:me},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Op(t){var n=Dp(t);n.next===null&&(n=t.alternate.memoizedState),Wo(t,n.next.queue,{},Nn())}function Rf(){return Xt(pl)}function Mp(){return wt().memoizedState}function Vp(){return wt().memoizedState}function v1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Nn();t=Vs(r);var o=ks(n,t,r);o!==null&&(yn(o,n,r),Yo(o,n,r)),n={cache:tf()},t.payload=n;return}n=n.return}}function E1(t,n,r){var o=Nn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?Lp(n,r):(r=Fh(t,n,r,o),r!==null&&(yn(r,t,o),Up(r,n,o)))}function kp(t,n,r){var o=Nn();Wo(t,n,r,o)}function Wo(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))Lp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,An(T,g))return Iu(t,n,h,0),at===null&&Nu(),!1}catch{}if(r=Fh(t,n,h,o),r!==null)return yn(r,t,o),Up(r,n,o),!0}return!1}function Cf(t,n,r,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Fh(t,r,o,2),n!==null&&yn(n,t,2)}function $u(t){var n=t.alternate;return t===Ne||n!==null&&n===Ne}function Lp(t,n){Oa=Hu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Up(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,To(t,r)}}var el={readContext:Xt,use:Qu,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};el.useEffectEvent=_t;var jp={readContext:Xt,use:Qu,useCallback:function(t,n){return un().memoizedState=[t,n===void 0?null:n],t},useContext:Xt,useEffect:Tp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Yu(4194308,4,wp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var r=un();n=n===void 0?null:n;var o=t();if(Br){On(!0);try{t()}finally{On(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=un();if(r!==void 0){var h=r(n);if(Br){On(!0);try{r(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=E1.bind(null,Ne,t),[o.memoizedState,t]},useRef:function(t){var n=un();return t={current:t},n.memoizedState=t},useState:function(t){t=Tf(t);var n=t.queue,r=kp.bind(null,Ne,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Sf,useDeferredValue:function(t,n){var r=un();return wf(r,t,n)},useTransition:function(){var t=Tf(!1);return t=Ip.bind(null,Ne,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Ne,h=un();if(Be){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),at===null)throw Error(a(349));(Le&127)!==0||rp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Tp(op.bind(null,o,f,t),[t]),o.flags|=2048,Va(9,{destroy:void 0},ap.bind(null,o,f,r,n),null),r},useId:function(){var t=un(),n=at.identifierPrefix;if(Be){var r=Ni,o=Ci;r=(o&~(1<<32-bt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=d1++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Rf,useFormState:pp,useActionState:pp,useOptimistic:function(t){var n=un();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cf.bind(null,Ne,!0,r),r.dispatch=n,[t,n]},useMemoCache:_f,useCacheRefresh:function(){return un().memoizedState=v1.bind(null,Ne)},useEffectEvent:function(t){var n=un(),r={impl:t};return n.memoizedState=r,function(){if(($e&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Nf={readContext:Xt,use:Qu,useCallback:Rp,useContext:Xt,useEffect:Af,useImperativeHandle:xp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Cp,useReducer:Ku,useRef:Ep,useState:function(){return Ku(Xi)},useDebugValue:Sf,useDeferredValue:function(t,n){var r=wt();return Np(r,it.memoizedState,t,n)},useTransition:function(){var t=Ku(Xi)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Zo(t),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:Rf,useFormState:yp,useActionState:yp,useOptimistic:function(t,n){var r=wt();return cp(r,it,t,n)},useMemoCache:_f,useCacheRefresh:Vp};Nf.useEffectEvent=bp;var Pp={readContext:Xt,use:Qu,useCallback:Rp,useContext:Xt,useEffect:Af,useImperativeHandle:xp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Cp,useReducer:Ef,useRef:Ep,useState:function(){return Ef(Xi)},useDebugValue:Sf,useDeferredValue:function(t,n){var r=wt();return it===null?wf(r,t,n):Np(r,it.memoizedState,t,n)},useTransition:function(){var t=Ef(Xi)[0],n=wt().memoizedState;return[typeof t=="boolean"?t:Zo(t),n]},useSyncExternalStore:sp,useId:Mp,useHostTransitionStatus:Rf,useFormState:vp,useActionState:vp,useOptimistic:function(t,n){var r=wt();return it!==null?cp(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Vp};Pp.useEffectEvent=bp;function If(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Df={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Nn(),h=Vs(o);h.payload=n,r!=null&&(h.callback=r),n=ks(t,h,o),n!==null&&(yn(n,t,o),Yo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Nn(),h=Vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ks(t,h,o),n!==null&&(yn(n,t,o),Yo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Nn(),o=Vs(r);o.tag=2,n!=null&&(o.callback=n),n=ks(t,o,r),n!==null&&(yn(n,t,r),Yo(n,t,r))}};function zp(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(r,o)||!zo(h,f):!0}function Bp(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Df.enqueueReplaceState(n,n.state,null)}function qr(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function qp(t){Cu(t)}function Hp(t){console.error(t)}function Fp(t){Cu(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,n,r){return r=Vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function Qp(t){return t=Vs(t),t.tag=3,t}function Kp(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Gp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Gp(n,r,o),typeof h!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function T1(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&xa(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?uc():r.alternate===null&&vt===0&&(vt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),id(t,o,h)),!1;case 22:return r.flags|=65536,o===ju?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),id(t,o,h)),!1}throw Error(a(435,r.tag))}return id(t,o,h),uc(),!1}if(Be)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(t=Error(a(422),{cause:o}),Ho(jn(t,r)))):(o!==$h&&(n=Error(a(423),{cause:o}),Ho(jn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=jn(o,r),h=Of(t.stateNode,o,h),lf(t,h),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:o});if(f=jn(f,r),ll===null?ll=[f]:ll.push(f),vt!==4&&(vt=2),n===null)return!0;o=jn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Of(r.stateNode,o,t),lf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bs===null||!Bs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Qp(h),Kp(h,t,r,o),lf(r,h),!1}r=r.return}while(r!==null);return!1}var Mf=Error(a(461)),Mt=!1;function $t(t,n,r,o){n.child=t===null?Jg(n,null,r,o):zr(n,t.child,r,o)}function Yp(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Lr(n),o=mf(t,n,r,g,f,h),T=gf(),t!==null&&!Mt?(pf(t,n,h),$i(t,n,h)):(Be&&T&&Yh(n),n.flags|=1,$t(t,n,o,h),n.child)}function Xp(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,$p(t,n,f,o,h)):(t=Ou(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:zo,r(g,o)&&t.ref===n.ref)return $i(t,n,h)}return n.flags|=1,t=Fi(f,o),t.ref=n.ref,t.return=n,n.child=t}function $p(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(zo(f,o)&&t.ref===n.ref)if(Mt=!1,n.pendingProps=o=f,Bf(t,h))(t.flags&131072)!==0&&(Mt=!0);else return n.lanes=t.lanes,$i(t,n,h)}return Vf(t,n,r,o,h)}function Jp(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zp(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?ep(n,f):cf(),tp(n);else return o=n.lanes=536870912,Zp(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Lu(n,f.cachePool),ep(n,f),Us(),n.memoizedState=null):(t!==null&&Lu(n,null),cf(),Us());return $t(t,n,h,r),n.child}function tl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(t,n,r,o,h){var f=sf();return f=f===null?null:{parent:Dt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Lu(n,null),cf(),tp(n),t!==null&&xa(t,n,o,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Wp(t,n,r){return zr(n,t.child,null,r),t=Zu(n,n.pendingProps),t.flags|=2,xn(n),n.memoizedState=null,t}function b1(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Be){if(o.mode==="hidden")return t=Zu(n,o),n.lanes=536870912,tl(null,t);if(ff(n),(t=ut)?(t=h0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},r=Lg(t),r.return=n,n.child=r,Yt=n,ut=null)):t=null,t===null)throw Ds(n);return n.lanes=536870912,null}return Zu(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Wp(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Mt||xa(t,n,r,!1),h=(r&t.childLanes)!==0,Mt||h){if(o=at,o!==null&&(g=bo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Or(t,g),yn(o,t,g),Mf;uc(),n=Wp(t,n,r)}else t=f.treeContext,ut=Hn(g.nextSibling),Yt=n,Be=!0,Is=null,Bn=!1,t!==null&&Pg(n,t),n=Zu(n,o),n.flags|=4096;return n}return t=Fi(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Vf(t,n,r,o,h){return Lr(n),r=mf(t,n,r,o,void 0,h),o=gf(),t!==null&&!Mt?(pf(t,n,h),$i(t,n,h)):(Be&&o&&Yh(n),n.flags|=1,$t(t,n,r,h),n.child)}function ey(t,n,r,o,h,f){return Lr(n),n.updateQueue=null,r=ip(n,o,r,h),np(t),o=gf(),t!==null&&!Mt?(pf(t,n,f),$i(t,n,f)):(Be&&o&&Yh(n),n.flags|=1,$t(t,n,r,f),n.child)}function ty(t,n,r,o,h){if(Lr(n),n.stateNode===null){var f=ba,g=r.contextType;typeof g=="object"&&g!==null&&(f=Xt(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Xt(g):ba,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Df.enqueueReplaceState(f,f.state,null),$o(n,o,f,h),Xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=qr(r,T);f.props=C;var P=f.context,K=r.contextType;g=ba,typeof K=="object"&&K!==null&&(g=Xt(K));var X=r.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Bp(n,f,o,g),Ms=!1;var B=n.memoizedState;f.state=B,$o(n,o,f,h),Xo(),P=n.memoizedState,T||B!==P||Ms?(typeof X=="function"&&(If(n,r,X,o),P=n.memoizedState),(C=Ms||zp(n,r,C,o,B,P,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(t,n),g=n.memoizedProps,K=qr(r,g),f.props=K,X=n.pendingProps,B=f.context,P=r.contextType,C=ba,typeof P=="object"&&P!==null&&(C=Xt(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==C)&&Bp(n,f,o,C),Ms=!1,B=n.memoizedState,f.state=B,$o(n,o,f,h),Xo();var F=n.memoizedState;g!==X||B!==F||Ms||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof T=="function"&&(If(n,r,T,o),F=n.memoizedState),(K=Ms||zp(n,r,K,o,B,F,C)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=K):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=zr(n,t.child,null,h),n.child=zr(n,null,r,h)):$t(t,n,r,h),n.memoizedState=f.state,t=n.child):t=$i(t,n,h),t}function ny(t,n,r,o){return Vr(),n.flags|=256,$t(t,n,r,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Gg()}}function Uf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function iy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Be){if(h?Ls(n):Us(),(t=ut)?(t=h0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ns!==null?{id:Ci,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},r=Lg(t),r.return=n,n.child=r,Yt=n,ut=null)):t=null,t===null)throw Ds(n);return vd(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Us(),h=n.mode,T=ec({mode:"hidden",children:T},h),o=Mr(o,h,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Lf(r),o.childLanes=Uf(t,g,r),n.memoizedState=kf,tl(null,o)):(Ls(n),jf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Ls(n),n.flags&=-257,n=Pf(t,n,r)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),T=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),T=Mr(T,h,r,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,zr(n,t.child,null,r),o=n.child,o.memoizedState=Lf(r),o.childLanes=Uf(t,g,r),n.memoizedState=kf,n=tl(null,o));else if(Ls(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Ho({value:o,source:null,stack:null}),n=Pf(t,n,r)}else if(Mt||xa(t,n,r,!1),g=(r&t.childLanes)!==0,Mt||g){if(g=at,g!==null&&(o=bo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,Or(t,o),yn(g,t,o),Mf;_d(T)||uc(),n=Pf(t,n,r)}else _d(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ut=Hn(T.nextSibling),Yt=n,Be=!0,Is=null,Bn=!1,t!==null&&Pg(n,t),n=jf(n,o.children),n.flags|=4096);return n}return h?(Us(),T=o.fallback,h=n.mode,C=t.child,P=C.sibling,o=Fi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?T=Fi(P,T):(T=Mr(T,h,r,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,tl(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Lf(r):(h=T.cachePool,h!==null?(C=Dt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Gg(),T={baseLanes:T.baseLanes|r,cachePool:h}),o.memoizedState=T,o.childLanes=Uf(t,g,r),n.memoizedState=kf,tl(t.child,o)):(Ls(n),r=t.child,t=r.sibling,r=Fi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function jf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Sn(22,t,null,n),t.lanes=0,t}function Pf(t,n,r){return zr(n,t.child,null,r),t=jf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sy(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Wh(t.return,n,r)}function zf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ry(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=St.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,se(St,g),$t(t,n,o,r),o=Be?qo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,r,n);else if(t.tag===19)sy(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}zf(n,!0,r,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function $i(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),zs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(xa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Fi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Fi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function A1(t,n,r){switch(n.tag){case 3:gt(n,n.stateNode.containerInfo),Os(n,Dt,t.memoizedState.cache),Vr();break;case 27:case 5:ci(n);break;case 4:gt(n,n.stateNode.containerInfo);break;case 10:Os(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?iy(t,n,r):(Ls(n),t=$i(t,n,r),t!==null?t.sibling:null);Ls(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(xa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ry(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(St,St.current),o)break;return null;case 22:return n.lanes=0,Jp(t,n,r,n.pendingProps);case 24:Os(n,Dt,t.memoizedState.cache)}return $i(t,n,r)}function ay(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Mt=!0;else{if(!Bf(t,r)&&(n.flags&128)===0)return Mt=!1,A1(t,n,r);Mt=(t.flags&131072)!==0}else Mt=!1,Be&&(n.flags&1048576)!==0&&jg(n,qo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=jr(n.elementType),n.type=t,typeof t=="function")Gh(t)?(o=qr(t,o),n.tag=1,n=ty(null,n,t,o,r)):(n.tag=0,n=Vf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===Oe){n.tag=11,n=Yp(null,n,t,o,r);break e}else if(h===I){n.tag=14,n=Xp(null,n,t,o,r);break e}}throw n=Ze(t)||t,Error(a(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=qr(o,n.pendingProps),ty(t,n,o,h,r);case 3:e:{if(gt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(t,n),$o(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Os(n,Dt,o),o!==f.cache&&ef(n,[Dt],r,!0),Xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ny(t,n,o,r);break e}else if(o!==h){h=jn(Error(a(424)),n),Ho(h),n=ny(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=Hn(t.firstChild),Yt=n,Be=!0,Is=null,Bn=!0,r=Jg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),o===h){n=$i(t,n,r);break e}$t(t,n,o,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=y0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Be||(r=n.type,t=n.pendingProps,o=pc(Re.current).createElement(r),o[Ct]=n,o[qt]=t,Jt(o,r,t),Nt(o),n.stateNode=o):n.memoizedState=y0(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ci(n),t===null&&Be&&(o=n.stateNode=m0(n.type,n.pendingProps,Re.current),Yt=n,Bn=!0,h=ut,Gs(n.type)?(Ed=h,ut=Hn(o.firstChild)):ut=h),$t(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Be&&((h=o=ut)&&(o=W1(o,n.type,n.pendingProps,Bn),o!==null?(n.stateNode=o,Yt=n,ut=Hn(o.firstChild),Bn=!1,h=!0):h=!1),h||Ds(n)),ci(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,gd(h,f)?o=null:g!==null&&gd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(t,n,m1,null,null,r),pl._currentValue=h),Wu(t,n),$t(t,n,o,r),n.child;case 6:return t===null&&Be&&((t=r=ut)&&(r=eb(r,n.pendingProps,Bn),r!==null?(n.stateNode=r,Yt=n,ut=null,t=!0):t=!1),t||Ds(n)),null;case 13:return iy(t,n,r);case 4:return gt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=zr(n,null,o,r):$t(t,n,o,r),n.child;case 11:return Yp(t,n,n.type,n.pendingProps,r);case 7:return $t(t,n,n.pendingProps,r),n.child;case 8:return $t(t,n,n.pendingProps.children,r),n.child;case 12:return $t(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Os(n,n.type,o.value),$t(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Lr(n),h=Xt(h),o=o(h),n.flags|=1,$t(t,n,o,r),n.child;case 14:return Xp(t,n,n.type,n.pendingProps,r);case 15:return $p(t,n,n.type,n.pendingProps,r);case 19:return ry(t,n,r);case 31:return b1(t,n,r);case 22:return Jp(t,n,r,n.pendingProps);case 24:return Lr(n),o=Xt(Dt),t===null?(h=sf(),h===null&&(h=at,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},af(n),Os(n,Dt,h)):((t.lanes&r)!==0&&(of(t,n),$o(n,null,null,r),Xo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Os(n,Dt,o)):(o=f.cache,Os(n,Dt,o),o!==h.cache&&ef(n,[Dt],r,!0))),$t(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ji(t){t.flags|=4}function qf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(My())t.flags|=8192;else throw Pr=ju,rf}else t.flags&=-16777217}function oy(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(n))if(My())t.flags|=8192;else throw Pr=ju,rf}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,ja|=n)}function nl(t,n){if(!Be)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ct(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function S1(t,n,r){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ki(Dt),lt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(wa(n)?Ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ct(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(Ji(n),f!==null?(ct(n),oy(n,f)):(ct(n),qf(n,h,null,o,r))):f?f!==t.memoizedState?(Ji(n),ct(n),oy(n,f)):(ct(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Ji(n),ct(n),qf(n,h,t,o,r)),null;case 27:if(ps(n),r=Re.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ct(n),null}t=oe.current,wa(n)?zg(n):(t=m0(h,o,r),n.stateNode=t,Ji(n))}return ct(n),null;case 5:if(ps(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Ji(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(f=oe.current,wa(n))zg(n);else{var g=pc(Re.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ct]=n,f[qt]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(Jt(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ji(n)}}return ct(n),qf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=Re.current,wa(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ct]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||i0(t.nodeValue,r)),t||Ds(n,!0)}else t=pc(t).createTextNode(o),t[Ct]=n,n.stateNode=t}return ct(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=wa(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ct]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),t=!1}else r=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ct]=n}else Vr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),h=!1}else h=Jh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),ct(n),null);case 4:return lt(),t===null&&cd(n.stateNode.containerInfo),ct(n),null;case 10:return Ki(n.type),ct(n),null;case 19:if(Q(St),o=n.memoizedState,o===null)return ct(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)nl(o,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=qu(t),f!==null){for(n.flags|=128,nl(o,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)kg(r,t),r=r.sibling;return se(St,St.current&1|2),Be&&Gi(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ut()>ac&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304)}else{if(!h)if(t=qu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),nl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Be)return ct(n),null}else 2*Ut()-o.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,h=!0,nl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ut(),t.sibling=null,r=St.current,se(St,h?r&1|2:r&1),Be&&Gi(n,o.treeForkCount),t):(ct(n),null);case 22:case 23:return xn(n),hf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Q(Ur),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ki(Dt),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function w1(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Dt),lt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ps(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(xn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Vr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Q(St),null;case 4:return lt(),null;case 10:return Ki(n.type),null;case 22:case 23:return xn(n),hf(),t!==null&&Q(Ur),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Dt),null;case 25:return null;default:return null}}function ly(t,n){switch(Xh(n),n.tag){case 3:Ki(Dt),lt();break;case 26:case 27:case 5:ps(n);break;case 4:lt();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Q(St);break;case 10:Ki(n.type);break;case 22:case 23:xn(n),hf(),t!==null&&Q(Ur);break;case 24:Ki(Dt)}}function il(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(T){tt(n,n.return,T)}}function js(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=r,P=T;try{P()}catch(K){tt(h,C,K)}}}o=o.next}while(o!==f)}}catch(K){tt(n,n.return,K)}}function uy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Wg(n,r)}catch(o){tt(t,t.return,o)}}}function cy(t,n,r){r.props=qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){tt(t,n,o)}}function sl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){tt(t,n,h)}}function Ii(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){tt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){tt(t,n,h)}else r.current=null}function hy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){tt(t,t.return,h)}}function Hf(t,n,r){try{var o=t.stateNode;K1(o,t.type,r,n),o[qt]=n}catch(h){tt(t,t.return,h)}}function fy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Ff(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Zn));else if(o!==4&&(o===27&&Gs(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Gf(t,n,r),t=t.sibling;t!==null;)Gf(t,n,r),t=t.sibling}function nc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Gs(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function dy(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Jt(n,o,r),n[Ct]=t,n[qt]=r}catch(f){tt(t,t.return,f)}}var Zi=!1,Vt=!1,Qf=!1,my=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function x1(t,n){if(t=t.containerInfo,dd=Ac,t=xg(t),jh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,T=-1,C=-1,P=0,K=0,X=t,B=null;t:for(;;){for(var F;X!==r||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===t)break t;if(B===r&&++P===h&&(T=g),B===f&&++K===o&&(C=g),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}r=T===-1||C===-1?null:{start:T,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:t,selectionRange:r},Ac=!1,Ft=n;Ft!==null;)if(n=Ft,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ft=t;else for(;Ft!==null;){switch(n=Ft,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var ce=qr(r.type,h);t=o.getSnapshotBeforeUpdate(ce,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){tt(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)yd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ft=t;break}Ft=n.return}}function gy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:es(t,r),o&4&&il(5,r);break;case 1:if(es(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){tt(r,r.return,g)}else{var h=qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){tt(r,r.return,g)}}o&64&&uy(r),o&512&&sl(r,r.return);break;case 3:if(es(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Wg(t,n)}catch(g){tt(r,r.return,g)}}break;case 27:n===null&&o&4&&dy(r);case 26:case 5:es(t,r),n===null&&o&4&&hy(r),o&512&&sl(r,r.return);break;case 12:es(t,r);break;case 31:es(t,r),o&4&&_y(t,r);break;case 13:es(t,r),o&4&&vy(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=k1.bind(null,r),tb(t,r))));break;case 22:if(o=r.memoizedState!==null||Zi,!o){n=n!==null&&n.memoizedState!==null||Vt,h=Zi;var f=Vt;Zi=o,(Vt=n)&&!f?ts(t,r,(r.subtreeFlags&8772)!==0):es(t,r),Zi=h,Vt=f}break;case 30:break;default:es(t,r)}}function py(t){var n=t.alternate;n!==null&&(t.alternate=null,py(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&la(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var mt=null,dn=!1;function Wi(t,n,r){for(r=r.child;r!==null;)yy(t,n,r),r=r.sibling}function yy(t,n,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Yn,r)}catch{}switch(r.tag){case 26:Vt||Ii(r,n),Wi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Vt||Ii(r,n);var o=mt,h=dn;Gs(r.type)&&(mt=r.stateNode,dn=!1),Wi(t,n,r),dl(r.stateNode),mt=o,dn=h;break;case 5:Vt||Ii(r,n);case 6:if(o=mt,h=dn,mt=null,Wi(t,n,r),mt=o,dn=h,mt!==null)if(dn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(r.stateNode)}catch(f){tt(r,n,f)}else try{mt.removeChild(r.stateNode)}catch(f){tt(r,n,f)}break;case 18:mt!==null&&(dn?(t=mt,u0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Qa(t)):u0(mt,r.stateNode));break;case 4:o=mt,h=dn,mt=r.stateNode.containerInfo,dn=!0,Wi(t,n,r),mt=o,dn=h;break;case 0:case 11:case 14:case 15:js(2,r,n),Vt||js(4,r,n),Wi(t,n,r);break;case 1:Vt||(Ii(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&cy(r,n,o)),Wi(t,n,r);break;case 21:Wi(t,n,r);break;case 22:Vt=(o=Vt)||r.memoizedState!==null,Wi(t,n,r),Vt=o;break;default:Wi(t,n,r)}}function _y(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Qa(t)}catch(r){tt(n,n.return,r)}}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Qa(t)}catch(r){tt(n,n.return,r)}}function R1(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new my),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new my),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var r=R1(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=L1.bind(null,t,o);o.then(h,h)}})}function mn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(Gs(T.type)){mt=T.stateNode,dn=!1;break e}break;case 5:mt=T.stateNode,dn=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,dn=!0;break e}T=T.return}if(mt===null)throw Error(a(160));yy(f,g,h),mt=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ey(n,t),n=n.sibling}var si=null;function Ey(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),o&4&&(js(3,t,t.return),il(3,t),js(5,t,t.return));break;case 1:mn(n,t),gn(t),o&512&&(Vt||r===null||Ii(r,r.return)),o&64&&Zi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=si;if(mn(n,t),gn(t),o&512&&(Vt||r===null||Ii(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Jt(f,o,r),f[Ct]=t,Nt(f),o=f;break e;case"link":var g=E0("link","href",h).get(o+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break t}}f=h.createElement(o),Jt(f,o,r),h.head.appendChild(f);break;case"meta":if(g=E0("meta","content",h).get(o+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break t}}f=h.createElement(o),Jt(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ct]=t,Nt(f),o=f}t.stateNode=o}else T0(h,t.type,t.stateNode);else t.stateNode=v0(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?T0(h,t.type,t.stateNode):v0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(n,t),gn(t),o&512&&(Vt||r===null||Ii(r,r.return)),r!==null&&o&4&&Hf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,t),gn(t),o&512&&(Vt||r===null||Ii(r,r.return)),t.flags&32){h=t.stateNode;try{fn(h,"")}catch(ce){tt(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Hf(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(mn(n,t),gn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(ce){tt(t,t.return,ce)}}break;case 3:if(vc=null,h=si,si=yc(n.containerInfo),mn(n,t),si=h,gn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ce){tt(t,t.return,ce)}Qf&&(Qf=!1,Ty(t));break;case 4:o=si,si=yc(t.stateNode.containerInfo),mn(n,t),gn(t),si=o;break;case 12:mn(n,t),gn(t);break;case 31:mn(n,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rc=Ut()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=Zi,K=Vt;if(Zi=P||h,Vt=K||C,mn(n,t),Vt=K,Zi=P,gn(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||Zi||Vt||Hr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){tt(C,C.return,ce)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){tt(C,C.return,ce)}}}else if(n.tag===18){if(r===null){C=n;try{var F=C.stateNode;h?c0(F,!0):c0(C.stateNode,!1)}catch(ce){tt(C,C.return,ce)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ic(t,r))));break;case 19:mn(n,t),gn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(fy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Ff(t);nc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var T=Ff(t);nc(t,T,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Ff(t);Gf(t,P,C);break;default:throw Error(a(161))}}catch(K){tt(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function es(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(t,n.alternate,n),n=n.sibling}function Hr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:js(4,n,n.return),Hr(n);break;case 1:Ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&cy(n,n.return,r),Hr(n);break;case 27:dl(n.stateNode);case 26:case 5:Ii(n,n.return),Hr(n);break;case 22:n.memoizedState===null&&Hr(n);break;case 30:Hr(n);break;default:Hr(n)}t=t.sibling}}function ts(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,r),il(4,f);break;case 1:if(ts(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){tt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Zg(C[h],T)}catch(P){tt(o,o.return,P)}}r&&g&64&&uy(f),sl(f,f.return);break;case 27:dy(f);case 26:case 5:ts(h,f,r),r&&o===null&&g&4&&hy(f),sl(f,f.return);break;case 12:ts(h,f,r);break;case 31:ts(h,f,r),r&&g&4&&_y(h,f);break;case 13:ts(h,f,r),r&&g&4&&vy(h,f);break;case 22:f.memoizedState===null&&ts(h,f,r),sl(f,f.return);break;case 30:break;default:ts(h,f,r)}n=n.sibling}}function Kf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Fo(r))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t))}function ri(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(t,n,r,o),n=n.sibling}function by(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(t,n,r,o),h&2048&&il(9,n);break;case 1:ri(t,n,r,o);break;case 3:ri(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Fo(t)));break;case 12:if(h&2048){ri(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){tt(n,n.return,C)}}else ri(t,n,r,o);break;case 31:ri(t,n,r,o);break;case 13:ri(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ri(t,n,r,o):rl(t,n):f._visibility&2?ri(t,n,r,o):(f._visibility|=2,ka(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(g,n);break;case 24:ri(t,n,r,o),h&2048&&Yf(n.alternate,n);break;default:ri(t,n,r,o)}}function ka(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,T=r,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,T,C,h),il(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?ka(f,g,T,C,h):rl(f,g):(K._visibility|=2,ka(f,g,T,C,h)),h&&P&2048&&Kf(g.alternate,g);break;case 24:ka(f,g,T,C,h),h&&P&2048&&Yf(g.alternate,g);break;default:ka(f,g,T,C,h)}n=n.sibling}}function rl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:rl(r,o),h&2048&&Kf(o.alternate,o);break;case 24:rl(r,o),h&2048&&Yf(o.alternate,o);break;default:rl(r,o)}n=n.sibling}}var al=8192;function La(t,n,r){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Ay(t,n,r),t=t.sibling}function Ay(t,n,r){switch(t.tag){case 26:La(t,n,r),t.flags&al&&t.memoizedState!==null&&db(r,si,t.memoizedState,t.memoizedProps);break;case 5:La(t,n,r);break;case 3:case 4:var o=si;si=yc(t.stateNode.containerInfo),La(t,n,r),si=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=al,al=16777216,La(t,n,r),al=o):La(t,n,r));break;default:La(t,n,r)}}function Sy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ft=o,xy(o,t)}Sy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&js(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):ol(t);break;default:ol(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ft=o,xy(o,t)}Sy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:js(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function xy(t,n){for(;Ft!==null;){var r=Ft;switch(r.tag){case 0:case 11:case 15:js(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Fo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ft=o;else e:for(r=t;Ft!==null;){o=Ft;var h=o.sibling,f=o.return;if(py(o),o===r){Ft=null;break e}if(h!==null){h.return=f,Ft=h;break e}Ft=f}}}var C1={getCacheForType:function(t){var n=Xt(Dt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Xt(Dt).controller.signal}},N1=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Me=null,Le=0,et=0,Rn=null,Ps=!1,Ua=!1,Xf=!1,ns=0,vt=0,zs=0,Fr=0,$f=0,Cn=0,ja=0,ll=null,pn=null,Jf=!1,rc=0,Ry=0,ac=1/0,oc=null,Bs=null,jt=0,qs=null,Pa=null,is=0,Zf=0,Wf=null,Cy=null,ul=0,ed=null;function Nn(){return($e&2)!==0&&Le!==0?Le&-Le:H.T!==null?ad():lu()}function Ny(){if(Cn===0)if((Le&536870912)===0||Be){var t=yr;yr<<=1,(yr&3932160)===0&&(yr=262144),Cn=t}else Cn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Cn}function yn(t,n,r){(t===at&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(za(t,0),Hs(t,Le,Cn,!1)),_r(t,r),(($e&2)===0||t!==at)&&(t===at&&(($e&2)===0&&(Fr|=r),vt===4&&Hs(t,Le,Cn,!1)),Di(t))}function Iy(t,n,r){if(($e&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Xn(t,n),h=o?O1(t,n):nd(t,n,!0),f=o;do{if(h===0){Ua&&!o&&Hs(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!I1(r)){h=nd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var T=t;h=ll;var C=T.current.memoizedState.isDehydrated;if(C&&(za(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!C){T.errorRecoveryDisabledLanes|=f,Fr|=f,h=4;break e}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(t,0),Hs(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hs(o,n,Cn,!Ps);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Ut(),10<h)){if(Hs(o,n,Cn,!Ps),di(o,0,!0)!==0)break e;is=n,o.timeoutHandle=o0(Dy.bind(null,o,r,pn,oc,Jf,n,Cn,Fr,ja,Ps,f,"Throttled",-0,0),h);break e}Dy(o,r,pn,oc,Jf,n,Cn,Fr,ja,Ps,f,null,-0,0)}}break}while(!0);Di(t)}function Dy(t,n,r,o,h,f,g,T,C,P,K,X,B,F){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zn},Ay(n,f,X);var ce=(f&62914560)===f?rc-Ut():(f&4194048)===f?Ry-Ut():0;if(ce=mb(X,ce),ce!==null){is=f,t.cancelPendingCommit=ce(Py.bind(null,t,n,f,r,o,h,g,T,C,K,X,null,B,F)),Hs(t,f,g,!P);return}}Py(t,n,f,r,o,h,g,T,C)}function I1(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hs(t,n,r,o){n&=~$f,n&=~Fr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-bt(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&vr(t,r,n)}function lc(){return($e&6)===0?(cl(0),!1):!0}function td(){if(Me!==null){if(et===0)var t=Me.return;else t=Me,Qi=kr=null,yf(t),Ia=null,Qo=0,t=Me;for(;t!==null;)ly(t.alternate,t),t=t.return;Me=null}}function za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),is=0,td(),at=t,Me=r=Fi(t.current,null),Le=n,et=0,Rn=null,Ps=!1,Ua=Xn(t,n),Xf=!1,ja=Cn=$f=Fr=zs=vt=0,pn=ll=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-bt(o),f=1<<h;n|=t[h],o&=~f}return ns=n,Nu(),r}function Oy(t,n){Ne=null,H.H=el,n===Na||n===Uu?(n=Yg(),et=3):n===rf?(n=Yg(),et=4):et=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Me===null&&(vt=1,Ju(t,jn(n,t.current)))}function My(){var t=wn.current;return t===null?!0:(Le&4194048)===Le?qn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===qn:!1}function Vy(){var t=H.H;return H.H=el,t===null?el:t}function ky(){var t=H.A;return H.A=C1,t}function uc(){vt=4,Ps||(Le&4194048)!==Le&&wn.current!==null||(Ua=!0),(zs&134217727)===0&&(Fr&134217727)===0||at===null||Hs(at,Le,Cn,!1)}function nd(t,n,r){var o=$e;$e|=2;var h=Vy(),f=ky();(at!==t||Le!==n)&&(oc=null,za(t,n)),n=!1;var g=vt;e:do try{if(et!==0&&Me!==null){var T=Me,C=Rn;switch(et){case 8:td(),g=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=et;if(et=0,Rn=null,Ba(t,T,C,P),r&&Ua){g=0;break e}break;default:P=et,et=0,Rn=null,Ba(t,T,C,P)}}D1(),g=vt;break}catch(K){Oy(t,K)}while(!0);return n&&t.shellSuspendCounter++,Qi=kr=null,$e=o,H.H=h,H.A=f,Me===null&&(at=null,Le=0,Nu()),g}function D1(){for(;Me!==null;)Ly(Me)}function O1(t,n){var r=$e;$e|=2;var o=Vy(),h=ky();at!==t||Le!==n?(oc=null,ac=Ut()+500,za(t,n)):Ua=Xn(t,n);e:do try{if(et!==0&&Me!==null){n=Me;var f=Rn;t:switch(et){case 1:et=0,Rn=null,Ba(t,n,f,1);break;case 2:case 9:if(Qg(f)){et=0,Rn=null,Uy(n);break}n=function(){et!==2&&et!==9||at!==t||(et=7),Di(t)},f.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Qg(f)?(et=0,Rn=null,Uy(n)):(et=0,Rn=null,Ba(t,n,f,7));break;case 5:var g=null;switch(Me.tag){case 26:g=Me.memoizedState;case 5:case 27:var T=Me;if(g?b0(g):T.stateNode.complete){et=0,Rn=null;var C=T.sibling;if(C!==null)Me=C;else{var P=T.return;P!==null?(Me=P,cc(P)):Me=null}break t}}et=0,Rn=null,Ba(t,n,f,5);break;case 6:et=0,Rn=null,Ba(t,n,f,6);break;case 8:td(),vt=6;break e;default:throw Error(a(462))}}M1();break}catch(K){Oy(t,K)}while(!0);return Qi=kr=null,H.H=o,H.A=h,$e=r,Me!==null?0:(at=null,Le=0,Nu(),vt)}function M1(){for(;Me!==null&&!yt();)Ly(Me)}function Ly(t){var n=ay(t.alternate,t,ns);t.memoizedProps=t.pendingProps,n===null?cc(t):Me=n}function Uy(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ey(r,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=ey(r,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:yf(n);default:ly(r,n),n=Me=kg(n,ns),n=ay(r,n,ns)}t.memoizedProps=t.pendingProps,n===null?cc(t):Me=n}function Ba(t,n,r,o){Qi=kr=null,yf(n),Ia=null,Qo=0;var h=n.return;try{if(T1(t,h,n,r,Le)){vt=1,Ju(t,jn(r,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;vt=1,Ju(t,jn(r,t.current)),Me=null;return}n.flags&32768?(Be||o===1?t=!0:Ua||(Le&536870912)!==0?t=!1:(Ps=t=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){jy(n,Ps);return}t=n.return;var r=S1(n.alternate,n,ns);if(r!==null){Me=r;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);vt===0&&(vt=5)}function jy(t,n){do{var r=w1(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);vt=6,Me=null}function Py(t,n,r,o,h,f,g,T,C){t.cancelPendingCommit=null;do hc();while(jt!==0);if(($e&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(t,r,f,g,T,C),t===at&&(Me=at=null,Le=0),Pa=n,qs=t,is=r,Zf=f,Wf=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,U1(vs,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=ie.p,ie.p=2,g=$e,$e|=4;try{x1(t,n,r)}finally{$e=g,ie.p=h,H.T=o}}jt=1,zy(),By(),qy()}}function zy(){if(jt===1){jt=0;var t=qs,n=Pa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=ie.p;ie.p=2;var h=$e;$e|=4;try{Ey(n,t);var f=md,g=xg(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(C!==null&&jh(T)){var P=C.start,K=C.end;if(K===void 0&&(K=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(K,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),ce=T.textContent.length,Ee=Math.min(C.start,ce),rt=C.end===void 0?Ee:Math.min(C.end,ce);!F.extend&&Ee>rt&&(g=rt,rt=Ee,Ee=g);var L=Sg(T,Ee),O=Sg(T,rt);if(L&&O&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var j=X.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),Ee>rt?(F.addRange(j),F.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),F.addRange(j))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ac=!!dd,md=dd=null}finally{$e=h,ie.p=o,H.T=r}}t.current=n,jt=2}}function By(){if(jt===2){jt=0;var t=qs,n=Pa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=ie.p;ie.p=2;var h=$e;$e|=4;try{gy(t,n.alternate,n)}finally{$e=h,ie.p=o,H.T=r}}jt=3}}function qy(){if(jt===4||jt===3){jt=0,cn();var t=qs,n=Pa,r=is,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?jt=5:(jt=0,Pa=qs=null,Hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Bs=null),zi(r),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=ie.p,ie.p=2,H.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{H.T=n,ie.p=h}}(is&3)!==0&&hc(),Di(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===ed?ul++:(ul=0,ed=t):ul=0,cl(0)}}function Hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Fo(n)))}function hc(){return zy(),By(),qy(),Fy()}function Fy(){if(jt!==5)return!1;var t=qs,n=Zf;Zf=0;var r=zi(is),o=H.T,h=ie.p;try{ie.p=32>r?32:r,H.T=null,r=Wf,Wf=null;var f=qs,g=is;if(jt=0,Pa=qs=null,is=0,($e&6)!==0)throw Error(a(331));var T=$e;if($e|=4,wy(f.current),by(f,f.current,g,r),$e=T,cl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{ie.p=h,H.T=o,Hy(t,n)}}function Gy(t,n,r){n=jn(r,n),n=Of(t.stateNode,n,2),t=ks(t,n,2),t!==null&&(_r(t,2),Di(t))}function tt(t,n,r){if(t.tag===3)Gy(t,t,r);else for(;n!==null;){if(n.tag===3){Gy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Bs===null||!Bs.has(o))){t=jn(r,t),r=Qp(2),o=ks(n,r,2),o!==null&&(Kp(r,o,n,t),_r(o,2),Di(o));break}}n=n.return}}function id(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new N1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Xf=!0,h.add(r),t=V1.bind(null,t,n,r),n.then(t,t))}function V1(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,at===t&&(Le&r)===r&&(vt===4||vt===3&&(Le&62914560)===Le&&300>Ut()-rc?($e&2)===0&&za(t,0):$f|=r,ja===Le&&(ja=0)),Di(t)}function Qy(t,n){n===0&&(n=ou()),t=Or(t,n),t!==null&&(_r(t,n),Di(t))}function k1(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Qy(t,r)}function L1(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Qy(t,r)}function U1(t,n){return de(t,n)}var fc=null,qa=null,sd=!1,dc=!1,rd=!1,Fs=0;function Di(t){t!==qa&&t.next===null&&(qa===null?fc=qa=t:qa=qa.next=t),dc=!0,sd||(sd=!0,P1())}function cl(t,n){if(!rd&&dc){rd=!0;do for(var r=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-bt(42|t)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,$y(o,f))}else f=Le,f=di(o,o===at?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(r=!0,$y(o,f));o=o.next}while(r);rd=!1}}function j1(){Ky()}function Ky(){dc=sd=!1;var t=0;Fs!==0&&X1()&&(t=Fs);for(var n=Ut(),r=null,o=fc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,r===null?fc=h:r.next=h,h===null&&(qa=r)):(r=o,(t!==0||(f&3)!==0)&&(dc=!0)),o=h}jt!==0&&jt!==5||cl(t),Fs!==0&&(Fs=0)}function Yy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-bt(f),T=1<<g,C=h[g];C===-1?((T&r)===0||(T&o)!==0)&&(h[g]=Mh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=at,r=Le,r=di(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(et===2||et===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ye(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&ye(o),zi(r)){case 2:case 8:r=Eo;break;case 32:r=vs;break;case 268435456:r=nu;break;default:r=vs}return o=Xy.bind(null,t),r=de(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&ye(o),t.callbackPriority=2,t.callbackNode=null,2}function Xy(t,n){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(hc()&&t.callbackNode!==r)return null;var o=Le;return o=di(t,t===at?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Iy(t,o,n),Yy(t,Ut()),t.callbackNode!=null&&t.callbackNode===r?Xy.bind(null,t):null)}function $y(t,n){if(hc())return null;Iy(t,n,!0)}function P1(){J1(function(){($e&6)!==0?de(vo,j1):Ky()})}function ad(){if(Fs===0){var t=Ra;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Fs=t}return Fs}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fa(""+t)}function Zy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function z1(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Jy((h[qt]||null).action),g=o.submitter;g&&(n=(n=g[qt]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Si("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fs!==0){var C=g?Zy(h,g):new FormData(h);xf(r,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Zy(h,g):new FormData(h),xf(r,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],B1=ld.toLowerCase(),q1=ld[0].toUpperCase()+ld.slice(1);ii(B1,"on"+q1)}ii(Ng,"onAnimationEnd"),ii(Ig,"onAnimationIteration"),ii(Dg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(s1,"onTransitionRun"),ii(r1,"onTransitionStart"),ii(a1,"onTransitionCancel"),ii(Og,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Wy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,P=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,P=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=P;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=C}}}}function Ve(t,n){var r=n[oa];r===void 0&&(r=n[oa]=new Set);var o=t+"__bubble";r.has(o)||(e0(n,t,2,!1),r.add(o))}function ud(t,n,r){var o=0;n&&(o|=4),e0(r,t,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[mc]){t[mc]=!0,Ao.forEach(function(r){r!=="selectionchange"&&(H1.has(r)||ud(r,!1,t),ud(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,ud("selectionchange",!1,n))}}function e0(t,n,r,o){switch(N0(n)){case 2:var h=yb;break;case 8:h=_b;break;default:h=wd}r=h.bind(null,n,r,t),h=void 0,!Sr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function hd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=yi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue e}T=T.parentNode}}o=o.return}ws(function(){var P=f,K=Vn(r),X=[];e:{var B=Mg.get(t);if(B!==void 0){var F=Si,ce=t;switch(t){case"keypress":if(xr(r)===0)break e;case"keydown":case"keyup":F=wu;break;case"focusin":ce="focus",F=Cr;break;case"focusout":ce="blur",F=Cr;break;case"beforeblur":case"afterblur":F=Cr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Ng:case Ig:case Dg:F=_u;break;case Og:F=b;break;case"scroll":case"scrollend":F=ko;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Hi;break;case"toggle":case"beforetoggle":F=Ce}var Ee=(n&4)!==0,rt=!Ee&&(t==="scroll"||t==="scrollend"),L=Ee?B!==null?B+"Capture":null:B;Ee=[];for(var O=P,j;O!==null;){var Y=O;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||L===null||(Y=Wn(O,L),Y!=null&&Ee.push(fl(O,Y,j))),rt)break;O=O.return}0<Ee.length&&(B=new F(B,ce,null,r,K),X.push({event:B,listeners:Ee}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",B&&r!==Oo&&(ce=r.relatedTarget||r.fromElement)&&(yi(ce)||ce[gi]))break e;if((F||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ce=r.relatedTarget||r.toElement,F=P,ce=ce?yi(ce):null,ce!==null&&(rt=c(ce),Ee=ce.tag,ce!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(ce=null)):(F=null,ce=P),F!==ce)){if(Ee=Lo,Y="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Hi,Y="onPointerLeave",L="onPointerEnter",O="pointer"),rt=F==null?B:Tn(F),j=ce==null?B:Tn(ce),B=new Ee(Y,O+"leave",F,r,K),B.target=rt,B.relatedTarget=j,Y=null,yi(K)===P&&(Ee=new Ee(L,O+"enter",ce,r,K),Ee.target=j,Ee.relatedTarget=rt,Y=Ee),rt=Y,F&&ce)t:{for(Ee=F1,L=F,O=ce,j=0,Y=L;Y;Y=Ee(Y))j++;Y=0;for(var _e=O;_e;_e=Ee(_e))Y++;for(;0<j-Y;)L=Ee(L),j--;for(;0<Y-j;)O=Ee(O),Y--;for(;j--;){if(L===O||O!==null&&L===O.alternate){Ee=L;break t}L=Ee(L),O=Ee(O)}Ee=null}else Ee=null;F!==null&&t0(X,B,F,Ee,!1),ce!==null&&rt!==null&&t0(X,rt,ce,Ee,!0)}}e:{if(B=P?Tn(P):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Qe=_g;else if(pg(B))if(vg)Qe=t1;else{Qe=WT;var he=ZT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ha(P.elementType)&&(Qe=_g):Qe=e1;if(Qe&&(Qe=Qe(t,P))){yg(X,Qe,r,K);break e}he&&he(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&No(B,"number",B.value)}switch(he=P?Tn(P):window,t){case"focusin":(pg(he)||he.contentEditable==="true")&&(va=he,Ph=P,Bo=null);break;case"focusout":Bo=Ph=va=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Rg(X,r,K);break;case"selectionchange":if(i1)break;case"keydown":case"keyup":Rg(X,r,K)}var Ie;if(Xe)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else _a?Nr(t,r)&&(Ue="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ri&&r.locale!=="ko"&&(_a||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&_a&&(Ie=Vo()):(Ai=K,Mo="value"in Ai?Ai.value:Ai.textContent,_a=!0)),he=gc(P,Ue),0<he.length&&(Ue=new xi(Ue,t,null,r,K),X.push({event:Ue,listeners:he}),Ie?Ue.data=Ie:(Ie=ya(r),Ie!==null&&(Ue.data=Ie)))),(Ie=Ln?YT(t,r):XT(t,r))&&(Ue=gc(P,"onBeforeInput"),0<Ue.length&&(he=new xi("onBeforeInput","beforeinput",null,r,K),X.push({event:he,listeners:Ue}),he.data=Ie)),z1(X,t,P,r,K)}Wy(X,n)})}function fl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function gc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(t,r),h!=null&&o.unshift(fl(t,h,f)),h=Wn(t,n),h!=null&&o.push(fl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function F1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function t0(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var T=r,C=T.alternate,P=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||P===null||(C=P,h?(P=Wn(r,f),P!=null&&g.unshift(fl(r,P,C))):h||(P=Wn(r,f),P!=null&&g.push(fl(r,P,C)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var G1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function n0(t){return(typeof t=="string"?t:""+t).replace(G1,`
`).replace(Q1,"")}function i0(t,n){return n=n0(n),n0(t)===n}function st(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(t,""+o);break;case"className":bn(t,"class",o);break;case"tabIndex":bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,r,o);break;case"style":Do(t,o,f);break;case"data":if(n!=="object"){bn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=fa(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=fa(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Zn);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=fa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ua(t,"popover",o);break;case"xlinkActuate":It(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":It(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":It(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":It(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":It(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":It(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":It(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":It(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":It(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gu.get(r)||r,ua(t,r,o))}}function fd(t,n,r,o,h,f){switch(r){case"style":Do(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?fn(t,o):(typeof o=="number"||typeof o=="bigint")&&fn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Zn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[qt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):ua(t,r,o)}}}function Jt(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,g,r,null)}}h&&st(t,n,"srcSet",r.srcSet,r,null),o&&st(t,n,"src",r.src,r,null);return;case"input":Ve("invalid",t);var T=f=g=h=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var K=r[o];if(K!=null)switch(o){case"name":h=K;break;case"type":g=K;break;case"checked":C=K;break;case"defaultChecked":P=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:st(t,n,o,K,r,null)}}fu(t,f,T,C,P,g,h,!1);return;case"select":Ve("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:st(t,n,h,T,r,null)}n=f,r=g,t.multiple=!!o,n!=null?Ts(t,!!o,n,!1):r!=null&&Ts(t,!!o,r,!0);return;case"textarea":Ve("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:st(t,n,g,T,r,null)}bs(t,o,h,f);return;case"option":for(C in r)r.hasOwnProperty(C)&&(o=r[C],o!=null)&&(C==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":st(t,n,C,o,r,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<hl.length;o++)Ve(hl[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,P,o,r,null)}return;default:if(ha(n)){for(K in r)r.hasOwnProperty(K)&&(o=r[K],o!==void 0&&fd(t,n,K,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&st(t,n,T,o,r,null))}function K1(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,P=null,K=null;for(F in r){var X=r[F];if(r.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(F)||st(t,n,F,null,o,X)}}for(var B in o){var F=o[B];if(X=r[B],o.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":K=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&st(t,n,B,F,o,X)}}ca(t,g,T,C,P,K,f,h);return;case"select":F=g=T=B=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||st(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=r[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&st(t,n,h,f,o,C)}n=T,r=g,o=F,B!=null?Ts(t,!!r,B,!1):!!o!=!!r&&(n!=null?Ts(t,!!r,n,!0):Ts(t,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:st(t,n,T,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,g,h,o,f)}du(t,B,F);return;case"option":for(var ce in r)B=r[ce],r.hasOwnProperty(ce)&&B!=null&&!o.hasOwnProperty(ce)&&(ce==="selected"?t.selected=!1:st(t,n,ce,null,o,B));for(C in o)B=o[C],F=r[C],o.hasOwnProperty(C)&&B!==F&&(B!=null||F!=null)&&(C==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":st(t,n,C,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)B=r[Ee],r.hasOwnProperty(Ee)&&B!=null&&!o.hasOwnProperty(Ee)&&st(t,n,Ee,null,o,B);for(P in o)if(B=o[P],F=r[P],o.hasOwnProperty(P)&&B!==F&&(B!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:st(t,n,P,B,o,F)}return;default:if(ha(n)){for(var rt in r)B=r[rt],r.hasOwnProperty(rt)&&B!==void 0&&!o.hasOwnProperty(rt)&&fd(t,n,rt,void 0,o,B);for(K in o)B=o[K],F=r[K],!o.hasOwnProperty(K)||B===F||B===void 0&&F===void 0||fd(t,n,K,B,o,F);return}}for(var L in r)B=r[L],r.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&st(t,n,L,null,o,B);for(X in o)B=o[X],F=r[X],!o.hasOwnProperty(X)||B===F||B==null&&F==null||st(t,n,X,B,o,F)}function s0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&s0(g)){for(g=0,T=h.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>T)break;var K=C.transferSize,X=C.initiatorType;K&&s0(X)&&(C=C.responseEnd,g+=K*(C<T?1:(T-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var dd=null,md=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function r0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a0(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function gd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function X1(){var t=window.event;return t&&t.type==="popstate"?t===pd?!1:(pd=t,!0):(pd=null,!1)}var o0=typeof setTimeout=="function"?setTimeout:void 0,$1=typeof clearTimeout=="function"?clearTimeout:void 0,l0=typeof Promise=="function"?Promise:void 0,J1=typeof queueMicrotask=="function"?queueMicrotask:typeof l0<"u"?function(t){return l0.resolve(null).then(t).catch(Z1)}:o0;function Z1(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function u0(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Qa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")dl(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,dl(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[pi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&dl(t.ownerDocument.body);r=h}while(r);Qa(n)}function c0(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function yd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":yd(r),la(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function W1(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[pi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function eb(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function h0(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Hn(t.nextSibling),t===null))return null;return t}function _d(t){return t.data==="$?"||t.data==="$~"}function vd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tb(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Hn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ed=null;function f0(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Hn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function d0(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function m0(t,n,r){switch(n=pc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function dl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);la(t)}var Fn=new Map,g0=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ss=ie.d;ie.d={f:nb,r:ib,D:sb,C:rb,L:ab,m:ob,X:ub,S:lb,M:cb};function nb(){var t=ss.f(),n=lc();return t||n}function ib(t){var n=Mn(t);n!==null&&n.tag===5&&n.type==="form"?Op(n):ss.r(t)}var Ha=typeof document>"u"?null:document;function p0(t,n,r){var o=Ha;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),g0.has(h)||(g0.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Jt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function sb(t){ss.D(t),p0("dns-prefetch",t,null)}function rb(t,n){ss.C(t,n),p0("preconnect",t,n)}function ab(t,n,r){ss.L(t,n,r);var o=Ha;if(o&&t&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(t)+'"]';var f=h;switch(n){case"style":f=Fa(t);break;case"script":f=Ga(t)}Fn.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Fn.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(ml(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),Jt(n,"link",t),Nt(n),o.head.appendChild(n)))}}function ob(t,n){ss.m(t,n);var r=Ha;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(t)}if(!Fn.has(f)&&(t=w({rel:"modulepreload",href:t},n),Fn.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(gl(f)))return}o=r.createElement("link"),Jt(o,"link",t),Nt(o),r.head.appendChild(o)}}}function lb(t,n,r){ss.S(t,n,r);var o=Ha;if(o&&t){var h=_i(o).hoistableStyles,f=Fa(t);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(ml(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Fn.get(f))&&Td(t,r);var C=g=o.createElement("link");Nt(C),Jt(C,"link",t),C._p=new Promise(function(P,K){C.onload=P,C.onerror=K}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function ub(t,n){ss.X(t,n);var r=Ha;if(r&&t){var o=_i(r).hoistableScripts,h=Ga(t),f=o.get(h);f||(f=r.querySelector(gl(h)),f||(t=w({src:t,async:!0},n),(n=Fn.get(h))&&bd(t,n),f=r.createElement("script"),Nt(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cb(t,n){ss.M(t,n);var r=Ha;if(r&&t){var o=_i(r).hoistableScripts,h=Ga(t),f=o.get(h);f||(f=r.querySelector(gl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=Fn.get(h))&&bd(t,n),f=r.createElement("script"),Nt(f),Jt(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function y0(t,n,r,o){var h=(h=Re.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Fa(r.href),r=_i(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Fa(r.href);var f=_i(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(ml(t)))&&!f._p&&(g.instance=f,g.state.loading=5),Fn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Fn.set(t,r),f||hb(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(r),r=_i(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fa(t){return'href="'+hn(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function _0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function hb(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Jt(n,"link",r),Nt(n),t.head.appendChild(n))}function Ga(t){return'[src="'+hn(t)+'"]'}function gl(t){return"script[async]"+t}function v0(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return n.instance=o,Nt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Nt(o),Jt(o,"style",h),_c(o,r.precedence,t),n.instance=o;case"stylesheet":h=Fa(r.href);var f=t.querySelector(ml(h));if(f)return n.state.loading|=4,n.instance=f,Nt(f),f;o=_0(r),(h=Fn.get(h))&&Td(o,h),f=(t.ownerDocument||t).createElement("link"),Nt(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Jt(f,"link",o),n.state.loading|=4,_c(f,r.precedence,t),n.instance=f;case"script":return f=Ga(r.src),(h=t.querySelector(gl(f)))?(n.instance=h,Nt(h),h):(o=r,(h=Fn.get(f))&&(o=w({},r),bd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Nt(h),Jt(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,r.precedence,t));return n.instance}function _c(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Td(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function E0(t,n,r){if(vc===null){var o=new Map,h=vc=new Map;h.set(r,o)}else h=vc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[pi]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function T0(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function fb(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function db(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Fa(o.href),f=n.querySelector(ml(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Nt(f);return}f=n.ownerDocument||n,o=_0(o),(h=Fn.get(h))&&Td(o,h),f=f.createElement("link"),Nt(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Jt(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ad=0;function mb(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Ad===0&&(Ad=62500*Y1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Ad?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(gb,t),Tc=null,Ec.call(t))}function gb(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var o=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var pl={$$typeof:pe,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function pb(t,n,r,o,h,f,g,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function A0(t,n,r,o,h,f,g,T,C,P,K,X){return t=new pb(t,n,r,g,C,P,K,X,T),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),t.current=f,f.stateNode=t,n=tf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},af(f),t}function S0(t){return t?(t=ba,t):ba}function w0(t,n,r,o,h,f){h=S0(h),o.context===null?o.context=h:o.pendingContext=h,o=Vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=ks(t,o,n),r!==null&&(yn(r,t,n),Yo(r,t,n))}function x0(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Sd(t,n){x0(t,n),(t=t.alternate)&&x0(t,n)}function R0(t){if(t.tag===13||t.tag===31){var n=Or(t,67108864);n!==null&&yn(n,t,67108864),Sd(t,67108864)}}function C0(t){if(t.tag===13||t.tag===31){var n=Nn();n=Er(n);var r=Or(t,n);r!==null&&yn(r,t,n),Sd(t,n)}}var Ac=!0;function yb(t,n,r,o){var h=H.T;H.T=null;var f=ie.p;try{ie.p=2,wd(t,n,r,o)}finally{ie.p=f,H.T=h}}function _b(t,n,r,o){var h=H.T;H.T=null;var f=ie.p;try{ie.p=8,wd(t,n,r,o)}finally{ie.p=f,H.T=h}}function wd(t,n,r,o){if(Ac){var h=xd(o);if(h===null)hd(t,n,o,Sc,r),I0(t,o);else if(Eb(h,t,n,r,o))o.stopPropagation();else if(I0(t,o),n&4&&-1<vb.indexOf(t)){for(;h!==null;){var f=Mn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=fi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-bt(g);T.entanglements[1]|=C,g&=~C}Di(f),($e&6)===0&&(ac=Ut()+500,cl(0))}}break;case 31:case 13:T=Or(f,2),T!==null&&yn(T,f,2),lc(),Sd(f,2)}if(f=xd(o),f===null&&hd(t,n,o,Sc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(t,n,o,null,r)}}function xd(t){return t=Vn(t),Rd(t)}var Sc=null;function Rd(t){if(Sc=null,t=yi(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=p(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function N0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case vo:return 2;case Eo:return 8;case vs:case Oh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Cd=!1,Qs=null,Ks=null,Ys=null,yl=new Map,_l=new Map,Xs=[],vb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I0(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(n.pointerId)}}function vl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Mn(n),n!==null&&R0(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function Eb(t,n,r,o,h){switch(n){case"focusin":return Qs=vl(Qs,t,n,r,o,h),!0;case"dragenter":return Ks=vl(Ks,t,n,r,o,h),!0;case"mouseover":return Ys=vl(Ys,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,t,n,r,o,h)),!0}return!1}function D0(t){var n=yi(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,$n(t.priority,function(){C0(r)});return}}else if(n===31){if(n=p(r),n!==null){t.blockedOn=n,$n(t.priority,function(){C0(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=xd(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Oo=o,r.target.dispatchEvent(o),Oo=null}else return n=Mn(r),n!==null&&R0(n),t.blockedOn=r,!1;n.shift()}return!0}function O0(t,n,r){wc(t)&&r.delete(n)}function Tb(){Cd=!1,Qs!==null&&wc(Qs)&&(Qs=null),Ks!==null&&wc(Ks)&&(Ks=null),Ys!==null&&wc(Ys)&&(Ys=null),yl.forEach(O0),_l.forEach(O0)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Tb)))}var Rc=null;function M0(t){Rc!==t&&(Rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Rd(o||r)===null)continue;break}var f=Mn(r);f!==null&&(t.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Qa(t){function n(C){return xc(C,t)}Qs!==null&&xc(Qs,t),Ks!==null&&xc(Ks,t),Ys!==null&&xc(Ys,t),yl.forEach(n),_l.forEach(n);for(var r=0;r<Xs.length;r++){var o=Xs[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xs.length&&(r=Xs[0],r.blockedOn===null);)D0(r),r.blockedOn===null&&Xs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[qt]||null;if(typeof f=="function")g||M0(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qt]||null)T=g.formAction;else if(Rd(h)!==null)continue}else T=g.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),M0(r)}}}function V0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Nd(t){this._internalRoot=t}Cc.prototype.render=Nd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Nn();w0(r,o,t,n,null,null)},Cc.prototype.unmount=Nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;w0(t.current,2,null,t,null,null),lc(),n[gi]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Xs.length&&n!==0&&n<Xs[r].priority;r++);Xs.splice(r,0,t),r===0&&D0(t)}};var k0=e.version;if(k0!=="19.2.4")throw Error(a(527,k0,"19.2.4"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var bb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Yn=Nc.inject(bb),Qt=Nc}catch{}}return Tl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=qp,f=Hp,g=Fp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A0(t,1,!1,null,null,r,o,null,h,f,g,V0),t[gi]=n.current,cd(t),new Nd(n)},Tl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=qp,g=Hp,T=Fp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=A0(t,1,!0,n,r??null,o,h,C,f,g,T,V0),n.context=S0(null),r=n.current,o=Nn(),o=Er(o),h=Vs(o),h.callback=null,ks(r,h,o),r=o,n.current.lanes=r,_r(n,r),Di(n),t[gi]=n.current,cd(t),new Cc(n)},Tl.version="19.2.4",Tl}var G0;function Ob(){if(G0)return Od.exports;G0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Od.exports=Db(),Od.exports}var Mb=Ob();const Vb=()=>{};var Q0={};const bv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},kb=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Av={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,y=v?s[l+2]:0,A=c>>2,w=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,G=y&63;v||(G=64,d||(x=64)),a.push(i[A],i[w],i[x],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(bv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kb(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||w==null)throw new Lb;const x=c<<2|p>>4;if(a.push(x),y!==64){const G=p<<4&240|y>>2;if(a.push(G),w!==64){const Z=y<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Lb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ub=function(s){const e=bv(s);return Av.encodeByteArray(e,!0)},Qc=function(s){return Ub(s).replace(/\./g,"")},Sv=function(s){try{return Av.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pb=()=>jb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof Q0>"u")return;const s=Q0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Bb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Sv(s[1]);return e&&JSON.parse(e)},fh=()=>{try{return Vb()||Pb()||zb()||Bb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},wv=s=>fh()?.emulatorHosts?.[s],qb=s=>{const e=wv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},xv=()=>fh()?.config,Rv=s=>fh()?.[`_${s}`];class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function co(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(s){return(await fetch(s,{credentials:"include"})).ok}function Fb(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const Il={};function Gb(){const s={prod:[],emulator:[]};for(const e of Object.keys(Il))Il[e]?s.emulator.push(e):s.prod.push(e);return s}function Qb(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let K0=!1;function Nv(s,e){if(typeof window>"u"||typeof document>"u"||!co(window.location.host)||Il[s]===e||Il[s]||K0)return;Il[s]=e;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=Gb().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{K0=!0,d()},x}function A(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=Qb(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),ee=i("learnmore"),te=document.getElementById(ee)||document.createElement("a"),W=i("preprendIcon"),fe=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const pe=x.element;p(pe),A(te,ee);const Oe=y();v(fe,W),pe.append(fe,Z,te,Oe),document.body.appendChild(pe)}c?(Z.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function Yb(){const s=fh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const s=on();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eA(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const nA="FirebaseError";class gs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=nA,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?iA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new gs(l,p,a)}}function iA(s,e){return s.replace(sA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const sA=/\{\$([^}]+)}/g;function rA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Zr(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(Y0(c)&&Y0(d)){if(!Zr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Y0(s){return s!==null&&typeof s=="object"}function Ql(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function aA(s,e){const i=new oA(s,e);return i.subscribe.bind(i)}class oA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function en(s){return s&&s._delegate?s._delegate:s}class Wr{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qr="[DEFAULT]";class uA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Hb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(s){return s===Qr?void 0:s}function hA(s){return s.instantiationMode==="EAGER"}class fA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var je;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(je||(je={}));const dA={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},mA=je.INFO,gA={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},pA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=gA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bm{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const yA=(s,e)=>e.some(i=>s instanceof i);let X0,$0;function _A(){return X0||(X0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return $0||($0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,Xd=new WeakMap,Dv=new WeakMap,Ud=new WeakMap,Am=new WeakMap;function EA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(nr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Iv.set(i,s)}).catch(()=>{}),Am.set(e,s),e}function TA(s){if(Xd.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,e)}let $d={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Xd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Dv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return nr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bA(s){$d=s($d)}function AA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(jd(this),e,...i);return Dv.set(a,e.sort?e.sort():[e]),nr(a)}:vA().includes(s)?function(...e){return s.apply(jd(this),e),nr(Iv.get(this))}:function(...e){return nr(s.apply(jd(this),e))}}function SA(s){return typeof s=="function"?AA(s):(s instanceof IDBTransaction&&TA(s),yA(s,_A())?new Proxy(s,$d):s)}function nr(s){if(s instanceof IDBRequest)return EA(s);if(Ud.has(s))return Ud.get(s);const e=SA(s);return e!==s&&(Ud.set(s,e),Am.set(e,s)),e}const jd=s=>Am.get(s);function wA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=nr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(nr(d.result),v.oldVersion,v.newVersion,nr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const xA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],Pd=new Map;function J0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=RA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||xA.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&v.done]))[0]};return Pd.set(e,c),c}bA(s=>({...s,get:(e,i,a)=>J0(e,i)||s.get(e,i,a),has:(e,i)=>!!J0(e,i)||s.has(e,i)}));class CA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NA(s){return s.getComponent()?.type==="VERSION"}const Jd="@firebase/app",Z0="0.14.8";const cs=new bm("@firebase/app"),IA="@firebase/app-compat",DA="@firebase/analytics-compat",OA="@firebase/analytics",MA="@firebase/app-check-compat",VA="@firebase/app-check",kA="@firebase/auth",LA="@firebase/auth-compat",UA="@firebase/database",jA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",BA="@firebase/functions-compat",qA="@firebase/installations",HA="@firebase/installations-compat",FA="@firebase/messaging",GA="@firebase/messaging-compat",QA="@firebase/performance",KA="@firebase/performance-compat",YA="@firebase/remote-config",XA="@firebase/remote-config-compat",$A="@firebase/storage",JA="@firebase/storage-compat",ZA="@firebase/firestore",WA="@firebase/ai",eS="@firebase/firestore-compat",tS="firebase",nS="12.9.0";const Zd="[DEFAULT]",iS={[Jd]:"fire-core",[IA]:"fire-core-compat",[OA]:"fire-analytics",[DA]:"fire-analytics-compat",[VA]:"fire-app-check",[MA]:"fire-app-check-compat",[kA]:"fire-auth",[LA]:"fire-auth-compat",[UA]:"fire-rtdb",[jA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[BA]:"fire-fn-compat",[qA]:"fire-iid",[HA]:"fire-iid-compat",[FA]:"fire-fcm",[GA]:"fire-fcm-compat",[QA]:"fire-perf",[KA]:"fire-perf-compat",[YA]:"fire-rc",[XA]:"fire-rc-compat",[$A]:"fire-gcs",[JA]:"fire-gcs-compat",[ZA]:"fire-fst",[eS]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[tS]:"fire-js-all"};const Kc=new Map,sS=new Map,Wd=new Map;function W0(s,e){try{s.container.addComponent(e)}catch(i){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function io(s){const e=s.name;if(Wd.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Wd.set(e,s);for(const i of Kc.values())W0(i,s);for(const i of sS.values())W0(i,s);return!0}function Sm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function In(s){return s==null?!1:s.settings!==void 0}const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new Gl("app","Firebase",rS);class aS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const ho=nS;function Ov(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Zd,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ir.create("bad-app-name",{appName:String(l)});if(i||(i=xv()),!i)throw ir.create("no-options");const c=Kc.get(l);if(c){if(Zr(i,c.options)&&Zr(a,c.config))return c;throw ir.create("duplicate-app",{appName:l})}const d=new fA(l);for(const v of Wd.values())d.addComponent(v);const p=new aS(i,a,d);return Kc.set(l,p),p}function Mv(s=Zd){const e=Kc.get(s);if(!e&&s===Zd&&xv())return Ov();if(!e)throw ir.create("no-app",{appName:s});return e}function sr(s,e,i){let a=iS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}io(new Wr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const oS="firebase-heartbeat-database",lS=1,Ll="firebase-heartbeat-store";let zd=null;function Vv(){return zd||(zd=wA(oS,lS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),zd}async function uS(s){try{const i=(await Vv()).transaction(Ll),a=await i.objectStore(Ll).get(kv(s));return await i.done,a}catch(e){if(e instanceof gs)cs.warn(e.message);else{const i=ir.create("idb-get",{originalErrorMessage:e?.message});cs.warn(i.message)}}}async function e_(s,e){try{const a=(await Vv()).transaction(Ll,"readwrite");await a.objectStore(Ll).put(e,kv(s)),await a.done}catch(i){if(i instanceof gs)cs.warn(i.message);else{const a=ir.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function kv(s){return`${s.name}!${s.options.appId}`}const cS=1024,hS=30;class fS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=t_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hS){const l=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=t_(),{heartbeatsToSend:i,unsentEntries:a}=dS(this._heartbeatsCache.heartbeats),l=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return cs.warn(e),""}}}function t_(){return new Date().toISOString().substring(0,10)}function dS(s,e=cS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),n_(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),n_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eA()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return e_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function n_(s){return Qc(JSON.stringify({version:2,heartbeats:s})).length}function gS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function pS(s){io(new Wr("platform-logger",e=>new CA(e),"PRIVATE")),io(new Wr("heartbeat",e=>new fS(e),"PRIVATE")),sr(Jd,Z0,s),sr(Jd,Z0,"esm2020"),sr("fire-js","")}pS("");var yS="firebase",_S="12.9.0";sr(yS,_S,"app");function Lv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vS=Lv,Uv=new Gl("auth","Firebase",Lv());const Yc=new bm("@firebase/auth");function ES(s,...e){Yc.logLevel<=je.WARN&&Yc.warn(`Auth (${ho}): ${s}`,...e)}function Lc(s,...e){Yc.logLevel<=je.ERROR&&Yc.error(`Auth (${ho}): ${s}`,...e)}function Ui(s,...e){throw xm(s,...e)}function oi(s,...e){return xm(s,...e)}function wm(s,e,i){const a={...vS(),[e]:i};return new Gl("auth","Firebase",a).create(e,{appName:s.name})}function us(s){return wm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TS(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Ui(s,"argument-error"),wm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Uv.create(s,...e)}function Ae(s,e,...i){if(!s)throw xm(e,...i)}function os(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lc(e),new Error(e)}function hs(s,e){s||os(e)}function em(){return typeof self<"u"&&self.location?.href||""}function bS(){return i_()==="http:"||i_()==="https:"}function i_(){return typeof self<"u"&&self.location?.protocol||null}function AS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bS()||$b()||"connection"in navigator)?navigator.onLine:!0}function SS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Kl{constructor(e,i){this.shortDelay=e,this.longDelay=i,hs(i>e,"Short delay should be less than long delay!"),this.isMobile=Kb()||Jb()}get(){return AS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,e){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class jv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RS=new Kl(3e4,6e4);function Yl(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function fo(s,e,i,a,l={}){return Pv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ql({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:v,...c};return Xb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&co(s.emulatorConfig.host)&&(y.credentials="include"),jv.fetch()(await zv(s,s.config.apiHost,i,p),y)})}async function Pv(s,e,i){s._canInitEmulator=!1;const a={...wS,...e};try{const l=new CS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ic(s,"user-disabled",d);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw wm(s,A,y);Ui(s,A)}}catch(l){if(l instanceof gs)throw l;Ui(s,"network-request-failed",{message:String(l)})}}async function Cm(s,e,i,a,l={}){const c=await fo(s,e,i,a,l);return"mfaPendingCredential"in c&&Ui(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function zv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return xS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class CS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),RS.get())})}}function Ic(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=oi(s,e,a);return l.customData._tokenResponse=i,l}async function NS(s,e){return fo(s,"POST","/v1/accounts:delete",e)}async function Xc(s,e){return fo(s,"POST","/v1/accounts:lookup",e)}function Dl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IS(s,e=!1){const i=en(s),a=await i.getIdToken(e),l=Nm(a);Ae(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(Bd(l.auth_time)),issuedAtTime:Dl(Bd(l.iat)),expirationTime:Dl(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(s){return Number(s)*1e3}function Nm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Sv(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function s_(s){const e=Nm(s);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ul(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof gs&&DS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function DS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class OS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(s){const e=s.auth,i=await s.getIdToken(),a=await Ul(s,Xc(e,{idToken:i}));Ae(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Bv(l.providerUserInfo):[],d=VS(s.providerData,c),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,y=p?v:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function MS(s){const e=en(s);await $c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Bv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function kS(s,e){const i=await Pv(s,{},async()=>{const a=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await zv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&co(s.emulatorConfig.host)&&(v.credentials="include"),jv.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function LS(s,e){return fo(s,"POST","/v2/accounts:revokeToken",Yl(s,e))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const i=s_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await kS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Ae(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Ae(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return os("not implemented")}}function Js(s,e){Ae(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new OS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Ae(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return IS(this,e)}reload(){return MS(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(us(this.auth));const e=await this.getIdToken();return await Ul(this,NS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:x,isAnonymous:G,providerData:Z,stsTokenManager:ee}=i;Ae(w&&ee,e,"internal-error");const te=Ja.fromJSON(this.name,ee);Ae(typeof w=="string",e,"internal-error"),Js(a,e.name),Js(l,e.name),Ae(typeof x=="boolean",e,"internal-error"),Ae(typeof G=="boolean",e,"internal-error"),Js(c,e.name),Js(d,e.name),Js(p,e.name),Js(v,e.name),Js(y,e.name),Js(A,e.name);const W=new ai({uid:w,auth:e,email:l,emailVerified:x,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:te,createdAt:y,lastLoginAt:A});return Z&&Array.isArray(Z)&&(W.providerData=Z.map(fe=>({...fe}))),v&&(W._redirectEventId=v),W}static async _fromIdTokenResponse(e,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ai({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Ae(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Bv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ja;p.updateFromIdToken(a);const v=new ai({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const r_=new Map;function ls(s){hs(s instanceof Function,"Expected a class definition");let e=r_.get(s);return e?(hs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,r_.set(s,e),e)}class qv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}qv.type="NONE";const a_=qv;function Uc(s,e,i){return`firebase:${s}:${e}:${i}`}class Za{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Xc(this.auth,{idToken:e}).catch(()=>{});return i?ai._fromGetAccountInfoResponse(this.auth,i,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Za(ls(a_),e,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ls(a_);const d=Uc(a,e.config.apiKey,e.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const x=await Xc(e,{idToken:A}).catch(()=>{});if(!x)break;w=await ai._fromGetAccountInfoResponse(e,x,A)}else w=ai._fromJSON(e,A);y!==c&&(p=w),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Za(c,e,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,e,a))}}function o_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yv(e))return"Blackberry";if(Xv(e))return"Webos";if(Fv(e))return"Safari";if((e.includes("chrome/")||Gv(e))&&!e.includes("edge/"))return"Chrome";if(Kv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Hv(s=on()){return/firefox\//i.test(s)}function Fv(s=on()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Gv(s=on()){return/crios\//i.test(s)}function Qv(s=on()){return/iemobile/i.test(s)}function Kv(s=on()){return/android/i.test(s)}function Yv(s=on()){return/blackberry/i.test(s)}function Xv(s=on()){return/webos/i.test(s)}function Im(s=on()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function US(s=on()){return Im(s)&&!!window.navigator?.standalone}function jS(){return Zb()&&document.documentMode===10}function $v(s=on()){return Im(s)||Kv(s)||Xv(s)||Yv(s)||/windows phone/i.test(s)||Qv(s)}function Jv(s,e=[]){let i;switch(s){case"Browser":i=o_(on());break;case"Worker":i=`${o_(on())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ho}/${a}`}class PS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,p)=>{try{const v=e(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function zS(s,e={}){return fo(s,"GET","/v2/passwordPolicy",Yl(s,e))}const BS=6;class qS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??BS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class HS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new l_(this),this.idTokenSubscription=new l_(this),this.beforeStateQueue=new PS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Uv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Xc(this,{idToken:e}),a=await ai._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(In(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await $c(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=SS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(us(this));const i=e?en(e):null;return i&&Ae(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(us(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(us(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zS(this),i=new qS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await LS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ls(e)||this._popupRedirectResolver;Ae(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=e.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=e.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ES(`Error while retrieving App Check token: ${e.error}`),e?.token}}function mo(s){return en(s)}class l_{constructor(e){this.auth=e,this.observer=null,this.addObserver=aA(i=>this.observer=i)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FS(s){Dm=s}function GS(s){return Dm.loadJS(s)}function QS(){return Dm.gapiScript}function KS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function YS(s,e){const i=Sm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Zr(c,e??{}))return l;Ui(l,"already-initialized")}return i.initialize({options:e})}function XS(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function $S(s,e,i){const a=mo(s);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Zv(e),{host:d,port:p}=JS(e),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(Zr(y,a.config.emulator)&&Zr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,co(d)?(Cv(`${c}//${d}${v}`),Nv("Auth",!0)):ZS()}function Zv(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function JS(s){const e=Zv(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:u_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:u_(d)}}}function u_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function ZS(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Wv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(e){return os("not implemented")}_linkToIdToken(e,i){return os("not implemented")}_getReauthenticationResolver(e){return os("not implemented")}}async function Wa(s,e){return Cm(s,"POST","/v1/accounts:signInWithIdp",Yl(s,e))}const WS="http://localhost";class ea extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Ui("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ea(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Wa(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Wa(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Wa(e,i)}buildRequest(){const e={requestUri:WS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}class Om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Xl extends Om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zs extends Xl{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";class as extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ea._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return as.credential(i,a)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";class Ws extends Xl{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";class er extends Xl{constructor(){super("twitter.com")}static credential(e,i){return ea._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function e2(s,e){return Cm(s,"POST","/v1/accounts:signUp",Yl(s,e))}class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await ai._fromIdTokenResponse(e,a,l),d=c_(a);return new fs({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=c_(a);return new fs({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function c_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function t2(s){if(In(s.app))return Promise.reject(us(s));const e=mo(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new fs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await e2(e,{returnSecureToken:!0}),a=await fs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Jc extends gs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Jc(e,i,a,l)}}function eE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(s,c,e,a):c})}async function n2(s,e,i=!1){const a=await Ul(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return fs._forOperation(s,"link",a)}async function i2(s,e,i=!1){const{auth:a}=s;if(In(a.app))return Promise.reject(us(a));const l="reauthenticate";try{const c=await Ul(s,eE(a,l,e,s),i);Ae(c.idToken,a,"internal-error");const d=Nm(c.idToken);Ae(d,a,"internal-error");const{sub:p}=d;return Ae(s.uid===p,a,"user-mismatch"),fs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ui(a,"user-mismatch"),c}}async function s2(s,e,i=!1){if(In(s.app))return Promise.reject(us(s));const a="signIn",l=await eE(s,a,e),c=await fs._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function r2(s,e){return Cm(s,"POST","/v1/accounts:signInWithCustomToken",Yl(s,e))}async function a2(s,e){if(In(s.app))return Promise.reject(us(s));const i=mo(s),a=await r2(i,{token:e,returnSecureToken:!0}),l=await fs._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function o2(s,e,i,a){return en(s).onIdTokenChanged(e,i,a)}function l2(s,e,i){return en(s).beforeAuthStateChanged(e,i)}function u2(s,e,i,a){return en(s).onAuthStateChanged(e,i,a)}function c2(s){return en(s).signOut()}const Zc="__sak";class tE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const h2=1e3,f2=10;class nE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$v(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);jS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,f2):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},h2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}nE.type="LOCAL";const d2=nE;class iE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}iE.type="SESSION";const sE=iE;function m2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new dh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await m2(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Mm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class g2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=Mm("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const x=w;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Mi(){return window}function p2(s){Mi().location.href=s}function rE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function y2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _2(){return navigator?.serviceWorker?.controller||null}function v2(){return rE()?self:null}const aE="firebaseLocalStorageDb",E2=1,Wc="firebaseLocalStorage",oE="fbase_key";class $l{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(s,e){return s.transaction([Wc],e?"readwrite":"readonly").objectStore(Wc)}function T2(){const s=indexedDB.deleteDatabase(aE);return new $l(s).toPromise()}function nm(){const s=indexedDB.open(aE,E2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Wc,{keyPath:oE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Wc)?e(a):(a.close(),await T2(),e(await nm()))})})}async function h_(s,e,i){const a=mh(s,!0).put({[oE]:e,value:i});return new $l(a).toPromise()}async function b2(s,e){const i=mh(s,!1).get(e),a=await new $l(i).toPromise();return a===void 0?null:a.value}function f_(s,e){const i=mh(s,!0).delete(e);return new $l(i).toPromise()}const A2=800,S2=3;class lE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>S2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(v2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await y2(),!this.activeServiceWorker)return;this.sender=new g2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await h_(e,Zc,"1"),await f_(e,Zc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>h_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>b2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>f_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=mh(l,!1).getAll();return new $l(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lE.type="LOCAL";const w2=lE;new Kl(3e4,6e4);function uE(s,e){return e?ls(e):(Ae(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Vm extends Wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Wa(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function x2(s){return s2(s.auth,new Vm(s),s.bypassAuthState)}function R2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),i2(i,new Vm(s),s.bypassAuthState)}async function C2(s){const{auth:e,user:i}=s;return Ae(i,e,"internal-error"),n2(i,new Vm(s),s.bypassAuthState)}class cE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x2;case"linkViaPopup":case"linkViaRedirect":return C2;case"reauthViaPopup":case"reauthViaRedirect":return R2;default:Ui(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const N2=new Kl(2e3,1e4);async function I2(s,e,i){if(In(s.app))return Promise.reject(oi(s,"operation-not-supported-in-this-environment"));const a=mo(s);TS(s,e,Om);const l=uE(a,i);return new Kr(a,"signInViaPopup",e,l).executeNotNull()}class Kr extends cE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Kr.currentPopupAction&&Kr.currentPopupAction.cancel(),Kr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,N2.get())};e()}}Kr.currentPopupAction=null;const D2="pendingRedirect",jc=new Map;class O2 extends cE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await M2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M2(s,e){const i=L2(e),a=k2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function V2(s,e){jc.set(s._key(),e)}function k2(s){return ls(s._redirectPersistence)}function L2(s){return Uc(D2,s.config.apiKey,s.name)}async function U2(s,e,i=!1){if(In(s.app))return Promise.reject(us(s));const a=mo(s),l=uE(a,e),d=await new O2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const j2=600*1e3;class P2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!z2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!hE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(oi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j2&&this.cachedEventUids.clear(),this.cachedEventUids.has(d_(e))}saveEventToCache(e){this.cachedEventUids.add(d_(e)),this.lastProcessedEventTime=Date.now()}}function d_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function hE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function z2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(s);default:return!1}}async function B2(s,e={}){return fo(s,"GET","/v1/projects",e)}const q2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H2=/^https?/;async function F2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await B2(s);for(const i of e)try{if(G2(i))return}catch{}Ui(s,"unauthorized-domain")}function G2(s){const e=em(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!H2.test(i))return!1;if(q2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Q2=new Kl(3e4,6e4);function m_(){const s=Mi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function K2(s){return new Promise((e,i)=>{function a(){m_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m_(),i(oi(s,"network-request-failed"))},timeout:Q2.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)a();else{const l=KS("iframefcb");return Mi()[l]=()=>{gapi.load?a():i(oi(s,"network-request-failed"))},GS(`${QS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw Pc=null,e})}let Pc=null;function Y2(s){return Pc=Pc||K2(s),Pc}const X2=new Kl(5e3,15e3),$2="__/auth/iframe",J2="emulator/auth/iframe",Z2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ew(s){const e=s.config;Ae(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Rm(e,J2):`https://${s.config.authDomain}/${$2}`,a={apiKey:e.apiKey,appName:s.name,v:ho},l=W2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ql(a).slice(1)}`}async function tw(s){const e=await Y2(s),i=Mi().gapi;return Ae(i,s,"internal-error"),e.open({where:document.body,url:ew(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Z2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=oi(s,"network-request-failed"),p=Mi().setTimeout(()=>{c(d)},X2.get());function v(){Mi().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const nw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iw=500,sw=600,rw="_blank",aw="http://localhost";class g_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ow(s,e,i,a=iw,l=sw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...nw,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=Gv(y)?rw:i),Hv(y)&&(e=e||aw,v.scrollbars="yes");const A=Object.entries(v).reduce((x,[G,Z])=>`${x}${G}=${Z},`,"");if(US(y)&&p!=="_self")return lw(e||"",p),new g_(null);const w=window.open(e||"",p,A);Ae(w,s,"popup-blocked");try{w.focus()}catch{}return new g_(w)}function lw(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const uw="__/auth/handler",cw="emulator/auth/handler",hw=encodeURIComponent("fac");async function p_(s,e,i,a,l,c){Ae(s.config.authDomain,s,"auth-domain-config-required"),Ae(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ho,eventId:l};if(e instanceof Om){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",rA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof Xl){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const v=await s._getAppCheckToken(),y=v?`#${hw}=${encodeURIComponent(v)}`:"";return`${fw(s)}?${Ql(p).slice(1)}${y}`}function fw({config:s}){return s.emulator?Rm(s,cw):`https://${s.authDomain}/${uw}`}const qd="webStorageSupport";class dw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sE,this._completeRedirectFn=U2,this._overrideRedirectResult=V2}async _openPopup(e,i,a,l){hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await p_(e,i,a,em(),l);return ow(e,c,Mm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await p_(e,i,a,em(),l);return p2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await tw(e),a=new P2(e);return i.register("authEvent",l=>(Ae(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),Ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=F2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return $v()||Fv()||Im()}}const mw=dw;var y_="@firebase/auth",__="1.12.0";class gw{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yw(s){io(new Wr("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jv(s)},y=new HS(a,l,c,v);return XS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),io(new Wr("auth-internal",e=>{const i=mo(e.getProvider("auth").getImmediate());return(a=>new gw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(y_,__,pw(s)),sr(y_,__,"esm2020")}const _w=300,vw=Rv("authIdTokenMaxAge")||_w;let v_=null;const Ew=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>vw)return;const l=i?.token;v_!==l&&(v_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Tw(s=Mv()){const e=Sm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=YS(s,{popupRedirectResolver:mw,persistence:[w2,d2,sE]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Ew(c.toString());l2(i,d,()=>d(i.currentUser)),o2(i,p=>d(p))}}const l=wv("auth");return l&&$S(i,`http://${l}`),i}function bw(){return document.getElementsByTagName("head")?.[0]??document}FS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=oi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",bw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yw("Browser");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rr,fE;(function(){var s;function e(I,S){function N(){}N.prototype=S.prototype,I.F=S.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(V,D,k){for(var R=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)R[Ze-2]=arguments[Ze];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,N){N||(N=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(D=0;D<16;++D)V[D]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=I.g[0],N=I.g[1],D=I.g[2];let k=I.g[3],R;R=S+(k^N&(D^k))+V[0]+3614090360&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(k^N&(D^k))+V[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(k^N&(D^k))+V[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(k^N&(D^k))+V[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(D^k&(N^D))+V[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(N^D))+V[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(N^D))+V[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(N^D))+V[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(N^D^k)+V[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^k)+V[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^k)+V[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^k)+V[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(D^(N|~k))+V[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~k))+V[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~k))+V[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~k))+V[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const N=S-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=N;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<S;)if(V[D++]=I[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)I[S++]=this.g[N]>>>V&255;return I};function c(I,S){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=S(I)}function d(I,S){this.h=S;const N=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==S||(N[D]=k,V=!1)}this.g=N}var p={};function v(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return te(y(-I));const S=[];let N=1;for(let V=0;I>=N;V++)S[V]=I/N|0,N*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return te(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let V=w;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(R))):(V=V.j(N),V=V.add(y(R)))}return V}var w=v(0),x=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(ee(this))return-te(this).m();let I=0,S=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(ee(this))return"-"+te(this).toString(I);const S=y(Math.pow(I,6));var N=this;let V="";for(;;){const D=Oe(N,S).g;N=W(N,D.j(S));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=D,Z(N))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function ee(I){return I.h==-1}s.l=function(I){return I=W(this,I),ee(I)?-1:Z(I)?0:1};function te(I){const S=I.g.length,N=[];for(let V=0;V<S;V++)N[V]=~I.g[V];return new d(N,~I.h).add(x)}s.abs=function(){return ee(this)?te(this):this},s.add=function(I){const S=Math.max(this.g.length,I.g.length),N=[];let V=0;for(let D=0;D<=S;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,N[D]=R<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function W(I,S){return I.add(te(S))}s.j=function(I){if(Z(this)||Z(I))return w;if(ee(this))return ee(I)?te(this).j(te(I)):te(te(this).j(I));if(ee(I))return te(this.j(te(I)));if(this.l(G)<0&&I.l(G)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,N=[];for(var V=0;V<2*S;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,Ze=I.i(D)>>>16,Et=I.i(D)&65535;N[2*V+2*D]+=R*Et,fe(N,2*V+2*D),N[2*V+2*D+1]+=k*Et,fe(N,2*V+2*D+1),N[2*V+2*D+1]+=R*Ze,fe(N,2*V+2*D+1),N[2*V+2*D+2]+=k*Ze,fe(N,2*V+2*D+2)}for(I=0;I<S;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=S;I<2*S;I++)N[I]=0;return new d(N,0)};function fe(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function pe(I,S){this.g=I,this.h=S}function Oe(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new pe(w,w);if(ee(I))return S=Oe(te(I),S),new pe(te(S.g),te(S.h));if(ee(S))return S=Oe(I,te(S)),new pe(te(S.g),S.h);if(I.g.length>30){if(ee(I)||ee(S))throw Error("slowDivide_ only works with positive integers.");for(var N=x,V=S;V.l(I)<=0;)N=He(N),V=He(V);var D=Fe(N,1),k=Fe(V,1);for(V=Fe(V,2),N=Fe(N,2);!Z(V);){var R=k.add(V);R.l(I)<=0&&(D=D.add(N),k=R),V=Fe(V,1),N=Fe(N,1)}return S=W(I,D.j(S)),new pe(D,S)}for(D=w;I.l(S)>=0;){for(N=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(N),R=k.j(S);ee(R)||R.l(I)>0;)N-=V,k=y(N),R=k.j(S);Z(k)&&(k=x),D=D.add(k),I=W(I,R)}return new pe(D,I)}s.B=function(I){return Oe(this,I).h},s.and=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)&I.i(V);return new d(N,this.h&I.h)},s.or=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)|I.i(V);return new d(N,this.h|I.h)},s.xor=function(I){const S=Math.max(this.g.length,I.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)^I.i(V);return new d(N,this.h^I.h)};function He(I){const S=I.g.length+1,N=[];for(let V=0;V<S;V++)N[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(N,I.h)}function Fe(I,S){const N=S>>5;S%=32;const V=I.g.length-N,D=[];for(let k=0;k<V;k++)D[k]=S>0?I.i(k+N)>>>S|I.i(k+N+1)<<32-S:I.i(k+N);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,fE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,rr=d}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,wl,mE,zc,im,gE,pE,yE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var _=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in _))break e;_=_[U]}u=u[u.length-1],b=_[u],m=m(b),m!=b&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&_.push([b,m[b]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function A(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(b,U,q){for(var ne=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ne[Ce-2]=arguments[Ce];return m.prototype[U].apply(b,ne)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const _=Array(m);for(let b=0;b<m;b++)_[b]=u[b];return _}return[]}function Z(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var _=typeof U;if(_=_!="object"?_:U?Array.isArray(U)?"array":_:"null",_=="array"||_=="object"&&typeof U.length=="number"){_=u.length||0;const q=U.length||0;u.length=_+q;for(let ne=0;ne<q;ne++)u[_+ne]=U[ne]}else u.push(U)}}class ee{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){d.setTimeout(()=>{throw u},0)}function W(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,_){const b=pe.get();b.set(m,_),this.h?this.h.next=b:this.g=b,this.h=b}}var pe=new ee(()=>new Oe,u=>u.reset());class Oe{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let He,Fe=!1,I=new fe,S=()=>{const u=Promise.resolve(void 0);He=()=>{u.then(N)}};function N(){for(var u;u=W();){try{u.h.call(u.g)}catch(_){te(_)}var m=pe;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Fe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ze(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Ze,D),Ze.prototype.init=function(u,m){const _=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ze.Z.h.call(this)},Ze.prototype.h=function(){Ze.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Et="closure_listenable_"+(Math.random()*1e6|0),H=0;function ie(u,m,_,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!b,this.ha=U,this.key=++H,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,m,_){for(const b in u)m.call(_,u[b],b,u)}function Ye(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,m){let _,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(_ in b)u[_]=b[_];for(let q=0;q<Q.length;q++)_=Q[q],Object.prototype.hasOwnProperty.call(b,_)&&(u[_]=b[_])}}function oe(u){this.src=u,this.g={},this.h=0}oe.prototype.add=function(u,m,_,b,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ne=Re(u,m,b,U);return ne>-1?(m=u[ne],_||(m.fa=!1)):(m=new ie(m,this.src,q,!!b,U),m.fa=_,u.push(m)),m};function be(u,m){const _=m.type;if(_ in u.g){var b=u.g[_],U=Array.prototype.indexOf.call(b,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(me(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Re(u,m,_,b){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==b)return U}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),gt={};function lt(u,m,_,b,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)lt(u,m[q],_,b,U);return null}return _=ue(_),u&&u[Et]?u.J(m,_,p(b)?!!b.capture:!1,U):ci(u,m,_,!1,b,U)}function ci(u,m,_,b,U,q){if(!m)throw Error("Invalid event type");const ne=p(U)?!!U.capture:!!U;let Ce=z(u);if(Ce||(u[ke]=Ce=new oe(u)),_=Ce.add(m,_,b,ne,q),_.proxy)return _;if(b=ps(),_.proxy=b,b.src=u,b.listener=_,u.addEventListener)k||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(En(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ps(){function u(_){return m.call(u.src,u.listener,_)}const m=pr;return u}function ys(u,m,_,b,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)ys(u,m[q],_,b,U);else b=p(b)?!!b.capture:!!b,_=ue(_),u&&u[Et]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],_=Re(m,_,b,U),_>-1&&(me(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=z(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Re(m,_,b,U)),(_=u>-1?m[u]:null)&&_s(_))}function _s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Et])be(m.i,u);else{var _=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(_,b,u.capture):m.detachEvent?m.detachEvent(En(_),b):m.addListener&&m.removeListener&&m.removeListener(b),(_=z(m))?(be(_,u),_.h==0&&(_.src=null,m[ke]=null)):me(u)}}}function En(u){return u in gt?gt[u]:gt[u]="on"+u}function pr(u,m){if(u.da)u=!0;else{m=new Ze(m,this);const _=u.listener,b=u.ha||u.src;u.fa&&_s(u),u=_.call(b,m)}return u}function z(u){return u=u[ke],u instanceof oe?u:null}var ae="__closure_events_fn_"+(Math.random()*1e9>>>0);function ue(u){return typeof u=="function"?u:(u[ae]||(u[ae]=function(m){return u.handleEvent(m)}),u[ae])}function re(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}w(re,V),re.prototype[Et]=!0,re.prototype.removeEventListener=function(u,m,_,b){ys(this,u,m,_,b)};function de(u,m){var _,b=u.G;if(b)for(_=[];b;b=b.G)_.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),se(m,U)}U=!0;let q,ne;if(_)for(ne=_.length-1;ne>=0;ne--)q=m.g=_[ne],U=ye(q,b,!0,m)&&U;if(q=m.g=u,U=ye(q,b,!0,m)&&U,U=ye(q,b,!1,m)&&U,_)for(ne=0;ne<_.length;ne++)q=m.g=_[ne],U=ye(q,b,!1,m)&&U}re.prototype.N=function(){if(re.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let b=0;b<_.length;b++)me(_[b]);delete u.g[m],u.h--}}this.G=null},re.prototype.J=function(u,m,_,b){return this.i.add(String(u),m,!1,_,b)},re.prototype.K=function(u,m,_,b){return this.i.add(String(u),m,!0,_,b)};function ye(u,m,_,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const ne=m[q];if(ne&&!ne.da&&ne.capture==_){const Ce=ne.listener,At=ne.ha||ne.src;ne.fa&&be(u.i,ne),U=Ce.call(At,b)!==!1&&U}}return U&&!b.defaultPrevented}function yt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function cn(u){u.g=yt(()=>{u.g=null,u.i&&(u.i=!1,cn(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ut extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tt(u){V.call(this),this.h=u,this.g={}}w(Tt,V);var vo=[];function Eo(u){De(u.g,function(m,_){this.g.hasOwnProperty(_)&&_s(m)},u),u.g={}}Tt.prototype.N=function(){Tt.Z.N.call(this),Eo(this)},Tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vs=d.JSON.stringify,Oh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){D.call(this,"d")}w(Qt,D);function On(){D.call(this,"c")}w(On,D);var bt={},ru=null;function aa(){return ru=ru||new re}bt.Ia="serverreachability";function au(u){D.call(this,bt.Ia,u)}w(au,D);function hi(u){const m=aa();de(m,new au(m))}bt.STAT_EVENT="statevent";function yr(u,m){D.call(this,bt.STAT_EVENT,u),this.stat=m}w(yr,D);function Rt(u){const m=aa();de(m,new yr(m,u))}bt.Ja="timingevent";function fi(u,m){D.call(this,bt.Ja,u),this.size=m}w(fi,D);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Mh(u,m,_,b,U,q){u.info(function(){if(u.g)if(q){var ne="",Ce=q.split("&");for(let Xe=0;Xe<Ce.length;Xe++){var At=Ce[Xe].split("=");if(At.length>1){const dt=At[0];At=At[1];const Ln=dt.split("_");ne=Ln.length>=2&&Ln[1]=="type"?ne+(dt+"="+At+"&"):ne+(dt+"=redacted&")}}}else ne=null;else ne=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+_+`
`+ne})}function ou(u,m,_,b,U,q,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+_+`
`+q+" "+ne})}function mi(u,m,_,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,_)+(b?" "+b:"")})}function _r(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var _=q[u];if(!(_.length<2)){var b=_[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return vs(q)}catch{return m}}var vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},To={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function Er(){}w(Er,iu),Er.prototype.g=function(){return new XMLHttpRequest},bo=new Er;function zi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function $n(u,m,_,b){this.j=u,this.i=m,this.l=_,this.S=b||1,this.V=new Tt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ct={},qt={};function gi(u,m,_){u.M=1,u.A=Tr(It(m)),u.u=_,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),pi(u),u.B=It(u.A);var _=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ha(_.i,"t",b),u.C=0,_=u.j.L,u.h=new Jn,u.g=Au(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Ut(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(vo[0]=U.toString()),U=vo);for(let q=0;q<U.length;q++){const ne=lt(_,U[q],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),hi(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ei(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)e:{const Ce=ei(this.g),At=this.g.ya(),Xe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||At==7||(At==8||Xe<=0?hi(3):hi(2)),yi(this);var m=this.g.ca();this.X=m;var _=kh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var q=b;break t}}q=null}if(u=q)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Rt(12),Tn(this),Mn(this);break e}}if(this.R){u=!0;let dt;for(;!this.K&&this.C<_.length;)if(dt=cu(this,_),dt==qt){Ce==4&&(this.m=4,Rt(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Ct){this.m=4,Rt(15),mi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,dt,null),_i(this,dt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||_.length!=0||this.h.h||(this.m=1,Rt(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,_,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(_.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Uo(ne),ne.P=!0,Rt(11))}}else mi(this.i,this.l,_,null),_i(this,_);Ce==4&&Tn(this),this.o&&!this.K&&(Ce==4?vu(this.j,this):(this.o=!1,pi(this)))}else qi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),Tn(this),Mn(this)}}}catch{}};function kh(u){if(!uu(u))return u.g.la();const m=Kt(u.g);if(m==="")return"";let _="";const b=m.length,U=ei(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),Mn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,_+=u.h.i.decode(m[q],{stream:!(U&&q==b-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var _=u.C,b=m.indexOf(`
`,_);return b==-1?qt:(_=Number(m.substring(_,b)),isNaN(_)?Ct:(b+=1,b+_>m.length?qt:(m=m.slice(b,b+_),u.C=b+_,m)))}$n.prototype.cancel=function(){this.K=!0,Tn(this)};function pi(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(_r(this.i,this.B),this.M!=2&&(hi(),Rt(17)),Tn(this),this.m=2,Mn(this)):la(this,this.T-u)};function Mn(u){u.j.I==0||u.K||vu(u.j,u)}function Tn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Eo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ei(_.h,u))){if(!u.L&&Ei(_.h,u)&&_.I==3){try{var b=_.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)pa(_),Rs(_);else break e;Cr(_),Rt(18)}}else _.xa=U[1],0<_.xa-_.K&&U[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=di(y(_.Va,_),6e3));vi(_.h)<=1&&_.ta&&(_.ta=void 0)}else xi(_,11)}else if((u.L||_.g==u)&&pa(_),!R(m))for(U=_.Ba.g.parse(m),m=0;m<U.length;m++){let Xe=U[m];const dt=Xe[0];if(!(dt<=_.K))if(_.K=dt,Xe=Xe[1],_.I==2)if(Xe[0]=="c"){_.M=Xe[1],_.ba=Xe[2];const Ln=Xe[3];Ln!=null&&(_.ka=Ln,_.j.info("VER="+_.ka));const Ri=Xe[4];Ri!=null&&(_.za=Ri,_.j.info("SVER="+_.za));const ti=Xe[5];ti!=null&&typeof ti=="number"&&ti>0&&(b=1.5*ti,_.O=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const ni=u.g;if(ni){const Nr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nr){var q=b.h;q.g||Nr.indexOf("spdy")==-1&&Nr.indexOf("quic")==-1&&Nr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(wo(q,q.h),q.h=null))}if(b.G){const ya=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,We(b.J,b.G,ya))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),b=_;var ne=u;if(b.na=bu(b,b.L?b.ba:null,b.W),ne.L){xo(b.h,ne);var Ce=ne,At=b.O;At&&(Ce.H=At),Ce.D&&(yi(Ce),pi(Ce)),b.g=ne}else yu(b);_.i.length>0&&wi(_)}else Xe[0]!="stop"&&Xe[0]!="close"||xi(_,7);else _.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?xi(_,7):ko(_):Xe[0]!="noop"&&_.l&&_.l.qa(Xe),_.A=0)}}hi(4)}catch{}}var Nt=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function wo(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return G(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const b=u[_].indexOf("=");let U,q=null;b>=0?(U=u[_].substring(0,b),q=u[_].substring(b+1)):U=u[_],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Ht(this,u.j),this.o=u.o,this.g=u.g,Es(this,u.u),this.h=u.h,Co(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Ht(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),Es(this,m[4]),this.h=Ti(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new bs(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(br(m,ca,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(br(m,ca,!0),"@"),u.push(zi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(br(_,_.charAt(0)=="/"?No:fu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",br(_,du)),u.join("")},bn.prototype.resolve=function(u){const m=It(this);let _=!!u.j;_?Ht(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var b=u.h;if(_)Es(m,u.u);else if(_=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let ne=0;ne<U.length;){const Ce=U[ne++];Ce=="."?b&&ne==U.length&&q.push(""):Ce==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&ne==U.length&&q.push("")):(q.push(Ce),b=!0)}b=q.join("/")}else b=U}return _?m.h=b:_=u.i.toString()!=="",_?Co(m,gu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function It(u){return new bn(u)}function Ht(u,m,_){u.j=_?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Es(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,_){m instanceof bs?(u.i=m,fa(u.i,u.l)):(_||(m=br(m,Ts)),u.i=new bs(m,u.l))}function We(u,m,_){u.i.set(m,_)}function Tr(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function br(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,fu=/[#\?:]/g,No=/[#\?]/g,Ts=/[#\?@]/g,du=/#/g;function bs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=bs.prototype,s.add=function(u,m){fn(this),this.i=null,u=As(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function mu(u,m){fn(u),m=As(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Io(u,m){return fn(u),m=As(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(_,b){_.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Do(u,m){fn(u);let _=[];if(typeof m=="string")Io(u,m)&&(_=_.concat(u.g.get(As(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return fn(this),this.i=null,u=As(this,u),Io(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,_){mu(u,m),_.length>0&&(u.i=null,u.g.set(As(u,m),G(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var _=m[b];const U=zi(_);_=Do(this,_);for(let q=0;q<_.length;q++){let ne=U;_[q]!==""&&(ne+="="+zi(_[q])),u.push(ne)}}return this.i=u.join("&")};function gu(u){const m=new bs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function As(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(_,b){const U=b.toLowerCase();b!=U&&(mu(this,b),ha(this,U,_))},u)),u.j=m}function Zn(u,m){const _=new Xn;if(d.Image){const b=new Image;b.onload=A(Vn,_,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Vn,_,"TestLoadImage: error",!1,m,b),b.onabort=A(Vn,_,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Vn,_,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Oo(u,m){const _=new Xn,b=new AbortController,U=setTimeout(()=>{b.abort(),Vn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?Vn(_,"TestPingServer: ok",!0,m):Vn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Vn(_,"TestPingServer: error",!1,m)})}function Vn(u,m,_,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(_)}catch{}}function Ss(){this.g=new nu}function bi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(bi,iu),bi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,m){re.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Ar,re),s=Ar.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ws(this):Wn(this),this.readyState==3&&da(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ws(this))},s.Na=function(u){this.g&&(this.response=u,ws(this))},s.ga=function(){this.g&&ws(this)};function ws(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function kn(u){let m="";return De(u,function(_,b){m+=b,m+=":",m+=_,m+=`\r
`}),m}function Sr(u,m,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=kn(_),typeof u=="string"?_!=null&&zi(_):We(u,m,_))}function nt(u){re.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,re);var Ai=/^https?$/i,Mo=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){wr(this,q);return}if(u=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)_.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())_.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Mo,m,void 0)>=0)||b||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of _)this.g.setRequestHeader(q,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){wr(this,q)}};function wr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Vo(u),Bi(u)}function Vo(u){u.A||(u.A=!0,de(u,"complete"),de(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,de(this,"complete"),de(this,"abort"),Bi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xr(this):this.Xa())},s.Xa=function(){xr(this)};function xr(u){if(u.h&&typeof c<"u"){if(u.v&&ei(u)==4)setTimeout(u.Ca.bind(u),0);else if(de(u,"readystatechange"),ei(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var b;if(b=q===0){let ne=String(u.D).match(hu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!Ai.test(ne?ne.toLowerCase():"")}_=b}if(_)de(u,"complete"),de(u,"success");else{u.o=6;try{var U=ei(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Vo(u)}}finally{Bi(u)}}}}function Bi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||de(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Oh(m)}};function Kt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(u){const m={};u=(u.g&&ei(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var _=lu(u[b]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[U]||[];m[U]=q,q.push(_)}Ye(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function xs(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,u),this.Za=Si("retryDelaySeedMs",1e4,u),this.Ta=Si("forwardChannelMaxRetries",2,u),this.va=Si("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=xs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,b){Rt(0),this.W=u,this.H=m||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),wi(this)};function ko(u){if(ma(u),u.I==3){var m=u.V++,_=It(u.J);if(We(_,"SID",u.M),We(_,"RID",m),We(_,"TYPE","terminate"),Rr(u,_),m=new $n(u,u.j,m),m.M=2,m.A=Tr(It(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Tu(u)}function Rs(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function ma(u){Rs(u),u.v&&(d.clearTimeout(u.v),u.v=null),pa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;He||S(),Fe||(He(),Fe=!0),I.add(m,u),u.D=0}}function ga(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new $n(this,this.j,u);let q=this.o;if(this.U&&(q?(q=M(q),se(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),_=It(this.J),We(_,"RID",u),We(_,"CVER",22),this.G&&We(_,"X-HTTP-Session-Id",this.G),Rr(this,_),q&&(this.R?m="headers="+zi(kn(q))+"&"+m:this.u&&Sr(_,this.u,q)),wo(this.h,U),this.Ra&&We(_,"TYPE","init"),this.S?(We(_,"$req",m),We(_,"SID","null"),U.U=!0,gi(U,_,null)):gi(U,_,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||So(this.h)||Lo(this))};function Lo(u,m){var _;m?_=m.l:_=u.V++;const b=It(u.J);We(b,"SID",u.M),We(b,"RID",_),We(b,"AID",u.K),Rr(u,b),u.u&&u.o&&Sr(b,u.u,u.o),_=new $n(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),wo(u.h,_),gi(_,b,m)}function Rr(u,m){u.H&&De(u.H,function(_,b){We(m,b,_)}),u.l&&De({},function(_,b){We(m,b,_)})}function pu(u,m,_){_=Math.min(u.i.length,_);const b=u.l?y(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ce=-1;for(;;){const At=["count="+_];Ce==-1?_>0?(Ce=U[0].g,At.push("ofs="+Ce)):Ce=0:At.push("ofs="+Ce);let Xe=!0;for(let dt=0;dt<_;dt++){var q=U[dt].g;const Ln=U[dt].map;if(q-=Ce,q<0)Ce=Math.max(0,U[dt].g-100),Xe=!1;else try{q="req"+q+"_"||"";try{var ne=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ri,ti]of ne){let ni=ti;p(ti)&&(ni=vs(ti)),At.push(q+Ri+"="+encodeURIComponent(ni))}}catch(Ri){throw At.push(q+"type="+encodeURIComponent("_badmap")),Ri}}catch{b&&b(Ln)}}if(Xe){ne=At.join("&");break e}}ne=void 0}return u=u.i.splice(0,_),m.G=u,ne}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;He||S(),Fe||(He(),Fe=!0),I.add(m,u),u.A=0}}function Cr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Rs(this),_u(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=It(u.na);We(m,"RID","rpc"),We(m,"SID",u.M),We(m,"AID",u.K),We(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(m,"TO",u.ia),We(m,"TYPE","xmlhttp"),Rr(u,m),u.u&&u.o&&Sr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Tr(It(m)),_.u=null,_.R=!0,oa(_,u)}s.Va=function(){this.C!=null&&(this.C=null,Rs(this),Cr(this),Rt(19))};function pa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var _=null;if(u.g==m){pa(u),Uo(u),u.g=null;var b=2}else if(Ei(u.h,m))_=m.G,xo(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=aa(),de(b,new fi(b,_)),wi(u)}else yu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&ga(u,m)||b==2&&Cr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),U){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function Eu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),b=u.Ua;const U=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(b,"https"),Tr(b),U?Zn(b.toString(),_):Oo(b.toString(),_)}else Rt(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ma(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,_){var b=_ instanceof bn?It(_):new bn(_);if(b.g!="")m&&(b.g=m+"."+b.g),Es(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new bn(null);b&&Ht(q,b),m&&(q.g=m),U&&Es(q,U),_&&(q.h=_),b=q}return _=u.G,m=u.wa,_&&m&&We(b,_,m),We(b,"VER",u.ka),Rr(u,b),b}function Au(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new bi({ab:_})):new nt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){re.call(this),this.g=new xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Hi(this)}w(ln,re),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ko(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=vs(u),u=_);m.i.push(new Nt(m.Ya++,u)),m.I==3&&wi(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,ln.Z.N.call(this)};function wu(u){Qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(wu,Qt);function xu(){On.call(this),this.status=1}w(xu,On);function Hi(u){this.g=u}w(Hi,Su),Hi.prototype.ra=function(){de(this.g,"a")},Hi.prototype.qa=function(u){de(this.g,new wu(u))},Hi.prototype.pa=function(u){de(this.g,new xu)},Hi.prototype.oa=function(){de(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,yE=function(){return new Cs},pE=function(){return aa()},gE=bt,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,zc=vr,To.COMPLETE="complete",mE=To,su.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",re.prototype.listen=re.prototype.J,wl=su,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,dE=nt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});class rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let go="12.9.0";function Aw(s){go=s}const ta=new bm("@firebase/firestore");function Ka(){return ta.logLevel}function le(s,...e){if(ta.logLevel<=je.DEBUG){const i=e.map(km);ta.debug(`Firestore (${go}): ${s}`,...i)}}function ds(s,...e){if(ta.logLevel<=je.ERROR){const i=e.map(km);ta.error(`Firestore (${go}): ${s}`,...i)}}function na(s,...e){if(ta.logLevel<=je.WARN){const i=e.map(km);ta.warn(`Firestore (${go}): ${s}`,...i)}}function km(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Te(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,_E(s,a,i)}function _E(s,e,i){let a=`FIRESTORE (${go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ds(a),new Error(a)}function Je(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||_E(e,l,a)}function xe(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $r{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class vE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class xw{constructor(e){this.t=e,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $r,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $r)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new vE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new rn(e)}}class Rw{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Cw{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Rw(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nw{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Iw(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Lm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Iw(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function sm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Pe(l,c):Hd(l)?1:-1}return Pe(s.length,e.length)}const Dw=55296,Ow=57343;function Hd(s){const e=s.charCodeAt(0);return e>=Dw&&e<=Ow}function so(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const b_="__name__";class Oi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Te(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Te(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Oi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Oi.isNumericId(e),l=Oi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Oi.extractNumericId(e).compare(Oi.extractNumericId(i)):sm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rr.fromString(e.substring(4,e.length-2))}}class ht extends Oi{construct(e,i,a){return new ht(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ht(i)}static emptyPath(){return new ht([])}}const Mw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Oi{construct(e,i,a){return new Wt(e,i,a)}static isValidIdentifier(e){return Mw.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Wt([b_])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(i)}static emptyPath(){return new Wt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ht.fromString(e))}static fromName(e){return new ve(ht.fromString(e).popFirst(5))}static empty(){return new ve(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ht.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ht(e.slice()))}}function EE(s,e,i){if(!i)throw new ge(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Vw(s,e,i,a){if(e===!0&&a===!0)throw new ge(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function A_(s){if(!ve.isDocumentKey(s))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function S_(s){if(ve.isDocumentKey(s))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function TE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Um(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function ar(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(s);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Lt(s,e){const i={typeString:s};return e&&(i.value=e),i}function Jl(s,e){if(!TE(s))throw new ge(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ge(J.INVALID_ARGUMENT,i);return!0}const w_=-62135596800,x_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*x_);return new ft(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<w_)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/x_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Lt("string",ft._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ft(0,0))}static max(){return new Se(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function kw(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Se.fromTimestamp(a===1e9?new ft(i+1,0):new ft(i,a));return new lr(l,ve.empty(),e)}function Lw(s){return new lr(s.readTime,s.key,jl)}class lr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new lr(Se.min(),ve.empty(),jl)}static max(){return new lr(Se.max(),ve.empty(),jl)}}function Uw(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ve.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}const jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function po(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==jw)throw s;le("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(e[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function zw(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(s){return s.name==="IndexedDbTransactionError"}class gh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gh.ce=-1;const jm=-1;function ph(s){return s==null}function eh(s){return s===0&&1/s==-1/0}function Bw(s){return typeof s=="number"&&Number.isInteger(s)&&!eh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const bE="";function qw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=R_(e)),e=Hw(s.get(i),e);return R_(e)}function Hw(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case bE:i+="";break;default:i+=c}}return i}function R_(s){return s+bE+""}function C_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function mr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function AE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pt{constructor(e,i){this.comparator=e,this.root=i||Zt.EMPTY}insert(e,i){return new pt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??Zt.RED,this.left=l??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new Zt(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Zt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new Zt(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new N_(this.data.getIterator())}getIteratorFrom(e){return new N_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Bt(this.comparator);return i.data=e,i}}class N_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Dn([])}unionWith(e){let i=new Bt(Wt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Dn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return so(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new SE("Invalid base64 string: "+c):c}})(e);return new tn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new tn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const Fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=Fw.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:xt(s.seconds),nanos:xt(s.nanos)}}function xt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function cr(s){return typeof s=="string"?tn.fromBase64String(s):tn.fromUint8Array(s)}const wE="server_timestamp",xE="__type__",RE="__previous_value__",CE="__local_write_time__";function Pm(s){return(s?.mapValue?.fields||{})[xE]?.stringValue===wE}function yh(s){const e=s.mapValue.fields[RE];return Pm(e)?yh(e):e}function Pl(s){const e=ur(s.mapValue.fields[CE].timestampValue);return new ft(e.seconds,e.nanos)}class Gw{constructor(e,i,a,l,c,d,p,v,y,A,w){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=A,this.apiKey=w}}const th="(default)";class zl{constructor(e,i){this.projectId=e,this.database=i||th}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function Qw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(s.options.projectId,e)}const NE="__type__",Kw="__max__",Mc={mapValue:{}},IE="__vector__",nh="value";function hr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pm(s)?4:Xw(s)?9007199254740991:Yw(s)?10:11:Te(28295,{value:s})}function ji(s,e){if(s===e)return!0;const i=hr(s);if(i!==hr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Pl(s).isEqual(Pl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ur(l.timestampValue),p=ur(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return cr(l.bytesValue).isEqual(cr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return xt(l.geoPointValue.latitude)===xt(c.geoPointValue.latitude)&&xt(l.geoPointValue.longitude)===xt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return xt(l.integerValue)===xt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=xt(l.doubleValue),p=xt(c.doubleValue);return d===p?eh(d)===eh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return so(s.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(C_(d)!==C_(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!ji(d[v],p[v])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function Bl(s,e){return(s.values||[]).find((i=>ji(i,e)))!==void 0}function ro(s,e){if(s===e)return 0;const i=hr(s),a=hr(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=xt(c.integerValue||c.doubleValue),v=xt(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return I_(s.timestampValue,e.timestampValue);case 4:return I_(Pl(s),Pl(e));case 5:return sm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=cr(c),v=cr(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const A=Pe(p[y],v[y]);if(A!==0)return A}return Pe(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Pe(xt(c.latitude),xt(d.latitude));return p!==0?p:Pe(xt(c.longitude),xt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return D_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[nh]?.arrayValue,A=v[nh]?.arrayValue,w=Pe(y?.values?.length||0,A?.values?.length||0);return w!==0?w:D_(y,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},A=Object.keys(y);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const x=sm(v[w],A[w]);if(x!==0)return x;const G=ro(p[v[w]],y[A[w]]);if(G!==0)return G}return Pe(v.length,A.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:i})}}function I_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=ur(s),a=ur(e),l=Pe(i.seconds,a.seconds);return l!==0?l:Pe(i.nanos,a.nanos)}function D_(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ro(i[l],a[l]);if(c)return c}return Pe(i.length,a.length)}function ao(s){return rm(s)}function rm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ur(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return cr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ve.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(s.mapValue):Te(61005,{value:s})}function Bc(s){switch(hr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(s);return e?16+Bc(e):16;case 5:return 2*s.stringValue.length;case 6:return cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Bc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return mr(a.fields,((c,d)=>{l+=c.length+Bc(d)})),l})(s.mapValue);default:throw Te(13486,{value:s})}}function am(s){return!!s&&"integerValue"in s}function zm(s){return!!s&&"arrayValue"in s}function O_(s){return!!s&&"nullValue"in s}function M_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function Yw(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===IE}function Ol(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return mr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ol(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(s.arrayValue.values[i]);return e}return{...s}}function Xw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Kw}class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=Wt.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ol(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){mr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new vn(Ol(this.value))}}function DE(s){const e=[];return mr(s.fields,((i,a)=>{const l=new Wt([i]);if(qc(a)){const c=DE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Dn(e)}class an{constructor(e,i,a,l,c,d,p){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),vn.empty(),0)}static newFoundDocument(e,i,a,l){return new an(e,1,i,Se.min(),a,l,0)}static newNoDocument(e,i){return new an(e,2,i,Se.min(),Se.min(),vn.empty(),0)}static newUnknownDocument(e,i){return new an(e,3,i,Se.min(),Se.min(),vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(e,i){this.position=e,this.inclusive=i}}function V_(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),i.key):a=ro(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function k_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ji(s.position[i],e.position[i]))return!1;return!0}class sh{constructor(e,i="asc"){this.field=e,this.dir=i}}function $w(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class OE{}class Pt extends OE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Zw(e,i,a):i==="array-contains"?new tx(e,a):i==="in"?new nx(e,a):i==="not-in"?new ix(e,a):i==="array-contains-any"?new sx(e,a):new Pt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new Ww(e,a):new ex(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ro(i,this.value)):i!==null&&hr(this.value)===hr(i)&&this.matchesComparison(ro(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pi extends OE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Pi(e,i)}matches(e){return ME(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ME(s){return s.op==="and"}function VE(s){return Jw(s)&&ME(s)}function Jw(s){for(const e of s.filters)if(e instanceof Pi)return!1;return!0}function om(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+ao(s.value);if(VE(s))return s.filters.map((e=>om(e))).join(",");{const e=s.filters.map((i=>om(i))).join(",");return`${s.op}(${e})`}}function kE(s,e){return s instanceof Pt?(function(a,l){return l instanceof Pt&&a.op===l.op&&a.field.isEqual(l.field)&&ji(a.value,l.value)})(s,e):s instanceof Pi?(function(a,l){return l instanceof Pi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&kE(d,l.filters[p])),!0):!1})(s,e):void Te(19439)}function LE(s){return s instanceof Pt?(function(i){return`${i.field.canonicalString()} ${i.op} ${ao(i.value)}`})(s):s instanceof Pi?(function(i){return i.op.toString()+" {"+i.getFilters().map(LE).join(" ,")+"}"})(s):"Filter"}class Zw extends Pt{constructor(e,i,a){super(e,i,a),this.key=ve.fromName(a.referenceValue)}matches(e){const i=ve.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ww extends Pt{constructor(e,i){super(e,"in",i),this.keys=UE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class ex extends Pt{constructor(e,i){super(e,"not-in",i),this.keys=UE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function UE(s,e){return(e.arrayValue?.values||[]).map((i=>ve.fromName(i.referenceValue)))}class tx extends Pt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return zm(i)&&Bl(i.arrayValue,this.value)}}class nx extends Pt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class ix extends Pt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class sx extends Pt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class rx{constructor(e,i=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function L_(s,e=null,i=[],a=[],l=null,c=null,d=null){return new rx(s,e,i,a,l,c,d)}function Bm(s){const e=xe(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>om(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ao(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ao(a))).join(",")),e.Te=i}return e.Te}function qm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!$w(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!kE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!k_(s.startAt,e.startAt)&&k_(s.endAt,e.endAt)}function lm(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class _h{constructor(e,i=null,a=[],l=[],c=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ax(s,e,i,a,l,c,d,p){return new _h(s,e,i,a,l,c,d,p)}function Hm(s){return new _h(s)}function U_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function ox(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function lx(s){return s.collectionGroup!==null}function Ml(s){const e=xe(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Bt(Wt.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new sh(c,a))})),i.has(Wt.keyField().canonicalString())||e.Ie.push(new sh(Wt.keyField(),a))}return e.Ie}function Vi(s){const e=xe(s);return e.Ee||(e.Ee=ux(e,Ml(s))),e.Ee}function ux(s,e){if(s.limitType==="F")return L_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new sh(l.field,c)}));const i=s.endAt?new ih(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ih(s.startAt.position,s.startAt.inclusive):null;return L_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function um(s,e,i){return new _h(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function vh(s,e){return qm(Vi(s),Vi(e))&&s.limitType===e.limitType}function jE(s){return`${Bm(Vi(s))}|lt:${s.limitType}`}function Ya(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>LE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>ao(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>ao(l))).join(",")),`Target(${a})`})(Vi(s))}; limitType=${s.limitType})`}function Eh(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ml(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const y=V_(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Ml(a),l)||a.endAt&&!(function(d,p,v){const y=V_(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Ml(a),l))})(s,e)}function cx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function PE(s){return(e,i)=>{let a=!1;for(const l of Ml(s)){const c=hx(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function hx(s,e,i){const a=s.field.isKeyField()?ve.comparator(e.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?ro(v,y):Te(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Te(19790,{direction:s.dir})}}class sa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){mr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return AE(this.inner)}size(){return this.innerSize}}const fx=new pt(ve.comparator);function ms(){return fx}const zE=new pt(ve.comparator);function xl(...s){let e=zE;for(const i of s)e=e.insert(i.key,i);return e}function BE(s){let e=zE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Yr(){return Vl()}function qE(){return Vl()}function Vl(){return new sa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const dx=new pt(ve.comparator),mx=new Bt(ve.comparator);function ze(...s){let e=mx;for(const i of s)e=e.add(i);return e}const gx=new Bt(Pe);function px(){return gx}function Fm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function HE(s){return{integerValue:""+s}}function yx(s,e){return Bw(e)?HE(e):Fm(s,e)}class Th{constructor(){this._=void 0}}function _x(s,e,i){return s instanceof rh?(function(l,c){const d={fields:{[xE]:{stringValue:wE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=yh(c)),c&&(d.fields[RE]=c),{mapValue:d}})(i,e):s instanceof ql?GE(s,e):s instanceof Hl?QE(s,e):(function(l,c){const d=FE(l,c),p=j_(d)+j_(l.Ae);return am(d)&&am(l.Ae)?HE(p):Fm(l.serializer,p)})(s,e)}function vx(s,e,i){return s instanceof ql?GE(s,e):s instanceof Hl?QE(s,e):i}function FE(s,e){return s instanceof ah?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class rh extends Th{}class ql extends Th{constructor(e){super(),this.elements=e}}function GE(s,e){const i=KE(e);for(const a of s.elements)i.some((l=>ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Hl extends Th{constructor(e){super(),this.elements=e}}function QE(s,e){let i=KE(e);for(const a of s.elements)i=i.filter((l=>!ji(l,a)));return{arrayValue:{values:i}}}class ah extends Th{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function j_(s){return xt(s.integerValue||s.doubleValue)}function KE(s){return zm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Ex(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof ql&&l instanceof ql||a instanceof Hl&&l instanceof Hl?so(a.elements,l.elements,ji):a instanceof ah&&l instanceof ah?ji(a.Ae,l.Ae):a instanceof rh&&l instanceof rh})(s.transform,e.transform)}class Tx{constructor(e,i){this.version=e,this.transformResults=i}}class li{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class bh{}function YE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Gm(s.key,li.none()):new Zl(s.key,s.data,li.none());{const i=s.data,a=vn.empty();let l=new Bt(Wt.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new gr(s.key,a,new Dn(l.toArray()),li.none())}}function bx(s,e,i){s instanceof Zl?(function(l,c,d){const p=l.value.clone(),v=z_(l.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof gr?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=z_(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(XE(l)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(s,e,i,a){return s instanceof Zl?(function(c,d,p,v){if(!Hc(c.precondition,d))return p;const y=c.value.clone(),A=B_(c.fieldTransforms,v,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof gr?(function(c,d,p,v){if(!Hc(c.precondition,d))return p;const y=B_(c.fieldTransforms,v,d),A=d.data;return A.setAll(XE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,p){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function Ax(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function P_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&so(a,l,((c,d)=>Ex(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Zl extends bh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class gr extends bh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function XE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function z_(s,e,i){const a=new Map;Je(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,vx(d,p,i[l]))}return a}function B_(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,_x(c,d,e))}return a}class Gm extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sx extends bh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wx{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&bx(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=qE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const v=YE(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Se.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),ze())}isEqual(e){return this.batchId===e.batchId&&so(this.mutations,e.mutations,((i,a)=>P_(i,a)))&&so(this.baseMutations,e.baseMutations,((i,a)=>P_(i,a)))}}class Qm{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return dx})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Qm(e,i,a,l)}}class xx{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Rx{constructor(e,i){this.count=e,this.unchangedNames=i}}var kt,Ge;function Cx(s){switch(s){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function $E(s){if(s===void 0)return ds("GRPC error has no .code"),J.UNKNOWN;switch(s){case kt.OK:return J.OK;case kt.CANCELLED:return J.CANCELLED;case kt.UNKNOWN:return J.UNKNOWN;case kt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case kt.INTERNAL:return J.INTERNAL;case kt.UNAVAILABLE:return J.UNAVAILABLE;case kt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case kt.NOT_FOUND:return J.NOT_FOUND;case kt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case kt.ABORTED:return J.ABORTED;case kt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case kt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:s})}}(Ge=kt||(kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Nx(){return new TextEncoder}const Ix=new rr([4294967295,4294967295],0);function q_(s){const e=Nx().encode(s),i=new fE;return i.update(e),new Uint8Array(i.digest())}function H_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new rr([i,a],0),new rr([l,c],0)]}class Km{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(a<0)throw new Rl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=rr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(rr.fromNumber(a)));return l.compare(Ix)===1&&(l=new rr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=q_(e),[a,l]=H_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Km(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=q_(e),[a,l]=H_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ah(Se.min(),l,new pt(Pe),ms(),ze())}}class Wl{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Wl(a,i,ze(),ze(),ze())}}class Fc{constructor(e,i,a,l){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=l}}class JE{constructor(e,i){this.targetId=e,this.Ce=i}}class ZE{constructor(e,i,a=tn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class F_{constructor(){this.ve=0,this.Fe=G_(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),i=ze(),a=ze();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Te(38017,{changeType:c})}})),new Wl(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=G_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Dx{constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.He=Vc(),this.Je=Vc(),this.Ze=new pt(Pe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new ve(c.path);this.et(i,d,an.newNoDocument(d,Se.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=cr(a).toUint8Array()}catch(v){if(v instanceof SE)return na("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Km(d,l,c)}catch(v){return na(v instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&lm(p.target)){const v=new ve(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,an.newNoDocument(v,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=ze();this.Je.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Ah(e,i,this.Ze,this.je,a);return this.je=ms(),this.He=Vc(),this.Je=Vc(),this.Ze=new pt(Pe),l}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new F_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Bt(Pe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Bt(Pe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||le("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new F_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new pt(ve.comparator)}function G_(){return new pt(ve.comparator)}const Ox={asc:"ASCENDING",desc:"DESCENDING"},Mx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vx={and:"AND",or:"OR"};class kx{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function cm(s,e){return s.useProto3Json||ph(e)?e:{value:e}}function oh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Lx(s,e){return oh(s,e.toTimestamp())}function ki(s){return Je(!!s,49232),Se.fromTimestamp((function(i){const a=ur(i);return new ft(a.seconds,a.nanos)})(s))}function Ym(s,e){return hm(s,e).canonicalString()}function hm(s,e){const i=(function(l){return new ht(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function eT(s){const e=ht.fromString(s);return Je(rT(e),10190,{key:e.toString()}),e}function fm(s,e){return Ym(s.databaseId,e.path)}function Fd(s,e){const i=eT(e);if(i.get(1)!==s.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ve(nT(i))}function tT(s,e){return Ym(s.databaseId,e)}function Ux(s){const e=eT(s);return e.length===4?ht.emptyPath():nT(e)}function dm(s){return new ht(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nT(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Q_(s,e,i){return{name:fm(s,e),fields:i.value.mapValue.fields}}function jx(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Je(A===void 0||typeof A=="string",58123),tn.fromBase64String(A||"")):(Je(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),tn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:$E(y.code);return new ge(A,y.message||"")})(d);i=new ZE(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(s,a.document.name),c=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):Se.min(),p=new vn({mapValue:{fields:a.document.fields}}),v=an.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Fc(y,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Fd(s,a.document),c=a.readTime?ki(a.readTime):Se.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Fc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Fd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Rx(l,c),p=a.targetId;i=new JE(p,d)}}return i}function Px(s,e){let i;if(e instanceof Zl)i={update:Q_(s,e.key,e.value)};else if(e instanceof Gm)i={delete:fm(s,e.key)};else if(e instanceof gr)i={update:Q_(s,e.key,e.data),updateMask:Yx(e.fieldMask)};else{if(!(e instanceof Sx))return Te(16599,{dt:e.type});i={verify:fm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ah)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Lx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),i}function zx(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?ki(l.updateTime):ki(c);return d.isEqual(Se.min())&&(d=ki(c)),new Tx(d,l.transformResults||[])})(i,e)))):[]}function Bx(s,e){return{documents:[tT(s,e.path)]}}function qx(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=tT(s,l);const c=(function(y){if(y.length!==0)return sT(Pi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:Xa(x.field),direction:Gx(x.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=cm(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:l}}function Hx(s){let e=Ux(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Je(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const x=iT(w);return x instanceof Pi&&VE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((x=>(function(Z){return new sh($a(Z.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(w){let x;return x=typeof w=="object"?w.value:w,ph(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(w){const x=!!w.before,G=w.values||[];return new ih(G,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const x=!w.before,G=w.values||[];return new ih(G,x)})(i.endAt)),ax(e,l,d,c,p,"F",v,y)}function Fx(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Pt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Pt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Pt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Pt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Pt.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Pi.create(i.compositeFilter.filters.map((a=>iT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(i.compositeFilter.op))})(s):Te(30097,{filter:s})}function Gx(s){return Ox[s]}function Qx(s){return Mx[s]}function Kx(s){return Vx[s]}function Xa(s){return{fieldPath:s.canonicalString()}}function $a(s){return Wt.fromServerFormat(s.fieldPath)}function sT(s){return s instanceof Pt?(function(i){if(i.op==="=="){if(M_(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(O_(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(M_(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(O_(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:Qx(i.op),value:i.value}}})(s):s instanceof Pi?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:Kx(i.op),filters:a}}})(s):Te(54877,{filter:s})}function Yx(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function aT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class tr{constructor(e,i,a,l,c=Se.min(),d=Se.min(),p=tn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xx{constructor(e){this.yt=e}}function $x(s){const e=Hx({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?um(e,e.limit,"L"):e}class Jx{constructor(){this.Sn=new Zx}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(lr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(lr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class Zx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new Bt(ht.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new Bt(ht.comparator)).toArray()}}const K_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(oT,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class oo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new oo(0)}static ar(){return new oo(-1)}}const Y_="LruGarbageCollector",Wx=1048576;function X_([s,e],[i,a]){const l=Pe(s,i);return l===0?Pe(e,a):l}class eR{constructor(e){this.Pr=e,this.buffer=new Bt(X_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();X_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(Y_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?le(Y_,"Ignoring IndexedDB error during garbage collection: ",i):await po(i)}await this.Ar(3e5)}))}}class nR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(gh.ce);const a=new eR(i);return this.Vr.forEachTarget(e,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(e,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(K_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,l,c,d,p,v,y;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,p=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(y=Date.now(),Ka()<=je.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function iR(s,e){return new nR(s,e)}class sR{constructor(){this.changes=new sa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class aR{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&kl(a.mutation,l,Dn.empty(),ft.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=ze()){const l=Yr();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=xl();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Yr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,ze())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,a,l){let c=ms();const d=Vl(),p=(function(){return Vl()})();return i.forEach(((v,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof gr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),kl(A.mutation,y,A.mutation.getFieldMask(),ft.now())):d.set(y.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new rR(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,i){const a=Vl();let l=new pt(((d,p)=>d-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let A=a.get(v)||Dn.empty();A=p.applyToLocalView(y,A),a.set(v,A);const w=(l.get(p.batchId)||ze()).add(v);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,A=v.value,w=qE();A.forEach((x=>{if(!c.has(x)){const G=YE(i.get(x),a.get(x));G!==null&&w.set(x,G),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return ox(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):lx(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(Yr());let p=jl,v=c;return d.next((y=>$.forEach(y,((A,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((x=>{v=v.insert(A,x)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,v,y,ze()))).next((A=>({batchId:p,changes:BE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ve(i)).next((a=>{let l=xl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,c).next((p=>$.forEach(p,(v=>{const y=(function(w,x){return new _h(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((A=>{A.forEach(((w,x)=>{d=d.insert(w,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=xl();return d.forEach(((v,y)=>{const A=c.get(v);A!==void 0&&kl(A.mutation,y,Dn.empty(),ft.now()),Eh(i,y)&&(p=p.insert(v,y))})),p}))}}class oR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:$x(l.bundledQuery),readTime:ki(l.readTime)}})(i)),$.resolve()}}class lR{constructor(){this.overlays=new pt(ve.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Yr();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=Yr(),c=i.length+1,d=new ve(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new pt(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Yr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Yr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}bt(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xx(i,a));let c=this.Lr.get(i);c===void 0&&(c=ze(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class uR{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class Xm{constructor(){this.kr=new Bt(Gt.Kr),this.qr=new Bt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Gt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Gt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ve(new ht([])),a=new Gt(i,e),l=new Gt(i,e+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ve(new ht([])),a=new Gt(i,e),l=new Gt(i,e+1);let c=ze();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Gt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ve.comparator(e.key,i.key)||Pe(e.Hr,i.Hr)}static Ur(e,i){return Pe(e.Hr,i.Hr)||ve.comparator(e.key,i.key)}}class cR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Gt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wx(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new Gt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Gt(i,0),l=new Gt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const p=this.Zr(d.Hr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Bt(Pe);return i.forEach((l=>{const c=new Gt(l,0),d=new Gt(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(p=>{a=a.add(p.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const d=new Gt(new ve(c),0);let p=new Bt(Pe);return this.Jr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(v.Hr)),!0)}),d),$.resolve(this.Yr(p))}Yr(e){const i=[];return e.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){Je(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(l=>{const c=new Gt(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Gt(i,0),l=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class hR{constructor(e){this.ti=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(e,i){let a=ms();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=ms();const d=i.path,p=new ve(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:A}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Uw(Lw(A),a)<=0||(l.has(A.key)||Eh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Te(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new fR(this)}getSize(e){return $.resolve(this.size)}}class fR extends sR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(e,l)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class dR{constructor(e){this.persistence=e,this.ri=new sa((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new Xm,this.targetCount=0,this.oi=oo._r()}forEachTarget(e,i){return this.ri.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new oo(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class lT{constructor(e,i){this._i={},this.overlays={},this.ai=new gh(0),this.ui=!1,this.ui=!0,this.ci=new uR,this.referenceDelegate=e(this),this.li=new dR(this),this.indexManager=new Jx,this.remoteDocumentCache=(function(l){return new hR(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Xx(i),this.Pi=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new lR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new cR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){le("MemoryPersistence","Starting transaction:",e);const l=new mR(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class mR extends Pw{constructor(e){super(),this.currentSequenceNumber=e}}class $m{constructor(e){this.persistence=e,this.Ri=new Xm,this.Ai=null}static Vi(e){return new $m(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const l=ve.fromPath(a);return this.mi(e,l).next((c=>{c||i.removeEntry(l,Se.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class lh{constructor(e,i){this.persistence=e,this.fi=new sa((a=>qw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=iR(this,i)}static Vi(e,i){return new lh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,l)=>this.wr(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(e,(d=>this.wr(e,d,i).next((p=>{p||(a++,c.removeEntry(d,Se.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Bc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.fi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=l}static Es(e,i){let a=ze(),l=ze();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class gR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class pR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Wb()?8:zw(on())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gR;return this.ys(e,i,d).next((p=>{if(c.result=p,this.As)return this.ws(e,i,d,p.size)}))})).next((()=>c.result))}ws(e,i,a,l){return a.documentReadCount<this.Vs?(Ka()<=je.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ka()<=je.DEBUG&&le("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ka()<=je.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(i))):$.resolve())}gs(e,i){if(U_(i))return $.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.fs.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((v=>{const y=this.bs(i,p);return this.Ss(i,y,d,v.readTime)?this.gs(e,um(i,null,"F")):this.Ds(e,y,i,v)}))))})))))}ps(e,i,a,l){return U_(i)||l.isEqual(Se.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?$.resolve(null):(Ka()<=je.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.Ds(e,d,i,kw(l,jl)).next((p=>p)))}))}bs(e,i){let a=new Bt(PE(e));return i.forEach(((l,c)=>{Eh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(e,i,a){return Ka()<=je.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.fs.getDocumentsMatchingQuery(e,i,lr.min(),a)}Ds(e,i,a,l){return this.fs.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Zm="LocalStore",yR=3e8;class _R{constructor(e,i,a,l){this.persistence=e,this.Cs=i,this.serializer=l,this.vs=new pt(Pe),this.Fs=new sa((c=>Bm(c)),qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function vR(s,e,i,a){return new _R(s,e,i,a)}async function uT(s,e){const i=xe(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=ze();for(const y of l){d.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function ER(s,e){const i=xe(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,A){const w=y.batch,x=w.keys();let G=$.resolve();return x.forEach((Z=>{G=G.next((()=>A.getEntry(v,Z))).next((ee=>{const te=y.docVersions.get(Z);Je(te!==null,48541),ee.version.compareTo(te)<0&&(w.applyToRemoteDocument(ee,y),ee.isValidDocument()&&(ee.setReadTime(y.commitVersion),A.addEntry(ee)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function cT(s){const e=xe(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function TR(s,e){const i=xe(s),a=e.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const p=[];e.targetChanges.forEach(((A,w)=>{const x=l.get(w);if(!x)return;p.push(i.li.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(c,A.addedDocuments,w))));let G=x.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(w,G),(function(ee,te,W){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=yR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(x,G,A)&&p.push(i.li.updateTargetData(c,G))}));let v=ms(),y=ze();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(bR(c,d,e.documentUpdates).next((A=>{v=A.Bs,y=A.Ls}))),!a.isEqual(Se.min())){const A=i.li.getLastRemoteSnapshotVersion(c).next((w=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.vs=l,c)))}function bR(s,e,i){let a=ze(),l=ze();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=ms();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(Se.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):le(Zm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{Bs:d,Ls:l}}))}function AR(s,e){const i=xe(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function SR(s,e){const i=xe(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new tr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function mm(s,e,i){const a=xe(s),l=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;le(Zm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(l.target)}function $_(s,e,i){const a=xe(s);let l=Se.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,A){const w=xe(v),x=w.Fs.get(A);return x!==void 0?$.resolve(w.vs.get(x)):w.li.getTargetData(y,A)})(a,d,Vi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?l:Se.min(),i?c:ze()))).next((p=>(wR(a,cx(e),p),{documents:p,ks:c})))))}function wR(s,e,i){let a=s.Ms.get(e)||Se.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class J_{constructor(){this.activeTargetIds=px()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xR{constructor(){this.vo=new J_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new J_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RR{Mo(e){}shutdown(){}}const Z_="ConnectivityMonitor";class W_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(Z_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(Z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function gm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Gd="RestConnection",CR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class NR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(e,i,a,l,c){const d=gm(),p=this.Qo(e,i.toUriEncodedString());le(Gd,`Sending RPC '${e}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,l,c);const{host:y}=new URL(p),A=co(y);return this.zo(e,p,v,a,A).then((w=>(le(Gd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw na(Gd,`RPC '${e}' ${d} failed with error: `,w,"url: ",p,"request:",a),w}))}jo(e,i,a,l,c,d){return this.Wo(e,i,a,l,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}Qo(e,i){const a=CR[e];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class IR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",bl=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class eo extends NR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!eo.c_){const e=pE();bl(e,gE.STAT_EVENT,(i=>{i.stat===im.PROXY?le(sn,"STAT_EVENT: detected buffering proxy"):i.stat===im.NOPROXY&&le(sn,"STAT_EVENT: detected no buffering proxy")})),eo.c_=!0}}zo(e,i,a,l,c){const d=gm();return new Promise(((p,v)=>{const y=new dE;y.setWithCredentials(!0),y.listenOnce(mE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();le(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),p(w);break;case zc.TIMEOUT:le(sn,`RPC '${e}' ${d} timed out`),v(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const x=y.getStatus();if(le(sn,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const ee=(function(W){const fe=W.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(fe)>=0?fe:J.UNKNOWN})(Z.status);v(new ge(ee,Z.message))}else v(new ge(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ge(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(sn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);le(sn,`RPC '${e}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=gm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const y=c.join("");le(sn,`Creating RPC '${e}' stream ${l}: ${y}`,p);const A=d.createWebChannel(y,p);this.I_(A);let w=!1,x=!1;const G=new IR({Ho:Z=>{x?le(sn,`Not sending because RPC '${e}' stream ${l} is closed:`,Z):(w||(le(sn,`Opening RPC '${e}' stream ${l} transport.`),A.open(),w=!0),le(sn,`RPC '${e}' stream ${l} sending:`,Z),A.send(Z))},Jo:()=>A.close()});return bl(A,wl.EventType.OPEN,(()=>{x||(le(sn,`RPC '${e}' stream ${l} transport opened.`),G.i_())})),bl(A,wl.EventType.CLOSE,(()=>{x||(x=!0,le(sn,`RPC '${e}' stream ${l} transport closed`),G.o_(),this.E_(A))})),bl(A,wl.EventType.ERROR,(Z=>{x||(x=!0,na(sn,`RPC '${e}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),G.o_(new ge(J.UNAVAILABLE,"The operation could not be completed")))})),bl(A,wl.EventType.MESSAGE,(Z=>{if(!x){const ee=Z.data[0];Je(!!ee,16349);const te=ee,W=te?.error||te[0]?.error;if(W){le(sn,`RPC '${e}' stream ${l} received error:`,W);const fe=W.status;let pe=(function(Fe){const I=kt[Fe];if(I!==void 0)return $E(I)})(fe),Oe=W.message;fe==="NOT_FOUND"&&Oe.includes("database")&&Oe.includes("does not exist")&&Oe.includes(this.databaseId.database)&&na(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),pe===void 0&&(pe=J.INTERNAL,Oe="Unknown error status: "+fe+" with message "+W.message),x=!0,G.o_(new ge(pe,Oe)),A.close()}else le(sn,`RPC '${e}' stream ${l} received:`,ee),G.__(ee)}})),eo.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return yE()}}function DR(s){return new eo(s)}function Qd(){return typeof document<"u"?document:null}function Sh(s){return new kx(s,!0)}eo.c_=!1;class hT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&le("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ev="PersistentStream";class fT{constructor(e,i,a,l,c,d,p,v){this.Ci=e,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new ge(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(ev,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(le(ev,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OR extends fT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=jx(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Se.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?ki(d.readTime):Se.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=lm(v)?{documents:Bx(c,v)}:{query:qx(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=WE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=Fx(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=dm(this.serializer),i.removeTarget=e,this.K_(i)}}class MR extends fT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=zx(e.writeResults,e.commitTime),a=ki(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=dm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Px(this.serializer,a)))};this.K_(i)}}class VR{}class kR extends VR{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(J.UNKNOWN,c.toString())}))}jo(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(e,hm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ge(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function LR(s,e,i,a){return new kR(s,e,i,a)}class UR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):le("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ia="RemoteStore";class jR{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(le(ia,"Restarting streams for network reachability change."),await(async function(v){const y=xe(v);y.Ea.add(4),await eu(y),y.Va.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Va=new UR(a,l)}}async function wh(s){if(ra(s))for(const e of s.Ra)await e(!0)}async function eu(s){for(const e of s.Ra)await e(!1)}function dT(s,e){const i=xe(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ng(i)?tg(i):_o(i).O_()&&eg(i,e))}function Wm(s,e){const i=xe(s),a=_o(i);i.Ia.delete(e),a.O_()&&mT(i,e),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Va.set("Unknown"))}function eg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}_o(s).Z_(e)}function mT(s,e){s.da.$e(e),_o(s).X_(e)}function tg(s){s.da=new Dx({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),_o(s).start(),s.Va.ua()}function ng(s){return ra(s)&&!_o(s).x_()&&s.Ia.size>0}function ra(s){return xe(s).Ea.size===0}function gT(s){s.da=void 0}async function PR(s){s.Va.set("Online")}async function zR(s){s.Ia.forEach(((e,i)=>{eg(s,e)}))}async function BR(s,e){gT(s),ng(s)?(s.Va.ha(e),tg(s)):s.Va.set("Unknown")}async function qR(s,e,i){if(s.Va.set("Online"),e instanceof ZE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(s,e)}catch(a){le(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await uh(s,a)}else if(e instanceof Fc?s.da.Xe(e):e instanceof JE?s.da.st(e):s.da.tt(e),!i.isEqual(Se.min()))try{const a=await cT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.da.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const A=c.Ia.get(v);if(!A)return;c.Ia.set(v,A.withResumeToken(tn.EMPTY_BYTE_STRING,A.snapshotVersion)),mT(c,v);const w=new tr(A.target,v,y,A.sequenceNumber);eg(c,w)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){le(ia,"Failed to raise snapshot:",a),await uh(s,a)}}async function uh(s,e,i){if(!yo(e))throw e;s.Ea.add(1),await eu(s),s.Va.set("Offline"),i||(i=()=>cT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ia,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await wh(s)}))}function pT(s,e){return e().catch((i=>uh(s,i,e)))}async function xh(s){const e=xe(s),i=fr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jm;for(;HR(e);)try{const l=await AR(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,FR(e,l)}catch(l){await uh(e,l)}yT(e)&&_T(e)}function HR(s){return ra(s)&&s.Ta.length<10}function FR(s,e){s.Ta.push(e);const i=fr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function yT(s){return ra(s)&&!fr(s).x_()&&s.Ta.length>0}function _T(s){fr(s).start()}async function GR(s){fr(s).ra()}async function QR(s){const e=fr(s);for(const i of s.Ta)e.ea(i.mutations)}async function KR(s,e,i){const a=s.Ta.shift(),l=Qm.from(a,e,i);await pT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await xh(s)}async function YR(s,e){e&&fr(s).Y_&&await(async function(a,l){if((function(d){return Cx(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();fr(a).B_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(s,e),yT(s)&&_T(s)}async function tv(s,e){const i=xe(s);i.asyncQueue.verifyOperationInProgress(),le(ia,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await eu(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await wh(i)}async function XR(s,e){const i=xe(s);e?(i.Ea.delete(2),await wh(i)):e||(i.Ea.add(2),await eu(i),i.Va.set("Unknown"))}function _o(s){return s.ma||(s.ma=(function(i,a,l){const c=xe(i);return c.sa(),new OR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:PR.bind(null,s),Yo:zR.bind(null,s),t_:BR.bind(null,s),J_:qR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),ng(s)?tg(s):s.Va.set("Unknown")):(await s.ma.stop(),gT(s))}))),s.ma}function fr(s){return s.fa||(s.fa=(function(i,a,l){const c=xe(i);return c.sa(),new MR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GR.bind(null,s),t_:YR.bind(null,s),ta:QR.bind(null,s),na:KR.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await xh(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ig{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,p=new ig(e,i,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(s,e){if(ds("AsyncQueue",`${e}: ${s}`),yo(s))return new ge(J.UNAVAILABLE,`${e}: ${s}`);throw s}class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ve.comparator(i.key,a.key):(i,a)=>ve.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new to;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class nv{constructor(){this.ga=new pt(ve.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class lo{constructor(e,i,a,l,c,d,p,v,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new lo(e,i,to.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class $R{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class JR{constructor(){this.queries=iv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xe(i),c=l.queries;l.queries=iv(),c.forEach(((d,p)=>{for(const v of p.ba)v.onError(a)}))})(this,new ge(J.ABORTED,"Firestore shutting down"))}}function iv(){return new sa((s=>jE(s)),vh)}async function ZR(s,e){const i=xe(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.Sa()&&e.Da()&&(a=2):(c=new $R,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=sg(d,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(p)}i.queries.set(l,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&rg(i)}async function WR(s,e){const i=xe(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=e.Da()?0:1:!c.Sa()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eC(s,e){const i=xe(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.ba)p.Fa(l)&&(a=!0);d.wa=l}}a&&rg(i)}function tC(s,e,i){const a=xe(s),l=a.queries.get(e);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(e)}function rg(s){s.Ca.forEach((e=>{e.next()}))}var pm,sv;(sv=pm||(pm={})).Ma="default",sv.Cache="cache";class nC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new lo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pm.Cache}}class vT{constructor(e){this.key=e}}class ET{constructor(e){this.key=e}}class iC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=PE(e),this.tu=new to(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new nv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const x=l.get(A),G=Eh(this.query,w)?w:null,Z=!!x&&this.mutatedKeys.has(x.key),ee=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let te=!1;x&&G?x.data.isEqual(G.data)?Z!==ee&&(a.track({type:3,doc:G}),te=!0):this.su(x,G)||(a.track({type:2,doc:G}),te=!0,(v&&this.eu(G,v)>0||y&&this.eu(G,y)<0)&&(p=!0)):!x&&G?(a.track({type:0,doc:G}),te=!0):x&&!G&&(a.track({type:1,doc:x}),te=!0,(v||y)&&(p=!0)),te&&(G?(d=d.add(G),c=ee?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Ss:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(G,Z){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:te})}};return ee(G)-ee(Z)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Ya.size===0&&this.current&&!l?1:0,y=v!==this.Xa;return this.Xa=v,d.length!==0||y?{snapshot:new lo(this.query,e.tu,c,d,e.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new ET(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new vT(a))})),i}cu(e){this.Za=e.ks,this.Ya=ze();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ag="SyncEngine";class sC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class rC{constructor(e){this.key=e,this.hu=!1}}class aC{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>jE(p)),vh),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(ve.comparator),this.Au=new Map,this.Vu=new Xm,this.du={},this.mu=new Map,this.fu=oo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oC(s,e,i=!0){const a=xT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await TT(a,e,i,!0),l}async function lC(s,e){const i=xT(s);await TT(i,e,!0,!1)}async function TT(s,e,i,a){const l=await SR(s.localStore,Vi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await uC(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&dT(s.remoteStore,l),p}async function uC(s,e,i,a,l){s.pu=(w,x,G)=>(async function(ee,te,W,fe){let pe=te.view.ru(W);pe.Ss&&(pe=await $_(ee.localStore,te.query,!1).then((({documents:I})=>te.view.ru(I,pe))));const Oe=fe&&fe.targetChanges.get(te.targetId),He=fe&&fe.targetMismatches.get(te.targetId)!=null,Fe=te.view.applyChanges(pe,ee.isPrimaryClient,Oe,He);return av(ee,te.targetId,Fe.au),Fe.snapshot})(s,w,x,G);const c=await $_(s.localStore,e,!0),d=new iC(e,c.ks),p=d.ru(c.documents),v=Wl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,v);av(s,i,y.au);const A=new sC(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function cC(s,e,i){const a=xe(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Wm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(po)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function hC(s,e){const i=xe(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wm(i.remoteStore,a.targetId))}async function fC(s,e,i){const a=vC(s);try{const l=await(function(d,p){const v=xe(d),y=ft.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),ze());let w,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=ms(),ee=ze();return v.xs.getEntries(G,A).next((te=>{Z=te,Z.forEach(((W,fe)=>{fe.isValidDocument()||(ee=ee.add(W))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,Z))).next((te=>{w=te;const W=[];for(const fe of p){const pe=Ax(fe,w.get(fe.key).overlayedDocument);pe!=null&&W.push(new gr(fe.key,pe,DE(pe.value.mapValue),li.exists(!0)))}return v.mutationQueue.addMutationBatch(G,y,W,p)})).next((te=>{x=te;const W=te.applyToLocalDocumentSet(w,ee);return v.documentOverlayCache.saveOverlays(G,te.batchId,W)}))})).then((()=>({batchId:x.batchId,changes:BE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let y=d.du[d.currentUser.toKey()];y||(y=new pt(Pe)),y=y.insert(p,v),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await tu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=sg(l,"Failed to persist write");i.reject(c)}}async function bT(s,e){const i=xe(s);try{const a=await TR(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Je(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Je(d.hu,14607):l.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await tu(i,a,e)}catch(a){await po(a)}}function rv(s,e,i){const a=xe(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=xe(d);v.onlineState=p;let y=!1;v.queries.forEach(((A,w)=>{for(const x of w.ba)x.va(p)&&(y=!0)})),y&&rg(v)})(a.eventManager,e),l.length&&a.Pu.J_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function dC(s,e,i){const a=xe(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new pt(ve.comparator);d=d.insert(c,an.newNoDocument(c,Se.min()));const p=ze().add(c),v=new Ah(Se.min(),new Map,new pt(Pe),d,p);await bT(a,v),a.Ru=a.Ru.remove(c),a.Au.delete(e),og(a)}else await mm(a.localStore,e,!1).then((()=>ym(a,e,i))).catch(po)}async function mC(s,e){const i=xe(s),a=e.batch.batchId;try{const l=await ER(i.localStore,e);ST(i,a,null),AT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,l)}catch(l){await po(l)}}async function gC(s,e,i){const a=xe(s);try{const l=await(function(d,p){const v=xe(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return v.mutationQueue.lookupMutationBatch(y,p).next((w=>(Je(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>v.localDocuments.getDocuments(y,A)))}))})(a.localStore,e);ST(a,e,i),AT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await tu(a,l)}catch(l){await po(l)}}function AT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function ST(s,e,i){const a=xe(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.du[a.currentUser.toKey()]=l}}function ym(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||wT(s,a)}))}function wT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(Wm(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),og(s))}function av(s,e,i){for(const a of i)a instanceof vT?(s.Vu.addReference(a.key,e),pC(s,a)):a instanceof ET?(le(ag,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||wT(s,a.key)):Te(19791,{wu:a})}function pC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(le(ag,"New document in limbo: "+i),s.Eu.add(a),og(s))}function og(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ve(ht.fromString(e)),a=s.fu.next();s.Au.set(a,new rC(i)),s.Ru=s.Ru.insert(i,a),dT(s.remoteStore,new tr(Vi(Hm(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function tu(s,e,i){const a=xe(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Jm.Es(v.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(v,y){const A=xe(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(x=>$.forEach(x.Ts,(G=>A.persistence.referenceDelegate.addReference(w,x.targetId,G))).next((()=>$.forEach(x.Is,(G=>A.persistence.referenceDelegate.removeReference(w,x.targetId,G)))))))))}catch(w){if(!yo(w))throw w;le(Zm,"Failed to update sequence numbers: "+w)}for(const w of y){const x=w.targetId;if(!w.fromCache){const G=A.vs.get(x),Z=G.snapshotVersion,ee=G.withLastLimboFreeSnapshotVersion(Z);A.vs=A.vs.insert(x,ee)}}})(a.localStore,c))}async function yC(s,e){const i=xe(s);if(!i.currentUser.isEqual(e)){le(ag,"User change. New user:",e.toKey());const a=await uT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new ge(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Ns)}}function _C(s,e){const i=xe(s),a=i.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let l=ze();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function xT(s){const e=xe(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_C.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dC.bind(null,e),e.Pu.J_=eC.bind(null,e.eventManager),e.Pu.yu=tC.bind(null,e.eventManager),e}function vC(s){const e=xe(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gC.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return vR(this.persistence,new pR,e.initialUser,this.serializer)}Cu(e){return new lT($m.Vi,this.serializer)}Du(e){return new xR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class EC extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new lT((a=>lh.Vi(a,i)),this.serializer)}}class _m{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>rv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=yC.bind(null,this.syncEngine),await XR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JR})()}createDatastore(e){const i=Sh(e.databaseInfo.databaseId),a=DR(e.databaseInfo);return LR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,p){return new jR(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>rv(this.syncEngine,i,0)),(function(){return W_.v()?new W_:new RR})())}createSyncEngine(e,i){return(function(l,c,d,p,v,y,A){const w=new aC(l,c,d,p,v,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xe(i);le(ia,"RemoteStore shutting down."),a.Ea.add(5),await eu(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class TC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const dr="FirestoreClient";class bC{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Lm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{le(dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(le(dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=sg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kd(s,e){s.asyncQueue.verifyOperationInProgress(),le(dr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await uT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function ov(s,e){s.asyncQueue.verifyOperationInProgress();const i=await AC(s);le(dr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>tv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>tv(e.remoteStore,l))),s._onlineComponents=e}async function AC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(dr,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;na("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new ch)}}else le(dr,"Using default OfflineComponentProvider"),await Kd(s,new EC(void 0));return s._offlineComponents}async function RT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(dr,"Using user provided OnlineComponentProvider"),await ov(s,s._uninitializedComponentsProvider._online)):(le(dr,"Using default OnlineComponentProvider"),await ov(s,new _m))),s._onlineComponents}function SC(s){return RT(s).then((e=>e.syncEngine))}async function lv(s){const e=await RT(s),i=e.eventManager;return i.onListen=oC.bind(null,e.syncEngine),i.onUnlisten=cC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=hC.bind(null,e.syncEngine),i}function wC(s,e,i,a){const l=new TC(a),c=new nC(e,l,i);return s.asyncQueue.enqueueAndForget((async()=>ZR(await lv(s),c))),()=>{l.Nu(),s.asyncQueue.enqueueAndForget((async()=>WR(await lv(s),c)))}}function xC(s,e){const i=new $r;return s.asyncQueue.enqueueAndForget((async()=>fC(await SC(s),e,i))),i.promise}function CT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const RC="ComponentProvider",uv=new Map;function CC(s,e,i,a,l){return new Gw(s,e,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,CT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const NT="firestore.googleapis.com",cv=!0;class hv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NT,this.ssl=cv}else this.host=e.host,this.ssl=e.ssl??cv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wx)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Sw;switch(a.type){case"firstParty":return new Cw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=uv.get(i);a&&(le(RC,"Removing Datastore"),uv.delete(i),a.terminate())})(this),Promise.resolve()}}function NC(s,e,i,a={}){s=ar(s,Rh);const l=co(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;l&&(Cv(`https://${p}`),Nv("Firestore",!0)),c.host!==NT&&c.host!==p&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:l,emulatorOptions:a};if(!Zr(v,d)&&(s._setSettings(v),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=rn.MOCK_USER;else{y=Fb(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(w)}s._authCredentials=new ww(new vE(y,A))}}class Ch{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class zt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new or(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}toJSON(){return{type:zt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jl(i,zt._jsonSchema))return new zt(e,a||null,new ve(ht.fromString(i.referencePath)))}}zt._jsonSchemaVersion="firestore/documentReference/1.0",zt._jsonSchema={type:Lt("string",zt._jsonSchemaVersion),referencePath:Lt("string")};class or extends Ch{constructor(e,i,a){super(e,i,Hm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ve(e))}withConverter(e){return new or(this.firestore,e,this._path)}}function Al(s,e,...i){if(s=en(s),EE("collection","path",e),s instanceof Rh){const a=ht.fromString(e,...i);return S_(a),new or(s,null,a)}{if(!(s instanceof zt||s instanceof or))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return S_(a),new or(s.firestore,null,a)}}function rs(s,e,...i){if(s=en(s),arguments.length===1&&(e=Lm.newId()),EE("doc","path",e),s instanceof Rh){const a=ht.fromString(e,...i);return A_(a),new zt(s,null,new ve(a))}{if(!(s instanceof zt||s instanceof or))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ht.fromString(e,...i));return A_(a),new zt(s.firestore,s instanceof or?s.converter:null,new ve(a))}}const fv="AsyncQueue";class dv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&le(fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new $r;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;le(fv,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",mv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=ig.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Te(47125,{Pc:mv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function mv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class uo extends Rh{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new dv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dv(e),this._firestoreClient=void 0,await e}}}function IC(s,e){const i=typeof s=="object"?s:Mv(),a=typeof s=="string"?s:th,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=qb("firestore");c&&NC(l,...c)}return l}function IT(s){if(s._terminated)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||DC(s),s._firestoreClient}function DC(s){const e=s._freezeSettings(),i=CC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new bC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(tn.fromBase64String(e))}catch(i){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Lt("string",Kn._jsonSchemaVersion),bytes:Lt("string")};class lg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._methodName=e}}class Li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Lt("string",Li._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class ui{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new ui(e.vectorValues);throw new ge(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Lt("string",ui._jsonSchemaVersion),vectorValues:Lt("object")};const OC=/^__.*__$/;class MC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new gr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(e,this.data,i,this.fieldTransforms)}}class DT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new gr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function OT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class cg{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return hh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(OT(this.dataSource)&&OC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class VC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(e)}createContext(e,i,a,l=!1){return new cg({dataSource:e,methodName:i,targetDoc:a,path:Wt.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(s){const e=s._freezeSettings(),i=Sh(s._databaseId);return new VC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function kC(s,e,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,l);hg("Data must be an object, but it was:",d,a);const p=VT(a,d);let v,y;if(c.merge)v=new Dn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const x=Fl(e,w,i);if(!d.contains(x))throw new ge(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);UT(A,x)||A.push(x)}v=new Dn(A),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new MC(new vn(p),v,y)}class Nh extends ug{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function LC(s,e,i,a){const l=s.createContext(1,e,i);hg("Data must be an object, but it was:",l,a);const c=[],d=vn.empty();mr(a,((v,y)=>{const A=LT(e,v,i);y=en(y);const w=l.childContextForFieldPath(A);if(y instanceof Nh)c.push(A);else{const x=Ih(y,w);x!=null&&(c.push(A),d.set(A,x))}}));const p=new Dn(c);return new DT(d,p,l.fieldTransforms)}function UC(s,e,i,a,l,c){const d=s.createContext(1,e,i),p=[Fl(e,a,i)],v=[l];if(c.length%2!=0)throw new ge(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(Fl(e,c[x])),v.push(c[x+1]);const y=[],A=vn.empty();for(let x=p.length-1;x>=0;--x)if(!UT(y,p[x])){const G=p[x];let Z=v[x];Z=en(Z);const ee=d.childContextForFieldPath(G);if(Z instanceof Nh)y.push(G);else{const te=Ih(Z,ee);te!=null&&(y.push(G),A.set(G,te))}}const w=new Dn(y);return new DT(A,w,d.fieldTransforms)}function Ih(s,e){if(kT(s=en(s)))return hg("Unsupported field value:",e,s),VT(s,e);if(s instanceof ug)return(function(a,l){if(!OT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let v=Ih(p,l.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yx(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ft.fromDate(a);return{timestampValue:oh(l.serializer,c)}}if(a instanceof ft){const c=new ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(l.serializer,c)}}if(a instanceof Li)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kn)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof zt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ui)return(function(d,p){const v=d instanceof ui?d.toArray():d;return{mapValue:{fields:{[NE]:{stringValue:IE},[nh]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw p.createError("VectorValues must only contain numeric values.");return Fm(p.serializer,A)}))}}}}}})(a,l);if(aT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${Um(a)}`)})(s,e)}function VT(s,e){const i={};return AE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mr(s,((a,l)=>{const c=Ih(l,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function kT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ft||s instanceof Li||s instanceof Kn||s instanceof zt||s instanceof ug||s instanceof ui||aT(s))}function hg(s,e,i){if(!kT(i)||!TE(i)){const a=Um(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Fl(s,e,i){if((e=en(e))instanceof lg)return e._internalPath;if(typeof e=="string")return LT(s,e);throw hh("Field path arguments must be of type string or ",s,!1,void 0,i)}const jC=new RegExp("[~\\*/\\[\\]]");function LT(s,e,i){if(e.search(jC)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new lg(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function hh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new ge(J.INVALID_ARGUMENT,p+s+v)}function UT(s,e){return s.some((i=>i.isEqual(e)))}class PC{convertValue(e,i="none"){switch(hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return mr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[nh].arrayValue?.values?.map((a=>xt(a.doubleValue)));return new ui(i)}convertGeoPoint(e){return new Li(xt(e.latitude),xt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=yh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const i=ur(e);return new ft(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ht.fromString(e);Je(rT(a),9688,{name:e});const l=new zl(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return l.isEqual(i)||ds(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class jT extends PC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}}const gv="@firebase/firestore",pv="4.11.0";function yv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class PT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Fl("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class zC extends PT{data(){return super.data()}}function BC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function qC(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Cl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jr extends PT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Fl("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jr._jsonSchema={type:Lt("string",Jr._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Gc extends Jr{data(e={}){return super.data(e)}}class no{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Cl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Gc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Cl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:HC(p.type),doc:v,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=no._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:Lt("string",no._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function Gr(s,e,i,...a){s=ar(s,zt);const l=ar(s.firestore,uo),c=MT(l);let d;return d=typeof(e=en(e))=="string"||e instanceof lg?UC(c,"updateDoc",s._key,e,i,a):LC(c,"updateDoc",s._key,e),fg(l,[d.toMutation(s._key,li.exists(!0))])}function FC(s){return fg(ar(s.firestore,uo),[new Gm(s._key,li.none())])}function Yd(s,e){const i=ar(s.firestore,uo),a=rs(s),l=qC(s.converter,e),c=MT(s.firestore);return fg(i,[kC(c,"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,li.exists(!1))]).then((()=>a))}function _v(s,...e){s=en(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||yv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof zt)d=ar(s.firestore,uo),p=Hm(s._key.path),c={next:y=>{e[a]&&e[a](GC(d,s,y))},error:e[a+1],complete:e[a+2]};else{const y=ar(s,Ch);d=ar(y.firestore,uo),p=y._query;const A=new jT(d);c={next:w=>{e[a]&&e[a](new no(d,A,y,w))},error:e[a+1],complete:e[a+2]},BC(s._query)}const v=IT(d);return wC(v,p,l,c)}function fg(s,e){const i=IT(s);return xC(i,e)}function GC(s,e,i){const a=i.docs.get(e._key),l=new jT(s);return new Jr(s,l,e._key,a,new Cl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){Aw(ho),io(new Wr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new uo(new xw(a.getProvider("auth-internal")),new Nw(d,a.getProvider("app-check-internal")),Qw(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),sr(gv,pv,e),sr(gv,pv,"esm2020")})();const zT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const QC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const KC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const vv=s=>{const e=KC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var YC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const XC=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const $C=qe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},v)=>qe.createElement("svg",{ref:v,...YC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:zT("lucide",l),...!c&&!XC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>qe.createElement(y,A)),...Array.isArray(c)?c:[c]]));const ot=(s,e)=>{const i=qe.forwardRef(({className:a,...l},c)=>qe.createElement($C,{ref:c,iconNode:e,className:zT(`lucide-${QC(vv(s))}`,`lucide-${s}`,a),...l}));return i.displayName=vv(s),i};const JC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],BT=ot("bell",JC);const ZC=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Ev=ot("chart-no-axes-column",ZC);const WC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dg=ot("circle-alert",WC);const eN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qT=ot("circle-check",eN);const tN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nN=ot("circle-x",tN);const iN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],vm=ot("clock",iN);const sN=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],rN=ot("copy",sN);const aN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],oN=ot("download",aN);const lN=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mg=ot("earth",lN);const uN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Tv=ot("external-link",uN);const cN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],HT=ot("file-text",cN);const hN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],FT=ot("folder",hN);const fN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],GT=ot("history",fN);const dN=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],mN=ot("kanban",dN);const gN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],pN=ot("list",gN);const yN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_N=ot("log-out",yN);const vN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],gg=ot("message-square",vN);const EN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],TN=ot("moon",EN);const bN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],AN=ot("pen",bN);const SN=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],QT=ot("pin",SN);const wN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xN=ot("plus",wN);const RN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CN=ot("search",RN);const NN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Em=ot("send",NN);const IN=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],DN=ot("square-check-big",IN);const ON=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],MN=ot("sun",ON);const VN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kN=ot("trash-2",VN);const LN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dh=ot("x",LN),UN={apiKey:"AIzaSyC6xIVImyXjYqtWQtdOkFlO3aBtJLGAcc8",authDomain:"polyglot-pm.firebaseapp.com",projectId:"polyglot-pm",storageBucket:"polyglot-pm.firebasestorage.app",messagingSenderId:"665653580466",appId:"1:665653580466:web:b72025d60f51bc3a85efab",measurementId:"G-RPL0YK36R7"},KT=Ov(UN),Sl=Tw(KT),Gn=IC(KT),Qn=typeof __app_id<"u"?__app_id:"project-dashboard-v1",jN=["Anthony","Andrey","Annika","Mieke","Emily","Unassigned"],Xr=[{id:"P0",label:"P0 - Most Urgent",color:"bg-red-100 text-red-800 border-red-200"},{id:"P1",label:"P1 - Urgent",color:"bg-orange-100 text-orange-800 border-orange-200"},{id:"P2",label:"P2 - Standard",color:"bg-blue-100 text-blue-800 border-blue-200"},{id:"P3",label:"P3 - Completed",color:"bg-green-100 text-green-800 border-green-200"},{id:"P4",label:"P4 - On Hold",color:"bg-gray-100 text-gray-800 border-gray-200"}],Nl=["Heads-up","Need Assessment","In Assessment","Screenshooting","In Progress","Blocked","Pending Reports","Completed"],PN=["ar-SA","da-DK","de-DE","en-GB","es-ES","es-419","it-IT","fr-CA","fr-FR","ja-JP","ko-KR","nl-NL","no-NO","pt-PT","sv-SE","zh-TW"];function zN(){const[s,e]=qe.useState(null),[i,a]=qe.useState([]),[l,c]=qe.useState(!0),[d,p]=qe.useState([]),[v,y]=qe.useState(""),[A,w]=qe.useState(""),[x,G]=qe.useState("All"),[Z,ee]=qe.useState("All"),[te,W]=qe.useState("All"),[fe,pe]=qe.useState(!1),[Oe,He]=qe.useState(null),[Fe,I]=qe.useState(!1),[S,N]=qe.useState(!1),[V,D]=qe.useState("table"),[k,R]=qe.useState([]),[Ze,Et]=qe.useState(!1),H=s?.displayName||s?.email?.split("@")[0]||"Canvas User",ie=H.toLowerCase().includes("anthony")||H==="Canvas User";qe.useEffect(()=>{(async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token&&await a2(Sl,__initial_auth_token)}catch(ue){console.error("Auth error:",ue)}})();const ae=u2(Sl,ue=>{e(ue),c(!1)});return()=>ae()},[]),qe.useEffect(()=>{if(!s)return;const z=Al(Gn,"artifacts",Qn,"public","data","projects"),ae=_v(z,de=>{const ye=de.docs.map(yt=>({id:yt.id,...yt.data()}));if(ye.sort((yt,cn)=>cn.createdAt-yt.createdAt),a(ye),c(!1),Oe){const yt=ye.find(cn=>cn.id===Oe.id);yt&&He(yt)}},de=>{console.error("Error fetching projects:",de),c(!1)}),ue=Al(Gn,"artifacts",Qn,"public","data","notifications"),re=_v(ue,de=>{const ye=de.docs.map(yt=>({id:yt.id,...yt.data()}));p(ye)});return()=>{ae(),re()}},[s,Oe]),qe.useEffect(()=>{Ze?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[Ze]);const me=qe.useMemo(()=>{const z=new Set([...jN,H]);return z.delete("Unassigned"),z.delete("Canvas User"),[...Array.from(z),"Unassigned"]},[H]),De=qe.useMemo(()=>{const z=d.filter(re=>re.recipient===H&&!re.read),ae=[],ue=new Date;return ue.setHours(0,0,0,0),i.forEach(re=>{if(re.assignedLead===H&&re.status!=="Completed"&&re.status!=="Blocked"){const de=(ye,yt)=>{if(!ye)return;const cn=new Date(ye);cn.setHours(0,0,0,0);const Ut=cn-ue,Tt=Math.ceil(Ut/(1e3*60*60*24));Tt<=2&&Tt>=-7&&ae.push({id:`deadline-${re.id}-${yt}`,projectId:re.id,projectName:re.projectName,message:Tt<0?`${yt} ETA is overdue by ${Math.abs(Tt)} day(s)!`:`${yt} ETA is approaching in ${Tt} day(s)`,type:"deadline",timestamp:cn.getTime(),read:!1,isUrgent:Tt<=0})};de(re.clientETA,"Client"),de(re.testerETA,"Tester")}}),[...z,...ae].sort((re,de)=>de.timestamp-re.timestamp)},[d,i,H]),Ye=qe.useMemo(()=>{const z=i.map(ae=>ae.productArea?.trim()).filter(Boolean);return[...new Set(z)].sort()},[i]),M=qe.useMemo(()=>{const z=[];return i.forEach(ae=>{ae.comments&&ae.comments.forEach(ue=>{z.push({...ue,projectName:ae.projectName,projectId:ae.id})})}),z.sort((ae,ue)=>ue.timestamp-ae.timestamp)},[i]),Q=qe.useMemo(()=>i.filter(z=>{const ae=z.bugNumber?.toLowerCase().includes(A.toLowerCase())||z.projectName?.toLowerCase().includes(A.toLowerCase())||z.productArea?.toLowerCase().includes(A.toLowerCase()),ue=x==="All"||z.status===x,re=Z==="All"||z.assignedLead===Z,de=te==="All"||z.productArea?.trim()===te;return ae&&ue&&re&&de}),[i,A,x,Z,te]),se=async z=>{if(!s)return;const ae=Al(Gn,"artifacts",Qn,"public","data","projects"),ue=Al(Gn,"artifacts",Qn,"public","data","notifications");try{let re=z.id;const de=z.id?i.find(ye=>ye.id===z.id):null;if(z.id){const ye=rs(ae,z.id);await Gr(ye,{...z,updatedAt:Date.now()})}else re=(await Yd(ae,{...z,createdAt:Date.now(),updatedAt:Date.now(),comments:[]})).id;z.assignedLead!=="Unassigned"&&z.assignedLead!==H&&(!de||de.assignedLead!==z.assignedLead)&&await Yd(ue,{recipient:z.assignedLead,type:"assignment",message:"assigned you to",projectId:re,projectName:z.projectName,author:H,timestamp:Date.now(),read:!1}),pe(!1)}catch(re){console.error("Error saving project:",re)}},oe=async(z,ae,ue=!1)=>{if(!s||!ae.trim())return;const re=i.find(Tt=>Tt.id===z);if(!re)return;const de={id:crypto.randomUUID(),text:ae,author:H,timestamp:Date.now(),isPinned:ue},ye=[...re.comments||[],de],yt=rs(Gn,"artifacts",Qn,"public","data","projects",z);await Gr(yt,{comments:ye});const cn=ae.match(/@([a-zA-Z0-9_]+)/g)||[],Ut=[...new Set(cn)].map(Tt=>Tt.substring(1));for(const Tt of Ut)Tt!==H&&await Yd(Al(Gn,"artifacts",Qn,"public","data","notifications"),{recipient:Tt,type:"mention",message:"mentioned you in a comment on",projectId:re.id,projectName:re.projectName,author:H,timestamp:Date.now(),read:!1})},be=async(z,ae)=>{const ue=i.find(ye=>ye.id===z);if(!ue)return;const re=ue.comments.map(ye=>ye.id===ae?{...ye,isPinned:!ye.isPinned}:ye),de=rs(Gn,"artifacts",Qn,"public","data","projects",z);await Gr(de,{comments:re})},Re=async z=>{ie&&window.confirm("Are you sure you want to delete this project? This cannot be undone.")&&(await FC(rs(Gn,"artifacts",Qn,"public","data","projects",z)),He(null))},ke=async(z,ae,ue)=>{const re=i.find(ye=>ye.id===z);if(!re)return;const de=re.locales?.map(ye=>ye.name===ae?{...ye,status:ue}:ye)||[];await Gr(rs(Gn,"artifacts",Qn,"public","data","projects",z),{locales:de})},gt=async(z,ae,ue,re)=>{z&&z.stopPropagation&&z.stopPropagation();const de=rs(Gn,"artifacts",Qn,"public","data","projects",ae);await Gr(de,{[ue]:!re,updatedAt:Date.now()})},lt=async z=>{z.startsWith("deadline-")||await Gr(rs(Gn,"artifacts",Qn,"public","data","notifications",z),{read:!0})},ci=async()=>{y("");const z=new as;try{await I2(Sl,z)}catch(ae){console.error("Sign in failed",ae),ae.code==="auth/unauthorized-domain"?(y("Preview Environment detected. Automatically falling back to guest mode..."),setTimeout(async()=>{await t2(Sl)},1500)):y("Sign in failed. Please try again.")}},ps=()=>{if(Q.length===0)return;const ae=[["Bug Number","Project Name","Product Area","Status","Priority","Assigned Lead","Client ETA","Tester ETA","Quote Ready","Quote Sent"].join(",")];Q.forEach(ye=>{const yt=[ye.bugNumber||"",`"${(ye.projectName||"").replace(/"/g,'""')}"`,`"${(ye.productArea||"").replace(/"/g,'""')}"`,ye.status||"",ye.priority||"",ye.assignedLead||"",ye.clientETA||"",ye.testerETA||"",ye.quoteReady?"Yes":"No",ye.quoteSent?"Yes":"No"];ae.push(yt.join(","))});const ue=new Blob([ae.join(`
`)],{type:"text/csv"}),re=window.URL.createObjectURL(ue),de=document.createElement("a");de.href=re,de.download=`Projects_Export_${new Date().toISOString().split("T")[0]}.csv`,de.click()},ys=z=>{R(ae=>ae.includes(z)?ae.filter(ue=>ue!==z):[...ae,z])},_s=()=>{k.length===Q.length&&Q.length>0?R([]):R(Q.map(z=>z.id))},En=async(z,ae)=>{if(k.length===0)return;const ue=k.map(re=>{const de=rs(Gn,"artifacts",Qn,"public","data","projects",re);return Gr(de,{[z]:ae,updatedAt:Date.now()})});await Promise.all(ue),R([])},pr=z=>{const{id:ae,comments:ue,createdAt:re,updatedAt:de,...ye}=z;He(null),pe(!0),He({...ye,projectName:`${ye.projectName} (Copy)`})};return l?E.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-500",children:"Loading Dashboard..."}):s?E.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 font-sans overflow-hidden",children:[E.jsxs("div",{className:"w-16 bg-slate-900 flex flex-col items-center py-6 shadow-xl z-10 justify-between",children:[E.jsxs("div",{className:"flex flex-col items-center gap-6",children:[E.jsx("div",{className:"w-10 h-10 bg-indigo-500 rounded-xl flex items-center justify-center text-white font-bold shadow-lg shadow-indigo-500/30",children:"P"}),E.jsxs("nav",{className:"flex flex-col gap-4 mt-8",children:[E.jsx("button",{onClick:()=>D("table"),className:`p-3 rounded-xl transition-colors ${V==="table"?"text-indigo-400 bg-indigo-500/10":"text-slate-400 hover:text-slate-200"}`,title:"Table View",children:E.jsx(pN,{size:24})}),E.jsx("button",{onClick:()=>D("kanban"),className:`p-3 rounded-xl transition-colors ${V==="kanban"?"text-indigo-400 bg-indigo-500/10":"text-slate-400 hover:text-slate-200"}`,title:"Kanban View",children:E.jsx(mN,{size:24})}),E.jsx("button",{onClick:()=>D("metrics"),className:`p-3 rounded-xl transition-colors ${V==="metrics"?"text-indigo-400 bg-indigo-500/10":"text-slate-400 hover:text-slate-200"}`,title:"Metrics & Analytics",children:E.jsx(Ev,{size:24})})]})]}),E.jsxs("div",{className:"flex flex-col items-center gap-4 mb-2",children:[E.jsx("button",{onClick:()=>Et(!Ze),className:"p-2 text-slate-400 hover:text-amber-400 hover:bg-slate-800 rounded-lg transition-colors",title:"Toggle Dark Mode",children:Ze?E.jsx(MN,{size:20}):E.jsx(TN,{size:20})}),E.jsx("button",{onClick:()=>c2(Sl),className:"p-2 text-slate-400 hover:text-red-400 hover:bg-slate-800 rounded-lg transition-colors",title:"Sign Out",children:E.jsx(_N,{size:20})}),s.displayName||s.email?s.photoURL?E.jsx("img",{src:s.photoURL,alt:H,className:"w-10 h-10 rounded-full border-2 border-slate-700",title:H}):E.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold text-white border-2 border-slate-700 ${ie?"bg-amber-500":"bg-indigo-500"}`,title:H,children:H.charAt(0).toUpperCase()}):E.jsx("button",{onClick:ci,className:"w-10 h-10 rounded-full flex items-center justify-center text-white bg-slate-700 hover:bg-indigo-500 transition-colors border-2 border-slate-600",title:"Sign in with Google",children:"G"})]})]}),E.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[E.jsxs("header",{className:"bg-white border-b border-slate-200 px-8 py-5 flex items-center justify-between",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Polyglot PM"}),E.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage intake, testing, and quotes"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("div",{className:"relative",children:[E.jsx(CN,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),E.jsx("input",{type:"text",placeholder:"Search bugs, projects...",className:"pl-10 pr-4 py-2 bg-slate-100 border-none rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 w-64 transition-all",value:A,onChange:z=>w(z.target.value)})]}),E.jsxs("button",{onClick:()=>N(!0),className:"relative p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-100 rounded-lg transition-colors",title:"Notifications",children:[E.jsx(BT,{size:20}),De.length>0&&E.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[9px] font-bold text-white border border-white",children:De.length>9?"9+":De.length})]}),E.jsx("button",{onClick:()=>I(!0),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",title:"Global Activity History",children:E.jsx(GT,{size:20})}),E.jsx("button",{onClick:ps,className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",title:"Export to CSV",children:E.jsx(oN,{size:20})}),E.jsxs("button",{onClick:()=>{He(null),pe(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 shadow-sm transition-all",children:[E.jsx(xN,{size:18})," New Project"]})]})]}),E.jsxs("div",{className:"px-8 py-4 flex gap-4 bg-white border-b border-slate-100 shadow-sm z-0",children:[E.jsxs("select",{className:"text-sm border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",value:x,onChange:z=>G(z.target.value),children:[E.jsx("option",{value:"All",children:"All Statuses"}),Nl.map(z=>E.jsx("option",{value:z,children:z},z))]}),E.jsxs("select",{className:"text-sm border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",value:Z,onChange:z=>ee(z.target.value),children:[E.jsx("option",{value:"All",children:"All Leads"}),me.map(z=>E.jsx("option",{value:z,children:z},z))]}),E.jsxs("select",{className:"text-sm border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50 text-slate-700 focus:ring-2 focus:ring-indigo-500 outline-none",value:te,onChange:z=>W(z.target.value),children:[E.jsx("option",{value:"All",children:"All Product Areas"}),Ye.map(z=>E.jsx("option",{value:z,children:z},z))]})]}),k.length>0&&V==="table"&&E.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/40 border-b border-indigo-100 dark:border-indigo-800 px-8 py-3 flex items-center justify-between animate-in slide-in-from-top-2",children:[E.jsxs("span",{className:"text-sm font-medium text-indigo-800 dark:text-indigo-300",children:[E.jsx(DN,{size:16,className:"inline mr-2 relative -top-0.5"}),k.length," project(s) selected"]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsxs("select",{onChange:z=>{z.target.value&&En("status",z.target.value),z.target.value=""},className:"text-xs border border-indigo-200 dark:border-indigo-700 rounded-md px-3 py-1.5 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 outline-none",children:[E.jsx("option",{value:"",children:"Set Status..."}),Nl.map(z=>E.jsx("option",{value:z,children:z},z))]}),E.jsxs("select",{onChange:z=>{z.target.value&&En("assignedLead",z.target.value),z.target.value=""},className:"text-xs border border-indigo-200 dark:border-indigo-700 rounded-md px-3 py-1.5 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 outline-none",children:[E.jsx("option",{value:"",children:"Assign To..."}),me.map(z=>E.jsx("option",{value:z,children:z},z))]}),E.jsx("button",{onClick:()=>R([]),className:"text-xs text-indigo-600 dark:text-indigo-400 hover:underline px-2",children:"Cancel"})]})]}),E.jsx("div",{className:"flex-1 overflow-auto p-8 dark:bg-slate-900 transition-colors",children:V==="table"?E.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 overflow-hidden transition-colors",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 text-xs uppercase tracking-wider",children:[E.jsx("th",{className:"px-6 py-4 w-12 text-center",children:E.jsx("input",{type:"checkbox",checked:Q.length>0&&k.length===Q.length,onChange:_s,className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"})}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Bug / Project"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Priority"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Lead"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"ETAs (Client / Tester)"}),E.jsx("th",{className:"px-6 py-4 font-medium",children:"Quotes"})]})}),E.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:Q.length===0?E.jsx("tr",{children:E.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400",children:"No projects found matching your criteria."})}):Q.map(z=>{const ae=Xr.find(re=>re.id===z.priority)||Xr[2],ue=k.includes(z.id);return E.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer group ${ue?"bg-indigo-50/50 dark:bg-indigo-900/20":""}`,onClick:re=>{re.target.tagName.toLowerCase()!=="input"&&He(z)},children:[E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsx("input",{type:"checkbox",checked:ue,onChange:()=>ys(z.id),className:"rounded border-slate-300 text-indigo-600 focus:ring-indigo-500 cursor-pointer"})}),E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("div",{className:"font-mono text-xs text-indigo-600 dark:text-indigo-400 font-medium mb-1",children:z.bugNumber||"No Bug ID"}),E.jsx("div",{className:"font-semibold text-slate-800 dark:text-slate-200",children:z.projectName}),E.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5",children:[z.productArea,"  ",z.devices]})]}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-slate-100 text-slate-700 border border-slate-200",children:[E.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${z.status==="Completed"?"bg-green-500":z.status==="Blocked"?"bg-red-500":"bg-indigo-500"}`}),z.status]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsx("span",{className:`inline-flex px-2 py-0.5 rounded text-xs font-semibold border ${ae.color}`,children:ae.id})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-600",children:z.assignedLead?.charAt(0)}),E.jsx("span",{className:"text-sm text-slate-700",children:z.assignedLead})]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"text-sm text-slate-600 flex flex-col gap-1",children:[E.jsxs("span",{title:"Client ETA",className:"flex items-center gap-1.5",children:[E.jsx(vm,{size:14,className:"text-slate-400"})," ",z.clientETA||"Not set"]}),E.jsxs("span",{title:"Tester ETA",className:"flex items-center gap-1.5 text-xs text-slate-500",children:["T: ",z.testerETA||"Not set"]})]})}),E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:re=>gt(re,z.id,"quoteReady",z.quoteReady),className:`flex items-center justify-center w-7 h-7 rounded transition-colors ${z.quoteReady?"bg-green-100 text-green-600 hover:bg-green-200":"bg-amber-100 text-amber-600 hover:bg-amber-200"}`,title:z.quoteReady?"Quote ready (click to mark needed)":"Quote needed (click to mark ready)",children:z.quoteReady?E.jsx(qT,{size:16}):E.jsx(dg,{size:16})}),E.jsx("button",{onClick:re=>gt(re,z.id,"quoteSent",z.quoteSent),className:`flex items-center justify-center w-7 h-7 rounded transition-colors ${z.quoteSent?"bg-blue-100 text-blue-600 hover:bg-blue-200":"bg-slate-100 text-slate-400 hover:bg-slate-200 hover:text-slate-600"}`,title:z.quoteSent?"Quote sent (click to unmark)":"Quote not sent (click to mark sent)",children:E.jsx(Em,{size:16})})]})})]},z.id)})})]})}):V==="kanban"?E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-6 pb-8",children:Nl.map(z=>{const ae=Q.filter(ue=>ue.status===z);return x!=="All"&&x!==z?null:E.jsxs("div",{className:"flex flex-col h-[450px]",children:[E.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[E.jsxs("h3",{className:"font-semibold text-slate-700 text-sm flex items-center gap-2",children:[E.jsx("span",{className:`w-2 h-2 rounded-full ${z==="Completed"?"bg-green-500":z==="Blocked"?"bg-red-500":"bg-indigo-500"}`}),z]}),E.jsx("span",{className:"text-xs font-medium bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full",children:ae.length})]}),E.jsxs("div",{className:"flex-1 flex flex-col gap-3 overflow-y-auto bg-slate-100/50 rounded-xl p-3 border border-slate-200/50 shadow-inner",children:[ae.map(ue=>{const re=Xr.find(de=>de.id===ue.priority)||Xr[2];return E.jsxs("div",{onClick:()=>He(ue),className:"bg-white p-4 rounded-lg shadow-sm border border-slate-200 cursor-pointer hover:border-indigo-300 hover:shadow-md transition-all group",children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsx("span",{className:"font-mono text-xs text-indigo-600 font-medium bg-indigo-50 px-1.5 py-0.5 rounded",children:ue.bugNumber}),E.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded border ${re.color}`,children:re.id})]}),E.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-1 leading-tight",children:ue.projectName}),E.jsx("p",{className:"text-xs text-slate-500 mb-3",children:ue.productArea}),E.jsxs("div",{className:"flex items-center justify-between mt-auto pt-3 border-t border-slate-100",children:[E.jsx("div",{className:"flex items-center gap-1.5",title:`Lead: ${ue.assignedLead}`,children:E.jsx("div",{className:"w-5 h-5 rounded-full bg-slate-200 flex items-center justify-center text-[10px] font-bold text-slate-600",children:ue.assignedLead?.charAt(0)})}),E.jsxs("div",{className:"flex gap-2",children:[ue.comments?.length>0&&E.jsxs("span",{className:"flex items-center gap-1 text-xs text-slate-400",children:[E.jsx(gg,{size:12})," ",ue.comments.length]}),ue.locales?.length>0&&E.jsxs("span",{className:"flex items-center gap-1 text-xs text-slate-400",children:[E.jsx(mg,{size:12})," ",ue.locales.filter(de=>de.status==="Passed").length,"/",ue.locales.length]})]})]})]},ue.id)}),ae.length===0&&E.jsx("div",{className:"border-2 border-dashed border-slate-200 rounded-lg h-24 flex items-center justify-center text-xs text-slate-400",children:"Drop projects here"})]})]},z)})}):V==="metrics"?E.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 animate-in fade-in zoom-in-95 duration-200",children:[E.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-slate-200 flex items-center gap-2",children:[E.jsx(Ev,{className:"text-indigo-500"})," Analytics & Workload Overview"]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[E.jsx("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-6",children:"Projects by Status"}),E.jsx("div",{className:"space-y-4",children:Nl.map(z=>{const ae=Q.filter(re=>re.status===z).length,ue=Q.length>0?Math.round(ae/Q.length*100):0;return ae===0?null:E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:z}),E.jsxs("span",{className:"text-slate-500",children:[ae," (",ue,"%)"]})]}),E.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2",children:E.jsx("div",{className:`h-2 rounded-full ${z==="Completed"?"bg-green-500":z==="Blocked"?"bg-red-500":"bg-indigo-500"}`,style:{width:`${ue}%`}})})]},z)})})]}),E.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:[E.jsx("h3",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider mb-6",children:"Active Workload by Lead"}),E.jsx("div",{className:"space-y-4",children:me.map(z=>{const ae=Q.filter(de=>de.assignedLead===z&&de.status!=="Completed"&&de.status!=="Blocked").length,ue=Math.max(...me.map(de=>Q.filter(ye=>ye.assignedLead===de&&ye.status!=="Completed"&&ye.status!=="Blocked").length),1),re=Math.round(ae/ue*100);return ae===0&&z!==H?null:E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsxs("span",{className:"font-medium text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[E.jsx("span",{className:"w-4 h-4 rounded-full bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300 flex items-center justify-center text-[10px] font-bold",children:z.charAt(0)}),z]}),E.jsxs("span",{className:"text-slate-500",children:[ae," active"]})]}),E.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2",children:E.jsx("div",{className:"bg-amber-500 h-2 rounded-full transition-all duration-500",style:{width:`${re}%`}})})]},z)})})]})]})]}):null})]}),S&&E.jsx(GN,{notifications:De,onClose:()=>N(!1),onMarkRead:lt,onOpenProject:z=>{const ae=i.find(ue=>ue.id===z);ae&&(He(ae),N(!1))}}),Fe&&E.jsx(FN,{activities:M,onClose:()=>I(!1),onOpenProject:z=>{const ae=i.find(ue=>ue.id===z);ae&&(He(ae),I(!1))}}),fe&&E.jsx(qN,{project:Oe,onClose:()=>{pe(!1),He(null)},onSave:se,teamMembers:me}),Oe&&!fe&&E.jsx(HN,{project:Oe,onClose:()=>He(null),onEdit:()=>pe(!0),onClone:()=>pr(Oe),onAddComment:oe,onTogglePin:be,isAdmin:ie,onDelete:Re,onUpdateLocale:ke,onToggleQuoteField:gt})]}):E.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[E.jsx("div",{className:"w-16 h-16 bg-indigo-500 rounded-2xl flex items-center justify-center text-white font-bold shadow-lg shadow-indigo-500/30 mb-6 text-2xl",children:"P"}),E.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Polyglot PM"}),E.jsx("p",{className:"text-slate-500 mb-8",children:"Please sign in with your Google account to access the dashboard."}),v&&E.jsx("div",{className:"mb-6 p-3 bg-amber-50 text-amber-700 text-sm rounded-lg border border-amber-200",children:v}),E.jsxs("button",{onClick:ci,className:"w-full flex items-center justify-center gap-3 bg-white border-2 border-slate-200 hover:border-indigo-500 hover:bg-indigo-50 text-slate-700 font-semibold py-3 px-6 rounded-xl transition-all",children:[E.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[E.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),E.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),E.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),E.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})]})})}const BN=s=>s?{__html:s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:underline">$1</a>').replace(/`([^`]+)`/g,'<code class="bg-slate-100 dark:bg-slate-800 px-1 py-0.5 rounded text-sm text-pink-600 font-mono">$1</code>').replace(/\n/g,"<br />")}:{__html:""};function qN({project:s,onClose:e,onSave:i,teamMembers:a}){const[l,c]=qe.useState(s||{bugNumber:"",projectName:"",productArea:"",devices:"",assignedLead:"Unassigned",priority:"P2",status:"Need Assessment",testerETA:"",clientETA:"",testCasesCount:"",quoteReady:!1,quoteSent:!1,locales:[],projectFolderUrl:"",quoteUrl:""}),[d,p]=qe.useState(""),v=x=>{const G=x.target.type==="checkbox"?x.target.checked:x.target.value;c(Z=>({...Z,[x.target.name]:G}))},y=x=>{x.preventDefault(),i(l)},A=x=>{c(G=>G.locales?.find(ee=>ee.name===x)?{...G,locales:G.locales.filter(ee=>ee.name!==x)}:{...G,locales:[...G.locales||[],{name:x,status:"Pending"}]})},w=()=>{if(!d.trim())return;const x=d.split(",").map(G=>G.trim()).filter(G=>G);c(G=>{const Z=[...G.locales||[]];return x.forEach(ee=>{Z.find(te=>te.name===ee)||Z.push({name:ee,status:"Pending"})}),{...G,locales:Z}}),p("")};return E.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/20 backdrop-blur-sm",children:E.jsxs("div",{className:"w-[500px] bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[E.jsx("h2",{className:"text-lg font-bold text-slate-800",children:s?"Edit Project":"New Intake Request"}),E.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-200 rounded-full transition-colors",children:E.jsx(Dh,{size:20})})]}),E.jsxs("form",{onSubmit:y,className:"flex-1 overflow-y-auto p-6 flex flex-col gap-5",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Bug Number"}),E.jsx("input",{required:!0,name:"bugNumber",value:l.bugNumber,onChange:v,placeholder:"b/12345678",className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Product Area"}),E.jsx("input",{required:!0,name:"productArea",value:l.productArea,onChange:v,placeholder:"e.g. Search, Maps",className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Project Name"}),E.jsx("input",{required:!0,name:"projectName",value:l.projectName,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Devices / Platforms"}),E.jsx("input",{name:"devices",value:l.devices,onChange:v,placeholder:"iOS, Android, Web...",className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-slate-100",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Assigned Lead"}),E.jsx("select",{name:"assignedLead",value:l.assignedLead,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:a.map(x=>E.jsx("option",{value:x,children:x},x))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Status"}),E.jsx("select",{name:"status",value:l.status,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:Nl.map(x=>E.jsx("option",{value:x,children:x},x))})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Priority"}),E.jsx("select",{name:"priority",value:l.priority,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none",children:Xr.map(x=>E.jsx("option",{value:x.id,children:x.label},x.id))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Test Cases (Count)"}),E.jsx("input",{type:"number",name:"testCasesCount",value:l.testCasesCount,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Client ETA"}),E.jsx("input",{type:"date",name:"clientETA",value:l.clientETA,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Tester ETA"}),E.jsx("input",{type:"date",name:"testerETA",value:l.testerETA,onChange:v,className:"w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-slate-100",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Project Folder Link"}),E.jsxs("div",{className:"relative",children:[E.jsx(FT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),E.jsx("input",{name:"projectFolderUrl",value:l.projectFolderUrl||"",onChange:v,placeholder:"https://drive.google.com/...",className:"w-full pl-9 pr-3 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1.5",children:"Quote Link"}),E.jsxs("div",{className:"relative",children:[E.jsx(HT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),E.jsx("input",{name:"quoteUrl",value:l.quoteUrl||"",onChange:v,placeholder:"https://docs.google.com/...",className:"w-full pl-9 pr-3 py-2.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"})]})]})]}),E.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[E.jsxs("label",{className:"block text-xs font-bold text-slate-800 mb-2 uppercase tracking-wider flex items-center gap-2",children:[E.jsx(mg,{size:14,className:"text-indigo-500"})," Target Locales"]}),E.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Array.from(new Set([...PN,...l.locales?.map(x=>x.name)||[]])).map(x=>{const G=l.locales?.some(Z=>Z.name===x);return E.jsx("button",{type:"button",onClick:()=>A(x),className:`px-3 py-1.5 rounded-lg text-xs font-medium border transition-colors ${G?"bg-indigo-100 border-indigo-300 text-indigo-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:x},x)})}),E.jsxs("div",{className:"flex gap-2 mt-3",children:[E.jsx("input",{type:"text",value:d,onChange:x=>p(x.target.value),onKeyDown:x=>{x.key==="Enter"&&(x.preventDefault(),w())},placeholder:"Add custom (e.g. ru-RU, pl-PL)",className:"flex-1 p-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 outline-none"}),E.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 text-sm font-medium rounded-lg transition-colors",children:"Add"})]})]}),E.jsxs("div",{className:"pt-4 border-t border-slate-100",children:[E.jsx("label",{className:"block text-xs font-bold text-slate-800 mb-3 uppercase tracking-wider",children:"Quote Management"}),E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-100 transition-colors",children:[E.jsx("input",{type:"checkbox",name:"quoteReady",checked:l.quoteReady,onChange:v,className:"w-4 h-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"}),E.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Quote ready"})]}),E.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg border border-slate-200 cursor-pointer hover:bg-slate-100 transition-colors",children:[E.jsx("input",{type:"checkbox",name:"quoteSent",checked:l.quoteSent,onChange:v,className:"w-4 h-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"}),E.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Quote sent"})]})]})]})]}),E.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex justify-end gap-3",children:[E.jsx("button",{onClick:e,className:"px-5 py-2.5 text-sm font-medium text-slate-600 hover:text-slate-900 bg-white border border-slate-200 rounded-lg transition-colors",children:"Cancel"}),E.jsx("button",{onClick:y,className:"px-5 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-sm transition-colors",children:s?s.id?"Save Changes":"Create Clone":"Create Project"})]})]})})}function HN({project:s,onClose:e,onEdit:i,onClone:a,onAddComment:l,onTogglePin:c,isAdmin:d,onDelete:p,onUpdateLocale:v,onToggleQuoteField:y}){const[A,w]=qe.useState(""),[x,G]=qe.useState("newest"),Z=Xr.find(W=>W.id===s.priority)||Xr[2],ee=qe.useMemo(()=>{const W=[...s.comments||[]];return x==="pinned"?W.sort((fe,pe)=>fe.isPinned===pe.isPinned?pe.timestamp-fe.timestamp:fe.isPinned?-1:1):x==="oldest"?W.sort((fe,pe)=>fe.timestamp-pe.timestamp):W.sort((fe,pe)=>pe.timestamp-fe.timestamp)},[s.comments,x]),te=W=>{W.preventDefault(),l(s.id,A),w("")};return E.jsxs("div",{className:"w-[500px] border-l border-slate-200 bg-white flex flex-col h-full shadow-[-4px_0_24px_-10px_rgba(0,0,0,0.1)] z-20",children:[E.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50 relative",children:[E.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 text-slate-400 hover:bg-slate-200 rounded-full transition-colors",children:E.jsx(Dh,{size:20})}),E.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[E.jsx("span",{className:"font-mono text-sm text-indigo-600 font-medium bg-indigo-50 px-2 py-0.5 rounded",children:s.bugNumber}),E.jsx("span",{className:`px-2.5 py-0.5 rounded text-xs font-bold border ${Z.color}`,children:Z.id})]}),E.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-1 pr-8",children:s.projectName}),E.jsxs("p",{className:"text-sm text-slate-500",children:[s.productArea,"  ",s.devices]}),E.jsxs("div",{className:"flex items-center gap-4 mt-5",children:[E.jsxs("button",{onClick:i,className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 hover:text-indigo-600 bg-white border border-slate-200 px-3 py-1.5 rounded-lg transition-colors",children:[E.jsx(AN,{size:14})," Edit"]}),E.jsxs("button",{onClick:a,className:"flex items-center gap-1.5 text-sm font-medium text-slate-600 hover:text-indigo-600 bg-white border border-slate-200 px-3 py-1.5 rounded-lg transition-colors",children:[E.jsx(rN,{size:14})," Clone"]}),E.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium bg-white border border-slate-200 text-slate-700",children:[E.jsx("span",{className:`w-2 h-2 rounded-full ${s.status==="Completed"?"bg-green-500":"bg-indigo-500"}`}),s.status]}),d&&E.jsxs("button",{onClick:()=>p(s.id),className:"ml-auto flex items-center gap-1.5 text-sm font-medium text-red-600 hover:bg-red-50 bg-white border border-red-200 px-3 py-1.5 rounded-lg transition-colors",children:[E.jsx(kN,{size:14})," Delete"]})]})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto",children:[E.jsxs("div",{className:"p-6 border-b border-slate-100 grid grid-cols-2 gap-y-6 gap-x-4",children:[E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Assigned Lead"}),E.jsxs("p",{className:"text-sm font-medium text-slate-800 flex items-center gap-2",children:[E.jsx("span",{className:"w-5 h-5 rounded-full bg-indigo-100 text-indigo-600 flex items-center justify-center text-xs",children:s.assignedLead?.charAt(0)}),s.assignedLead]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Test Cases"}),E.jsx("p",{className:"text-sm font-medium text-slate-800",children:s.testCasesCount||"Not specified"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Client ETA"}),E.jsxs("p",{className:"text-sm font-medium text-slate-800 flex items-center gap-1.5",children:[E.jsx(vm,{size:14,className:"text-slate-400"})," ",s.clientETA||"--"]})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider mb-1",children:"Tester ETA"}),E.jsxs("p",{className:"text-sm font-medium text-slate-800 flex items-center gap-1.5",children:[E.jsx(vm,{size:14,className:"text-slate-400"})," ",s.testerETA||"--"]})]}),(s.projectFolderUrl||s.quoteUrl)&&E.jsxs("div",{className:"col-span-2 flex flex-wrap gap-3 mt-1",children:[s.projectFolderUrl&&E.jsxs("a",{href:s.projectFolderUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-medium text-indigo-700 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100 border border-indigo-200 px-3 py-1.5 rounded-lg transition-colors",children:[E.jsx(FT,{size:16})," Project Folder ",E.jsx(Tv,{size:12,className:"opacity-50"})]}),s.quoteUrl&&E.jsxs("a",{href:s.quoteUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm font-medium text-emerald-700 hover:text-emerald-900 bg-emerald-50 hover:bg-emerald-100 border border-emerald-200 px-3 py-1.5 rounded-lg transition-colors",children:[E.jsx(HT,{size:16})," Quote Doc ",E.jsx(Tv,{size:12,className:"opacity-50"})]})]}),E.jsxs("div",{className:"col-span-2 bg-slate-50 p-3 rounded-lg border border-slate-200 flex gap-6 mt-2",children:[E.jsx("button",{onClick:W=>y(W,s.id,"quoteReady",s.quoteReady),className:"flex items-center gap-2 hover:opacity-75 transition-opacity outline-none",children:s.quoteReady?E.jsxs(E.Fragment,{children:[E.jsx(qT,{size:16,className:"text-green-500"})," ",E.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Quote ready"})]}):E.jsxs(E.Fragment,{children:[E.jsx(dg,{size:16,className:"text-amber-500"})," ",E.jsx("span",{className:"text-sm font-medium text-amber-700",children:"Quote needed"})]})}),E.jsxs("button",{onClick:W=>y(W,s.id,"quoteSent",s.quoteSent),className:"flex items-center gap-2 hover:opacity-75 transition-opacity outline-none",children:[s.quoteSent?E.jsx(Em,{size:16,className:"text-blue-500"}):E.jsx(nN,{size:16,className:"text-slate-300"}),E.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Quote sent"})]})]}),s.locales?.length>0&&E.jsxs("div",{className:"col-span-2 mt-2",children:[E.jsxs("h3",{className:"text-xs font-bold text-slate-800 uppercase tracking-wider flex items-center gap-2 mb-3",children:[E.jsx(mg,{size:14,className:"text-indigo-500"})," Locales Status"]}),E.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden divide-y divide-slate-100",children:s.locales.map(W=>E.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-50 transition-colors",children:[E.jsx("span",{className:"text-sm font-semibold text-slate-700 w-20",children:W.name}),E.jsx("div",{className:"flex gap-1.5",children:["Pending","Testing","Passed","Failed"].map(fe=>E.jsx("button",{onClick:()=>v(s.id,W.name,fe),className:`px-2 py-1 text-[11px] font-medium rounded-md transition-all ${W.status===fe?fe==="Passed"?"bg-green-100 text-green-700":fe==="Failed"?"bg-red-100 text-red-700":fe==="Testing"?"bg-blue-100 text-blue-700":"bg-slate-200 text-slate-700":"bg-white border border-slate-200 text-slate-500 hover:border-slate-300"}`,children:fe},fe))})]},W.name))})]})]}),E.jsxs("div",{className:"p-6",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsxs("h3",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[E.jsx(gg,{size:16})," Activity & Comments (",s.comments?.length||0,")"]}),E.jsxs("select",{value:x,onChange:W=>G(W.target.value),className:"text-xs bg-slate-50 border border-slate-200 rounded p-1 text-slate-600 outline-none",children:[E.jsx("option",{value:"newest",children:"Newest First"}),E.jsx("option",{value:"oldest",children:"Oldest First"}),E.jsx("option",{value:"pinned",children:"Pinned First"})]})]}),E.jsxs("form",{onSubmit:te,className:"mb-6 relative",children:[E.jsx("textarea",{value:A,onChange:W=>w(W.target.value),placeholder:"Write an update or comment...",className:"w-full border border-slate-200 rounded-xl p-3 text-sm focus:ring-2 focus:ring-indigo-500 outline-none resize-none min-h-[80px] bg-slate-50 focus:bg-white transition-colors pb-10",onKeyDown:W=>{W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),te(W))}}),E.jsx("button",{type:"submit",disabled:!A.trim(),className:"absolute bottom-2 right-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-300 text-white p-1.5 rounded-lg transition-colors",children:E.jsx(Em,{size:14})})]}),E.jsxs("div",{className:"space-y-4",children:[ee.map(W=>E.jsxs("div",{className:`p-4 rounded-xl border ${W.isPinned?"bg-amber-50/50 border-amber-200":"bg-white border-slate-100"} shadow-sm relative group`,children:[E.jsxs("div",{className:"flex justify-between items-start mb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-semibold text-sm text-slate-800",children:W.author}),E.jsx("span",{className:"text-xs text-slate-400",children:new Date(W.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),E.jsx("button",{onClick:()=>c(s.id,W.id),className:`p-1 rounded transition-colors ${W.isPinned?"text-amber-500 bg-amber-100":"text-slate-300 hover:text-slate-500 opacity-0 group-hover:opacity-100"}`,title:W.isPinned?"Unpin comment":"Pin comment",children:E.jsx(QT,{size:14,className:W.isPinned?"fill-amber-500":""})})]}),E.jsx("div",{className:"text-sm text-slate-600 leading-relaxed",dangerouslySetInnerHTML:BN(W.text)})]},W.id)),ee.length===0&&E.jsx("div",{className:"text-center text-slate-400 text-sm py-4",children:"No comments yet."})]})]})]})]})}function FN({activities:s,onClose:e,onOpenProject:i}){return E.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/20 backdrop-blur-sm",children:E.jsxs("div",{className:"w-[400px] bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right border-l border-slate-200",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[E.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[E.jsx(GT,{size:18,className:"text-indigo-600"})," Activity History"]}),E.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-200 rounded-full transition-colors",children:E.jsx(Dh,{size:20})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:E.jsx("div",{className:"space-y-6",children:s.length===0?E.jsx("p",{className:"text-center text-slate-500 text-sm mt-10",children:"No activity recorded yet."}):s.map(a=>E.jsxs("div",{className:"relative pl-4 border-l-2 border-slate-200",children:[E.jsx("div",{className:"absolute -left-[5px] top-1.5 w-2 h-2 rounded-full bg-slate-300 border-2 border-white"}),E.jsxs("div",{className:"mb-1 flex items-baseline justify-between",children:[E.jsx("span",{className:"font-semibold text-sm text-slate-800",children:a.author}),E.jsx("span",{className:"text-xs text-slate-400",children:new Date(a.timestamp).toLocaleString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),E.jsxs("p",{className:"text-xs font-medium text-indigo-600 mb-2 cursor-pointer hover:underline flex items-center gap-1",onClick:()=>i(a.projectId),children:["on ",a.projectName]}),E.jsx("p",{className:"text-sm text-slate-600 whitespace-pre-wrap leading-relaxed bg-slate-50 p-3 rounded-lg border border-slate-100",children:a.text})]},a.id))})})]})})}function GN({notifications:s,onClose:e,onOpenProject:i,onMarkRead:a}){return E.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/20 backdrop-blur-sm",children:E.jsxs("div",{className:"w-[400px] bg-white h-full shadow-2xl flex flex-col animate-in slide-in-from-right border-l border-slate-200",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50",children:[E.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[E.jsx(BT,{size:18,className:"text-indigo-600"})," Notifications"]}),E.jsx("button",{onClick:e,className:"p-2 text-slate-400 hover:bg-slate-200 rounded-full transition-colors",children:E.jsx(Dh,{size:20})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:s.length===0?E.jsx("p",{className:"text-center text-slate-500 text-sm mt-10",children:"You're all caught up!"}):s.map(l=>E.jsxs("div",{onClick:()=>{a(l.id),i(l.projectId)},className:`p-4 rounded-xl border cursor-pointer transition-all hover:shadow-md ${l.isUrgent?"bg-red-50 border-red-200":"bg-slate-50 hover:bg-white border-slate-200"}`,children:[E.jsxs("div",{className:"flex justify-between items-start mb-1",children:[E.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold uppercase tracking-wider text-slate-500",children:[l.type==="mention"&&E.jsx(gg,{size:12,className:"text-blue-500"}),l.type==="assignment"&&E.jsx(QT,{size:12,className:"text-emerald-500"}),l.type==="deadline"&&E.jsx(dg,{size:12,className:l.isUrgent?"text-red-500":"text-amber-500"}),l.type]}),E.jsx("span",{className:"text-xs text-slate-400",children:new Date(l.timestamp).toLocaleString([],{month:"short",day:"numeric"})})]}),E.jsxs("p",{className:"text-sm text-slate-700 mt-1",children:[l.author&&E.jsx("span",{className:"font-semibold text-slate-900",children:l.author})," ",l.message," ",E.jsx("span",{className:"font-semibold text-indigo-600",children:l.projectName})]})]},l.id))})]})})}Mb.createRoot(document.getElementById("root")).render(E.jsx(qe.StrictMode,{children:E.jsx(zN,{})}));
