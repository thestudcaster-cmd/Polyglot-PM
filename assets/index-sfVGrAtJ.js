(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function zT(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Vf={exports:{}},wo={};var Ky;function BT(){if(Ky)return wo;Ky=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:f,ref:o!==void 0?o:null,props:c}}return wo.Fragment=e,wo.jsx=i,wo.jsxs=i,wo}var Qy;function qT(){return Qy||(Qy=1,Vf.exports=BT()),Vf.exports}var b=qT(),jf={exports:{}},Re={};var Yy;function HT(){if(Yy)return Re;Yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function K(D){return D===null||typeof D!="object"?null:(D=O&&D[O]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Z={};function ue(D,Y,ie){this.props=D,this.context=Y,this.refs=Z,this.updater=ie||W}ue.prototype.isReactComponent={},ue.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},ue.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function oe(){}oe.prototype=ue.prototype;function be(D,Y,ie){this.props=D,this.context=Y,this.refs=Z,this.updater=ie||W}var Ge=be.prototype=new oe;Ge.constructor=be,q(Ge,ue.prototype),Ge.isPureReactComponent=!0;var mt=Array.isArray;function Pe(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(D,Y,ie){var se=ie.ref;return{$$typeof:s,type:D,key:Y,ref:se!==void 0?se:null,props:ie}}function M(D,Y){return N(D.type,Y,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function j(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ie){return Y[ie]})}var w=/\/+/g;function Xe(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?j(""+D.key):Y.toString(36)}function _t(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Pe,Pe):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function F(D,Y,ie,se,pe){var ve=typeof D;(ve==="undefined"||ve==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(ve){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case s:case e:Me=!0;break;case T:return Me=D._init,F(Me(D._payload),Y,ie,se,pe)}}if(Me)return pe=pe(D),Me=se===""?"."+Xe(D,0):se,mt(pe)?(ie="",Me!=null&&(ie=Me.replace(w,"$&/")+"/"),F(pe,Y,ie,"",function(Ki){return Ki})):pe!=null&&(I(pe)&&(pe=M(pe,ie+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(w,"$&/")+"/")+Me)),Y.push(pe)),1;Me=0;var xt=se===""?".":se+":";if(mt(D))for(var Oe=0;Oe<D.length;Oe++)se=D[Oe],ve=xt+Xe(se,Oe),Me+=F(se,Y,ie,ve,pe);else if(Oe=K(D),typeof Oe=="function")for(D=Oe.call(D),Oe=0;!(se=D.next()).done;)se=se.value,ve=xt+Xe(se,Oe++),Me+=F(se,Y,ie,ve,pe);else if(ve==="object"){if(typeof D.then=="function")return F(_t(D),Y,ie,se,pe);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ne(D,Y,ie){if(D==null)return D;var se=[],pe=0;return F(D,se,"","",function(ve){return Y.call(ie,ve,pe++)}),se}function ce(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(ie){(D._status===0||D._status===-1)&&(D._status=1,D._result=ie)},function(ie){(D._status===0||D._status===-1)&&(D._status=2,D._result=ie)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var He=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},$e={map:ne,forEach:function(D,Y,ie){ne(D,function(){Y.apply(this,arguments)},ie)},count:function(D){var Y=0;return ne(D,function(){Y++}),Y},toArray:function(D){return ne(D,function(Y){return Y})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Re.Activity=x,Re.Children=$e,Re.Component=ue,Re.Fragment=i,Re.Profiler=o,Re.PureComponent=be,Re.StrictMode=a,Re.Suspense=_,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return R.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(D,Y,ie){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var se=q({},D.props),pe=D.key;if(Y!=null)for(ve in Y.key!==void 0&&(pe=""+Y.key),Y)!S.call(Y,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&Y.ref===void 0||(se[ve]=Y[ve]);var ve=arguments.length-2;if(ve===1)se.children=ie;else if(1<ve){for(var Me=Array(ve),xt=0;xt<ve;xt++)Me[xt]=arguments[xt+2];se.children=Me}return N(D.type,pe,se)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,Y,ie){var se,pe={},ve=null;if(Y!=null)for(se in Y.key!==void 0&&(ve=""+Y.key),Y)S.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(pe[se]=Y[se]);var Me=arguments.length-2;if(Me===1)pe.children=ie;else if(1<Me){for(var xt=Array(Me),Oe=0;Oe<Me;Oe++)xt[Oe]=arguments[Oe+2];pe.children=xt}if(D&&D.defaultProps)for(se in Me=D.defaultProps,Me)pe[se]===void 0&&(pe[se]=Me[se]);return N(D,ve,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:g,render:D}},Re.isValidElement=I,Re.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:ce}},Re.memo=function(D,Y){return{$$typeof:y,type:D,compare:Y===void 0?null:Y}},Re.startTransition=function(D){var Y=R.T,ie={};R.T=ie;try{var se=D(),pe=R.S;pe!==null&&pe(ie,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Pe,He)}catch(ve){He(ve)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),R.T=Y}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(D){return R.H.use(D)},Re.useActionState=function(D,Y,ie){return R.H.useActionState(D,Y,ie)},Re.useCallback=function(D,Y){return R.H.useCallback(D,Y)},Re.useContext=function(D){return R.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,Y){return R.H.useDeferredValue(D,Y)},Re.useEffect=function(D,Y){return R.H.useEffect(D,Y)},Re.useEffectEvent=function(D){return R.H.useEffectEvent(D)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(D,Y,ie){return R.H.useImperativeHandle(D,Y,ie)},Re.useInsertionEffect=function(D,Y){return R.H.useInsertionEffect(D,Y)},Re.useLayoutEffect=function(D,Y){return R.H.useLayoutEffect(D,Y)},Re.useMemo=function(D,Y){return R.H.useMemo(D,Y)},Re.useOptimistic=function(D,Y){return R.H.useOptimistic(D,Y)},Re.useReducer=function(D,Y,ie){return R.H.useReducer(D,Y,ie)},Re.useRef=function(D){return R.H.useRef(D)},Re.useState=function(D){return R.H.useState(D)},Re.useSyncExternalStore=function(D,Y,ie){return R.H.useSyncExternalStore(D,Y,ie)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.4",Re}var Xy;function km(){return Xy||(Xy=1,jf.exports=HT()),jf.exports}var Se=km();const FT=zT(Se);var Pf={exports:{}},Ro={},Uf={exports:{}},Lf={};var $y;function GT(){return $y||($y=1,(function(s){function e(F,ne){var ce=F.length;F.push(ne);e:for(;0<ce;){var He=ce-1>>>1,$e=F[He];if(0<o($e,ne))F[He]=ne,F[ce]=$e,ce=He;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ne=F[0],ce=F.pop();if(ce!==ne){F[0]=ce;e:for(var He=0,$e=F.length,D=$e>>>1;He<D;){var Y=2*(He+1)-1,ie=F[Y],se=Y+1,pe=F[se];if(0>o(ie,ce))se<$e&&0>o(pe,ie)?(F[He]=pe,F[se]=ce,He=se):(F[He]=ie,F[Y]=ce,He=Y);else if(se<$e&&0>o(pe,ce))F[He]=pe,F[se]=ce,He=se;else break e}}return ne}function o(F,ne){var ce=F.sortIndex-ne.sortIndex;return ce!==0?ce:F.id-ne.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var _=[],y=[],T=1,x=null,O=3,K=!1,W=!1,q=!1,Z=!1,ue=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,be=typeof setImmediate<"u"?setImmediate:null;function Ge(F){for(var ne=i(y);ne!==null;){if(ne.callback===null)a(y);else if(ne.startTime<=F)a(y),ne.sortIndex=ne.expirationTime,e(_,ne);else break;ne=i(y)}}function mt(F){if(q=!1,Ge(F),!W)if(i(_)!==null)W=!0,Pe||(Pe=!0,j());else{var ne=i(y);ne!==null&&_t(mt,ne.startTime-F)}}var Pe=!1,R=-1,S=5,N=-1;function M(){return Z?!0:!(s.unstable_now()-N<S)}function I(){if(Z=!1,Pe){var F=s.unstable_now();N=F;var ne=!0;try{e:{W=!1,q&&(q=!1,oe(R),R=-1),K=!0;var ce=O;try{t:{for(Ge(F),x=i(_);x!==null&&!(x.expirationTime>F&&M());){var He=x.callback;if(typeof He=="function"){x.callback=null,O=x.priorityLevel;var $e=He(x.expirationTime<=F);if(F=s.unstable_now(),typeof $e=="function"){x.callback=$e,Ge(F),ne=!0;break t}x===i(_)&&a(_),Ge(F)}else a(_);x=i(_)}if(x!==null)ne=!0;else{var D=i(y);D!==null&&_t(mt,D.startTime-F),ne=!1}}break e}finally{x=null,O=ce,K=!1}ne=void 0}}finally{ne?j():Pe=!1}}}var j;if(typeof be=="function")j=function(){be(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Xe=w.port2;w.port1.onmessage=I,j=function(){Xe.postMessage(null)}}else j=function(){ue(I,0)};function _t(F,ne){R=ue(function(){F(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(F){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var ce=O;O=ne;try{return F()}finally{O=ce}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(F,ne){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ce=O;O=F;try{return ne()}finally{O=ce}},s.unstable_scheduleCallback=function(F,ne,ce){var He=s.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?He+ce:He):ce=He,F){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=ce+$e,F={id:T++,callback:ne,priorityLevel:F,startTime:ce,expirationTime:$e,sortIndex:-1},ce>He?(F.sortIndex=ce,e(y,F),i(_)===null&&F===i(y)&&(q?(oe(R),R=-1):q=!0,_t(mt,ce-He))):(F.sortIndex=$e,e(_,F),W||K||(W=!0,Pe||(Pe=!0,j()))),F},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(F){var ne=O;return function(){var ce=O;O=ne;try{return F.apply(this,arguments)}finally{O=ce}}}})(Lf)),Lf}var Jy;function KT(){return Jy||(Jy=1,Uf.exports=GT()),Uf.exports}var zf={exports:{}},on={};var Zy;function QT(){if(Zy)return on;Zy=1;var s=km();function e(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:_,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(_,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(_,y,null,T)},on.flushSync=function(_){var y=f.T,T=a.p;try{if(f.T=null,a.p=2,_)return _()}finally{f.T=y,a.p=T,a.d.f()}},on.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},on.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},on.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:K}):T==="script"&&a.d.X(_,{crossOrigin:x,integrity:O,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},on.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=g(T,y.crossOrigin);a.d.L(_,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(_,y){if(typeof _=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},on.requestFormReset=function(_){a.d.r(_)},on.unstable_batchedUpdates=function(_,y){return _(y)},on.useFormState=function(_,y,T){return f.H.useFormState(_,y,T)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.2.4",on}var Wy;function YT(){if(Wy)return zf.exports;Wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),zf.exports=QT(),zf.exports}var e_;function XT(){if(e_)return Ro;e_=1;var s=KT(),e=km(),i=YT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===r)return _(h),t;if(d===l)return _(h),n;d=d.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=d;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,l=d;break}if(E===l){p=!0,l=h,r=d;break}E=E.sibling}if(!p){for(E=d.child;E;){if(E===r){p=!0,r=d,l=h;break}if(E===l){p=!0,l=d,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),be=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Xe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case ue:return"Profiler";case Z:return"StrictMode";case mt:return"Suspense";case Pe:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case be:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case Ge:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Xe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Xe(t(n))}catch{}}return null}var _t=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},He=[],$e=-1;function D(t){return{current:t}}function Y(t){0>$e||(t.current=He[$e],He[$e]=null,$e--)}function ie(t,n){$e++,He[$e]=t.current,t.current=n}var se=D(null),pe=D(null),ve=D(null),Me=D(null);function xt(t,n){switch(ie(ve,n),ie(pe,t),ie(se,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?gy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=gy(n),t=py(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(se),ie(se,t)}function Oe(){Y(se),Y(pe),Y(ve)}function Ki(t){t.memoizedState!==null&&ie(Me,t);var n=se.current,r=py(n,t.type);n!==r&&(ie(pe,t),ie(se,r))}function Pn(t){pe.current===t&&(Y(se),Y(pe)),Me.current===t&&(Y(Me),To._currentValue=ce)}var Qi,Un;function Ht(t){if(Qi===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Qi=n&&n[1]||"",Un=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qi+t+Un}var Nt=!1;function ln(t,n){if(!t||Nt)return"";Nt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),p=d[0],E=d[1];if(p&&E){var C=p.split(`
`),L=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var G=`
`+C[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=h);break}}}finally{Nt=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ht(r):""}function _r(t,n){switch(t.tag){case 26:case 27:case 5:return Ht(t.type);case 16:return Ht("Lazy");case 13:return t.child!==n&&n!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return ln(t.type,!1);case 11:return ln(t.type.render,!1);case 1:return ln(t.type,!0);case 31:return Ht("Activity");default:return""}}function ti(t){try{var n="",r=null;do n+=_r(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var gt=Object.prototype.hasOwnProperty,vt=s.unstable_scheduleCallback,pi=s.unstable_cancelCallback,vr=s.unstable_shouldYield,da=s.unstable_requestPaint,Yt=s.unstable_now,yi=s.unstable_getCurrentPriorityLevel,Ts=s.unstable_ImmediatePriority,br=s.unstable_UserBlockingPriority,_i=s.unstable_NormalPriority,Sl=s.unstable_LowPriority,Er=s.unstable_IdlePriority,fa=s.log,ee=s.unstable_setDisableYieldValue,re=null,me=null;function Ae(t){if(typeof fa=="function"&&ee(t),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(re,t)}catch{}}var fe=Math.clz32?Math.clz32:Xt,We=Math.log,xe=Math.LN2;function Xt(t){return t>>>=0,t===0?32:31-(We(t)/xe|0)|0}var $t=256,Sn=262144,Et=4194304;function ut(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ln(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=ut(l):(p&=E,p!==0?h=ut(p):r||(r=E&~t,r!==0&&(h=ut(r))))):(E=l&~d,E!==0?h=ut(E):p!==0?h=ut(p):r||(r=l&~t,r!==0&&(h=ut(r)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:h}function wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Uh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function vi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Tr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,l,h,d){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(r=p&~r;0<r;){var G=31-fe(r),X=1<<G;E[G]=0,C[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var H=z[G];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Ar(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(p&~n))}function Ar(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function wl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-fe(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Rl(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:Ly(t.type))}function ni(t,n){var r=ne.p;try{return ne.p=t,n()}finally{ne.p=r}}var ii=Math.random().toString(36).slice(2),It="__reactFiber$"+ii,Ft="__reactProps$"+ii,bi="__reactContainer$"+ii,ma="__reactEvents$"+ii,zh="__reactListeners$"+ii,uu="__reactHandles$"+ii,cu="__reactResources$"+ii,Ei="__reactMarker$"+ii;function ga(t){delete t[It],delete t[Ft],delete t[ma],delete t[zh],delete t[uu]}function Ti(t){var n=t[It];if(n)return n;for(var r=t.parentNode;r;){if(n=r[bi]||r[It]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ay(t);t!==null;){if(r=t[It])return r;t=Ay(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[It]||t[bi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function kt(t){t[Ei]=!0}var Cl=new Set,Nl={};function xi(t,n){Si(t,n),Si(t+"Capture",n)}function Si(t,n){for(Nl[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Dl={};function hu(t){return gt.call(Dl,t)?!0:gt.call(kl,t)?!1:Il.test(t)?Dl[t]=!0:(kl[t]=!0,!1)}function pa(t,n,r){if(hu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Dt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Gt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ol(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,d.call(this,p)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function tt(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Ol(t,n,""+t[n])}}function Sr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function wi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var wr=/[\n"\\]/g;function pn(t){return t.replace(wr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(t,n,r,l,h,d,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Gt(n)):t.value!==""+Gt(n)&&(t.value=""+Gt(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Ml(t,p,Gt(n)):r!=null?Ml(t,p,Gt(r)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Gt(E):t.removeAttribute("name")}function du(t,n,r,l,h,d,p,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){tt(t);return}r=r!=null?""+Gt(r):"",n=n!=null?""+Gt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),tt(t)}function Ml(t,n,r){n==="number"&&wi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xs(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Gt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,r){if(n!=null&&(n=""+Gt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Gt(r):""}function Ss(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(_t(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Gt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),tt(t)}function yn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||mu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function jl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Vl(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&Vl(t,d,n[d])}function _a(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var Pl=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ri=null;function Rr(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[Ft]||null;e:switch(t=n.stateNode,n.type){case"input":if(ya(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Ft]||null;if(!h)throw Error(a(90));ya(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Sr(l)}break e;case"textarea":fu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&xs(t,!!r.multiple,n,!1)}}}var ba=!1;function Cs(t,n,r){if(ba)return t(n,r);ba=!0;try{var l=t(n);return l}finally{if(ba=!1,(Rs!==null||Ri!==null)&&(oc(),Rs&&(n=Rs,t=Ri,Ri=Rs=null,Rr(n),t)))for(n=0;n<t.length;n++)Rr(t[n])}}function ri(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Ft]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(qn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Cr=!1}var Ci=null,Ul=null,Nr=null;function Ll(){if(Nr)return Nr;var t,n=Ul,r=n.length,l,h="value"in Ci?Ci.value:Ci.textContent,d=h.length;for(t=0;t<r&&n[t]===h[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===h[d-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Ir(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xi(){return!0}function ai(){return!1}function Jt(t){function n(r,l,h,d,p){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xi:ai,this.isPropagationStopped=ai,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),n}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Jt($i),Ns=x({},$i,{view:0,detail:0}),zl=Jt(Ns),Is,Ea,Ii,Ta=x({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Is=t.screenX-Ii.screenX,Ea=t.screenY-Ii.screenY):Ea=Is=0,Ii=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Bl=Jt(Ta),kr=x({},Ta,{dataTransfer:0}),pu=Jt(kr),yu=x({},Ns,{relatedTarget:0}),Dr=Jt(yu),ql=x({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Jt(ql),Aa=x({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=Jt(Aa),bu=x({},$i,{data:0}),ki=Jt(bu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function ks(){return xu}var fn=x({},Ns,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ir(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Ir(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ir(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=Jt(fn),wu=x({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Jt(wu),u=x({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Jt(u),v=x({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Jt(v),P=x({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Jt(P),te=x({},$i,{newState:0,oldState:0}),Ne=Jt(te),St=[9,13,27,32],Je=qn&&"CompositionEvent"in window,pt=null;qn&&"documentMode"in document&&(pt=document.documentMode);var Hn=qn&&"TextEvent"in window&&!pt,Di=qn&&(!Je||pt&&8<pt&&11>=pt),li=" ",oi=!1;function Or(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function cE(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(oi=!0,li);case"textInput":return t=n.data,t===li&&oi?null:t;default:return null}}function hE(t,n){if(Sa)return t==="compositionend"||!Je&&Or(t,n)?(t=Ll(),Nr=Ul=Ci=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Di&&n.locale!=="ko"?null:n.data;default:return null}}var dE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!dE[t.type]:n==="textarea"}function Rg(t,n,r,l){Rs?Ri?Ri.push(l):Ri=[l]:Rs=l,n=gc(n,"onChange"),0<n.length&&(r=new Ni("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Hl=null,Fl=null;function fE(t){uy(t,0)}function Ru(t){var n=Rn(t);if(Sr(n))return t}function Cg(t,n){if(t==="change")return n}var Ng=!1;if(qn){var Bh;if(qn){var qh="oninput"in document;if(!qh){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),qh=typeof Ig.oninput=="function"}Bh=qh}else Bh=!1;Ng=Bh&&(!document.documentMode||9<document.documentMode)}function kg(){Hl&&(Hl.detachEvent("onpropertychange",Dg),Fl=Hl=null)}function Dg(t){if(t.propertyName==="value"&&Ru(Fl)){var n=[];Rg(n,Fl,t,Bn(t)),Cs(fE,n)}}function mE(t,n,r){t==="focusin"?(kg(),Hl=n,Fl=r,Hl.attachEvent("onpropertychange",Dg)):t==="focusout"&&kg()}function gE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Fl)}function pE(t,n){if(t==="click")return Ru(n)}function yE(t,n){if(t==="input"||t==="change")return Ru(n)}function _E(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:_E;function Gl(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!gt.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mg(t,n){var r=Og(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Og(r)}}function Vg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Vg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=wi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=wi(t.document)}return n}function Hh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var vE=qn&&"documentMode"in document&&11>=document.documentMode,wa=null,Fh=null,Kl=null,Gh=!1;function Pg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||wa==null||wa!==wi(l)||(l=wa,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kl&&Gl(Kl,l)||(Kl=l,l=gc(Fh,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=wa)))}function Mr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ra={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},Kh={},Ug={};qn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Vr(t){if(Kh[t])return Kh[t];if(!Ra[t])return t;var n=Ra[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ug)return Kh[t]=n[r];return t}var Lg=Vr("animationend"),zg=Vr("animationiteration"),Bg=Vr("animationstart"),bE=Vr("transitionrun"),EE=Vr("transitionstart"),TE=Vr("transitioncancel"),qg=Vr("transitionend"),Hg=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function ui(t,n){Hg.set(t,n),xi(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],Ca=0,Yh=0;function Nu(){for(var t=Ca,n=Yh=Ca=0;n<t;){var r=Fn[n];Fn[n++]=null;var l=Fn[n];Fn[n++]=null;var h=Fn[n];Fn[n++]=null;var d=Fn[n];if(Fn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}d!==0&&Fg(r,h,d)}}function Iu(t,n,r,l){Fn[Ca++]=t,Fn[Ca++]=n,Fn[Ca++]=r,Fn[Ca++]=l,Yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xh(t,n,r,l){return Iu(t,n,r,l),ku(t)}function jr(t,n){return Iu(t,null,null,n),ku(t)}function Fg(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,d=t.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&n!==null&&(h=31-fe(r),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),d):null}function ku(t){if(50<go)throw go=0,rf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Na={};function AE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,r,l){return new AE(t,n,r,l)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var r=t.alternate;return r===null?(r=In(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Gg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,r,l,h,d){var p=0;if(l=t,typeof t=="function")$h(t)&&(p=1);else if(typeof t=="string")p=CT(t,r,se.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=In(31,r,n,h),t.elementType=N,t.lanes=d,t;case q:return Pr(r.children,h,d,n);case Z:p=8,h|=24;break;case ue:return t=In(12,r,n,h|2),t.elementType=ue,t.lanes=d,t;case mt:return t=In(13,r,n,h),t.elementType=mt,t.lanes=d,t;case Pe:return t=In(19,r,n,h),t.elementType=Pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case be:p=10;break e;case oe:p=9;break e;case Ge:p=11;break e;case R:p=14;break e;case S:p=16,l=null;break e}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=In(p,r,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function Pr(t,n,r,l){return t=In(7,t,l,n),t.lanes=r,t}function Jh(t,n,r){return t=In(6,t,null,n),t.lanes=r,t}function Kg(t){var n=In(18,null,null,0);return n.stateNode=t,n}function Zh(t,n,r){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Qg=new WeakMap;function Gn(t,n){if(typeof t=="object"&&t!==null){var r=Qg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ti(n)},Qg.set(t,n),n)}return{value:t,source:n,stack:ti(n)}}var Ia=[],ka=0,Ou=null,Ql=0,Kn=[],Qn=0,Ds=null,Oi=1,Mi="";function Wi(t,n){Ia[ka++]=Ql,Ia[ka++]=Ou,Ou=t,Ql=n}function Yg(t,n,r){Kn[Qn++]=Oi,Kn[Qn++]=Mi,Kn[Qn++]=Ds,Ds=t;var l=Oi;t=Mi;var h=32-fe(l)-1;l&=~(1<<h),r+=1;var d=32-fe(n)+h;if(30<d){var p=h-h%5;d=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Oi=1<<32-fe(n)+h|r<<h|l,Mi=d+t}else Oi=1<<d|r<<h|l,Mi=t}function Wh(t){t.return!==null&&(Wi(t,1),Yg(t,1,0))}function ed(t){for(;t===Ou;)Ou=Ia[--ka],Ia[ka]=null,Ql=Ia[--ka],Ia[ka]=null;for(;t===Ds;)Ds=Kn[--Qn],Kn[Qn]=null,Mi=Kn[--Qn],Kn[Qn]=null,Oi=Kn[--Qn],Kn[Qn]=null}function Xg(t,n){Kn[Qn++]=Oi,Kn[Qn++]=Mi,Kn[Qn++]=Ds,Oi=n.id,Mi=n.overflow,Ds=t}var Zt=null,ct=null,Fe=!1,Os=null,Yn=!1,td=Error(a(519));function Ms(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(Gn(n,t)),td}function $g(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[It]=t,n[Ft]=l,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(r=0;r<yo.length;r++)je(yo[r],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),du(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),Ss(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||fy(n.textContent,r)?(l.popover!=null&&(je("beforetoggle",n),je("toggle",n)),l.onScroll!=null&&je("scroll",n),l.onScrollEnd!=null&&je("scrollend",n),l.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Ms(t,!0)}function Jg(t){for(Zt=t.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Zt=Zt.return}}function Da(t){if(t!==Zt)return!1;if(!Fe)return Jg(t),Fe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||bf(t.type,t.memoizedProps)),r=!r),r&&ct&&Ms(t),Jg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=Ty(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=Ty(t)}else n===27?(n=ct,Ys(t.type)?(t=Sf,Sf=null,ct=t):ct=n):ct=Zt?$n(t.stateNode.nextSibling):null;return!0}function Ur(){ct=Zt=null,Fe=!1}function nd(){var t=Os;return t!==null&&(En===null?En=t:En.push.apply(En,t),Os=null),t}function Yl(t){Os===null?Os=[t]:Os.push(t)}var id=D(null),Lr=null,es=null;function Vs(t,n,r){ie(id,n._currentValue),n._currentValue=r}function ts(t){t._currentValue=id.current,Y(id)}function sd(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function rd(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var p=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){d.lanes|=r,E=d.alternate,E!==null&&(E.lanes|=r),sd(d.return,r,t),l||(p=null);break e}d=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,d=p.alternate,d!==null&&(d.lanes|=r),sd(p,r,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Oa(t,n,r,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Nn(h.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(h===Me.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&rd(n,t,r,l),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Lr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return Zg(Lr,t)}function Vu(t,n){return Lr===null&&zr(t),Zg(t,n)}function Zg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},es===null){if(t===null)throw Error(a(308));es=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else es=es.next=n;return r}var xE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},SE=s.unstable_scheduleCallback,wE=s.unstable_NormalPriority,Ot={$$typeof:be,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ad(){return{controller:new xE,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&SE(wE,function(){t.controller.abort()})}var $l=null,ld=0,Ma=0,Va=null;function RE(t,n){if($l===null){var r=$l=[];ld=0,Ma=hf(),Va={status:"pending",value:void 0,then:function(l){r.push(l)}}}return ld++,n.then(Wg,Wg),n}function Wg(){if(--ld===0&&$l!==null){Va!==null&&(Va.status="fulfilled");var t=$l;$l=null,Ma=0,Va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function CE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ep=F.S;F.S=function(t,n){P0=Yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&RE(t,n),ep!==null&&ep(t,n)};var Br=D(null);function od(){var t=Br.current;return t!==null?t:ot.pooledCache}function ju(t,n){n===null?ie(Br,Br.current):ie(Br,n.pool)}function tp(){var t=od();return t===null?null:{parent:Ot._currentValue,pool:t}}var ja=Error(a(460)),ud=Error(a(474)),Pu=Error(a(542)),Uu={then:function(){}};function np(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ip(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(si,si),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,rp(t),t}throw Hr=n,ja}}function qr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Hr=r,ja):r}}var Hr=null;function sp(){if(Hr===null)throw Error(a(459));var t=Hr;return Hr=null,t}function rp(t){if(t===ja||t===Pu)throw Error(a(483))}var Pa=null,Jl=0;function Lu(t){var n=Jl;return Jl+=1,Pa===null&&(Pa=[]),ip(Pa,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===O?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ap(t){function n(V,k){if(t){var U=V.deletions;U===null?(V.deletions=[k],V.flags|=16):U.push(k)}}function r(V,k){if(!t)return null;for(;k!==null;)n(V,k),k=k.sibling;return null}function l(V){for(var k=new Map;V!==null;)V.key!==null?k.set(V.key,V):k.set(V.index,V),V=V.sibling;return k}function h(V,k){return V=Zi(V,k),V.index=0,V.sibling=null,V}function d(V,k,U){return V.index=U,t?(U=V.alternate,U!==null?(U=U.index,U<k?(V.flags|=67108866,k):U):(V.flags|=67108866,k)):(V.flags|=1048576,k)}function p(V){return t&&V.alternate===null&&(V.flags|=67108866),V}function E(V,k,U,Q){return k===null||k.tag!==6?(k=Jh(U,V.mode,Q),k.return=V,k):(k=h(k,U),k.return=V,k)}function C(V,k,U,Q){var ge=U.type;return ge===q?G(V,k,U.props.children,Q,U.key):k!==null&&(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&qr(ge)===k.type)?(k=h(k,U.props),Zl(k,U),k.return=V,k):(k=Du(U.type,U.key,U.props,null,V.mode,Q),Zl(k,U),k.return=V,k)}function L(V,k,U,Q){return k===null||k.tag!==4||k.stateNode.containerInfo!==U.containerInfo||k.stateNode.implementation!==U.implementation?(k=Zh(U,V.mode,Q),k.return=V,k):(k=h(k,U.children||[]),k.return=V,k)}function G(V,k,U,Q,ge){return k===null||k.tag!==7?(k=Pr(U,V.mode,Q,ge),k.return=V,k):(k=h(k,U),k.return=V,k)}function X(V,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Jh(""+k,V.mode,U),k.return=V,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case K:return U=Du(k.type,k.key,k.props,null,V.mode,U),Zl(U,k),U.return=V,U;case W:return k=Zh(k,V.mode,U),k.return=V,k;case S:return k=qr(k),X(V,k,U)}if(_t(k)||j(k))return k=Pr(k,V.mode,U,null),k.return=V,k;if(typeof k.then=="function")return X(V,Lu(k),U);if(k.$$typeof===be)return X(V,Vu(V,k),U);zu(V,k)}return null}function z(V,k,U,Q){var ge=k!==null?k.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ge!==null?null:E(V,k,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===ge?C(V,k,U,Q):null;case W:return U.key===ge?L(V,k,U,Q):null;case S:return U=qr(U),z(V,k,U,Q)}if(_t(U)||j(U))return ge!==null?null:G(V,k,U,Q,null);if(typeof U.then=="function")return z(V,k,Lu(U),Q);if(U.$$typeof===be)return z(V,k,Vu(V,U),Q);zu(V,U)}return null}function H(V,k,U,Q,ge){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(U)||null,E(k,V,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case K:return V=V.get(Q.key===null?U:Q.key)||null,C(k,V,Q,ge);case W:return V=V.get(Q.key===null?U:Q.key)||null,L(k,V,Q,ge);case S:return Q=qr(Q),H(V,k,U,Q,ge)}if(_t(Q)||j(Q))return V=V.get(U)||null,G(k,V,Q,ge,null);if(typeof Q.then=="function")return H(V,k,U,Lu(Q),ge);if(Q.$$typeof===be)return H(V,k,U,Vu(k,Q),ge);zu(k,Q)}return null}function le(V,k,U,Q){for(var ge=null,Qe=null,he=k,ke=k=0,Le=null;he!==null&&ke<U.length;ke++){he.index>ke?(Le=he,he=null):Le=he.sibling;var Ye=z(V,he,U[ke],Q);if(Ye===null){he===null&&(he=Le);break}t&&he&&Ye.alternate===null&&n(V,he),k=d(Ye,k,ke),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye,he=Le}if(ke===U.length)return r(V,he),Fe&&Wi(V,ke),ge;if(he===null){for(;ke<U.length;ke++)he=X(V,U[ke],Q),he!==null&&(k=d(he,k,ke),Qe===null?ge=he:Qe.sibling=he,Qe=he);return Fe&&Wi(V,ke),ge}for(he=l(he);ke<U.length;ke++)Le=H(he,V,ke,U[ke],Q),Le!==null&&(t&&Le.alternate!==null&&he.delete(Le.key===null?ke:Le.key),k=d(Le,k,ke),Qe===null?ge=Le:Qe.sibling=Le,Qe=Le);return t&&he.forEach(function(Ws){return n(V,Ws)}),Fe&&Wi(V,ke),ge}function _e(V,k,U,Q){if(U==null)throw Error(a(151));for(var ge=null,Qe=null,he=k,ke=k=0,Le=null,Ye=U.next();he!==null&&!Ye.done;ke++,Ye=U.next()){he.index>ke?(Le=he,he=null):Le=he.sibling;var Ws=z(V,he,Ye.value,Q);if(Ws===null){he===null&&(he=Le);break}t&&he&&Ws.alternate===null&&n(V,he),k=d(Ws,k,ke),Qe===null?ge=Ws:Qe.sibling=Ws,Qe=Ws,he=Le}if(Ye.done)return r(V,he),Fe&&Wi(V,ke),ge;if(he===null){for(;!Ye.done;ke++,Ye=U.next())Ye=X(V,Ye.value,Q),Ye!==null&&(k=d(Ye,k,ke),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye);return Fe&&Wi(V,ke),ge}for(he=l(he);!Ye.done;ke++,Ye=U.next())Ye=H(he,V,ke,Ye.value,Q),Ye!==null&&(t&&Ye.alternate!==null&&he.delete(Ye.key===null?ke:Ye.key),k=d(Ye,k,ke),Qe===null?ge=Ye:Qe.sibling=Ye,Qe=Ye);return t&&he.forEach(function(LT){return n(V,LT)}),Fe&&Wi(V,ke),ge}function lt(V,k,U,Q){if(typeof U=="object"&&U!==null&&U.type===q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:e:{for(var ge=U.key;k!==null;){if(k.key===ge){if(ge=U.type,ge===q){if(k.tag===7){r(V,k.sibling),Q=h(k,U.props.children),Q.return=V,V=Q;break e}}else if(k.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&qr(ge)===k.type){r(V,k.sibling),Q=h(k,U.props),Zl(Q,U),Q.return=V,V=Q;break e}r(V,k);break}else n(V,k);k=k.sibling}U.type===q?(Q=Pr(U.props.children,V.mode,Q,U.key),Q.return=V,V=Q):(Q=Du(U.type,U.key,U.props,null,V.mode,Q),Zl(Q,U),Q.return=V,V=Q)}return p(V);case W:e:{for(ge=U.key;k!==null;){if(k.key===ge)if(k.tag===4&&k.stateNode.containerInfo===U.containerInfo&&k.stateNode.implementation===U.implementation){r(V,k.sibling),Q=h(k,U.children||[]),Q.return=V,V=Q;break e}else{r(V,k);break}else n(V,k);k=k.sibling}Q=Zh(U,V.mode,Q),Q.return=V,V=Q}return p(V);case S:return U=qr(U),lt(V,k,U,Q)}if(_t(U))return le(V,k,U,Q);if(j(U)){if(ge=j(U),typeof ge!="function")throw Error(a(150));return U=ge.call(U),_e(V,k,U,Q)}if(typeof U.then=="function")return lt(V,k,Lu(U),Q);if(U.$$typeof===be)return lt(V,k,Vu(V,U),Q);zu(V,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,k!==null&&k.tag===6?(r(V,k.sibling),Q=h(k,U),Q.return=V,V=Q):(r(V,k),Q=Jh(U,V.mode,Q),Q.return=V,V=Q),p(V)):r(V,k)}return function(V,k,U,Q){try{Jl=0;var ge=lt(V,k,U,Q);return Pa=null,ge}catch(he){if(he===ja||he===Pu)throw he;var Qe=In(29,he,null,V.mode);return Qe.lanes=Q,Qe.return=V,Qe}}}var Fr=ap(!0),lp=ap(!1),js=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Us(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(t),Fg(t,null,r),n}return Iu(t,l,n,r),ku(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,wl(t,r)}}function dd(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?h=d=p:d=d.next=p,r=r.next}while(r!==null);d===null?h=d=n:d=d.next=n}else h=d=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var fd=!1;function eo(){if(fd){var t=Va;if(t!==null)throw t}}function to(t,n,r,l){fd=!1;var h=t.updateQueue;js=!1;var d=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,p===null?d=L:p.next=L,p=C;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=C))}if(d!==null){var X=h.baseState;p=0,G=L=C=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(Ue&z)===z:(l&z)===z){z!==0&&z===Ma&&(fd=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,_e=E;z=n;var lt=r;switch(_e.tag){case 1:if(le=_e.payload,typeof le=="function"){X=le.call(lt,X,z);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=_e.payload,z=typeof le=="function"?le.call(lt,X,z):le,z==null)break e;X=x({},X,z);break e;case 2:js=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=H,C=X):G=G.next=H,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(C=X),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=G,d===null&&(h.shared.lanes=0),Hs|=p,t.lanes=p,t.memoizedState=X}}function op(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function up(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)op(r[t],n)}var Ua=D(null),Bu=D(0);function cp(t,n){t=cs,ie(Bu,t),ie(Ua,n),cs=t|n.baseLanes}function md(){ie(Bu,cs),ie(Ua,Ua.current)}function gd(){cs=Bu.current,Y(Ua),Y(Bu)}var kn=D(null),Xn=null;function Ls(t){var n=t.alternate;ie(wt,wt.current&1),ie(kn,t),Xn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Xn=t)}function pd(t){ie(wt,wt.current),ie(kn,t),Xn===null&&(Xn=t)}function hp(t){t.tag===22?(ie(wt,wt.current),ie(kn,t),Xn===null&&(Xn=t)):zs()}function zs(){ie(wt,wt.current),ie(kn,kn.current)}function Dn(t){Y(kn),Xn===t&&(Xn=null),Y(wt)}var wt=D(0);function qu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Af(r)||xf(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ns=0,Ie=null,rt=null,Mt=null,Hu=!1,La=!1,Gr=!1,Fu=0,no=0,za=null,NE=0;function Tt(){throw Error(a(321))}function yd(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Nn(t[r],n[r]))return!1;return!0}function _d(t,n,r,l,h,d){return ns=d,Ie=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?Yp:Od,Gr=!1,d=r(l,h),Gr=!1,La&&(d=fp(n,r,l,h)),dp(t),d}function dp(t){F.H=ro;var n=rt!==null&&rt.next!==null;if(ns=0,Mt=rt=Ie=null,Hu=!1,no=0,za=null,n)throw Error(a(300));t===null||Vt||(t=t.dependencies,t!==null&&Mu(t)&&(Vt=!0))}function fp(t,n,r,l){Ie=t;var h=0;do{if(La&&(za=null),no=0,La=!1,25<=h)throw Error(a(301));if(h+=1,Mt=rt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Xp,d=n(r,l)}while(La);return d}function IE(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],(rt!==null?rt.memoizedState:null)!==t&&(Ie.flags|=1024),n}function vd(){var t=Fu!==0;return Fu=0,t}function bd(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ed(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}ns=0,Mt=rt=Ie=null,La=!1,no=Fu=0,za=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t,Mt}function Rt(){if(rt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var n=Mt===null?Ie.memoizedState:Mt.next;if(n!==null)Mt=n,rt=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Mt===null?Ie.memoizedState=Mt=t:Mt=Mt.next=t}return Mt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=no;return no+=1,za===null&&(za=[]),t=ip(za,t,n),n=Ie,(Mt===null?n.memoizedState:Mt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Yp:Od),t}function Ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===be)return Wt(t)}throw Error(a(438,String(t)))}function Td(t){var n=null,r=Ie.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Ie.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function is(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Rt();return Ad(n,rt,t)}function Ad(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var p=h.next;h.next=d.next,d.next=p}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var E=p=null,C=null,L=n,G=!1;do{var X=L.lane&-536870913;if(X!==L.lane?(Ue&X)===X:(ns&X)===X){var z=L.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),X===Ma&&(G=!0);else if((ns&z)===z){L=L.next,z===Ma&&(G=!0);continue}else X={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=X,p=d):C=C.next=X,Ie.lanes|=z,Hs|=z;X=L.action,Gr&&r(d,X),d=L.hasEagerState?L.eagerState:r(d,X)}else z={lane:X,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=z,p=d):C=C.next=z,Ie.lanes|=X,Hs|=X;L=L.next}while(L!==null&&L!==n);if(C===null?p=d:C.next=E,!Nn(d,t.memoizedState)&&(Vt=!0,G&&(r=Va,r!==null)))throw r;t.memoizedState=d,t.baseState=p,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xd(t){var n=Rt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,d=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do d=t(d,p.action),p=p.next;while(p!==h);Nn(d,n.memoizedState)||(Vt=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function mp(t,n,r){var l=Ie,h=Rt(),d=Fe;if(d){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!Nn((rt||h).memoizedState,r);if(p&&(h.memoizedState=r,Vt=!0),h=h.queue,Rd(yp.bind(null,l,h,t),[t]),h.getSnapshot!==n||p||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,{destroy:void 0},pp.bind(null,l,h,r,n),null),ot===null)throw Error(a(349));d||(ns&127)!==0||gp(l,n,r)}return r}function gp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Ie.updateQueue,n===null?(n=Gu(),Ie.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pp(t,n,r,l){n.value=r,n.getSnapshot=l,_p(n)&&vp(t)}function yp(t,n,r){return r(function(){_p(n)&&vp(t)})}function _p(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Nn(t,r)}catch{return!0}}function vp(t){var n=jr(t,2);n!==null&&Tn(n,t,2)}function Sd(t){var n=mn();if(typeof t=="function"){var r=t;if(t=r(),Gr){Ae(!0);try{r()}finally{Ae(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},n}function bp(t,n,r,l){return t.baseState=r,Ad(t,rt,typeof l=="function"?l:is)}function kE(t,n,r,l,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};F.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Ep(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Ep(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=F.T,p={};F.T=p;try{var E=r(h,l),C=F.S;C!==null&&C(p,E),Tp(t,n,E)}catch(L){wd(t,n,L)}finally{d!==null&&p.types!==null&&(d.types=p.types),F.T=d}}else try{d=r(h,l),Tp(t,n,d)}catch(L){wd(t,n,L)}}function Tp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ap(t,n,l)},function(l){return wd(t,n,l)}):Ap(t,n,r)}function Ap(t,n,r){n.status="fulfilled",n.value=r,xp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Ep(t,r)))}function wd(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,xp(n),n=n.next;while(n!==l)}t.action=null}function xp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sp(t,n){return n}function wp(t,n){if(Fe){var r=ot.formState;if(r!==null){e:{var l=Ie;if(Fe){if(ct){t:{for(var h=ct,d=Yn;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=$n(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(n=r[0])}}return r=mn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sp,lastRenderedState:n},r.queue=l,r=Gp.bind(null,Ie,l),l.dispatch=r,l=Sd(!1),d=Dd.bind(null,Ie,!1,l.queue),l=mn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=kE.bind(null,Ie,h,d,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Rp(t){var n=Rt();return Cp(n,rt,t)}function Cp(t,n,r){if(n=Ad(t,n,Sp)[0],t=Qu(is)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(p){throw p===ja?Pu:p}else l=n;n=Rt();var h=n.queue,d=h.dispatch;return r!==n.memoizedState&&(Ie.flags|=2048,Ba(9,{destroy:void 0},DE.bind(null,h,r),null)),[l,d,t]}function DE(t,n){t.action=n}function Np(t){var n=Rt(),r=rt;if(r!==null)return Cp(n,r,t);Rt(),n=n.memoizedState,r=Rt();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ba(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Ie.updateQueue,n===null&&(n=Gu(),Ie.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Ip(){return Rt().memoizedState}function Yu(t,n,r,l){var h=mn();Ie.flags|=t,h.memoizedState=Ba(1|n,{destroy:void 0},r,l===void 0?null:l)}function Xu(t,n,r,l){var h=Rt();l=l===void 0?null:l;var d=h.memoizedState.inst;rt!==null&&l!==null&&yd(l,rt.memoizedState.deps)?h.memoizedState=Ba(n,d,r,l):(Ie.flags|=t,h.memoizedState=Ba(1|n,d,r,l))}function kp(t,n){Yu(8390656,8,t,n)}function Rd(t,n){Xu(2048,8,t,n)}function OE(t){Ie.flags|=4;var n=Ie.updateQueue;if(n===null)n=Gu(),Ie.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Dp(t){var n=Rt().memoizedState;return OE({ref:n,nextImpl:t}),function(){if((Ze&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Op(t,n){return Xu(4,2,t,n)}function Mp(t,n){return Xu(4,4,t,n)}function Vp(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function jp(t,n,r){r=r!=null?r.concat([t]):null,Xu(4,4,Vp.bind(null,n,t),r)}function Cd(){}function Pp(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yd(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Up(t,n){var r=Rt();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yd(n,l[1]))return l[0];if(l=t(),Gr){Ae(!0);try{t()}finally{Ae(!1)}}return r.memoizedState=[l,n],l}function Nd(t,n,r){return r===void 0||(ns&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=L0(),Ie.lanes|=t,Hs|=t,r)}function Lp(t,n,r,l){return Nn(r,n)?r:Ua.current!==null?(t=Nd(t,r,l),Nn(t,n)||(Vt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=r):(t=L0(),Ie.lanes|=t,Hs|=t,n)}function zp(t,n,r,l,h){var d=ne.p;ne.p=d!==0&&8>d?d:8;var p=F.T,E={};F.T=E,Dd(t,!1,n,r);try{var C=h(),L=F.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=CE(C,l);so(t,n,G,Vn(t))}else so(t,n,l,Vn(t))}catch(X){so(t,n,{then:function(){},status:"rejected",reason:X},Vn())}finally{ne.p=d,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function ME(){}function Id(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=Bp(t).queue;zp(t,h,n,ce,r===null?ME:function(){return qp(t),r(l)})}function Bp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ce},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qp(t){var n=Bp(t);n.next===null&&(n=t.alternate.memoizedState),so(t,n.next.queue,{},Vn())}function kd(){return Wt(To)}function Hp(){return Rt().memoizedState}function Fp(){return Rt().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Vn();t=Ps(r);var l=Us(n,t,r);l!==null&&(Tn(l,n,r),Wl(l,n,r)),n={cache:ad()},t.payload=n;return}n=n.return}}function jE(t,n,r){var l=Vn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?Kp(n,r):(r=Xh(t,n,r,l),r!==null&&(Tn(r,t,l),Qp(r,n,l)))}function Gp(t,n,r){var l=Vn();so(t,n,r,l)}function so(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))Kp(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var p=n.lastRenderedState,E=d(p,r);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,p))return Iu(t,n,h,0),ot===null&&Nu(),!1}catch{}if(r=Xh(t,n,h,l),r!==null)return Tn(r,t,l),Qp(r,n,l),!0}return!1}function Dd(t,n,r,l){if(l={lane:2,revertLane:hf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Xh(t,r,l,2),n!==null&&Tn(n,t,2)}function $u(t){var n=t.alternate;return t===Ie||n!==null&&n===Ie}function Kp(t,n){La=Hu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Qp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,wl(t,r)}}var ro={readContext:Wt,use:Ku,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};ro.useEffectEvent=Tt;var Yp={readContext:Wt,use:Ku,useCallback:function(t,n){return mn().memoizedState=[t,n===void 0?null:n],t},useContext:Wt,useEffect:kp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Yu(4194308,4,Vp.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var r=mn();n=n===void 0?null:n;var l=t();if(Gr){Ae(!0);try{t()}finally{Ae(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=mn();if(r!==void 0){var h=r(n);if(Gr){Ae(!0);try{r(n)}finally{Ae(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=jE.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var n=mn();return t={current:t},n.memoizedState=t},useState:function(t){t=Sd(t);var n=t.queue,r=Gp.bind(null,Ie,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cd,useDeferredValue:function(t,n){var r=mn();return Nd(r,t,n)},useTransition:function(){var t=Sd(!1);return t=zp.bind(null,Ie,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Ie,h=mn();if(Fe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ot===null)throw Error(a(349));(Ue&127)!==0||gp(l,n,r)}h.memoizedState=r;var d={value:r,getSnapshot:n};return h.queue=d,kp(yp.bind(null,l,d,t),[t]),l.flags|=2048,Ba(9,{destroy:void 0},pp.bind(null,l,d,r,n),null),r},useId:function(){var t=mn(),n=ot.identifierPrefix;if(Fe){var r=Mi,l=Oi;r=(l&~(1<<32-fe(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Fu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=NE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kd,useFormState:wp,useActionState:wp,useOptimistic:function(t){var n=mn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Dd.bind(null,Ie,!0,r),r.dispatch=n,[t,n]},useMemoCache:Td,useCacheRefresh:function(){return mn().memoizedState=VE.bind(null,Ie)},useEffectEvent:function(t){var n=mn(),r={impl:t};return n.memoizedState=r,function(){if((Ze&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Od={readContext:Wt,use:Ku,useCallback:Pp,useContext:Wt,useEffect:Rd,useImperativeHandle:jp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:Up,useReducer:Qu,useRef:Ip,useState:function(){return Qu(is)},useDebugValue:Cd,useDeferredValue:function(t,n){var r=Rt();return Lp(r,rt.memoizedState,t,n)},useTransition:function(){var t=Qu(is)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:kd,useFormState:Rp,useActionState:Rp,useOptimistic:function(t,n){var r=Rt();return bp(r,rt,t,n)},useMemoCache:Td,useCacheRefresh:Fp};Od.useEffectEvent=Dp;var Xp={readContext:Wt,use:Ku,useCallback:Pp,useContext:Wt,useEffect:Rd,useImperativeHandle:jp,useInsertionEffect:Op,useLayoutEffect:Mp,useMemo:Up,useReducer:xd,useRef:Ip,useState:function(){return xd(is)},useDebugValue:Cd,useDeferredValue:function(t,n){var r=Rt();return rt===null?Nd(r,t,n):Lp(r,rt.memoizedState,t,n)},useTransition:function(){var t=xd(is)[0],n=Rt().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:kd,useFormState:Np,useActionState:Np,useOptimistic:function(t,n){var r=Rt();return rt!==null?bp(r,rt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Td,useCacheRefresh:Fp};Xp.useEffectEvent=Dp;function Md(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vd={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Vn(),h=Ps(l);h.payload=n,r!=null&&(h.callback=r),n=Us(t,h,l),n!==null&&(Tn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Vn(),h=Ps(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Us(t,h,l),n!==null&&(Tn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Vn(),l=Ps(r);l.tag=2,n!=null&&(l.callback=n),n=Us(t,l,r),n!==null&&(Tn(n,t,r),Wl(n,t,r))}};function $p(t,n,r,l,h,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,p):n.prototype&&n.prototype.isPureReactComponent?!Gl(r,l)||!Gl(h,d):!0}function Jp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vd.enqueueReplaceState(n,n.state,null)}function Kr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=x({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Zp(t){Cu(t)}function Wp(t){console.error(t)}function e0(t){Cu(t)}function Ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function t0(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jd(t,n,r){return r=Ps(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(t,n)},r}function n0(t){return t=Ps(t),t.tag=3,t}function i0(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){t0(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){t0(n,r,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=kn.current,r!==null){switch(r.tag){case 31:case 13:return Xn===null?uc():r.alternate===null&&At===0&&(At=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Uu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),of(t,l,h)),!1;case 22:return r.flags|=65536,l===Uu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),of(t,l,h)),!1}throw Error(a(435,r.tag))}return of(t,l,h),uc(),!1}if(Fe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==td&&(t=Error(a(422),{cause:l}),Yl(Gn(t,r)))):(l!==td&&(n=Error(a(423),{cause:l}),Yl(Gn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Gn(l,r),h=jd(t.stateNode,l,h),dd(t,h),At!==4&&(At=2)),!1;var d=Error(a(520),{cause:l});if(d=Gn(d,r),mo===null?mo=[d]:mo.push(d),At!==4&&(At=2),n===null)return!0;l=Gn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jd(r.stateNode,l,t),dd(r,t),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return r.flags|=65536,h&=-h,r.lanes|=h,h=n0(h),i0(h,t,r,l),dd(r,h),!1}r=r.return}while(r!==null);return!1}var Pd=Error(a(461)),Vt=!1;function en(t,n,r,l){n.child=t===null?lp(n,null,r,l):Fr(n,t.child,r,l)}function s0(t,n,r,l,h){r=r.render;var d=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return zr(n),l=_d(t,n,r,p,d,h),E=vd(),t!==null&&!Vt?(bd(t,n,h),ss(t,n,h)):(Fe&&E&&Wh(n),n.flags|=1,en(t,n,l,h),n.child)}function r0(t,n,r,l,h){if(t===null){var d=r.type;return typeof d=="function"&&!$h(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,a0(t,n,d,l,h)):(t=Du(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!Gd(t,h)){var p=d.memoizedProps;if(r=r.compare,r=r!==null?r:Gl,r(p,l)&&t.ref===n.ref)return ss(t,n,h)}return n.flags|=1,t=Zi(d,l),t.ref=n.ref,t.return=n,n.child=t}function a0(t,n,r,l,h){if(t!==null){var d=t.memoizedProps;if(Gl(d,l)&&t.ref===n.ref)if(Vt=!1,n.pendingProps=l=d,Gd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return n.lanes=t.lanes,ss(t,n,h)}return Ud(t,n,r,l,h)}function l0(t,n,r,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,n.child=null;return o0(t,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ju(n,d!==null?d.cachePool:null),d!==null?cp(n,d):md(),hp(n);else return l=n.lanes=536870912,o0(t,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(ju(n,d.cachePool),cp(n,d),zs(),n.memoizedState=null):(t!==null&&ju(n,null),md(),zs());return en(t,n,h,r),n.child}function ao(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function o0(t,n,r,l,h){var d=od();return d=d===null?null:{parent:Ot._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},t!==null&&ju(n,null),md(),hp(n),t!==null&&Oa(t,n,l,!0),n.childLanes=h,null}function Zu(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function u0(t,n,r){return Fr(n,t.child,null,r),t=Zu(n,n.pendingProps),t.flags|=2,Dn(n),n.memoizedState=null,t}function UE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Zu(n,l),n.lanes=536870912,ao(null,t);if(pd(n),(t=ct)?(t=Ey(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=Kg(t),r.return=n,n.child=r,Zt=n,ct=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Zu(n,l)}var d=t.memoizedState;if(d!==null){var p=d.dehydrated;if(pd(n),h)if(n.flags&256)n.flags&=-257,n=u0(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Vt||Oa(t,n,r,!1),h=(r&t.childLanes)!==0,Vt||h){if(l=ot,l!==null&&(p=Rl(l,r),p!==0&&p!==d.retryLane))throw d.retryLane=p,jr(t,p),Tn(l,t,p),Pd;uc(),n=u0(t,n,r)}else t=d.treeContext,ct=$n(p.nextSibling),Zt=n,Fe=!0,Os=null,Yn=!1,t!==null&&Xg(n,t),n=Zu(n,l),n.flags|=4096;return n}return t=Zi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Ud(t,n,r,l,h){return zr(n),r=_d(t,n,r,l,void 0,h),l=vd(),t!==null&&!Vt?(bd(t,n,h),ss(t,n,h)):(Fe&&l&&Wh(n),n.flags|=1,en(t,n,r,h),n.child)}function c0(t,n,r,l,h,d){return zr(n),n.updateQueue=null,r=fp(n,l,r,h),dp(t),l=vd(),t!==null&&!Vt?(bd(t,n,d),ss(t,n,d)):(Fe&&l&&Wh(n),n.flags|=1,en(t,n,r,d),n.child)}function h0(t,n,r,l,h){if(zr(n),n.stateNode===null){var d=Na,p=r.contextType;typeof p=="object"&&p!==null&&(d=Wt(p)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vd,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},cd(n),p=r.contextType,d.context=typeof p=="object"&&p!==null?Wt(p):Na,d.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Md(n,r,p,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Vd.enqueueReplaceState(d,d.state,null),to(n,l,d,h),eo(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var E=n.memoizedProps,C=Kr(r,E);d.props=C;var L=d.context,G=r.contextType;p=Na,typeof G=="object"&&G!==null&&(p=Wt(G));var X=r.getDerivedStateFromProps;G=typeof X=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==p)&&Jp(n,d,l,p),js=!1;var z=n.memoizedState;d.state=z,to(n,l,d,h),eo(),L=n.memoizedState,E||z!==L||js?(typeof X=="function"&&(Md(n,r,X,l),L=n.memoizedState),(C=js||$p(n,r,C,l,z,L,p))?(G||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),d.props=l,d.state=L,d.context=p,l=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,hd(t,n),p=n.memoizedProps,G=Kr(r,p),d.props=G,X=n.pendingProps,z=d.context,L=r.contextType,C=Na,typeof L=="object"&&L!==null&&(C=Wt(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==X||z!==C)&&Jp(n,d,l,C),js=!1,z=n.memoizedState,d.state=z,to(n,l,d,h),eo();var H=n.memoizedState;p!==X||z!==H||js||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof E=="function"&&(Md(n,r,E,l),H=n.memoizedState),(G=js||$p(n,r,G,l,z,H,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),d.props=l,d.state=H,d.context=C,l=G):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Wu(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,r,h)):en(t,n,r,h),n.memoizedState=d.state,t=n.child):t=ss(t,n,h),t}function d0(t,n,r,l){return Ur(),n.flags|=256,en(t,n,r,l),n.child}var Ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zd(t){return{baseLanes:t,cachePool:tp()}}function Bd(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Mn),t}function f0(t,n,r){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,p;if((p=d)||(p=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Fe){if(h?Ls(n):zs(),(t=ct)?(t=Ey(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=Kg(t),r.return=n,n.child=r,Zt=n,ct=null)):t=null,t===null)throw Ms(n);return xf(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(zs(),h=n.mode,E=ec({mode:"hidden",children:E},h),l=Pr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=zd(r),l.childLanes=Bd(t,p,r),n.memoizedState=Ld,ao(null,l)):(Ls(n),qd(n,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)n.flags&256?(Ls(n),n.flags&=-257,n=Hd(t,n,r)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=l.fallback,h=n.mode,l=ec({mode:"visible",children:l.children},h),E=Pr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Fr(n,t.child,null,r),l=n.child,l.memoizedState=zd(r),l.childLanes=Bd(t,p,r),n.memoizedState=Ld,n=ao(null,l));else if(Ls(n),xf(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var L=p.dgst;p=L,l=Error(a(419)),l.stack="",l.digest=p,Yl({value:l,source:null,stack:null}),n=Hd(t,n,r)}else if(Vt||Oa(t,n,r,!1),p=(r&t.childLanes)!==0,Vt||p){if(p=ot,p!==null&&(l=Rl(p,r),l!==0&&l!==C.retryLane))throw C.retryLane=l,jr(t,l),Tn(p,t,l),Pd;Af(E)||uc(),n=Hd(t,n,r)}else Af(E)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,ct=$n(E.nextSibling),Zt=n,Fe=!0,Os=null,Yn=!1,t!==null&&Xg(n,t),n=qd(n,l.children),n.flags|=4096);return n}return h?(zs(),E=l.fallback,h=n.mode,C=t.child,L=C.sibling,l=Zi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Zi(L,E):(E=Pr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,ao(null,l),l=n.child,E=t.child.memoizedState,E===null?E=zd(r):(h=E.cachePool,h!==null?(C=Ot._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=tp(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Bd(t,p,r),n.memoizedState=Ld,ao(t.child,l)):(Ls(n),r=t.child,t=r.sibling,r=Zi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function qd(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=In(22,t,null,n),t.lanes=0,t}function Hd(t,n,r){return Fr(n,t.child,null,r),t=qd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function m0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sd(t.return,n,r)}function Fd(t,n,r,l,h,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=r,p.tailMode=h,p.treeForkCount=d)}function g0(t,n,r){var l=n.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var p=wt.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ie(wt,p),en(t,n,l,r),l=Fe?Ql:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m0(t,r,n);else if(t.tag===19)m0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&qu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Fd(n,!1,h,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Fd(n,!0,r,null,d,l);break;case"together":Fd(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ss(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Oa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Zi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Zi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Gd(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function LE(t,n,r){switch(n.tag){case 3:xt(n,n.stateNode.containerInfo),Vs(n,Ot,t.memoizedState.cache),Ur();break;case 27:case 5:Ki(n);break;case 4:xt(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pd(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?f0(t,n,r):(Ls(n),t=ss(t,n,r),t!==null?t.sibling:null);Ls(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Oa(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return g0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(wt,wt.current),l)break;return null;case 22:return n.lanes=0,l0(t,n,r,n.pendingProps);case 24:Vs(n,Ot,t.memoizedState.cache)}return ss(t,n,r)}function p0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Vt=!0;else{if(!Gd(t,r)&&(n.flags&128)===0)return Vt=!1,LE(t,n,r);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(n.flags&1048576)!==0&&Yg(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=qr(n.elementType),n.type=t,typeof t=="function")$h(t)?(l=Kr(t,l),n.tag=1,n=h0(null,n,t,l,r)):(n.tag=0,n=Ud(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ge){n.tag=11,n=s0(null,n,t,l,r);break e}else if(h===R){n.tag=14,n=r0(null,n,t,l,r);break e}}throw n=Xe(t)||t,Error(a(306,n,""))}}return n;case 0:return Ud(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Kr(l,n.pendingProps),h0(t,n,l,h,r);case 3:e:{if(xt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,hd(t,n),to(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Vs(n,Ot,l),l!==d.cache&&rd(n,[Ot],r,!0),eo(),l=p.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=d0(t,n,l,r);break e}else if(l!==h){h=Gn(Error(a(424)),n),Yl(h),n=d0(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=$n(t.firstChild),Zt=n,Fe=!0,Os=null,Yn=!0,r=lp(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),l===h){n=ss(t,n,r);break e}en(t,n,l,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=Ry(n.type,null,n.pendingProps,null))?n.memoizedState=r:Fe||(r=n.type,t=n.pendingProps,l=pc(ve.current).createElement(r),l[It]=n,l[Ft]=t,tn(l,r,t),kt(l),n.stateNode=l):n.memoizedState=Ry(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ki(n),t===null&&Fe&&(l=n.stateNode=xy(n.type,n.pendingProps,ve.current),Zt=n,Yn=!0,h=ct,Ys(n.type)?(Sf=h,ct=$n(l.firstChild)):ct=h),en(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Fe&&((h=l=ct)&&(l=gT(l,n.type,n.pendingProps,Yn),l!==null?(n.stateNode=l,Zt=n,ct=$n(l.firstChild),Yn=!1,h=!0):h=!1),h||Ms(n)),Ki(n),h=n.type,d=n.pendingProps,p=t!==null?t.memoizedProps:null,l=d.children,bf(h,d)?l=null:p!==null&&bf(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=_d(t,n,IE,null,null,r),To._currentValue=h),Wu(t,n),en(t,n,l,r),n.child;case 6:return t===null&&Fe&&((t=r=ct)&&(r=pT(r,n.pendingProps,Yn),r!==null?(n.stateNode=r,Zt=n,ct=null,t=!0):t=!1),t||Ms(n)),null;case 13:return f0(t,n,r);case 4:return xt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,r):en(t,n,l,r),n.child;case 11:return s0(t,n,n.type,n.pendingProps,r);case 7:return en(t,n,n.pendingProps,r),n.child;case 8:return en(t,n,n.pendingProps.children,r),n.child;case 12:return en(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Vs(n,n.type,l.value),en(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,zr(n),h=Wt(h),l=l(h),n.flags|=1,en(t,n,l,r),n.child;case 14:return r0(t,n,n.type,n.pendingProps,r);case 15:return a0(t,n,n.type,n.pendingProps,r);case 19:return g0(t,n,r);case 31:return UE(t,n,r);case 22:return l0(t,n,r,n.pendingProps);case 24:return zr(n),l=Wt(Ot),t===null?(h=od(),h===null&&(h=ot,d=ad(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=r),h=d),n.memoizedState={parent:l,cache:h},cd(n),Vs(n,Ot,h)):((t.lanes&r)!==0&&(hd(t,n),to(n,null,null,r),eo()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Ot,l)):(l=d.cache,Vs(n,Ot,l),l!==h.cache&&rd(n,[Ot],r,!0))),en(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function rs(t){t.flags|=4}function Kd(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(H0())t.flags|=8192;else throw Hr=Uu,ud}else t.flags&=-16777217}function y0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Dy(n))if(H0())t.flags|=8192;else throw Hr=Uu,ud}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?lu():536870912,t.lanes|=n,Ga|=n)}function lo(t,n){if(!Fe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function zE(t,n,r){var l=n.pendingProps;switch(ed(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ts(Ot),Oe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(n)?rs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nd())),ht(n),null;case 26:var h=n.type,d=n.memoizedState;return t===null?(rs(n),d!==null?(ht(n),y0(n,d)):(ht(n),Kd(n,h,null,l,r))):d?d!==t.memoizedState?(rs(n),ht(n),y0(n,d)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(n),ht(n),Kd(n,h,t,l,r)),null;case 27:if(Pn(n),r=ve.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=se.current,Da(n)?$g(n):(t=xy(h,l,r),n.stateNode=t,rs(n))}return ht(n),null;case 5:if(Pn(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(d=se.current,Da(n))$g(n);else{var p=pc(ve.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}d[It]=n,d[Ft]=l;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=d;e:switch(tn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(n)}}return ht(n),Kd(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&rs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ve.current,Da(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=Zt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||fy(t.nodeValue,r)),t||Ms(n,!0)}else t=pc(t).createTextNode(l),t[It]=n,n.stateNode=t}return ht(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Da(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[It]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else r=nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Dn(n),n):(Dn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[It]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=nd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Dn(n),n):(Dn(n),null)}return Dn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),ht(n),null);case 4:return Oe(),t===null&&gf(n.stateNode.containerInfo),ht(n),null;case 10:return ts(n.type),ht(n),null;case 19:if(Y(wt),l=n.memoizedState,l===null)return ht(n),null;if(h=(n.flags&128)!==0,d=l.rendering,d===null)if(h)lo(l,!1);else{if(At!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=qu(t),d!==null){for(n.flags|=128,lo(l,!1),t=d.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Gg(r,t),r=r.sibling;return ie(wt,wt.current&1|2),Fe&&Wi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Yt()>ac&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304)}else{if(!h)if(t=qu(d),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(n),null}else 2*Yt()-l.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(t=l.last,t!==null?t.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Yt(),t.sibling=null,r=wt.current,ie(wt,h?r&1|2:r&1),Fe&&Wi(n,l.treeForkCount),t):(ht(n),null);case 22:case 23:return Dn(n),gd(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(Br),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ts(Ot),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function BE(t,n){switch(ed(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ts(Ot),Oe(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pn(n),null;case 31:if(n.memoizedState!==null){if(Dn(n),n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(wt),null;case 4:return Oe(),null;case 10:return ts(n.type),null;case 22:case 23:return Dn(n),gd(),t!==null&&Y(Br),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ts(Ot),null;case 25:return null;default:return null}}function _0(t,n){switch(ed(n),n.tag){case 3:ts(Ot),Oe();break;case 26:case 27:case 5:Pn(n);break;case 4:Oe();break;case 31:n.memoizedState!==null&&Dn(n);break;case 13:Dn(n);break;case 19:Y(wt);break;case 10:ts(n.type);break;case 22:case 23:Dn(n),gd(),t!==null&&Y(Br);break;case 24:ts(Ot)}}function oo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var d=r.create,p=r.inst;l=d(),p.destroy=l}r=r.next}while(r!==h)}}catch(E){it(n,n.return,E)}}function Bs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=r,L=E;try{L()}catch(G){it(h,C,G)}}}l=l.next}while(l!==d)}}catch(G){it(n,n.return,G)}}function v0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{up(n,r)}catch(l){it(t,t.return,l)}}}function b0(t,n,r){r.props=Kr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){it(t,n,l)}}function uo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){it(t,n,h)}}function Vi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){it(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){it(t,n,h)}else r.current=null}function E0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){it(t,t.return,h)}}function Qd(t,n,r){try{var l=t.stateNode;uT(l,t.type,r,n),l[Ft]=n}catch(h){it(t,t.return,h)}}function T0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Yd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xd(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=si));else if(l!==4&&(l===27&&Ys(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xd(t,n,r),t=t.sibling;t!==null;)Xd(t,n,r),t=t.sibling}function nc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function A0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);tn(n,l,r),n[It]=t,n[Ft]=r}catch(d){it(t,t.return,d)}}var as=!1,jt=!1,$d=!1,x0=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function qE(t,n){if(t=t.containerInfo,_f=Ac,t=jg(t),Hh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var p=0,E=-1,C=-1,L=0,G=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=p+h),X!==d||l!==0&&X.nodeType!==3||(C=p+l),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++L===h&&(E=p),z===d&&++G===l&&(C=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(vf={focusedElem:t,selectionRange:r},Ac=!1,Kt=n;Kt!==null;)if(n=Kt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kt=t;else for(;Kt!==null;){switch(n=Kt,d=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,r=n,h=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var le=Kr(r.type,h);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){it(r,r.return,_e)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Tf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Kt=t;break}Kt=n.return}}function S0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),l&4&&oo(5,r);break;case 1:if(os(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(p){it(r,r.return,p)}else{var h=Kr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){it(r,r.return,p)}}l&64&&v0(r),l&512&&uo(r,r.return);break;case 3:if(os(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{up(t,n)}catch(p){it(r,r.return,p)}}break;case 27:n===null&&l&4&&A0(r);case 26:case 5:os(t,r),n===null&&l&4&&E0(r),l&512&&uo(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),l&4&&C0(t,r);break;case 13:os(t,r),l&4&&N0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=JE.bind(null,r),yT(t,r))));break;case 22:if(l=r.memoizedState!==null||as,!l){n=n!==null&&n.memoizedState!==null||jt,h=as;var d=jt;as=l,(jt=n)&&!d?us(t,r,(r.subtreeFlags&8772)!==0):os(t,r),as=h,jt=d}break;case 30:break;default:os(t,r)}}function w0(t){var n=t.alternate;n!==null&&(t.alternate=null,w0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ga(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,_n=!1;function ls(t,n,r){for(r=r.child;r!==null;)R0(t,n,r),r=r.sibling}function R0(t,n,r){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:jt||Vi(r,n),ls(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||Vi(r,n);var l=yt,h=_n;Ys(r.type)&&(yt=r.stateNode,_n=!1),ls(t,n,r),vo(r.stateNode),yt=l,_n=h;break;case 5:jt||Vi(r,n);case 6:if(l=yt,h=_n,yt=null,ls(t,n,r),yt=l,_n=h,yt!==null)if(_n)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(r.stateNode)}catch(d){it(r,n,d)}else try{yt.removeChild(r.stateNode)}catch(d){it(r,n,d)}break;case 18:yt!==null&&(_n?(t=yt,vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wa(t)):vy(yt,r.stateNode));break;case 4:l=yt,h=_n,yt=r.stateNode.containerInfo,_n=!0,ls(t,n,r),yt=l,_n=h;break;case 0:case 11:case 14:case 15:Bs(2,r,n),jt||Bs(4,r,n),ls(t,n,r);break;case 1:jt||(Vi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&b0(r,n,l)),ls(t,n,r);break;case 21:ls(t,n,r);break;case 22:jt=(l=jt)||r.memoizedState!==null,ls(t,n,r),jt=l;break;default:ls(t,n,r)}}function C0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Wa(t)}catch(r){it(n,n.return,r)}}}function N0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wa(t)}catch(r){it(n,n.return,r)}}function HE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new x0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new x0),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var r=HE(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=ZE.bind(null,t,l);l.then(h,h)}})}function vn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],d=t,p=n,E=p;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){yt=E.stateNode,_n=!1;break e}break;case 5:yt=E.stateNode,_n=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,_n=!0;break e}E=E.return}if(yt===null)throw Error(a(160));R0(d,p,h),yt=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)I0(n,t),n=n.sibling}var ci=null;function I0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(n,t),bn(t),l&4&&(Bs(3,t,t.return),oo(3,t),Bs(5,t,t.return));break;case 1:vn(n,t),bn(t),l&512&&(jt||r===null||Vi(r,r.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ci;if(vn(n,t),bn(t),l&512&&(jt||r===null||Vi(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),tn(d,l,r),d[It]=t,kt(d),l=d;break e;case"link":var p=Iy("link","href",h).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(d=p[E],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break t}}d=h.createElement(l),tn(d,l,r),h.head.appendChild(d);break;case"meta":if(p=Iy("meta","content",h).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(d=p[E],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break t}}d=h.createElement(l),tn(d,l,r),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[It]=t,kt(d),l=d}t.stateNode=l}else ky(h,t.type,t.stateNode);else t.stateNode=Ny(h,l,t.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?ky(h,t.type,t.stateNode):Ny(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qd(t,t.memoizedProps,r.memoizedProps)}break;case 27:vn(n,t),bn(t),l&512&&(jt||r===null||Vi(r,r.return)),r!==null&&l&4&&Qd(t,t.memoizedProps,r.memoizedProps);break;case 5:if(vn(n,t),bn(t),l&512&&(jt||r===null||Vi(r,r.return)),t.flags&32){h=t.stateNode;try{yn(h,"")}catch(le){it(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Qd(t,h,r!==null?r.memoizedProps:h)),l&1024&&($d=!0);break;case 6:if(vn(n,t),bn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){it(t,t.return,le)}}break;case 3:if(vc=null,h=ci,ci=yc(n.containerInfo),vn(n,t),ci=h,bn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(le){it(t,t.return,le)}$d&&($d=!1,k0(t));break;case 4:l=ci,ci=yc(t.stateNode.containerInfo),vn(n,t),bn(t),ci=l;break;case 12:vn(n,t),bn(t);break;case 31:vn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 13:vn(n,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rc=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 22:h=t.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,L=as,G=jt;if(as=L||h,jt=G||C,vn(n,t),jt=G,as=L,bn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||C||as||jt||Qr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(d=C.stateNode,h)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(le){it(C,C.return,le)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(le){it(C,C.return,le)}}}else if(n.tag===18){if(r===null){C=n;try{var H=C.stateNode;h?by(H,!0):by(C.stateNode,!1)}catch(le){it(C,C.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,ic(t,r))));break;case 19:vn(n,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ic(t,l)));break;case 30:break;case 21:break;default:vn(n,t),bn(t)}}function bn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(T0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,d=Yd(t);nc(t,d,h);break;case 5:var p=r.stateNode;r.flags&32&&(yn(p,""),r.flags&=-33);var E=Yd(t);nc(t,E,p);break;case 3:case 4:var C=r.stateNode.containerInfo,L=Yd(t);Xd(t,L,C);break;default:throw Error(a(161))}}catch(G){it(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function k0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;k0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function os(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)S0(t,n.alternate,n),n=n.sibling}function Qr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Qr(n);break;case 1:Vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&b0(n,n.return,r),Qr(n);break;case 27:vo(n.stateNode);case 26:case 5:Vi(n,n.return),Qr(n);break;case 22:n.memoizedState===null&&Qr(n);break;case 30:Qr(n);break;default:Qr(n)}t=t.sibling}}function us(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,p=d.flags;switch(d.tag){case 0:case 11:case 15:us(h,d,r),oo(4,d);break;case 1:if(us(h,d,r),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){it(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)op(C[h],E)}catch(L){it(l,l.return,L)}}r&&p&64&&v0(d),uo(d,d.return);break;case 27:A0(d);case 26:case 5:us(h,d,r),r&&l===null&&p&4&&E0(d),uo(d,d.return);break;case 12:us(h,d,r);break;case 31:us(h,d,r),r&&p&4&&C0(h,d);break;case 13:us(h,d,r),r&&p&4&&N0(h,d);break;case 22:d.memoizedState===null&&us(h,d,r),uo(d,d.return);break;case 30:break;default:us(h,d,r)}n=n.sibling}}function Jd(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xl(r))}function Zd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t))}function hi(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)D0(t,n,r,l),n=n.sibling}function D0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,r,l),h&2048&&oo(9,n);break;case 1:hi(t,n,r,l);break;case 3:hi(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t)));break;case 12:if(h&2048){hi(t,n,r,l),t=n.stateNode;try{var d=n.memoizedProps,p=d.id,E=d.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){it(n,n.return,C)}}else hi(t,n,r,l);break;case 31:hi(t,n,r,l);break;case 13:hi(t,n,r,l);break;case 23:break;case 22:d=n.stateNode,p=n.alternate,n.memoizedState!==null?d._visibility&2?hi(t,n,r,l):co(t,n):d._visibility&2?hi(t,n,r,l):(d._visibility|=2,qa(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jd(p,n);break;case 24:hi(t,n,r,l),h&2048&&Zd(n.alternate,n);break;default:hi(t,n,r,l)}}function qa(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=t,p=n,E=r,C=l,L=p.flags;switch(p.tag){case 0:case 11:case 15:qa(d,p,E,C,h),oo(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?qa(d,p,E,C,h):co(d,p):(G._visibility|=2,qa(d,p,E,C,h)),h&&L&2048&&Jd(p.alternate,p);break;case 24:qa(d,p,E,C,h),h&&L&2048&&Zd(p.alternate,p);break;default:qa(d,p,E,C,h)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:co(r,l),h&2048&&Jd(l.alternate,l);break;case 24:co(r,l),h&2048&&Zd(l.alternate,l);break;default:co(r,l)}n=n.sibling}}var ho=8192;function Ha(t,n,r){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)O0(t,n,r),t=t.sibling}function O0(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&ho&&t.memoizedState!==null&&NT(r,ci,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var l=ci;ci=yc(t.stateNode.containerInfo),Ha(t,n,r),ci=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ho,ho=16777216,Ha(t,n,r),ho=l):Ha(t,n,r));break;default:Ha(t,n,r)}}function M0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Kt=l,j0(l,t)}M0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V0(t),t=t.sibling}function V0(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):fo(t);break;default:fo(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Kt=l,j0(l,t)}M0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function j0(t,n){for(;Kt!==null;){var r=Kt;switch(r.tag){case 0:case 11:case 15:Bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Kt=l;else e:for(r=t;Kt!==null;){l=Kt;var h=l.sibling,d=l.return;if(w0(l),l===r){Kt=null;break e}if(h!==null){h.return=d,Kt=h;break e}Kt=d}}}var FE={getCacheForType:function(t){var n=Wt(Ot),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return Wt(Ot).controller.signal}},GE=typeof WeakMap=="function"?WeakMap:Map,Ze=0,ot=null,Ve=null,Ue=0,nt=0,On=null,qs=!1,Fa=!1,Wd=!1,cs=0,At=0,Hs=0,Yr=0,ef=0,Mn=0,Ga=0,mo=null,En=null,tf=!1,rc=0,P0=0,ac=1/0,lc=null,Fs=null,zt=0,Gs=null,Ka=null,hs=0,nf=0,sf=null,U0=null,go=0,rf=null;function Vn(){return(Ze&2)!==0&&Ue!==0?Ue&-Ue:F.T!==null?hf():ou()}function L0(){if(Mn===0)if((Ue&536870912)===0||Fe){var t=Sn;Sn<<=1,(Sn&3932160)===0&&(Sn=262144),Mn=t}else Mn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Mn}function Tn(t,n,r){(t===ot&&(nt===2||nt===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),Ks(t,Ue,Mn,!1)),Tr(t,r),((Ze&2)===0||t!==ot)&&(t===ot&&((Ze&2)===0&&(Yr|=r),At===4&&Ks(t,Ue,Mn,!1)),ji(t))}function z0(t,n,r){if((Ze&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||wn(t,n),h=l?YE(t,n):lf(t,n,!0),d=l;do{if(h===0){Fa&&!l&&Ks(t,n,0,!1);break}else{if(r=t.current.alternate,d&&!KE(r)){h=lf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var E=t;h=mo;var C=E.current.memoizedState.isDehydrated;if(C&&(Qa(E,p).flags|=256),p=lf(E,p,!1),p!==2){if(Wd&&!C){E.errorRecoveryDisabledLanes|=d,Yr|=d,h=4;break e}d=En,En=h,d!==null&&(En===null?En=d:En.push.apply(En,d))}h=p}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Ks(t,n,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(l,n,Mn,!qs);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Yt(),10<h)){if(Ks(l,n,Mn,!qs),Ln(l,0,!0)!==0)break e;hs=n,l.timeoutHandle=yy(B0.bind(null,l,r,En,lc,tf,n,Mn,Yr,Ga,qs,d,"Throttled",-0,0),h);break e}B0(l,r,En,lc,tf,n,Mn,Yr,Ga,qs,d,null,-0,0)}}break}while(!0);ji(t)}function B0(t,n,r,l,h,d,p,E,C,L,G,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},O0(n,d,X);var le=(d&62914560)===d?rc-Yt():(d&4194048)===d?P0-Yt():0;if(le=IT(X,le),le!==null){hs=d,t.cancelPendingCommit=le(X0.bind(null,t,n,d,r,l,h,p,E,C,G,X,null,z,H)),Ks(t,d,p,!L);return}}X0(t,n,d,r,l,h,p,E,C)}function KE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],d=h.getSnapshot;h=h.value;try{if(!Nn(d(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,r,l){n&=~ef,n&=~Yr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-fe(h),p=1<<d;l[d]=-1,h&=~p}r!==0&&Ar(t,r,n)}function oc(){return(Ze&6)===0?(po(0),!1):!0}function af(){if(Ve!==null){if(nt===0)var t=Ve.return;else t=Ve,es=Lr=null,Ed(t),Pa=null,Jl=0,t=Ve;for(;t!==null;)_0(t.alternate,t),t=t.return;Ve=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hs=0,af(),ot=t,Ve=r=Zi(t.current,null),Ue=n,nt=0,On=null,qs=!1,Fa=wn(t,n),Wd=!1,Ga=Mn=ef=Yr=Hs=At=0,En=mo=null,tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-fe(l),d=1<<h;n|=t[h],l&=~d}return cs=n,Nu(),r}function q0(t,n){Ie=null,F.H=ro,n===ja||n===Pu?(n=sp(),nt=3):n===ud?(n=sp(),nt=4):nt=n===Pd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Ve===null&&(At=1,Ju(t,Gn(n,t.current)))}function H0(){var t=kn.current;return t===null?!0:(Ue&4194048)===Ue?Xn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Xn:!1}function F0(){var t=F.H;return F.H=ro,t===null?ro:t}function G0(){var t=F.A;return F.A=FE,t}function uc(){At=4,qs||(Ue&4194048)!==Ue&&kn.current!==null||(Fa=!0),(Hs&134217727)===0&&(Yr&134217727)===0||ot===null||Ks(ot,Ue,Mn,!1)}function lf(t,n,r){var l=Ze;Ze|=2;var h=F0(),d=G0();(ot!==t||Ue!==n)&&(lc=null,Qa(t,n)),n=!1;var p=At;e:do try{if(nt!==0&&Ve!==null){var E=Ve,C=On;switch(nt){case 8:af(),p=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var L=nt;if(nt=0,On=null,Ya(t,E,C,L),r&&Fa){p=0;break e}break;default:L=nt,nt=0,On=null,Ya(t,E,C,L)}}QE(),p=At;break}catch(G){q0(t,G)}while(!0);return n&&t.shellSuspendCounter++,es=Lr=null,Ze=l,F.H=h,F.A=d,Ve===null&&(ot=null,Ue=0,Nu()),p}function QE(){for(;Ve!==null;)K0(Ve)}function YE(t,n){var r=Ze;Ze|=2;var l=F0(),h=G0();ot!==t||Ue!==n?(lc=null,ac=Yt()+500,Qa(t,n)):Fa=wn(t,n);e:do try{if(nt!==0&&Ve!==null){n=Ve;var d=On;t:switch(nt){case 1:nt=0,On=null,Ya(t,n,d,1);break;case 2:case 9:if(np(d)){nt=0,On=null,Q0(n);break}n=function(){nt!==2&&nt!==9||ot!==t||(nt=7),ji(t)},d.then(n,n);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:np(d)?(nt=0,On=null,Q0(n)):(nt=0,On=null,Ya(t,n,d,7));break;case 5:var p=null;switch(Ve.tag){case 26:p=Ve.memoizedState;case 5:case 27:var E=Ve;if(p?Dy(p):E.stateNode.complete){nt=0,On=null;var C=E.sibling;if(C!==null)Ve=C;else{var L=E.return;L!==null?(Ve=L,cc(L)):Ve=null}break t}}nt=0,On=null,Ya(t,n,d,5);break;case 6:nt=0,On=null,Ya(t,n,d,6);break;case 8:af(),At=6;break e;default:throw Error(a(462))}}XE();break}catch(G){q0(t,G)}while(!0);return es=Lr=null,F.H=l,F.A=h,Ze=r,Ve!==null?0:(ot=null,Ue=0,Nu(),At)}function XE(){for(;Ve!==null&&!vr();)K0(Ve)}function K0(t){var n=p0(t.alternate,t,cs);t.memoizedProps=t.pendingProps,n===null?cc(t):Ve=n}function Q0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=c0(r,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=c0(r,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Ed(n);default:_0(r,n),n=Ve=Gg(n,cs),n=p0(r,n,cs)}t.memoizedProps=t.pendingProps,n===null?cc(t):Ve=n}function Ya(t,n,r,l){es=Lr=null,Ed(n),Pa=null,Jl=0;var h=n.return;try{if(PE(t,h,n,r,Ue)){At=1,Ju(t,Gn(r,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;At=1,Ju(t,Gn(r,t.current)),Ve=null;return}n.flags&32768?(Fe||l===1?t=!0:Fa||(Ue&536870912)!==0?t=!1:(qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y0(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){Y0(n,qs);return}t=n.return;var r=zE(n.alternate,n,cs);if(r!==null){Ve=r;return}if(n=n.sibling,n!==null){Ve=n;return}Ve=n=t}while(n!==null);At===0&&(At=5)}function Y0(t,n){do{var r=BE(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);At=6,Ve=null}function X0(t,n,r,l,h,d,p,E,C){t.cancelPendingCommit=null;do hc();while(zt!==0);if((Ze&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Yh,Lh(t,r,d,p,E,C),t===ot&&(Ve=ot=null,Ue=0),Ka=n,Gs=t,hs=r,nf=d,sf=h,U0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,WE(_i,function(){return ey(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ne.p,ne.p=2,p=Ze,Ze|=4;try{qE(t,n,r)}finally{Ze=p,ne.p=h,F.T=l}}zt=1,$0(),J0(),Z0()}}function $0(){if(zt===1){zt=0;var t=Gs,n=Ka,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{I0(n,t);var d=vf,p=jg(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(p!==E&&E&&E.ownerDocument&&Vg(E.ownerDocument.documentElement,E)){if(C!==null&&Hh(E)){var L=C.start,G=C.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),le=E.textContent.length,_e=Math.min(C.start,le),lt=C.end===void 0?_e:Math.min(C.end,le);!H.extend&&_e>lt&&(p=lt,lt=_e,_e=p);var V=Mg(E,_e),k=Mg(E,lt);if(V&&k&&(H.rangeCount!==1||H.anchorNode!==V.node||H.anchorOffset!==V.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var U=X.createRange();U.setStart(V.node,V.offset),H.removeAllRanges(),_e>lt?(H.addRange(U),H.extend(k.node,k.offset)):(U.setEnd(k.node,k.offset),H.addRange(U))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ac=!!_f,vf=_f=null}finally{Ze=h,ne.p=l,F.T=r}}t.current=n,zt=2}}function J0(){if(zt===2){zt=0;var t=Gs,n=Ka,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var l=ne.p;ne.p=2;var h=Ze;Ze|=4;try{S0(t,n.alternate,n)}finally{Ze=h,ne.p=l,F.T=r}}zt=3}}function Z0(){if(zt===4||zt===3){zt=0,da();var t=Gs,n=Ka,r=hs,l=U0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?zt=5:(zt=0,Ka=Gs=null,W0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),Yi(r),n=n.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=ne.p,ne.p=2,F.T=null;try{for(var d=t.onRecoverableError,p=0;p<l.length;p++){var E=l[p];d(E.value,{componentStack:E.stack})}}finally{F.T=n,ne.p=h}}(hs&3)!==0&&hc(),ji(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===rf?go++:(go=0,rf=t):go=0,po(0)}}function W0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xl(n)))}function hc(){return $0(),J0(),Z0(),ey()}function ey(){if(zt!==5)return!1;var t=Gs,n=nf;nf=0;var r=Yi(hs),l=F.T,h=ne.p;try{ne.p=32>r?32:r,F.T=null,r=sf,sf=null;var d=Gs,p=hs;if(zt=0,Ka=Gs=null,hs=0,(Ze&6)!==0)throw Error(a(331));var E=Ze;if(Ze|=4,V0(d.current),D0(d,d.current,p,r),Ze=E,po(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(re,d)}catch{}return!0}finally{ne.p=h,F.T=l,W0(t,n)}}function ty(t,n,r){n=Gn(r,n),n=jd(t.stateNode,n,2),t=Us(t,n,2),t!==null&&(Tr(t,2),ji(t))}function it(t,n,r){if(t.tag===3)ty(t,t,r);else for(;n!==null;){if(n.tag===3){ty(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Gn(r,t),r=n0(2),l=Us(n,r,2),l!==null&&(i0(r,l,n,t),Tr(l,2),ji(l));break}}n=n.return}}function of(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new GE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Wd=!0,h.add(r),t=$E.bind(null,t,n,r),n.then(t,t))}function $E(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ot===t&&(Ue&r)===r&&(At===4||At===3&&(Ue&62914560)===Ue&&300>Yt()-rc?(Ze&2)===0&&Qa(t,0):ef|=r,Ga===Ue&&(Ga=0)),ji(t)}function ny(t,n){n===0&&(n=lu()),t=jr(t,n),t!==null&&(Tr(t,n),ji(t))}function JE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),ny(t,r)}function ZE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),ny(t,r)}function WE(t,n){return vt(t,n)}var dc=null,Xa=null,uf=!1,fc=!1,cf=!1,Qs=0;function ji(t){t!==Xa&&t.next===null&&(Xa===null?dc=Xa=t:Xa=Xa.next=t),fc=!0,uf||(uf=!0,tT())}function po(t,n){if(!cf&&fc){cf=!0;do for(var r=!1,l=dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var p=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-fe(42|t)+1)-1,d&=h&~(p&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,ay(l,d))}else d=Ue,d=Ln(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||wn(l,d)||(r=!0,ay(l,d));l=l.next}while(r);cf=!1}}function eT(){iy()}function iy(){fc=uf=!1;var t=0;Qs!==0&&hT()&&(t=Qs);for(var n=Yt(),r=null,l=dc;l!==null;){var h=l.next,d=sy(l,n);d===0?(l.next=null,r===null?dc=h:r.next=h,h===null&&(Xa=r)):(r=l,(t!==0||(d&3)!==0)&&(fc=!0)),l=h}zt!==0&&zt!==5||po(t),Qs!==0&&(Qs=0)}function sy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var p=31-fe(d),E=1<<p,C=h[p];C===-1?((E&r)===0||(E&l)!==0)&&(h[p]=Uh(E,n)):C<=n&&(t.expiredLanes|=E),d&=~E}if(n=ot,r=Ue,r=Ln(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(nt===2||nt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||wn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&pi(l),Yi(r)){case 2:case 8:r=br;break;case 32:r=_i;break;case 268435456:r=Er;break;default:r=_i}return l=ry.bind(null,t),r=vt(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&pi(l),t.callbackPriority=2,t.callbackNode=null,2}function ry(t,n){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(hc()&&t.callbackNode!==r)return null;var l=Ue;return l=Ln(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(z0(t,l,n),sy(t,Yt()),t.callbackNode!=null&&t.callbackNode===r?ry.bind(null,t):null)}function ay(t,n){if(hc())return null;z0(t,n,!0)}function tT(){fT(function(){(Ze&6)!==0?vt(Ts,eT):iy()})}function hf(){if(Qs===0){var t=Ma;t===0&&(t=$t,$t<<=1,($t&261888)===0&&($t=256)),Qs=t}return Qs}function ly(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function oy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function nT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var d=ly((h[Ft]||null).action),p=l.submitter;p&&(n=(n=p[Ft]||null)?ly(n.formAction):p.getAttribute("formAction"),n!==null&&(d=n,p=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var C=p?oy(h,p):new FormData(h);Id(r,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=p?oy(h,p):new FormData(h),Id(r,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var df=0;df<Qh.length;df++){var ff=Qh[df],iT=ff.toLowerCase(),sT=ff[0].toUpperCase()+ff.slice(1);ui(iT,"on"+sT)}ui(Lg,"onAnimationEnd"),ui(zg,"onAnimationIteration"),ui(Bg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(bE,"onTransitionRun"),ui(EE,"onTransitionStart"),ui(TE,"onTransitionCancel"),ui(qg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function uy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(G){Cu(G)}h.currentTarget=null,d=C}else for(p=0;p<l.length;p++){if(E=l[p],C=E.instance,L=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(G){Cu(G)}h.currentTarget=null,d=C}}}}function je(t,n){var r=n[ma];r===void 0&&(r=n[ma]=new Set);var l=t+"__bubble";r.has(l)||(cy(n,t,2,!1),r.add(l))}function mf(t,n,r){var l=0;n&&(l|=4),cy(r,t,l,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[mc]){t[mc]=!0,Cl.forEach(function(r){r!=="selectionchange"&&(rT.has(r)||mf(r,!1,t),mf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,mf("selectionchange",!1,n))}}function cy(t,n,r,l){switch(Ly(n)){case 2:var h=OT;break;case 8:h=MT;break;default:h=If}r=h.bind(null,n,r,t),h=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function pf(t,n,r,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Ti(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){l=d=p;continue e}E=E.parentNode}}l=l.return}Cs(function(){var L=d,G=Bn(r),X=[];e:{var z=Hg.get(t);if(z!==void 0){var H=Ni,le=t;switch(t){case"keypress":if(Ir(r)===0)break e;case"keydown":case"keyup":H=Su;break;case"focusin":le="focus",H=Dr;break;case"focusout":le="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Lg:case zg:case Bg:H=_u;break;case qg:H=A;break;case"scroll":case"scrollend":H=zl;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ji;break;case"toggle":case"beforetoggle":H=Ne}var _e=(n&4)!==0,lt=!_e&&(t==="scroll"||t==="scrollend"),V=_e?z!==null?z+"Capture":null:z;_e=[];for(var k=L,U;k!==null;){var Q=k;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||V===null||(Q=ri(k,V),Q!=null&&_e.push(_o(k,Q,U))),lt)break;k=k.return}0<_e.length&&(z=new H(z,le,null,r,G),X.push({event:z,listeners:_e}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Pl&&(le=r.relatedTarget||r.fromElement)&&(Ti(le)||le[bi]))break e;if((H||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,H?(le=r.relatedTarget||r.toElement,H=L,le=le?Ti(le):null,le!==null&&(lt=c(le),_e=le.tag,le!==lt||_e!==5&&_e!==27&&_e!==6)&&(le=null)):(H=null,le=L),H!==le)){if(_e=Bl,Q="onMouseLeave",V="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Ji,Q="onPointerLeave",V="onPointerEnter",k="pointer"),lt=H==null?z:Rn(H),U=le==null?z:Rn(le),z=new _e(Q,k+"leave",H,r,G),z.target=lt,z.relatedTarget=U,Q=null,Ti(G)===L&&(_e=new _e(V,k+"enter",le,r,G),_e.target=U,_e.relatedTarget=lt,Q=_e),lt=Q,H&&le)t:{for(_e=aT,V=H,k=le,U=0,Q=V;Q;Q=_e(Q))U++;Q=0;for(var ge=k;ge;ge=_e(ge))Q++;for(;0<U-Q;)V=_e(V),U--;for(;0<Q-U;)k=_e(k),Q--;for(;U--;){if(V===k||k!==null&&V===k.alternate){_e=V;break t}V=_e(V),k=_e(k)}_e=null}else _e=null;H!==null&&hy(X,z,H,_e,!1),le!==null&&lt!==null&&hy(X,lt,le,_e,!0)}}e:{if(z=L?Rn(L):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Qe=Cg;else if(wg(z))if(Ng)Qe=yE;else{Qe=gE;var he=mE}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&_a(L.elementType)&&(Qe=Cg):Qe=pE;if(Qe&&(Qe=Qe(t,L))){Rg(X,Qe,r,G);break e}he&&he(t,z,L),t==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Ml(z,"number",z.value)}switch(he=L?Rn(L):window,t){case"focusin":(wg(he)||he.contentEditable==="true")&&(wa=he,Fh=L,Kl=null);break;case"focusout":Kl=Fh=wa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Pg(X,r,G);break;case"selectionchange":if(vE)break;case"keydown":case"keyup":Pg(X,r,G)}var ke;if(Je)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Sa?Or(t,r)&&(Le="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(Di&&r.locale!=="ko"&&(Sa||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Sa&&(ke=Ll()):(Ci=G,Ul="value"in Ci?Ci.value:Ci.textContent,Sa=!0)),he=gc(L,Le),0<he.length&&(Le=new ki(Le,t,null,r,G),X.push({event:Le,listeners:he}),ke?Le.data=ke:(ke=xa(r),ke!==null&&(Le.data=ke)))),(ke=Hn?cE(t,r):hE(t,r))&&(Le=gc(L,"onBeforeInput"),0<Le.length&&(he=new ki("onBeforeInput","beforeinput",null,r,G),X.push({event:he,listeners:Le}),he.data=ke)),nT(X,t,L,r,G)}uy(X,n)})}function _o(t,n,r){return{instance:t,listener:n,currentTarget:r}}function gc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ri(t,r),h!=null&&l.unshift(_o(t,h,d)),h=ri(t,n),h!=null&&l.push(_o(t,h,d))),t.tag===3)return l;t=t.return}return[]}function aT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function hy(t,n,r,l,h){for(var d=n._reactName,p=[];r!==null&&r!==l;){var E=r,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=ri(r,d),L!=null&&p.unshift(_o(r,L,C))):h||(L=ri(r,d),L!=null&&p.push(_o(r,L,C)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var lT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(oT,"")}function fy(t,n){return n=dy(n),dy(t)===n}function at(t,n,r,l,h,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||yn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&yn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":jl(t,l,d);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&at(t,n,"name",h.name,h,null),at(t,n,"formEncType",h.formEncType,h,null),at(t,n,"formMethod",h.formMethod,h,null),at(t,n,"formTarget",h.formTarget,h,null)):(at(t,n,"encType",h.encType,h,null),at(t,n,"method",h.method,h,null),at(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":je("beforetoggle",t),je("toggle",t),pa(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gu.get(r)||r,pa(t,r,l))}}function yf(t,n,r,l,h,d){switch(r){case"style":jl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?yn(t,l):(typeof l=="number"||typeof l=="bigint")&&yn(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),d=t[Ft]||null,d=d!=null?d[r]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):pa(t,r,l)}}}function tn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in r)if(r.hasOwnProperty(d)){var p=r[d];if(p!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,d,p,r,null)}}h&&at(t,n,"srcSet",r.srcSet,r,null),l&&at(t,n,"src",r.src,r,null);return;case"input":je("invalid",t);var E=d=p=h=null,C=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":h=G;break;case"type":p=G;break;case"checked":C=G;break;case"defaultChecked":L=G;break;case"value":d=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:at(t,n,l,G,r,null)}}du(t,d,E,C,L,p,h,!1);return;case"select":je("invalid",t),l=p=d=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:at(t,n,h,E,r,null)}n=d,r=p,t.multiple=!!l,n!=null?xs(t,!!l,n,!1):r!=null&&xs(t,!!l,r,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:at(t,n,p,E,r,null)}Ss(t,l,h,d);return;case"option":for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null)&&(C==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,n,C,l,r,null));return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)je(yo[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:at(t,n,L,l,r,null)}return;default:if(_a(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&yf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&at(t,n,E,l,r,null))}function uT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,p=null,E=null,C=null,L=null,G=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:l.hasOwnProperty(H)||at(t,n,H,null,l,X)}}for(var z in l){var H=l[z];if(X=r[z],l.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&at(t,n,z,H,l,X)}}ya(t,p,E,C,L,G,d,h);return;case"select":H=p=E=z=null;for(d in r)if(C=r[d],r.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||at(t,n,d,null,l,C)}for(h in l)if(d=l[h],C=r[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":p=d;default:d!==C&&at(t,n,h,d,l,C)}n=E,r=p,l=H,z!=null?xs(t,!!r,z,!1):!!l!=!!r&&(n!=null?xs(t,!!r,n,!0):xs(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:at(t,n,E,null,l,h)}for(p in l)if(h=l[p],d=r[p],l.hasOwnProperty(p)&&(h!=null||d!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&at(t,n,p,h,l,d)}fu(t,z,H);return;case"option":for(var le in r)z=r[le],r.hasOwnProperty(le)&&z!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:at(t,n,le,null,l,z));for(C in l)z=l[C],H=r[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?t.selected=z&&typeof z!="function"&&typeof z!="symbol":at(t,n,C,z,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in r)z=r[_e],r.hasOwnProperty(_e)&&z!=null&&!l.hasOwnProperty(_e)&&at(t,n,_e,null,l,z);for(L in l)if(z=l[L],H=r[L],l.hasOwnProperty(L)&&z!==H&&(z!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:at(t,n,L,z,l,H)}return;default:if(_a(n)){for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!==void 0&&!l.hasOwnProperty(lt)&&yf(t,n,lt,void 0,l,z);for(G in l)z=l[G],H=r[G],!l.hasOwnProperty(G)||z===H||z===void 0&&H===void 0||yf(t,n,G,z,l,H);return}}for(var V in r)z=r[V],r.hasOwnProperty(V)&&z!=null&&!l.hasOwnProperty(V)&&at(t,n,V,null,l,z);for(X in l)z=l[X],H=r[X],!l.hasOwnProperty(X)||z===H||z==null&&H==null||at(t,n,X,z,l,H)}function my(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],d=h.transferSize,p=h.initiatorType,E=h.duration;if(d&&E&&my(p)){for(p=0,E=h.responseEnd,l+=1;l<r.length;l++){var C=r[l],L=C.startTime;if(L>E)break;var G=C.transferSize,X=C.initiatorType;G&&my(X)&&(C=C.responseEnd,p+=G*(C<E?1:(E-L)/(C-L)))}if(--l,n+=8*(d+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _f=null,vf=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function bf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ef=null;function hT(){var t=window.event;return t&&t.type==="popstate"?t===Ef?!1:(Ef=t,!0):(Ef=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,fT=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(t){return _y.resolve(null).then(t).catch(mT)}:yy;function mT(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function vy(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),Wa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")vo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,vo(r);for(var d=r.firstChild;d;){var p=d.nextSibling,E=d.nodeName;d[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=p}}else r==="body"&&vo(t.ownerDocument.body);r=h}while(r);Wa(n)}function by(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Tf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Tf(r),ga(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function gT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function pT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=$n(t.nextSibling),t===null))return null;return t}function Ey(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=$n(t.nextSibling),t===null))return null;return t}function Af(t){return t.data==="$?"||t.data==="$~"}function xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sf=null;function Ty(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return $n(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function xy(t,n,r){switch(n=pc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ga(t)}var Jn=new Map,Sy=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=ne.d;ne.d={f:_T,r:vT,D:bT,C:ET,L:TT,m:AT,X:ST,S:xT,M:wT};function _T(){var t=ds.f(),n=oc();return t||n}function vT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?qp(n):ds.r(t)}var $a=typeof document>"u"?null:document;function wy(t,n,r){var l=$a;if(l&&typeof n=="string"&&n){var h=pn(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Sy.has(h)||(Sy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),tn(n,"link",t),kt(n),l.head.appendChild(n)))}}function bT(t){ds.D(t),wy("dns-prefetch",t,null)}function ET(t,n){ds.C(t,n),wy("preconnect",t,n)}function TT(t,n,r){ds.L(t,n,r);var l=$a;if(l&&t&&n){var h='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+pn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+pn(r.imageSizes)+'"]')):h+='[href="'+pn(t)+'"]';var d=h;switch(n){case"style":d=Ja(t);break;case"script":d=Za(t)}Jn.has(d)||(t=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Jn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(d))||n==="script"&&l.querySelector(Eo(d))||(n=l.createElement("link"),tn(n,"link",t),kt(n),l.head.appendChild(n)))}}function AT(t,n){ds.m(t,n);var r=$a;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pn(l)+'"][href="'+pn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Jn.has(d)&&(t=x({rel:"modulepreload",href:t},n),Jn.set(d,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Eo(d)))return}l=r.createElement("link"),tn(l,"link",t),kt(l),r.head.appendChild(l)}}}function xT(t,n,r){ds.S(t,n,r);var l=$a;if(l&&t){var h=Ai(l).hoistableStyles,d=Ja(t);n=n||"default";var p=h.get(d);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(bo(d)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Jn.get(d))&&wf(t,r);var C=p=l.createElement("link");kt(C),tn(C,"link",t),C._p=new Promise(function(L,G){C.onload=L,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(d,p)}}}function ST(t,n){ds.X(t,n);var r=$a;if(r&&t){var l=Ai(r).hoistableScripts,h=Za(t),d=l.get(h);d||(d=r.querySelector(Eo(h)),d||(t=x({src:t,async:!0},n),(n=Jn.get(h))&&Rf(t,n),d=r.createElement("script"),kt(d),tn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function wT(t,n){ds.M(t,n);var r=$a;if(r&&t){var l=Ai(r).hoistableScripts,h=Za(t),d=l.get(h);d||(d=r.querySelector(Eo(h)),d||(t=x({src:t,async:!0,type:"module"},n),(n=Jn.get(h))&&Rf(t,n),d=r.createElement("script"),kt(d),tn(d,"link",t),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ry(t,n,r,l){var h=(h=ve.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ja(r.href),r=Ai(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Ja(r.href);var d=Ai(h).hoistableStyles,p=d.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,p),(d=h.querySelector(bo(t)))&&!d._p&&(p.instance=d,p.state.loading=5),Jn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Jn.set(t,r),d||RT(h,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Ai(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ja(t){return'href="'+pn(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Cy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function RT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),tn(n,"link",r),kt(n),t.head.appendChild(n))}function Za(t){return'[src="'+pn(t)+'"]'}function Eo(t){return"script[async]"+t}function Ny(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pn(r.href)+'"]');if(l)return n.instance=l,kt(l),l;var h=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),kt(l),tn(l,"style",h),_c(l,r.precedence,t),n.instance=l;case"stylesheet":h=Ja(r.href);var d=t.querySelector(bo(h));if(d)return n.state.loading|=4,n.instance=d,kt(d),d;l=Cy(r),(h=Jn.get(h))&&wf(l,h),d=(t.ownerDocument||t).createElement("link"),kt(d);var p=d;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),tn(d,"link",l),n.state.loading|=4,_c(d,r.precedence,t),n.instance=d;case"script":return d=Za(r.src),(h=t.querySelector(Eo(d)))?(n.instance=h,kt(h),h):(l=r,(h=Jn.get(d))&&(l=x({},r),Rf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),kt(h),tn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,_c(l,r.precedence,t));return n.instance}function _c(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function Iy(t,n,r){if(vc===null){var l=new Map,h=vc=new Map;h.set(r,l)}else h=vc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var d=r[h];if(!(d[Ei]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(d):l.set(p,[d])}}return l}function ky(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function CT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Dy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function NT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ja(l.href),d=n.querySelector(bo(h));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=bc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=d,kt(d);return}d=n.ownerDocument||n,l=Cy(l),(h=Jn.get(h))&&wf(l,h),d=d.createElement("link"),kt(d);var p=d;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),tn(d,"link",l),r.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=bc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Cf=0;function IT(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+n);0<t.imgBytes&&Cf===0&&(Cf=62500*cT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Cf?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,n.forEach(kT,t),Ec=null,bc.call(t))}function kT(t,n){if(!(n.state.loading&4)){var r=Ec.get(t);if(r)var l=r.get(null);else{r=new Map,Ec.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var p=h[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),d=r.get(p)||l,d===l&&r.set(null,h),r.set(p,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:be,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function DT(t,n,r,l,h,d,p,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function Oy(t,n,r,l,h,d,p,E,C,L,G,X){return t=new DT(t,n,r,p,C,L,G,X,E),n=1,d===!0&&(n|=24),d=In(3,null,null,n),t.current=d,d.stateNode=t,n=ad(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},cd(d),t}function My(t){return t?(t=Na,t):Na}function Vy(t,n,r,l,h,d){h=My(h),l.context===null?l.context=h:l.pendingContext=h,l=Ps(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Us(t,l,n),r!==null&&(Tn(r,t,n),Wl(r,t,n))}function jy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Nf(t,n){jy(t,n),(t=t.alternate)&&jy(t,n)}function Py(t){if(t.tag===13||t.tag===31){var n=jr(t,67108864);n!==null&&Tn(n,t,67108864),Nf(t,67108864)}}function Uy(t){if(t.tag===13||t.tag===31){var n=Vn();n=xr(n);var r=jr(t,n);r!==null&&Tn(r,t,n),Nf(t,n)}}var Ac=!0;function OT(t,n,r,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=2,If(t,n,r,l)}finally{ne.p=d,F.T=h}}function MT(t,n,r,l){var h=F.T;F.T=null;var d=ne.p;try{ne.p=8,If(t,n,r,l)}finally{ne.p=d,F.T=h}}function If(t,n,r,l){if(Ac){var h=kf(l);if(h===null)pf(t,n,l,xc,r),zy(t,l);else if(jT(h,t,n,r,l))l.stopPropagation();else if(zy(t,l),n&4&&-1<VT.indexOf(t)){for(;h!==null;){var d=zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=ut(d.pendingLanes);if(p!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-fe(p);E.entanglements[1]|=C,p&=~C}ji(d),(Ze&6)===0&&(ac=Yt()+500,po(0))}}break;case 31:case 13:E=jr(d,2),E!==null&&Tn(E,d,2),oc(),Nf(d,2)}if(d=kf(l),d===null&&pf(t,n,l,xc,r),d===h)break;h=d}h!==null&&l.stopPropagation()}else pf(t,n,l,null,r)}}function kf(t){return t=Bn(t),Df(t)}var xc=null;function Df(t){if(xc=null,t=Ti(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return xc=t,null}function Ly(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yi()){case Ts:return 2;case br:return 8;case _i:case Sl:return 32;case Er:return 268435456;default:return 32}default:return 32}}var Of=!1,Xs=null,$s=null,Js=null,Ao=new Map,xo=new Map,Zs=[],VT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function So(t,n,r,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&Py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function jT(t,n,r,l,h){switch(n){case"focusin":return Xs=So(Xs,t,n,r,l,h),!0;case"dragenter":return $s=So($s,t,n,r,l,h),!0;case"mouseover":return Js=So(Js,t,n,r,l,h),!0;case"pointerover":var d=h.pointerId;return Ao.set(d,So(Ao.get(d)||null,t,n,r,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xo.set(d,So(xo.get(d)||null,t,n,r,l,h)),!0}return!1}function By(t){var n=Ti(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,ni(t.priority,function(){Uy(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ni(t.priority,function(){Uy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=kf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Pl=l,r.target.dispatchEvent(l),Pl=null}else return n=zn(r),n!==null&&Py(n),t.blockedOn=r,!1;n.shift()}return!0}function qy(t,n,r){Sc(t)&&r.delete(n)}function PT(){Of=!1,Xs!==null&&Sc(Xs)&&(Xs=null),$s!==null&&Sc($s)&&($s=null),Js!==null&&Sc(Js)&&(Js=null),Ao.forEach(qy),xo.forEach(qy)}function wc(t,n){t.blockedOn===n&&(t.blockedOn=null,Of||(Of=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,PT)))}var Rc=null;function Hy(t){Rc!==t&&(Rc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Df(l||r)===null)continue;break}var d=zn(r);d!==null&&(t.splice(n,3),n-=3,Id(d,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Wa(t){function n(C){return wc(C,t)}Xs!==null&&wc(Xs,t),$s!==null&&wc($s,t),Js!==null&&wc(Js,t),Ao.forEach(n),xo.forEach(n);for(var r=0;r<Zs.length;r++){var l=Zs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)By(r),r.blockedOn===null&&Zs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],d=r[l+1],p=h[Ft]||null;if(typeof d=="function")p||Hy(r);else if(p){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,p=d[Ft]||null)E=p.formAction;else if(Df(h)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Hy(r)}}}function Fy(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Mf(t){this._internalRoot=t}Cc.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Vn();Vy(r,l,t,n,null,null)},Cc.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Vy(t.current,2,null,t,null,null),oc(),n[bi]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Zs.length&&n!==0&&n<Zs[r].priority;r++);Zs.splice(r,0,t),r===0&&By(t)}};var Gy=e.version;if(Gy!=="19.2.4")throw Error(a(527,Gy,"19.2.4"));ne.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var UT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{re=Nc.inject(UT),me=Nc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Zp,d=Wp,p=e0;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Oy(t,1,!1,null,null,r,l,null,h,d,p,Fy),t[bi]=n.current,gf(t),new Mf(n)},Ro.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",d=Zp,p=Wp,E=e0,C=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=Oy(t,1,!0,n,r??null,l,h,C,d,p,E,Fy),n.context=My(null),r=n.current,l=Vn(),l=xr(l),h=Ps(l),h.callback=null,Us(r,h,l),r=l,n.current.lanes=r,Tr(n,r),ji(n),t[bi]=n.current,gf(t),new Cc(n)},Ro.version="19.2.4",Ro}var t_;function $T(){if(t_)return Pf.exports;t_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Pf.exports=XT(),Pf.exports}var JT=$T();const ZT=()=>{};var n_={};const Uv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},WT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],f=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],f=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Lv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,g=f?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,T=c>>2,x=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,K=y&63;_||(K=64,f||(O=64)),a.push(i[T],i[x],i[O],i[K])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Uv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):WT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const x=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||y==null||x==null)throw new eA;const O=c<<2|g>>4;if(a.push(O),y!==64){const K=g<<4&240|y>>2;if(a.push(K),x!==64){const W=y<<6&192|x;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tA=function(s){const e=Uv(s);return Lv.encodeByteArray(e,!0)},$c=function(s){return tA(s).replace(/\./g,"")},zv=function(s){try{return Lv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function nA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const iA=()=>nA().__FIREBASE_DEFAULTS__,sA=()=>{if(typeof process>"u"||typeof n_>"u")return;const s=n_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&zv(s[1]);return e&&JSON.parse(e)},yh=()=>{try{return ZT()||iA()||sA()||rA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Bv=s=>yh()?.emulatorHosts?.[s],aA=s=>{const e=Bv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},qv=()=>yh()?.config,Hv=s=>yh()?.[`_${s}`];class lA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function _l(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fv(s){return(await fetch(s,{credentials:"include"})).ok}function oA(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[$c(JSON.stringify(i)),$c(JSON.stringify(f)),""].join(".")}const jo={};function uA(){const s={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?s.emulator.push(e):s.prod.push(e);return s}function cA(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let i_=!1;function Gv(s,e){if(typeof window>"u"||typeof document>"u"||!_l(window.location.host)||jo[s]===e||jo[s]||i_)return;jo[s]=e;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=uA().prod.length>0;function f(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,K){O.setAttribute("width","24"),O.setAttribute("id",K),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{i_=!0,f()},O}function T(O,K){O.setAttribute("id",K),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=cA(a),K=i("text"),W=document.getElementById(K)||document.createElement("span"),q=i("learnmore"),Z=document.getElementById(q)||document.createElement("a"),ue=i("preprendIcon"),oe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const be=O.element;g(be),T(Z,q);const Ge=y();_(oe,ue),be.append(oe,W,Z,Ge),document.body.appendChild(be)}c?(W.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function dA(){const s=yh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pA(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function yA(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _A(){try{return typeof indexedDB=="object"}catch{return!1}}function vA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const bA="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=bA,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?EA(c,a):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Es(o,g,a)}}function EA(s,e){return s.replace(TA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const TA=/\{\$([^}]+)}/g;function AA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function na(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],f=e[o];if(s_(c)&&s_(f)){if(!na(c,f))return!1}else if(c!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function s_(s){return s!==null&&typeof s=="object"}function Zo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function xA(s,e){const i=new SA(s,e);return i.subscribe.bind(i)}class SA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Bf),o.error===void 0&&(o.error=Bf),o.complete===void 0&&(o.complete=Bf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Bf(){}function rn(s){return s&&s._delegate?s._delegate:s}class ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xr="[DEFAULT]";class RA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new lA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NA(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&f.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:CA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CA(s){return s===Xr?void 0:s}function NA(s){return s.instantiationMode==="EAGER"}class IA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new RA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const kA={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},DA=ze.INFO,OA={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},MA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=OA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=DA,this._logHandler=MA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const VA=(s,e)=>e.some(i=>s instanceof i);let r_,a_;function jA(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PA(){return a_||(a_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,rm=new WeakMap,Qv=new WeakMap,qf=new WeakMap,Om=new WeakMap;function UA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{i(rr(s.result)),o()},f=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,s)}).catch(()=>{}),Om.set(e,s),e}function LA(s){if(rm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});rm.set(s,e)}let am={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return rm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Qv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return rr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function zA(s){am=s(am)}function BA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Hf(this),e,...i);return Qv.set(a,e.sort?e.sort():[e]),rr(a)}:PA().includes(s)?function(...e){return s.apply(Hf(this),e),rr(Kv.get(this))}:function(...e){return rr(s.apply(Hf(this),e))}}function qA(s){return typeof s=="function"?BA(s):(s instanceof IDBTransaction&&LA(s),VA(s,jA())?new Proxy(s,am):s)}function rr(s){if(s instanceof IDBRequest)return UA(s);if(qf.has(s))return qf.get(s);const e=qA(s);return e!==s&&(qf.set(s,e),Om.set(e,s)),e}const Hf=s=>Om.get(s);function HA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),g=rr(f);return a&&f.addEventListener("upgradeneeded",_=>{a(rr(f.result),_.oldVersion,_.newVersion,rr(f.transaction),_)}),i&&f.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const FA=["get","getKey","getAll","getAllKeys","count"],GA=["put","add","delete","clear"],Ff=new Map;function l_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ff.get(e))return Ff.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=GA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||FA.includes(i)))return;const c=async function(f,...g){const _=this.transaction(f,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Ff.set(e,c),c}zA(s=>({...s,get:(e,i,a)=>l_(e,i)||s.get(e,i,a),has:(e,i)=>!!l_(e,i)||s.has(e,i)}));class KA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(QA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function QA(s){return s.getComponent()?.type==="VERSION"}const lm="@firebase/app",o_="0.14.8";const ys=new Dm("@firebase/app"),YA="@firebase/app-compat",XA="@firebase/analytics-compat",$A="@firebase/analytics",JA="@firebase/app-check-compat",ZA="@firebase/app-check",WA="@firebase/auth",e2="@firebase/auth-compat",t2="@firebase/database",n2="@firebase/data-connect",i2="@firebase/database-compat",s2="@firebase/functions",r2="@firebase/functions-compat",a2="@firebase/installations",l2="@firebase/installations-compat",o2="@firebase/messaging",u2="@firebase/messaging-compat",c2="@firebase/performance",h2="@firebase/performance-compat",d2="@firebase/remote-config",f2="@firebase/remote-config-compat",m2="@firebase/storage",g2="@firebase/storage-compat",p2="@firebase/firestore",y2="@firebase/ai",_2="@firebase/firestore-compat",v2="firebase",b2="12.9.0";const om="[DEFAULT]",E2={[lm]:"fire-core",[YA]:"fire-core-compat",[$A]:"fire-analytics",[XA]:"fire-analytics-compat",[ZA]:"fire-app-check",[JA]:"fire-app-check-compat",[WA]:"fire-auth",[e2]:"fire-auth-compat",[t2]:"fire-rtdb",[n2]:"fire-data-connect",[i2]:"fire-rtdb-compat",[s2]:"fire-fn",[r2]:"fire-fn-compat",[a2]:"fire-iid",[l2]:"fire-iid-compat",[o2]:"fire-fcm",[u2]:"fire-fcm-compat",[c2]:"fire-perf",[h2]:"fire-perf-compat",[d2]:"fire-rc",[f2]:"fire-rc-compat",[m2]:"fire-gcs",[g2]:"fire-gcs-compat",[p2]:"fire-fst",[_2]:"fire-fst-compat",[y2]:"fire-vertex","fire-js":"fire-js",[v2]:"fire-js-all"};const Jc=new Map,T2=new Map,um=new Map;function u_(s,e){try{s.container.addComponent(e)}catch(i){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function hl(s){const e=s.name;if(um.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,s);for(const i of Jc.values())u_(i,s);for(const i of T2.values())u_(i,s);return!0}function Mm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function di(s){return s==null?!1:s.settings!==void 0}const A2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ar=new Jo("app","Firebase",A2);class x2{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ar.create("app-deleted",{appName:this._name})}}const vl=b2;function Yv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:om,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw ar.create("bad-app-name",{appName:String(o)});if(i||(i=qv()),!i)throw ar.create("no-options");const c=Jc.get(o);if(c){if(na(i,c.options)&&na(a,c.config))return c;throw ar.create("duplicate-app",{appName:o})}const f=new IA(o);for(const _ of um.values())f.addComponent(_);const g=new x2(i,a,f);return Jc.set(o,g),g}function Xv(s=om){const e=Jc.get(s);if(!e&&s===om&&qv())return Yv();if(!e)throw ar.create("no-app",{appName:s});return e}function lr(s,e,i){let a=E2[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${a}" with version "${e}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(f.join(" "));return}hl(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const S2="firebase-heartbeat-database",w2=1,qo="firebase-heartbeat-store";let Gf=null;function $v(){return Gf||(Gf=HA(S2,w2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(qo)}catch(i){console.warn(i)}}}}).catch(s=>{throw ar.create("idb-open",{originalErrorMessage:s.message})})),Gf}async function R2(s){try{const i=(await $v()).transaction(qo),a=await i.objectStore(qo).get(Jv(s));return await i.done,a}catch(e){if(e instanceof Es)ys.warn(e.message);else{const i=ar.create("idb-get",{originalErrorMessage:e?.message});ys.warn(i.message)}}}async function c_(s,e){try{const a=(await $v()).transaction(qo,"readwrite");await a.objectStore(qo).put(e,Jv(s)),await a.done}catch(i){if(i instanceof Es)ys.warn(i.message);else{const a=ar.create("idb-set",{originalErrorMessage:i?.message});ys.warn(a.message)}}}function Jv(s){return`${s.name}!${s.options.appId}`}const C2=1024,N2=30;class I2{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new D2(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>N2){const o=O2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=h_(),{heartbeatsToSend:i,unsentEntries:a}=k2(this._heartbeatsCache.heartbeats),o=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ys.warn(e),""}}}function h_(){return new Date().toISOString().substring(0,10)}function k2(s,e=C2){const i=[];let a=s.slice();for(const o of s){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),d_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class D2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _A()?vA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await R2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return c_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function d_(s){return $c(JSON.stringify({version:2,heartbeats:s})).length}function O2(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function M2(s){hl(new ia("platform-logger",e=>new KA(e),"PRIVATE")),hl(new ia("heartbeat",e=>new I2(e),"PRIVATE")),lr(lm,o_,s),lr(lm,o_,"esm2020"),lr("fire-js","")}M2("");var V2="firebase",j2="12.9.0";lr(V2,j2,"app");function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const P2=Zv,Wv=new Jo("auth","Firebase",Zv());const Zc=new Dm("@firebase/auth");function U2(s,...e){Zc.logLevel<=ze.WARN&&Zc.warn(`Auth (${vl}): ${s}`,...e)}function Lc(s,...e){Zc.logLevel<=ze.ERROR&&Zc.error(`Auth (${vl}): ${s}`,...e)}function Hi(s,...e){throw jm(s,...e)}function mi(s,...e){return jm(s,...e)}function Vm(s,e,i){const a={...P2(),[e]:i};return new Jo("auth","Firebase",a).create(e,{appName:s.name})}function Wr(s){return Vm(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L2(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Hi(s,"argument-error"),Vm(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Wv.create(s,...e)}function Te(s,e,...i){if(!s)throw jm(e,...i)}function gs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lc(e),new Error(e)}function _s(s,e){s||gs(e)}function cm(){return typeof self<"u"&&self.location?.href||""}function z2(){return f_()==="http:"||f_()==="https:"}function f_(){return typeof self<"u"&&self.location?.protocol||null}function B2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z2()||mA()||"connection"in navigator)?navigator.onLine:!0}function q2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Wo{constructor(e,i){this.shortDelay=e,this.longDelay=i,_s(i>e,"Short delay should be less than long delay!"),this.isMobile=hA()||gA()}get(){return B2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pm(s,e){_s(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class eb{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const H2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G2=new Wo(3e4,6e4);function Um(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function bl(s,e,i,a,o={}){return tb(s,o,async()=>{let c={},f={};a&&(e==="GET"?f=a:c={body:JSON.stringify(a)});const g=Zo({key:s.config.apiKey,...f}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:_,...c};return fA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&_l(s.emulatorConfig.host)&&(y.credentials="include"),eb.fetch()(await nb(s,s.config.apiHost,i,g),y)})}async function tb(s,e,i){s._canInitEmulator=!1;const a={...H2,...e};try{const o=new Q2(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Ic(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",f);if(_==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",f);if(_==="USER_DISABLED")throw Ic(s,"user-disabled",f);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Vm(s,T,y);Hi(s,T)}}catch(o){if(o instanceof Es)throw o;Hi(s,"network-request-failed",{message:String(o)})}}async function K2(s,e,i,a,o={}){const c=await bl(s,e,i,a,o);return"mfaPendingCredential"in c&&Hi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function nb(s,e,i,a){const o=`${e}${i}?${a}`,c=s,f=c.config.emulator?Pm(s.config,o):`${s.config.apiScheme}://${o}`;return F2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}class Q2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(mi(this.auth,"network-request-failed")),G2.get())})}}function Ic(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=mi(s,e,a);return o.customData._tokenResponse=i,o}async function Y2(s,e){return bl(s,"POST","/v1/accounts:delete",e)}async function Wc(s,e){return bl(s,"POST","/v1/accounts:lookup",e)}function Po(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X2(s,e=!1){const i=rn(s),a=await i.getIdToken(e),o=Lm(a);Te(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:a,authTime:Po(Kf(o.auth_time)),issuedAtTime:Po(Kf(o.iat)),expirationTime:Po(Kf(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Kf(s){return Number(s)*1e3}function Lm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zv(i);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function m_(s){const e=Lm(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ho(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Es&&$2(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function $2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class J2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class hm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Po(this.lastLoginAt),this.creationTime=Po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const e=s.auth,i=await s.getIdToken(),a=await Ho(s,Wc(e,{idToken:i}));Te(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?ib(o.providerUserInfo):[],f=W2(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!f?.length,y=g?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function Z2(s){const e=rn(s);await eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function W2(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function ib(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ex(s,e){const i=await tb(s,{},async()=>{const a=Zo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await nb(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&_l(s.emulatorConfig.host)&&(_.credentials="include"),eb.fetch()(f,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function tx(s,e){return bl(s,"POST","/v2/accounts:revokeToken",Um(s,e))}class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):m_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const i=m_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await ex(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,f=new rl;return a&&(Te(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return gs("not implemented")}}function er(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new J2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await Ho(this,this.stsTokenManager.getToken(this.auth,e));return Te(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return X2(this,e)}reload(){return Z2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Wr(this.auth));const e=await this.getIdToken();return await Ho(this,Y2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,f=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:x,emailVerified:O,isAnonymous:K,providerData:W,stsTokenManager:q}=i;Te(x&&q,e,"internal-error");const Z=rl.fromJSON(this.name,q);Te(typeof x=="string",e,"internal-error"),er(a,e.name),er(o,e.name),Te(typeof O=="boolean",e,"internal-error"),Te(typeof K=="boolean",e,"internal-error"),er(c,e.name),er(f,e.name),er(g,e.name),er(_,e.name),er(y,e.name),er(T,e.name);const ue=new fi({uid:x,auth:e,email:o,emailVerified:O,displayName:a,isAnonymous:K,photoURL:f,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:T});return W&&Array.isArray(W)&&(ue.providerData=W.map(oe=>({...oe}))),_&&(ue._redirectEventId=_),ue}static async _fromIdTokenResponse(e,i,a=!1){const o=new rl;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?ib(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,g=new rl;g.updateFromIdToken(a);const _=new fi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const g_=new Map;function ps(s){_s(s instanceof Function,"Expected a class definition");let e=g_.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,g_.set(s,e),e)}class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}sb.type="NONE";const p_=sb;function zc(s,e,i){return`firebase:${s}:${e}:${i}`}class al{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Wc(this.auth,{idToken:e}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,e):null}return fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new al(ps(p_),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ps(p_);const f=zc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const T=await y._get(f);if(T){let x;if(typeof T=="string"){const O=await Wc(e,{idToken:T}).catch(()=>{});if(!O)break;x=await fi._fromGetAccountInfoResponse(e,O,T)}else x=fi._fromJSON(e,T);y!==c&&(g=x),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new al(c,e,a):(c=_[0],g&&await c._set(f,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new al(c,e,a))}}function y_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cb(e))return"Blackberry";if(hb(e))return"Webos";if(ab(e))return"Safari";if((e.includes("chrome/")||lb(e))&&!e.includes("edge/"))return"Chrome";if(ub(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function rb(s=dn()){return/firefox\//i.test(s)}function ab(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lb(s=dn()){return/crios\//i.test(s)}function ob(s=dn()){return/iemobile/i.test(s)}function ub(s=dn()){return/android/i.test(s)}function cb(s=dn()){return/blackberry/i.test(s)}function hb(s=dn()){return/webos/i.test(s)}function zm(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function nx(s=dn()){return zm(s)&&!!window.navigator?.standalone}function ix(){return pA()&&document.documentMode===10}function db(s=dn()){return zm(s)||ub(s)||hb(s)||cb(s)||/windows phone/i.test(s)||ob(s)}function fb(s,e=[]){let i;switch(s){case"Browser":i=y_(dn());break;case"Worker":i=`${y_(dn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${vl}/${a}`}class sx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((f,g)=>{try{const _=e(c);f(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function rx(s,e={}){return bl(s,"GET","/v2/passwordPolicy",Um(s,e))}const ax=6;class lx{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??ax,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class ox{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new __(this),this.idTokenSubscription=new __(this),this.beforeStateQueue=new sx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ps(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await al.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Wc(this,{idToken:e}),a=await fi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(di(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===f)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await eh(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Wr(this));const i=e?rn(e):null;return i&&Te(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rx(this),i=new lx(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await tx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ps(e)||this._popupRedirectResolver;Te(i,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[ps(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{f=!0,_()}}else{const _=e.addObserver(i);return()=>{f=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _h(s){return rn(s)}class __{constructor(e){this.auth=e,this.observer=null,this.addObserver=xA(i=>this.observer=i)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ux(s){Bm=s}function cx(s){return Bm.loadJS(s)}function hx(){return Bm.gapiScript}function dx(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function fx(s,e){const i=Mm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(na(c,e??{}))return o;Hi(o,"already-initialized")}return i.initialize({options:e})}function mx(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ps);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function gx(s,e,i){const a=_h(s);Te(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=mb(e),{host:f,port:g}=px(e),_=g===null?"":`:${g}`,y={url:`${c}//${f}${_}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Te(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Te(na(y,a.config.emulator)&&na(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,_l(f)?(Fv(`${c}//${f}${_}`),Gv("Auth",!0)):yx()}function mb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function px(s){const e=mb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:v_(a.substr(c.length+1))}}else{const[c,f]=a.split(":");return{host:c,port:v_(f)}}}function v_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function yx(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class gb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,i){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function ll(s,e){return K2(s,"POST","/v1/accounts:signInWithIdp",Um(s,e))}const _x="http://localhost";class sa extends gb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Hi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const f=new sa(a,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return ll(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ll(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ll(e,i)}buildRequest(){const e={requestUri:_x,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Zo(i)}return e}}class qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eu extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class tr extends eu{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";class ms extends eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ms.credential(i,a)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";class nr extends eu{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.GITHUB_SIGN_IN_METHOD="github.com";nr.PROVIDER_ID="github.com";class ir extends eu{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ir.credential(i,a)}catch{return null}}}ir.TWITTER_SIGN_IN_METHOD="twitter.com";ir.PROVIDER_ID="twitter.com";class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await fi._fromIdTokenResponse(e,a,o),f=b_(a);return new dl({user:c,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=b_(a);return new dl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function b_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class th extends Es{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new th(e,i,a,o)}}function pb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,c,e,a):c})}async function vx(s,e,i=!1){const a=await Ho(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return dl._forOperation(s,"link",a)}async function bx(s,e,i=!1){const{auth:a}=s;if(di(a.app))return Promise.reject(Wr(a));const o="reauthenticate";try{const c=await Ho(s,pb(a,o,e,s),i);Te(c.idToken,a,"internal-error");const f=Lm(c.idToken);Te(f,a,"internal-error");const{sub:g}=f;return Te(s.uid===g,a,"user-mismatch"),dl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Hi(a,"user-mismatch"),c}}async function Ex(s,e,i=!1){if(di(s.app))return Promise.reject(Wr(s));const a="signIn",o=await pb(s,a,e),c=await dl._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function Tx(s,e,i,a){return rn(s).onIdTokenChanged(e,i,a)}function Ax(s,e,i){return rn(s).beforeAuthStateChanged(e,i)}function xx(s,e,i,a){return rn(s).onAuthStateChanged(e,i,a)}function E_(s){return rn(s).signOut()}const nh="__sak";class yb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sx=1e3,wx=10;class _b extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,g,_)=>{this.notifyListeners(f,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},c=this.storage.getItem(a);ix()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wx):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Sx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}_b.type="LOCAL";const Rx=_b;class vb extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}vb.type="SESSION";const bb=vb;function Cx(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,f=this.handlersMap[o];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(f).map(async y=>y(i.origin,c)),_=await Cx(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];function Hm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class Nx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((g,_)=>{const y=Hm("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(x){const O=x;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ui(){return window}function Ix(s){Ui().location.href=s}function Eb(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function kx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Dx(){return navigator?.serviceWorker?.controller||null}function Ox(){return Eb()?self:null}const Tb="firebaseLocalStorageDb",Mx=1,ih="firebaseLocalStorage",Ab="fbase_key";class tu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function bh(s,e){return s.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function Vx(){const s=indexedDB.deleteDatabase(Tb);return new tu(s).toPromise()}function dm(){const s=indexedDB.open(Tb,Mx);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(ih,{keyPath:Ab})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(ih)?e(a):(a.close(),await Vx(),e(await dm()))})})}async function T_(s,e,i){const a=bh(s,!0).put({[Ab]:e,value:i});return new tu(a).toPromise()}async function jx(s,e){const i=bh(s,!1).get(e),a=await new tu(i).toPromise();return a===void 0?null:a.value}function A_(s,e){const i=bh(s,!0).delete(e);return new tu(i).toPromise()}const Px=800,Ux=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Ux)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Eb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(Ox()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kx(),!this.activeServiceWorker)return;this.sender=new Nx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Dx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await T_(e,nh,"1"),await A_(e,nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>T_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>jx(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>A_(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=bh(o,!1).getAll();return new tu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Px)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const Lx=xb;new Wo(3e4,6e4);function Sb(s,e){return e?ps(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Fm extends gb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ll(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ll(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function zx(s){return Ex(s.auth,new Fm(s),s.bypassAuthState)}function Bx(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),bx(i,new Fm(s),s.bypassAuthState)}async function qx(s){const{auth:e,user:i}=s;return Te(i,e,"internal-error"),vx(i,new Fm(s),s.bypassAuthState)}class wb{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:f,type:g}=e;if(f){this.reject(f);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zx;case"linkViaPopup":case"linkViaRedirect":return qx;case"reauthViaPopup":case"reauthViaRedirect":return Bx;default:Hi(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hx=new Wo(2e3,1e4);async function Fx(s,e,i){if(di(s.app))return Promise.reject(mi(s,"operation-not-supported-in-this-environment"));const a=_h(s);L2(s,e,qm);const o=Sb(a,i);return new $r(a,"signInViaPopup",e,o).executeNotNull()}class $r extends wb{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,$r.currentPopupAction&&$r.currentPopupAction.cancel(),$r.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$r.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hx.get())};e()}}$r.currentPopupAction=null;const Gx="pendingRedirect",Bc=new Map;class Kx extends wb{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const a=await Qx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qx(s,e){const i=$x(e),a=Xx(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Yx(s,e){Bc.set(s._key(),e)}function Xx(s){return ps(s._redirectPersistence)}function $x(s){return zc(Gx,s.config.apiKey,s.name)}async function Jx(s,e,i=!1){if(di(s.app))return Promise.reject(Wr(s));const a=_h(s),o=Sb(a,e),f=await new Kx(a,o,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const Zx=600*1e3;class Wx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eS(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!Rb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(mi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zx&&this.cachedEventUids.clear(),this.cachedEventUids.has(x_(e))}saveEventToCache(e){this.cachedEventUids.add(x_(e)),this.lastProcessedEventTime=Date.now()}}function x_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Rb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function eS(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rb(s);default:return!1}}async function tS(s,e={}){return bl(s,"GET","/v1/projects",e)}const nS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iS=/^https?/;async function sS(s){if(s.config.emulator)return;const{authorizedDomains:e}=await tS(s);for(const i of e)try{if(rS(i))return}catch{}Hi(s,"unauthorized-domain")}function rS(s){const e=cm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!iS.test(i))return!1;if(nS.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const aS=new Wo(3e4,6e4);function S_(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function lS(s){return new Promise((e,i)=>{function a(){S_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S_(),i(mi(s,"network-request-failed"))},timeout:aS.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const o=dx("iframefcb");return Ui()[o]=()=>{gapi.load?a():i(mi(s,"network-request-failed"))},cx(`${hx()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw qc=null,e})}let qc=null;function oS(s){return qc=qc||lS(s),qc}const uS=new Wo(5e3,15e3),cS="__/auth/iframe",hS="emulator/auth/iframe",dS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mS(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Pm(e,hS):`https://${s.config.authDomain}/${cS}`,a={apiKey:e.apiKey,appName:s.name,v:vl},o=fS.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Zo(a).slice(1)}`}async function gS(s){const e=await oS(s),i=Ui().gapi;return Te(i,s,"internal-error"),e.open({where:document.body,url:mS(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dS,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const f=mi(s,"network-request-failed"),g=Ui().setTimeout(()=>{c(f)},uS.get());function _(){Ui().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(f)})}))}const pS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yS=500,_S=600,vS="_blank",bS="http://localhost";class w_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ES(s,e,i,a=yS,o=_S){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...pS,width:a.toString(),height:o.toString(),top:c,left:f},y=dn().toLowerCase();i&&(g=lb(y)?vS:i),rb(y)&&(e=e||bS,_.scrollbars="yes");const T=Object.entries(_).reduce((O,[K,W])=>`${O}${K}=${W},`,"");if(nx(y)&&g!=="_self")return TS(e||"",g),new w_(null);const x=window.open(e||"",g,T);Te(x,s,"popup-blocked");try{x.focus()}catch{}return new w_(x)}function TS(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const AS="__/auth/handler",xS="emulator/auth/handler",SS=encodeURIComponent("fac");async function R_(s,e,i,a,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:vl,eventId:o};if(e instanceof qm){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",AA(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))f[T]=x}if(e instanceof eu){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),y=_?`#${SS}=${encodeURIComponent(_)}`:"";return`${wS(s)}?${Zo(g).slice(1)}${y}`}function wS({config:s}){return s.emulator?Pm(s,xS):`https://${s.authDomain}/${AS}`}const Qf="webStorageSupport";class RS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bb,this._completeRedirectFn=Jx,this._overrideRedirectResult=Yx}async _openPopup(e,i,a,o){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await R_(e,i,a,cm(),o);return ES(e,c,Hm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await R_(e,i,a,cm(),o);return Ix(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await gS(e),a=new Wx(e);return i.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Qf,{type:Qf},o=>{const c=o?.[0]?.[Qf];c!==void 0&&i(!!c),Hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sS(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return db()||ab()||zm()}}const CS=RS;var C_="@firebase/auth",N_="1.12.0";class NS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function IS(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kS(s){hl(new ia("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=a.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(s)},y=new ox(a,o,c,_);return mx(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),hl(new ia("auth-internal",e=>{const i=_h(e.getProvider("auth").getImmediate());return(a=>new NS(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),lr(C_,N_,IS(s)),lr(C_,N_,"esm2020")}const DS=300,OS=Hv("authIdTokenMaxAge")||DS;let I_=null;const MS=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>OS)return;const o=i?.token;I_!==o&&(I_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function VS(s=Xv()){const e=Mm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=fx(s,{popupRedirectResolver:CS,persistence:[Lx,Rx,bb]}),a=Hv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const f=MS(c.toString());Ax(i,f,()=>f(i.currentUser)),Tx(i,g=>f(g))}}const o=Bv("auth");return o&&gx(i,`http://${o}`),i}function jS(){return document.getElementsByTagName("head")?.[0]??document}ux({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=mi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",jS().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kS("Browser");var k_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var or,Cb;(function(){var s;function e(R,S){function N(){}N.prototype=S.prototype,R.F=S.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(M,I,j){for(var w=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)w[Xe-2]=arguments[Xe];return S.prototype[I].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,N){N||(N=0);const M=Array(16);if(typeof S=="string")for(var I=0;I<16;++I)M[I]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(I=0;I<16;++I)M[I]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=R.g[0],N=R.g[1],I=R.g[2];let j=R.g[3],w;w=S+(j^N&(I^j))+M[0]+3614090360&4294967295,S=N+(w<<7&4294967295|w>>>25),w=j+(I^S&(N^I))+M[1]+3905402710&4294967295,j=S+(w<<12&4294967295|w>>>20),w=I+(N^j&(S^N))+M[2]+606105819&4294967295,I=j+(w<<17&4294967295|w>>>15),w=N+(S^I&(j^S))+M[3]+3250441966&4294967295,N=I+(w<<22&4294967295|w>>>10),w=S+(j^N&(I^j))+M[4]+4118548399&4294967295,S=N+(w<<7&4294967295|w>>>25),w=j+(I^S&(N^I))+M[5]+1200080426&4294967295,j=S+(w<<12&4294967295|w>>>20),w=I+(N^j&(S^N))+M[6]+2821735955&4294967295,I=j+(w<<17&4294967295|w>>>15),w=N+(S^I&(j^S))+M[7]+4249261313&4294967295,N=I+(w<<22&4294967295|w>>>10),w=S+(j^N&(I^j))+M[8]+1770035416&4294967295,S=N+(w<<7&4294967295|w>>>25),w=j+(I^S&(N^I))+M[9]+2336552879&4294967295,j=S+(w<<12&4294967295|w>>>20),w=I+(N^j&(S^N))+M[10]+4294925233&4294967295,I=j+(w<<17&4294967295|w>>>15),w=N+(S^I&(j^S))+M[11]+2304563134&4294967295,N=I+(w<<22&4294967295|w>>>10),w=S+(j^N&(I^j))+M[12]+1804603682&4294967295,S=N+(w<<7&4294967295|w>>>25),w=j+(I^S&(N^I))+M[13]+4254626195&4294967295,j=S+(w<<12&4294967295|w>>>20),w=I+(N^j&(S^N))+M[14]+2792965006&4294967295,I=j+(w<<17&4294967295|w>>>15),w=N+(S^I&(j^S))+M[15]+1236535329&4294967295,N=I+(w<<22&4294967295|w>>>10),w=S+(I^j&(N^I))+M[1]+4129170786&4294967295,S=N+(w<<5&4294967295|w>>>27),w=j+(N^I&(S^N))+M[6]+3225465664&4294967295,j=S+(w<<9&4294967295|w>>>23),w=I+(S^N&(j^S))+M[11]+643717713&4294967295,I=j+(w<<14&4294967295|w>>>18),w=N+(j^S&(I^j))+M[0]+3921069994&4294967295,N=I+(w<<20&4294967295|w>>>12),w=S+(I^j&(N^I))+M[5]+3593408605&4294967295,S=N+(w<<5&4294967295|w>>>27),w=j+(N^I&(S^N))+M[10]+38016083&4294967295,j=S+(w<<9&4294967295|w>>>23),w=I+(S^N&(j^S))+M[15]+3634488961&4294967295,I=j+(w<<14&4294967295|w>>>18),w=N+(j^S&(I^j))+M[4]+3889429448&4294967295,N=I+(w<<20&4294967295|w>>>12),w=S+(I^j&(N^I))+M[9]+568446438&4294967295,S=N+(w<<5&4294967295|w>>>27),w=j+(N^I&(S^N))+M[14]+3275163606&4294967295,j=S+(w<<9&4294967295|w>>>23),w=I+(S^N&(j^S))+M[3]+4107603335&4294967295,I=j+(w<<14&4294967295|w>>>18),w=N+(j^S&(I^j))+M[8]+1163531501&4294967295,N=I+(w<<20&4294967295|w>>>12),w=S+(I^j&(N^I))+M[13]+2850285829&4294967295,S=N+(w<<5&4294967295|w>>>27),w=j+(N^I&(S^N))+M[2]+4243563512&4294967295,j=S+(w<<9&4294967295|w>>>23),w=I+(S^N&(j^S))+M[7]+1735328473&4294967295,I=j+(w<<14&4294967295|w>>>18),w=N+(j^S&(I^j))+M[12]+2368359562&4294967295,N=I+(w<<20&4294967295|w>>>12),w=S+(N^I^j)+M[5]+4294588738&4294967295,S=N+(w<<4&4294967295|w>>>28),w=j+(S^N^I)+M[8]+2272392833&4294967295,j=S+(w<<11&4294967295|w>>>21),w=I+(j^S^N)+M[11]+1839030562&4294967295,I=j+(w<<16&4294967295|w>>>16),w=N+(I^j^S)+M[14]+4259657740&4294967295,N=I+(w<<23&4294967295|w>>>9),w=S+(N^I^j)+M[1]+2763975236&4294967295,S=N+(w<<4&4294967295|w>>>28),w=j+(S^N^I)+M[4]+1272893353&4294967295,j=S+(w<<11&4294967295|w>>>21),w=I+(j^S^N)+M[7]+4139469664&4294967295,I=j+(w<<16&4294967295|w>>>16),w=N+(I^j^S)+M[10]+3200236656&4294967295,N=I+(w<<23&4294967295|w>>>9),w=S+(N^I^j)+M[13]+681279174&4294967295,S=N+(w<<4&4294967295|w>>>28),w=j+(S^N^I)+M[0]+3936430074&4294967295,j=S+(w<<11&4294967295|w>>>21),w=I+(j^S^N)+M[3]+3572445317&4294967295,I=j+(w<<16&4294967295|w>>>16),w=N+(I^j^S)+M[6]+76029189&4294967295,N=I+(w<<23&4294967295|w>>>9),w=S+(N^I^j)+M[9]+3654602809&4294967295,S=N+(w<<4&4294967295|w>>>28),w=j+(S^N^I)+M[12]+3873151461&4294967295,j=S+(w<<11&4294967295|w>>>21),w=I+(j^S^N)+M[15]+530742520&4294967295,I=j+(w<<16&4294967295|w>>>16),w=N+(I^j^S)+M[2]+3299628645&4294967295,N=I+(w<<23&4294967295|w>>>9),w=S+(I^(N|~j))+M[0]+4096336452&4294967295,S=N+(w<<6&4294967295|w>>>26),w=j+(N^(S|~I))+M[7]+1126891415&4294967295,j=S+(w<<10&4294967295|w>>>22),w=I+(S^(j|~N))+M[14]+2878612391&4294967295,I=j+(w<<15&4294967295|w>>>17),w=N+(j^(I|~S))+M[5]+4237533241&4294967295,N=I+(w<<21&4294967295|w>>>11),w=S+(I^(N|~j))+M[12]+1700485571&4294967295,S=N+(w<<6&4294967295|w>>>26),w=j+(N^(S|~I))+M[3]+2399980690&4294967295,j=S+(w<<10&4294967295|w>>>22),w=I+(S^(j|~N))+M[10]+4293915773&4294967295,I=j+(w<<15&4294967295|w>>>17),w=N+(j^(I|~S))+M[1]+2240044497&4294967295,N=I+(w<<21&4294967295|w>>>11),w=S+(I^(N|~j))+M[8]+1873313359&4294967295,S=N+(w<<6&4294967295|w>>>26),w=j+(N^(S|~I))+M[15]+4264355552&4294967295,j=S+(w<<10&4294967295|w>>>22),w=I+(S^(j|~N))+M[6]+2734768916&4294967295,I=j+(w<<15&4294967295|w>>>17),w=N+(j^(I|~S))+M[13]+1309151649&4294967295,N=I+(w<<21&4294967295|w>>>11),w=S+(I^(N|~j))+M[4]+4149444226&4294967295,S=N+(w<<6&4294967295|w>>>26),w=j+(N^(S|~I))+M[11]+3174756917&4294967295,j=S+(w<<10&4294967295|w>>>22),w=I+(S^(j|~N))+M[2]+718787259&4294967295,I=j+(w<<15&4294967295|w>>>17),w=N+(j^(I|~S))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+j&4294967295}a.prototype.v=function(R,S){S===void 0&&(S=R.length);const N=S-this.blockSize,M=this.C;let I=this.h,j=0;for(;j<S;){if(I==0)for(;j<=N;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<S;)if(M[I++]=R.charCodeAt(j++),I==this.blockSize){o(this,M),I=0;break}}else for(;j<S;)if(M[I++]=R[j++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=S},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,N=0;N<4;++N)for(let M=0;M<32;M+=8)R[S++]=this.g[N]>>>M&255;return R};function c(R,S){var N=g;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=S(R)}function f(R,S){this.h=S;const N=[];let M=!0;for(let I=R.length-1;I>=0;I--){const j=R[I]|0;M&&j==S||(N[I]=j,M=!1)}this.g=N}var g={};function _(R){return-128<=R&&R<128?c(R,function(S){return new f([S|0],S<0?-1:0)}):new f([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return Z(y(-R));const S=[];let N=1;for(let M=0;R>=N;M++)S[M]=R/N|0,N*=4294967296;return new f(S,0)}function T(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return Z(T(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let M=x;for(let j=0;j<R.length;j+=8){var I=Math.min(8,R.length-j);const w=parseInt(R.substring(j,j+I),S);I<8?(I=y(Math.pow(S,I)),M=M.j(I).add(y(w))):(M=M.j(N),M=M.add(y(w)))}return M}var x=_(0),O=_(1),K=_(16777216);s=f.prototype,s.m=function(){if(q(this))return-Z(this).m();let R=0,S=1;for(let N=0;N<this.g.length;N++){const M=this.i(N);R+=(M>=0?M:4294967296+M)*S,S*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(q(this))return"-"+Z(this).toString(R);const S=y(Math.pow(R,6));var N=this;let M="";for(;;){const I=Ge(N,S).g;N=ue(N,I.j(S));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=I,W(N))return j+M;for(;j.length<6;)j="0"+j;M=j+M}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function q(R){return R.h==-1}s.l=function(R){return R=ue(this,R),q(R)?-1:W(R)?0:1};function Z(R){const S=R.g.length,N=[];for(let M=0;M<S;M++)N[M]=~R.g[M];return new f(N,~R.h).add(O)}s.abs=function(){return q(this)?Z(this):this},s.add=function(R){const S=Math.max(this.g.length,R.g.length),N=[];let M=0;for(let I=0;I<=S;I++){let j=M+(this.i(I)&65535)+(R.i(I)&65535),w=(j>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);M=w>>>16,j&=65535,w&=65535,N[I]=w<<16|j}return new f(N,N[N.length-1]&-2147483648?-1:0)};function ue(R,S){return R.add(Z(S))}s.j=function(R){if(W(this)||W(R))return x;if(q(this))return q(R)?Z(this).j(Z(R)):Z(Z(this).j(R));if(q(R))return Z(this.j(Z(R)));if(this.l(K)<0&&R.l(K)<0)return y(this.m()*R.m());const S=this.g.length+R.g.length,N=[];for(var M=0;M<2*S;M++)N[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<R.g.length;I++){const j=this.i(M)>>>16,w=this.i(M)&65535,Xe=R.i(I)>>>16,_t=R.i(I)&65535;N[2*M+2*I]+=w*_t,oe(N,2*M+2*I),N[2*M+2*I+1]+=j*_t,oe(N,2*M+2*I+1),N[2*M+2*I+1]+=w*Xe,oe(N,2*M+2*I+1),N[2*M+2*I+2]+=j*Xe,oe(N,2*M+2*I+2)}for(R=0;R<S;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=S;R<2*S;R++)N[R]=0;return new f(N,0)};function oe(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function be(R,S){this.g=R,this.h=S}function Ge(R,S){if(W(S))throw Error("division by zero");if(W(R))return new be(x,x);if(q(R))return S=Ge(Z(R),S),new be(Z(S.g),Z(S.h));if(q(S))return S=Ge(R,Z(S)),new be(Z(S.g),S.h);if(R.g.length>30){if(q(R)||q(S))throw Error("slowDivide_ only works with positive integers.");for(var N=O,M=S;M.l(R)<=0;)N=mt(N),M=mt(M);var I=Pe(N,1),j=Pe(M,1);for(M=Pe(M,2),N=Pe(N,2);!W(M);){var w=j.add(M);w.l(R)<=0&&(I=I.add(N),j=w),M=Pe(M,1),N=Pe(N,1)}return S=ue(R,I.j(S)),new be(I,S)}for(I=x;R.l(S)>=0;){for(N=Math.max(1,Math.floor(R.m()/S.m())),M=Math.ceil(Math.log(N)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),j=y(N),w=j.j(S);q(w)||w.l(R)>0;)N-=M,j=y(N),w=j.j(S);W(j)&&(j=O),I=I.add(j),R=ue(R,w)}return new be(I,R)}s.B=function(R){return Ge(this,R).h},s.and=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)&R.i(M);return new f(N,this.h&R.h)},s.or=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)|R.i(M);return new f(N,this.h|R.h)},s.xor=function(R){const S=Math.max(this.g.length,R.g.length),N=[];for(let M=0;M<S;M++)N[M]=this.i(M)^R.i(M);return new f(N,this.h^R.h)};function mt(R){const S=R.g.length+1,N=[];for(let M=0;M<S;M++)N[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(N,R.h)}function Pe(R,S){const N=S>>5;S%=32;const M=R.g.length-N,I=[];for(let j=0;j<M;j++)I[j]=S>0?R.i(j+N)>>>S|R.i(j+N+1)<<32-S:R.i(j+N);return new f(I,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Cb=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,or=f}).apply(typeof k_<"u"?k_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Nb,ko,Ib,Hc,fm,kb,Db,Ob;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in v))break e;v=v[P]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},f=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,P,B){for(var te=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)te[Ne-2]=arguments[Ne];return m.prototype[P].apply(A,te)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const P=arguments[A];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const B=P.length||0;u.length=v+B;for(let te=0;te<B;te++)u[v+te]=P[te]}else u.push(P)}}class q{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){f.setTimeout(()=>{throw u},0)}function ue(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const A=be.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var be=new q(()=>new Ge,u=>u.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,Pe=!1,R=new oe,S=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(N)}};function N(){for(var u;u=ue();){try{u.h.call(u.g)}catch(v){Z(v)}var m=be;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pe=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Xe(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Xe,I),Xe.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xe.Z.h.call(this)},Xe.prototype.h=function(){Xe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _t="closure_listenable_"+(Math.random()*1e6|0),F=0;function ne(u,m,v,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=P,this.key=++F,this.da=this.fa=!1}function ce(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function He(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function $e(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,m){let v,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(v in A)u[v]=A[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function se(u){this.src=u,this.g={},this.h=0}se.prototype.add=function(u,m,v,A,P){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=ve(u,m,A,P);return te>-1?(m=u[te],v||(m.fa=!1)):(m=new ne(m,this.src,B,!!A,P),m.fa=v,u.push(m)),m};function pe(u,m){const v=m.type;if(v in u.g){var A=u.g[v],P=Array.prototype.indexOf.call(A,m,void 0),B;(B=P>=0)&&Array.prototype.splice.call(A,P,1),B&&(ce(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ve(u,m,v,A){for(let P=0;P<u.length;++P){const B=u[P];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return P}return-1}var Me="closure_lm_"+(Math.random()*1e6|0),xt={};function Oe(u,m,v,A,P){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Oe(u,m[B],v,A,P);return null}return v=ti(v),u&&u[_t]?u.J(m,v,g(A)?!!A.capture:!1,P):Ki(u,m,v,!1,A,P)}function Ki(u,m,v,A,P,B){if(!m)throw Error("Invalid event type");const te=g(P)?!!P.capture:!!P;let Ne=ln(u);if(Ne||(u[Me]=Ne=new se(u)),v=Ne.add(m,v,A,te,B),v.proxy)return v;if(A=Pn(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)j||(P=te),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Ht(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pn(){function u(v){return m.call(u.src,u.listener,v)}const m=Nt;return u}function Qi(u,m,v,A,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)Qi(u,m[B],v,A,P);else A=g(A)?!!A.capture:!!A,v=ti(v),u&&u[_t]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=ve(m,v,A,P),v>-1&&(ce(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ln(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ve(m,v,A,P)),(v=u>-1?m[u]:null)&&Un(v))}function Un(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[_t])pe(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Ht(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=ln(m))?(pe(v,u),v.h==0&&(v.src=null,m[Me]=null)):ce(u)}}}function Ht(u){return u in xt?xt[u]:xt[u]="on"+u}function Nt(u,m){if(u.da)u=!0;else{m=new Xe(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&Un(u),u=v.call(A,m)}return u}function ln(u){return u=u[Me],u instanceof se?u:null}var _r="__closure_events_fn_"+(Math.random()*1e9>>>0);function ti(u){return typeof u=="function"?u:(u[_r]||(u[_r]=function(m){return u.handleEvent(m)}),u[_r])}function gt(){M.call(this),this.i=new se(this),this.M=this,this.G=null}x(gt,M),gt.prototype[_t]=!0,gt.prototype.removeEventListener=function(u,m,v,A){Qi(this,u,m,v,A)};function vt(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var P=m;m=new I(A,u),ie(m,P)}P=!0;let B,te;if(v)for(te=v.length-1;te>=0;te--)B=m.g=v[te],P=pi(B,A,!0,m)&&P;if(B=m.g=u,P=pi(B,A,!0,m)&&P,P=pi(B,A,!1,m)&&P,v)for(te=0;te<v.length;te++)B=m.g=v[te],P=pi(B,A,!1,m)&&P}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ce(v[A]);delete u.g[m],u.h--}}this.G=null},gt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},gt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function pi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==v){const Ne=te.listener,St=te.ha||te.src;te.fa&&pe(u.i,te),P=Ne.call(St,A)!==!1&&P}}return P&&!A.defaultPrevented}function vr(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(u,m||0)}function da(u){u.g=vr(()=>{u.g=null,u.i&&(u.i=!1,da(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Yt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yi(u){M.call(this),this.h=u,this.g={}}x(yi,M);var Ts=[];function br(u){He(u.g,function(m,v){this.g.hasOwnProperty(v)&&Un(m)},u),u.g={}}yi.prototype.N=function(){yi.Z.N.call(this),br(this)},yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _i=f.JSON.stringify,Sl=f.JSON.parse,Er=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function fa(){}function ee(){}var re={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function me(){I.call(this,"d")}x(me,I);function Ae(){I.call(this,"c")}x(Ae,I);var fe={},We=null;function xe(){return We=We||new gt}fe.Ia="serverreachability";function Xt(u){I.call(this,fe.Ia,u)}x(Xt,I);function $t(u){const m=xe();vt(m,new Xt(m))}fe.STAT_EVENT="statevent";function Sn(u,m){I.call(this,fe.STAT_EVENT,u),this.stat=m}x(Sn,I);function Et(u){const m=xe();vt(m,new Sn(m,u))}fe.Ja="timingevent";function ut(u,m){I.call(this,fe.Ja,u),this.size=m}x(ut,I);function Ln(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function wn(){this.g=!0}wn.prototype.ua=function(){this.g=!1};function Uh(u,m,v,A,P,B){u.info(function(){if(u.g)if(B){var te="",Ne=B.split("&");for(let Je=0;Je<Ne.length;Je++){var St=Ne[Je].split("=");if(St.length>1){const pt=St[0];St=St[1];const Hn=pt.split("_");te=Hn.length>=2&&Hn[1]=="type"?te+(pt+"="+St+"&"):te+(pt+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+v+`
`+te})}function lu(u,m,v,A,P,B,te){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+v+`
`+B+" "+te})}function vi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,v)+(A?" "+A:"")})}function Tr(u,m){u.info(function(){return"TIMEOUT: "+m})}wn.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var P=A[0];if(P!="noop"&&P!="stop"&&P!="close")for(let te=1;te<A.length;te++)A[te]=""}}}}return _i(B)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function xr(){}x(xr,fa),xr.prototype.g=function(){return new XMLHttpRequest},Rl=new xr;function Yi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ni(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ii}function ii(){this.i=null,this.g="",this.h=!1}var It={},Ft={};function bi(u,m,v){u.M=1,u.A=Sr(Dt(m)),u.u=v,u.R=!0,ma(u,null)}function ma(u,m){u.F=Date.now(),Ei(u),u.B=Dt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),_a(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ii,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Yt(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ts[0]=P.toString()),P=Ts);for(let B=0;B<P.length;B++){const te=Oe(v,P[B],A||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),$t(),Uh(u.i,u.v,u.B,u.l,u.S,u.u)}ni.prototype.ba=function(u){u=u.target;const m=this.O;m&&ai(u)==3?m.j():this.Y(u)},ni.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=ai(this.g),St=this.g.ya(),Je=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Ne!=4||St==7||(St==8||Je<=0?$t(3):$t(2)),Ti(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,Ne,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,P=this.g;if((A=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var B=A;break t}}B=null}if(u=B)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Et(12),Rn(this),zn(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=cu(this,v),pt==Ft){Ne==4&&(this.m=4,Et(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==It){this.m=4,Et(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,pt,null),Ai(this,pt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,Et(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(te),te.P=!0,Et(11))}}else vi(this.i,this.l,v,null),Ai(this,v);Ne==4&&Rn(this),this.o&&!this.K&&(Ne==4?vu(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Rn(this),zn(this)}}}catch{}};function zh(u){if(!uu(u))return u.g.la();const m=Jt(u.g);if(m==="")return"";let v="";const A=m.length,P=ai(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),zn(u),"";u.h.i=new f.TextDecoder}for(let B=0;B<A;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(P&&B==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ft:(v=Number(m.substring(v,A)),isNaN(v)?It:(A+=1,A+v>m.length?Ft:(m=m.slice(A,A+v),u.C=A+v,m)))}ni.prototype.cancel=function(){this.K=!0,Rn(this)};function Ei(u){u.T=Date.now()+u.H,ga(u,u.H)}function ga(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ln(y(u.aa,u),m)}function Ti(u){u.D&&(f.clearTimeout(u.D),u.D=null)}ni.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&($t(),Et(17)),Rn(this),this.m=2,zn(this)):ga(this,this.T-u)};function zn(u){u.j.I==0||u.K||vu(u.j,u)}function Rn(u){Ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,br(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Si(v.h,u))){if(!u.L&&Si(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Aa(v),Is(v);else break e;Dr(v),Et(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Ln(y(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&Aa(v),!w(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Je=P[m];const pt=Je[0];if(!(pt<=v.K))if(v.K=pt,Je=Je[1],v.I==2)if(Je[0]=="c"){v.M=Je[1],v.ba=Je[2];const Hn=Je[3];Hn!=null&&(v.ka=Hn,v.j.info("VER="+v.ka));const Di=Je[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const li=Je[5];li!=null&&typeof li=="number"&&li>0&&(A=1.5*li,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const oi=u.g;if(oi){const Or=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var B=A.h;B.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Il(B,B.h),B.h=null))}if(A.G){const xa=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,tt(A.J,A.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var te=u;if(A.na=Tu(A,A.L?A.ba:null,A.W),te.L){kl(A.h,te);var Ne=te,St=A.O;St&&(Ne.H=St),Ne.D&&(Ti(Ne),Ei(Ne)),A.g=te}else yu(A);v.i.length>0&&Ii(v)}else Je[0]!="stop"&&Je[0]!="close"||ki(v,7);else v.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ki(v,7):zl(v):Je[0]!="noop"&&v.l&&v.l.qa(Je),v.A=0)}}$t(4)}catch{}}var kt=class{constructor(u,m){this.g=u,this.map=m}};function Cl(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return K(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let P,B=null;A>=0?(P=u[v].substring(0,A),B=u[v].substring(A+1)):P=u[v],m(P,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Gt(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Ol(this,gu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Gt(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),As(this,m[4]),this.h=wi(m[5]||"",!0),Ol(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Ss(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(wr(m,ya,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(wr(m,ya,!0),"@"),u.push(Yi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(wr(v,v.charAt(0)=="/"?Ml:du,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",wr(v,fu)),u.join("")},Cn.prototype.resolve=function(u){const m=Dt(this);let v=!!u.j;v?Gt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var P=m.h.lastIndexOf("/");P!=-1&&(A=m.h.slice(0,P+1)+A)}if(P=A,P==".."||P==".")A="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){A=P.lastIndexOf("/",0)==0,P=P.split("/");const B=[];for(let te=0;te<P.length;){const Ne=P[te++];Ne=="."?A&&te==P.length&&B.push(""):Ne==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&te==P.length&&B.push("")):(B.push(Ne),A=!0)}A=B.join("/")}else A=P}return v?m.h=A:v=u.i.toString()!=="",v?Ol(m,gu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Dt(u){return new Cn(u)}function Gt(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ol(u,m,v){m instanceof Ss?(u.i=m,va(u.i,u.l)):(v||(m=wr(m,xs)),u.i=new Ss(m,u.l))}function tt(u,m,v){u.i.set(m,v)}function Sr(u){return tt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function wr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,du=/[#\?:]/g,Ml=/[#\?]/g,xs=/[#\?@]/g,fu=/#/g;function Ss(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Ss.prototype,s.add=function(u,m){yn(this),this.i=null,u=ws(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){yn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vl(u,m){return yn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(v,A){v.forEach(function(P){u.call(m,P,A,this)},this)},this)};function jl(u,m){yn(u);let v=[];if(typeof m=="string")Vl(u,m)&&(v=v.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return yn(this),this.i=null,u=ws(this,u),Vl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jl(this,u),u.length>0?String(u[0]):m):m};function _a(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(ws(u,m),K(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const P=Yi(v);v=jl(this,v);for(let B=0;B<v.length;B++){let te=P;v[B]!==""&&(te+="="+Yi(v[B])),u.push(te)}}return this.i=u.join("&")};function gu(u){const m=new Ss;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function va(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(v,A){const P=A.toLowerCase();A!=P&&(mu(this,A),_a(this,P,v))},u)),u.j=m}function si(u,m){const v=new wn;if(f.Image){const A=new Image;A.onload=T(Bn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Bn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Bn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Bn,v,"TestLoadImage: timeout",!1,m,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Pl(u,m){const v=new wn,A=new AbortController,P=setTimeout(()=>{A.abort(),Bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(P),B.ok?Bn(v,"TestPingServer: ok",!0,m):Bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Bn(v,"TestPingServer: error",!1,m)})}function Bn(u,m,v,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(v)}catch{}}function Rs(){this.g=new Er}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ri,fa),Ri.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,m){gt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Rr,gt),s=Rr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ri(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ri(this),this.readyState==3&&ba(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ri(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ri(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function qn(u){let m="";return He(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Cr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=qn(v),typeof u=="string"?v!=null&&Yi(v):tt(u,m,v))}function st(u){gt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(st,gt);var Ci=/^https?$/i,Ul=["POST","PUT"];s=st.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Nr(this,B);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)v.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Ul,m,void 0)>=0)||A||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of v)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Nr(this,B)}};function Nr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ll(u),Xi(u)}function Ll(u){u.A||(u.A=!0,vt(u,"complete"),vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,vt(this,"complete"),vt(this,"abort"),Xi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),st.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ir(this):this.Xa())},s.Xa=function(){Ir(this)};function Ir(u){if(u.h&&typeof c<"u"){if(u.v&&ai(u)==4)setTimeout(u.Ca.bind(u),0);else if(vt(u,"readystatechange"),ai(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let te=String(u.D).match(hu)[1]||null;!te&&f.self&&f.self.location&&(te=f.self.location.protocol.slice(0,-1)),A=!Ci.test(te?te.toLowerCase():"")}v=A}if(v)vt(u,"complete"),vt(u,"success");else{u.o=6;try{var P=ai(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Ll(u)}}finally{Xi(u)}}}}function Xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||vt(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Sl(m)}};function Jt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const m={};u=(u.g&&ai(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=ou(u[A]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[P]||[];m[P]=B,B.push(v)}$e(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){Et(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),Ii(this)};function zl(u){if(Ea(u),u.I==3){var m=u.V++,v=Dt(u.J);if(tt(v,"SID",u.M),tt(v,"RID",m),tt(v,"TYPE","terminate"),kr(u,v),m=new ni(u,u.j,m),m.M=2,m.A=Sr(Dt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ei(m)}Eu(u)}function Is(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function Ea(u){Is(u),u.v&&(f.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;mt||S(),Pe||(mt(),Pe=!0),R.add(m,u),u.D=0}}function Ta(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ln(y(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ni(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(P.J=B,B=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=pu(this,P,m),v=Dt(this.J),tt(v,"RID",u),tt(v,"CVER",22),this.G&&tt(v,"X-HTTP-Session-Id",this.G),kr(this,v),B&&(this.R?m="headers="+Yi(qn(B))+"&"+m:this.u&&Cr(v,this.u,B)),Il(this.h,P),this.Ra&&tt(v,"TYPE","init"),this.S?(tt(v,"$req",m),tt(v,"SID","null"),P.U=!0,bi(P,v,null)):bi(P,v,m),this.I=2}}else this.I==3&&(u?Bl(this,u):this.i.length==0||Nl(this.h)||Bl(this))};function Bl(u,m){var v;m?v=m.l:v=u.V++;const A=Dt(u.J);tt(A,"SID",u.M),tt(A,"RID",v),tt(A,"AID",u.K),kr(u,A),u.u&&u.o&&Cr(A,u.u,u.o),v=new ni(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,v),bi(v,A,m)}function kr(u,m){u.H&&He(u.H,function(v,A){tt(m,A,v)}),u.l&&He({},function(v,A){tt(m,A,v)})}function pu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ne=-1;for(;;){const St=["count="+v];Ne==-1?v>0?(Ne=P[0].g,St.push("ofs="+Ne)):Ne=0:St.push("ofs="+Ne);let Je=!0;for(let pt=0;pt<v;pt++){var B=P[pt].g;const Hn=P[pt].map;if(B-=Ne,B<0)Ne=Math.max(0,P[pt].g-100),Je=!1;else try{B="req"+B+"_"||"";try{var te=Hn instanceof Map?Hn:Object.entries(Hn);for(const[Di,li]of te){let oi=li;g(li)&&(oi=_i(li)),St.push(B+Di+"="+encodeURIComponent(oi))}}catch(Di){throw St.push(B+"type="+encodeURIComponent("_badmap")),Di}}catch{A&&A(Hn)}}if(Je){te=St.join("&");break e}}te=void 0}return u=u.i.splice(0,v),m.G=u,te}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;mt||S(),Pe||(mt(),Pe=!0),R.add(m,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ln(y(u.Da,u),bu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ln(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Is(this),_u(this))};function ql(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ni(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Dt(u.na);tt(m,"RID","rpc"),tt(m,"SID",u.M),tt(m,"AID",u.K),tt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&tt(m,"TO",u.ia),tt(m,"TYPE","xmlhttp"),kr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Sr(Dt(m)),v.u=null,v.R=!0,ma(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Dr(this),Et(19))};function Aa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){Aa(u),ql(u),u.g=null;var A=2}else if(Si(u.h,m))v=m.G,kl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;A=xe(),vt(A,new ut(A,v)),Ii(u)}else yu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(A==1&&Ta(u,m)||A==2&&Dr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const P=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Gt(A,"https"),Sr(A),P?si(A.toString(),v):Pl(A.toString(),v)}else Et(2);u.I=0,u.l&&u.l.pa(m),Eu(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=Dl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,v){var A=v instanceof Cn?Dt(v):new Cn(v);if(A.g!="")m&&(A.g=m+"."+A.g),As(A,A.u);else{var P=f.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const B=new Cn(null);A&&Gt(B,A),m&&(B.g=m),P&&As(B,P),v&&(B.h=v),A=B}return v=u.G,m=u.wa,v&&m&&tt(A,v,m),tt(A,"VER",u.ka),kr(u,A),A}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new st(new Ri({ab:v})):new st(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xu(){}s=xu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new fn(u,m)};function fn(u,m){gt.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}x(fn,gt),fn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){zl(this.g)},fn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_i(u),u=v);m.i.push(new kt(m.Ya++,u)),m.I==3&&Ii(m)},fn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,fn.Z.N.call(this)};function Su(u){me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Su,me);function wu(){Ae.call(this),this.status=1}x(wu,Ae);function Ji(u){this.g=u}x(Ji,xu),Ji.prototype.ra=function(){vt(this.g,"a")},Ji.prototype.qa=function(u){vt(this.g,new Su(u))},Ji.prototype.pa=function(u){vt(this.g,new wu)},Ji.prototype.oa=function(){vt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Ob=function(){return new ks},Db=function(){return xe()},kb=fe,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Hc=Ar,wl.COMPLETE="complete",Ib=wl,ee.EventType=re,re.OPEN="a",re.CLOSE="b",re.ERROR="c",re.MESSAGE="d",gt.prototype.listen=gt.prototype.J,ko=ee,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,Nb=st}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let El="12.9.0";function PS(s){El=s}const ra=new Dm("@firebase/firestore");function el(){return ra.logLevel}function ae(s,...e){if(ra.logLevel<=ze.DEBUG){const i=e.map(Gm);ra.debug(`Firestore (${El}): ${s}`,...i)}}function vs(s,...e){if(ra.logLevel<=ze.ERROR){const i=e.map(Gm);ra.error(`Firestore (${El}): ${s}`,...i)}}function aa(s,...e){if(ra.logLevel<=ze.WARN){const i=e.map(Gm);ra.warn(`Firestore (${El}): ${s}`,...i)}}function Gm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ee(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,Mb(s,a,i)}function Mb(s,e,i){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function et(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||Mb(e,o,a)}function Ce(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Vb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class LS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zS{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){et(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ea,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ea)}}),0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(et(typeof a.accessToken=="string",31837,{l:a}),new Vb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class BS{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qS{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new BS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){et(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(et(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Km{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Be(s,e){return s<e?-1:s>e?1:0}function mm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Yf(o)===Yf(c)?Be(o,c):Yf(o)?1:-1}return Be(s.length,e.length)}const GS=55296,KS=57343;function Yf(s){const e=s.charCodeAt(0);return e>=GS&&e<=KS}function fl(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const O_="__name__";class Pi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ee(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ee(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Pi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Be(e.length,i.length)}static compareSegments(e,i){const a=Pi.isNumericId(e),o=Pi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(i)):mm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return or.fromString(e.substring(4,e.length-2))}}class dt extends Pi{construct(e,i,a){return new dt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new dt(i)}static emptyPath(){return new dt([])}}const QS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Pi{construct(e,i,a){return new sn(e,i,a)}static isValidIdentifier(e){return QS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new sn([O_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(a+=g,o++):(c(),o++)}if(c(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(dt.fromString(e))}static fromName(e){return new ye(dt.fromString(e).popFirst(5))}static empty(){return new ye(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new dt(e.slice()))}}function jb(s,e,i){if(!i)throw new de(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function YS(s,e,i,a){if(e===!0&&a===!0)throw new de(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function M_(s){if(!ye.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function V_(s){if(ye.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Pb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ee(12329,{type:typeof s})}function Li(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Qm(s);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Ut(s,e){const i={typeString:s};return e&&(i.value=e),i}function nu(s,e){if(!Pb(s))throw new de(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const f=s[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(J.INVALID_ARGUMENT,i);return!0}const j_=-62135596800,P_=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*P_);return new ft(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<j_)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P_}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-j_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Ut("string",ft._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ft(0,0))}static max(){return new we(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Fo=-1;function XS(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new ft(i+1,0):new ft(i,a));return new cr(o,ye.empty(),e)}function $S(s){return new cr(s.readTime,s.key,Fo)}class cr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new cr(we.min(),ye.empty(),Fo)}static max(){return new cr(we.max(),ye.empty(),Fo)}}function JS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ye.comparator(s.documentKey,e.documentKey),i!==0?i:Be(s.largestBatchId,e.largestBatchId))}const ZS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tl(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==ZS)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++c,f&&c===o&&i()}),(_=>a(_)))})),f=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,f=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(e[y]).next((T=>{f[y]=T,++g,g===c&&a(f)}),(T=>o(T)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ew(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Al(s){return s.name==="IndexedDbTransactionError"}class Eh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;const Ym=-1;function Th(s){return s==null}function sh(s){return s===0&&1/s==-1/0}function tw(s){return typeof s=="number"&&Number.isInteger(s)&&!sh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ub="";function nw(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=U_(e)),e=iw(s.get(i),e);return U_(e)}function iw(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Ub:i+="";break;default:i+=c}}return i}function U_(s){return s+Ub+""}function L_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function pr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Lb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class bt{constructor(e,i){this.comparator=e,this.root=i||nn.EMPTY}insert(e,i){return new bt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??nn.RED,this.left=o??nn.EMPTY,this.right=c??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new nn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return nn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new nn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new z_(this.data.getIterator())}getIteratorFrom(e){return new z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qt(this.comparator);return i.data=e,i}}class z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new jn([])}unionWith(e){let i=new qt(sn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class zb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class an{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zb("Invalid base64 string: "+c):c}})(e);return new an(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new an(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}an.EMPTY_BYTE_STRING=new an("");const sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hr(s){if(et(!!s,39018),typeof s=="string"){let e=0;const i=sw.exec(s);if(et(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ct(s.seconds),nanos:Ct(s.nanos)}}function Ct(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?an.fromBase64String(s):an.fromUint8Array(s)}const Bb="server_timestamp",qb="__type__",Hb="__previous_value__",Fb="__local_write_time__";function Xm(s){return(s?.mapValue?.fields||{})[qb]?.stringValue===Bb}function Ah(s){const e=s.mapValue.fields[Hb];return Xm(e)?Ah(e):e}function Go(s){const e=hr(s.mapValue.fields[Fb].timestampValue);return new ft(e.seconds,e.nanos)}class rw{constructor(e,i,a,o,c,f,g,_,y,T,x){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=x}}const rh="(default)";class Ko{constructor(e,i){this.projectId=e,this.database=i||rh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Ko&&e.projectId===this.projectId&&e.database===this.database}}function aw(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(s.options.projectId,e)}const Gb="__type__",lw="__max__",Oc={mapValue:{}},Kb="__vector__",ah="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xm(s)?4:uw(s)?9007199254740991:ow(s)?10:11:Ee(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const i=fr(s);if(i!==fr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Go(s).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=hr(o.timestampValue),g=hr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return dr(o.bytesValue).isEqual(dr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Ct(o.geoPointValue.latitude)===Ct(c.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ct(o.integerValue)===Ct(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Ct(o.doubleValue),g=Ct(c.doubleValue);return f===g?sh(f)===sh(g):isNaN(f)&&isNaN(g)}return!1})(s,e);case 9:return fl(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},g=c.mapValue.fields||{};if(L_(f)!==L_(g))return!1;for(const _ in f)if(f.hasOwnProperty(_)&&(g[_]===void 0||!Fi(f[_],g[_])))return!1;return!0})(s,e);default:return Ee(52216,{left:s})}}function Qo(s,e){return(s.values||[]).find((i=>Fi(i,e)))!==void 0}function ml(s,e){if(s===e)return 0;const i=fr(s),a=fr(e);if(i!==a)return Be(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Be(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const g=Ct(c.integerValue||c.doubleValue),_=Ct(f.integerValue||f.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return B_(s.timestampValue,e.timestampValue);case 4:return B_(Go(s),Go(e));case 5:return mm(s.stringValue,e.stringValue);case 6:return(function(c,f){const g=dr(c),_=dr(f);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const g=c.split("/"),_=f.split("/");for(let y=0;y<g.length&&y<_.length;y++){const T=Be(g[y],_[y]);if(T!==0)return T}return Be(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const g=Be(Ct(c.latitude),Ct(f.latitude));return g!==0?g:Be(Ct(c.longitude),Ct(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return q_(s.arrayValue,e.arrayValue);case 10:return(function(c,f){const g=c.fields||{},_=f.fields||{},y=g[ah]?.arrayValue,T=_[ah]?.arrayValue,x=Be(y?.values?.length||0,T?.values?.length||0);return x!==0?x:q_(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Oc.mapValue&&f===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(f===Oc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=f.fields||{},T=Object.keys(y);_.sort(),T.sort();for(let x=0;x<_.length&&x<T.length;++x){const O=mm(_[x],T[x]);if(O!==0)return O;const K=ml(g[_[x]],y[T[x]]);if(K!==0)return K}return Be(_.length,T.length)})(s.mapValue,e.mapValue);default:throw Ee(23264,{he:i})}}function B_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Be(s,e);const i=hr(s),a=hr(e),o=Be(i.seconds,a.seconds);return o!==0?o:Be(i.nanos,a.nanos)}function q_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ml(i[o],a[o]);if(c)return c}return Be(i.length,a.length)}function gl(s){return gm(s)}function gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=hr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ye.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=gm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of a)c?c=!1:o+=",",o+=`${f}:${gm(i.fields[f])}`;return o+"}"})(s.mapValue):Ee(61005,{value:s})}function Fc(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(s);return e?16+Fc(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return pr(a.fields,((c,f)=>{o+=c.length+Fc(f)})),o})(s.mapValue);default:throw Ee(13486,{value:s})}}function pm(s){return!!s&&"integerValue"in s}function $m(s){return!!s&&"arrayValue"in s}function H_(s){return!!s&&"nullValue"in s}function F_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function ow(s){return(s?.mapValue?.fields||{})[Gb]?.stringValue===Kb}function Uo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return pr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Uo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Uo(s.arrayValue.values[i]);return e}return{...s}}function uw(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===lw}class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uo(i)}setAll(e){let i=sn.emptyPath(),a={},o=[];e.forEach(((f,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}f?a[g.lastSegment()]=Uo(f):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){pr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new xn(Uo(this.value))}}function Qb(s){const e=[];return pr(s.fields,((i,a)=>{const o=new sn([i]);if(Gc(a)){const c=Qb(a.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new jn(e)}class hn{constructor(e,i,a,o,c,f,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,we.min(),we.min(),we.min(),xn.empty(),0)}static newFoundDocument(e,i,a,o){return new hn(e,1,i,we.min(),a,o,0)}static newNoDocument(e,i){return new hn(e,2,i,we.min(),we.min(),xn.empty(),0)}static newUnknownDocument(e,i){return new hn(e,3,i,we.min(),we.min(),xn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(e,i){this.position=e,this.inclusive=i}}function G_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?a=ye.comparator(ye.fromName(f.referenceValue),i.key):a=ml(f,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function K_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Fi(s.position[i],e.position[i]))return!1;return!0}class oh{constructor(e,i="asc"){this.field=e,this.dir=i}}function cw(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class Yb{}class Bt extends Yb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new dw(e,i,a):i==="array-contains"?new gw(e,a):i==="in"?new pw(e,a):i==="not-in"?new yw(e,a):i==="array-contains-any"?new _w(e,a):new Bt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new fw(e,a):new mw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ml(i,this.value)):i!==null&&fr(this.value)===fr(i)&&this.matchesComparison(ml(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends Yb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Gi(e,i)}matches(e){return Xb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xb(s){return s.op==="and"}function $b(s){return hw(s)&&Xb(s)}function hw(s){for(const e of s.filters)if(e instanceof Gi)return!1;return!0}function ym(s){if(s instanceof Bt)return s.field.canonicalString()+s.op.toString()+gl(s.value);if($b(s))return s.filters.map((e=>ym(e))).join(",");{const e=s.filters.map((i=>ym(i))).join(",");return`${s.op}(${e})`}}function Jb(s,e){return s instanceof Bt?(function(a,o){return o instanceof Bt&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(s,e):s instanceof Gi?(function(a,o){return o instanceof Gi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,f,g)=>c&&Jb(f,o.filters[g])),!0):!1})(s,e):void Ee(19439)}function Zb(s){return s instanceof Bt?(function(i){return`${i.field.canonicalString()} ${i.op} ${gl(i.value)}`})(s):s instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Zb).join(" ,")+"}"})(s):"Filter"}class dw extends Bt{constructor(e,i,a){super(e,i,a),this.key=ye.fromName(a.referenceValue)}matches(e){const i=ye.comparator(e.key,this.key);return this.matchesComparison(i)}}class fw extends Bt{constructor(e,i){super(e,"in",i),this.keys=Wb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class mw extends Bt{constructor(e,i){super(e,"not-in",i),this.keys=Wb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Wb(s,e){return(e.arrayValue?.values||[]).map((i=>ye.fromName(i.referenceValue)))}class gw extends Bt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return $m(i)&&Qo(i.arrayValue,this.value)}}class pw extends Bt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Qo(this.value.arrayValue,i)}}class yw extends Bt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Qo(this.value.arrayValue,i)}}class _w extends Bt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!$m(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Qo(this.value.arrayValue,a)))}}class vw{constructor(e,i=null,a=[],o=[],c=null,f=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=f,this.endAt=g,this.Te=null}}function Q_(s,e=null,i=[],a=[],o=null,c=null,f=null){return new vw(s,e,i,a,o,c,f)}function Jm(s){const e=Ce(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>ym(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Th(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>gl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>gl(a))).join(",")),e.Te=i}return e.Te}function Zm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!cw(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Jb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!K_(s.startAt,e.startAt)&&K_(s.endAt,e.endAt)}function _m(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class xh{constructor(e,i=null,a=[],o=[],c=null,f="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bw(s,e,i,a,o,c,f,g){return new xh(s,e,i,a,o,c,f,g)}function Wm(s){return new xh(s)}function Y_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ew(s){return ye.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function Tw(s){return s.collectionGroup!==null}function Lo(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new qt(sn.comparator);return f.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new oh(c,a))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new oh(sn.keyField(),a))}return e.Ie}function zi(s){const e=Ce(s);return e.Ee||(e.Ee=Aw(e,Lo(s))),e.Ee}function Aw(s,e){if(s.limitType==="F")return Q_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new oh(o.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return Q_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function vm(s,e,i){return new xh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sh(s,e){return Zm(zi(s),zi(e))&&s.limitType===e.limitType}function e1(s){return`${Jm(zi(s))}|lt:${s.limitType}`}function tl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Zb(o))).join(", ")}]`),Th(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>gl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>gl(o))).join(",")),`Target(${a})`})(zi(s))}; limitType=${s.limitType})`}function wh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ye.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Lo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(f,g,_){const y=G_(f,g,_);return f.inclusive?y<=0:y<0})(a.startAt,Lo(a),o)||a.endAt&&!(function(f,g,_){const y=G_(f,g,_);return f.inclusive?y>=0:y>0})(a.endAt,Lo(a),o))})(s,e)}function xw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function t1(s){return(e,i)=>{let a=!1;for(const o of Lo(s)){const c=Sw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Sw(s,e,i){const a=s.field.isKeyField()?ye.comparator(e.key,i.key):(function(c,f,g){const _=f.data.field(c),y=g.data.field(c);return _!==null&&y!==null?ml(_,y):Ee(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:s.dir})}}class ua{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return Lb(this.inner)}size(){return this.innerSize}}const ww=new bt(ye.comparator);function bs(){return ww}const n1=new bt(ye.comparator);function Do(...s){let e=n1;for(const i of s)e=e.insert(i.key,i);return e}function i1(s){let e=n1;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Jr(){return zo()}function s1(){return zo()}function zo(){return new ua((s=>s.toString()),((s,e)=>s.isEqual(e)))}const Rw=new bt(ye.comparator),Cw=new qt(ye.comparator);function qe(...s){let e=Cw;for(const i of s)e=e.add(i);return e}const Nw=new qt(Be);function Iw(){return Nw}function eg(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function r1(s){return{integerValue:""+s}}function kw(s,e){return tw(e)?r1(e):eg(s,e)}class Rh{constructor(){this._=void 0}}function Dw(s,e,i){return s instanceof uh?(function(o,c){const f={fields:{[qb]:{stringValue:Bb},[Fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Xm(c)&&(c=Ah(c)),c&&(f.fields[Hb]=c),{mapValue:f}})(i,e):s instanceof Yo?l1(s,e):s instanceof Xo?o1(s,e):(function(o,c){const f=a1(o,c),g=X_(f)+X_(o.Ae);return pm(f)&&pm(o.Ae)?r1(g):eg(o.serializer,g)})(s,e)}function Ow(s,e,i){return s instanceof Yo?l1(s,e):s instanceof Xo?o1(s,e):i}function a1(s,e){return s instanceof ch?(function(a){return pm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class uh extends Rh{}class Yo extends Rh{constructor(e){super(),this.elements=e}}function l1(s,e){const i=u1(e);for(const a of s.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Xo extends Rh{constructor(e){super(),this.elements=e}}function o1(s,e){let i=u1(e);for(const a of s.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class ch extends Rh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function X_(s){return Ct(s.integerValue||s.doubleValue)}function u1(s){return $m(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Mw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Yo&&o instanceof Yo||a instanceof Xo&&o instanceof Xo?fl(a.elements,o.elements,Fi):a instanceof ch&&o instanceof ch?Fi(a.Ae,o.Ae):a instanceof uh&&o instanceof uh})(s.transform,e.transform)}class Vw{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Ch{}function c1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new tg(s.key,ei.none()):new iu(s.key,s.data,ei.none());{const i=s.data,a=xn.empty();let o=new qt(sn.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?a.delete(c):a.set(c,f),o=o.add(c)}return new yr(s.key,a,new jn(o.toArray()),ei.none())}}function jw(s,e,i){s instanceof iu?(function(o,c,f){const g=o.value.clone(),_=J_(o.fieldTransforms,c,f.transformResults);g.setAll(_),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,i):s instanceof yr?(function(o,c,f){if(!Kc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const g=J_(o.fieldTransforms,c,f.transformResults),_=c.data;_.setAll(h1(o)),_.setAll(g),c.convertToFoundDocument(f.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,i)}function Bo(s,e,i,a){return s instanceof iu?(function(c,f,g,_){if(!Kc(c.precondition,f))return g;const y=c.value.clone(),T=Z_(c.fieldTransforms,_,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,i,a):s instanceof yr?(function(c,f,g,_){if(!Kc(c.precondition,f))return g;const y=Z_(c.fieldTransforms,_,f),T=f.data;return T.setAll(h1(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,i,a):(function(c,f,g){return Kc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,e,i)}function Pw(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=a1(a.transform,o||null);c!=null&&(i===null&&(i=xn.empty()),i.set(a.field,c))}return i||null}function $_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&fl(a,o,((c,f)=>Mw(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class iu extends Ch{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends Ch{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function h1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function J_(s,e,i){const a=new Map;et(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],f=c.transform,g=e.data.field(c.field);a.set(c.field,Ow(f,g,i[o]))}return a}function Z_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,f=i.data.field(o.field);a.set(o.field,Dw(c,f,e))}return a}class tg extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uw extends Ch{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&jw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=s1();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=i.has(o.key)?null:g;const _=c1(f,g);_!==null&&a.set(o.key,_),f.isValidDocument()||f.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qe())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,((i,a)=>$_(i,a)))&&fl(this.baseMutations,e.baseMutations,((i,a)=>$_(i,a)))}}class ng{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){et(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return Rw})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,a[f].version);return new ng(e,i,a,o)}}class zw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Pt,Ke;function qw(s){switch(s){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:s})}}function d1(s){if(s===void 0)return vs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Pt.OK:return J.OK;case Pt.CANCELLED:return J.CANCELLED;case Pt.UNKNOWN:return J.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return J.INTERNAL;case Pt.UNAVAILABLE:return J.UNAVAILABLE;case Pt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Pt.NOT_FOUND:return J.NOT_FOUND;case Pt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Pt.ABORTED:return J.ABORTED;case Pt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Pt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:s})}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function Hw(){return new TextEncoder}const Fw=new or([4294967295,4294967295],0);function W_(s){const e=Hw().encode(s),i=new Cb;return i.update(e),new Uint8Array(i.digest())}function ev(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new or([i,a],0),new or([o,c],0)]}class ig{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Oo(`Invalid padding: ${i}`);if(a<0)throw new Oo(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=or.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(or.fromNumber(a)));return o.compare(Fw)===1&&(o=new or([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=W_(e),[a,o]=ev(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);if(!this.we(f))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new ig(c,o,i);return a.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const i=W_(e),[a,o]=ev(i);for(let c=0;c<this.hashCount;c++){const f=this.ye(a,o,c);this.be(f)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Nh(we.min(),o,new bt(Be),bs(),qe())}}class su{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new su(a,i,qe(),qe(),qe())}}class Qc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class f1{constructor(e,i){this.targetId=e,this.Ce=i}}class m1{constructor(e,i,a=an.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class tv{constructor(){this.ve=0,this.Fe=nv(),this.Me=an.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),i=qe(),a=qe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ee(38017,{changeType:c})}})),new su(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=nv()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Gw{constructor(e){this.Ge=e,this.ze=new Map,this.je=bs(),this.He=Mc(),this.Je=Mc(),this.Ze=new bt(Be)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(_m(c))if(a===0){const f=new ye(c.path);this.et(i,f,hn.newNoDocument(f,we.min()))}else et(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const g=this.ut(e),_=g?this.ct(g,e,f):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let f,g;try{f=dr(a).toUint8Array()}catch(_){if(_ instanceof zb)return aa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ig(f,o,c)}catch(_){return aa(_ instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,f)=>{const g=this.ot(f);if(g){if(c.current&&_m(g.target)){const _=new ye(g.target.path);this.It(_).has(f)||this.Et(f,_)||this.et(f,_,hn.newNoDocument(_,e))}c.Be&&(i.set(f,c.ke()),c.Ke())}}));let a=qe();this.Je.forEach(((c,f)=>{let g=!0;f.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Nh(e,i,this.Ze,this.je,a);return this.je=bs(),this.He=Mc(),this.Je=Mc(),this.Ze=new bt(Be),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new tv,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qt(Be),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qt(Be),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tv),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new bt(ye.comparator)}function nv(){return new bt(ye.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yw={and:"AND",or:"OR"};class Xw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function bm(s,e){return s.useProto3Json||Th(e)?e:{value:e}}function hh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function $w(s,e){return hh(s,e.toTimestamp())}function Bi(s){return et(!!s,49232),we.fromTimestamp((function(i){const a=hr(i);return new ft(a.seconds,a.nanos)})(s))}function sg(s,e){return Em(s,e).canonicalString()}function Em(s,e){const i=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function p1(s){const e=dt.fromString(s);return et(E1(e),10190,{key:e.toString()}),e}function Tm(s,e){return sg(s.databaseId,e.path)}function Xf(s,e){const i=p1(e);if(i.get(1)!==s.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ye(_1(i))}function y1(s,e){return sg(s.databaseId,e)}function Jw(s){const e=p1(s);return e.length===4?dt.emptyPath():_1(e)}function Am(s){return new dt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _1(s){return et(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function iv(s,e,i){return{name:Tm(s,e),fields:i.value.mapValue.fields}}function Zw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(et(T===void 0||typeof T=="string",58123),an.fromBase64String(T||"")):(et(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),an.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const T=y.code===void 0?J.UNKNOWN:d1(y.code);return new de(T,y.message||"")})(f);i=new m1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Xf(s,a.document.name),c=Bi(a.document.updateTime),f=a.document.createTime?Bi(a.document.createTime):we.min(),g=new xn({mapValue:{fields:a.document.fields}}),_=hn.newFoundDocument(o,c,f,g),y=a.targetIds||[],T=a.removedTargetIds||[];i=new Qc(y,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Xf(s,a.document),c=a.readTime?Bi(a.readTime):we.min(),f=hn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Qc([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Xf(s,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in e))return Ee(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,f=new Bw(o,c),g=a.targetId;i=new f1(g,f)}}return i}function Ww(s,e){let i;if(e instanceof iu)i={update:iv(s,e.key,e.value)};else if(e instanceof tg)i={delete:Tm(s,e.key)};else if(e instanceof yr)i={update:iv(s,e.key,e.data),updateMask:oR(e.fieldMask)};else{if(!(e instanceof Uw))return Ee(16599,{dt:e.type});i={verify:Tm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,f){const g=f.transform;if(g instanceof uh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ch)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ee(20930,{transform:f.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:$w(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(s,e.precondition)),i}function eR(s,e){return s&&s.length>0?(et(e!==void 0,14353),s.map((i=>(function(o,c){let f=o.updateTime?Bi(o.updateTime):Bi(c);return f.isEqual(we.min())&&(f=Bi(c)),new Vw(f,o.transformResults||[])})(i,e)))):[]}function tR(s,e){return{documents:[y1(s,e.path)]}}function nR(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=y1(s,o);const c=(function(y){if(y.length!==0)return b1(Gi.create(y,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((T=>(function(O){return{field:nl(O.field),direction:rR(O.dir)}})(T)))})(e.orderBy);f&&(i.structuredQuery.orderBy=f);const g=bm(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function iR(s){let e=Jw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){et(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(x){const O=v1(x);return O instanceof Gi&&$b(O)?O.getFilters():[O]})(i.where));let f=[];i.orderBy&&(f=(function(x){return x.map((O=>(function(W){return new oh(il(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let O;return O=typeof x=="object"?x.value:x,Th(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(x){const O=!!x.before,K=x.values||[];return new lh(K,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(x){const O=!x.before,K=x.values||[];return new lh(K,O)})(i.endAt)),bw(e,o,f,c,g,"F",_,y)}function sR(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function v1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=il(i.unaryFilter.field);return Bt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=il(i.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=il(i.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=il(i.unaryFilter.field);return Bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Bt.create(il(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>v1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(i.compositeFilter.op))})(s):Ee(30097,{filter:s})}function rR(s){return Kw[s]}function aR(s){return Qw[s]}function lR(s){return Yw[s]}function nl(s){return{fieldPath:s.canonicalString()}}function il(s){return sn.fromServerFormat(s.fieldPath)}function b1(s){return s instanceof Bt?(function(i){if(i.op==="=="){if(F_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NAN"}};if(H_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(F_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NOT_NAN"}};if(H_(i.value))return{unaryFilter:{field:nl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(i.field),op:aR(i.op),value:i.value}}})(s):s instanceof Gi?(function(i){const a=i.getFilters().map((o=>b1(o)));return a.length===1?a[0]:{compositeFilter:{op:lR(i.op),filters:a}}})(s):Ee(54877,{filter:s})}function oR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function E1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function T1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class sr{constructor(e,i,a,o,c=we.min(),f=we.min(),g=an.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uR{constructor(e){this.yt=e}}function cR(s){const e=iR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?vm(e,e.limit,"L"):e}class hR{constructor(){this.Sn=new dR}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(cr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class dR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new qt(dt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new qt(dt.comparator)).toArray()}}const sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A1=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(A1,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pl(0)}static ar(){return new pl(-1)}}const rv="LruGarbageCollector",fR=1048576;function av([s,e],[i,a]){const o=Be(s,i);return o===0?Be(e,a):o}class mR{constructor(e){this.Pr=e,this.buffer=new qt(av),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();av(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class gR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(rv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Al(i)?ae(rv,"Ignoring IndexedDB error during garbage collection: ",i):await Tl(i)}await this.Ar(3e5)}))}}class pR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(Eh.ce);const a=new mR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(sv)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sv):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,f,g,_,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(a=x,g=Date.now(),this.removeTargets(e,a,i)))).next((x=>(c=x,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((x=>(y=Date.now(),el()<=ze.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${x} documents in `+(y-_)+`ms
Total Duration: ${y-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function yR(s,e){return new pR(s,e)}class _R{constructor(){this.changes=new ua((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class bR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&Bo(a.mutation,o,jn.empty(),ft.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qe()){const o=Jr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let f=Do();return c.forEach(((g,_)=>{f=f.insert(g,_.overlayedDocument)})),f}))))}getOverlayedDocuments(e,i){const a=Jr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qe())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,g)=>{i.set(f,g)}))}))}computeViews(e,i,a,o){let c=bs();const f=zo(),g=(function(){return zo()})();return i.forEach(((_,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof yr)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Bo(T.mutation,y,T.mutation.getFieldMask(),ft.now())):f.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((y,T)=>f.set(y,T))),i.forEach(((y,T)=>g.set(y,new vR(T,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=zo();let o=new bt(((f,g)=>f-g)),c=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((f=>{for(const g of f)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let T=a.get(_)||jn.empty();T=g.applyToLocalView(y,T),a.set(_,T);const x=(o.get(g.batchId)||qe()).add(_);o=o.insert(g.batchId,x)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,T=_.value,x=s1();T.forEach((O=>{if(!c.has(O)){const K=c1(i.get(O),a.get(O));K!==null&&x.set(O,K),c=c.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,x))}return $.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return Ew(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Tw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(Jr());let g=Fo,_=c;return f.next((y=>$.forEach(y,((T,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((O=>{_=_.insert(T,O)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,_,y,qe()))).next((T=>({batchId:g,changes:i1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ye(i)).next((a=>{let o=Do();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let f=Do();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const y=(function(x,O){return new xh(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next((T=>{T.forEach(((x,O)=>{f=f.insert(x,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((f=>{c.forEach(((_,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,hn.newInvalidDocument(T)))}));let g=Do();return f.forEach(((_,y)=>{const T=c.get(_);T!==void 0&&Bo(T.mutation,y,jn.empty(),ft.now()),wh(i,y)&&(g=g.insert(_,y))})),g}))}}class ER{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:cR(o.bundledQuery),readTime:Bi(o.readTime)}})(i)),$.resolve()}}class TR{constructor(){this.overlays=new bt(ye.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Jr();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Jr(),c=i.length+1,f=new ye(i.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new bt(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=Jr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return $.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new zw(i,a));let c=this.Lr.get(i);c===void 0&&(c=qe(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class AR{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class rg{constructor(){this.kr=new qt(Qt.Kr),this.qr=new qt(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Qt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Qt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ye(new dt([])),a=new Qt(i,e),o=new Qt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ye(new dt([])),a=new Qt(i,e),o=new Qt(i,e+1);let c=qe();return this.qr.forEachInRange([a,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const i=new Qt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Qt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ye.comparator(e.key,i.key)||Be(e.Hr,i.Hr)}static Ur(e,i){return Be(e.Hr,i.Hr)||ye.comparator(e.key,i.key)}}class xR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qt(Qt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Lw(c,i,a,o);this.mutationQueue.push(f);for(const g of o)this.Jr=this.Jr.add(new Qt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(f)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Ym:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Qt(i,0),o=new Qt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(f=>{const g=this.Zr(f.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new qt(Be);return i.forEach((o=>{const c=new Qt(o,0),f=new Qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ye.isDocumentKey(c)||(c=c.child(""));const f=new Qt(new ye(c),0);let g=new qt(Be);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Hr)),!0)}),f),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){et(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Qt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Qt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class SR{constructor(e){this.ti=e,this.docs=(function(){return new bt(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,f=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(e,i){let a=bs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=bs();const f=i.path,g=new ye(f.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:T}}=_.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||JS($S(T),a)<=0||(o.has(T.key)||wh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){Ee(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new wR(this)}getSize(e){return $.resolve(this.size)}}class wR extends _R{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class RR{constructor(e){this.persistence=e,this.ri=new ua((i=>Jm(i)),Zm),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new rg,this.targetCount=0,this.oi=pl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new pl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((f,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class x1{constructor(e,i){this._i={},this.overlays={},this.ai=new Eh(0),this.ui=!1,this.ui=!0,this.ci=new AR,this.referenceDelegate=e(this),this.li=new RR(this),this.indexManager=new hR,this.remoteDocumentCache=(function(o){return new SR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new uR(i),this.Pi=new ER(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new TR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new xR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new CR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class CR extends WS{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Ri=new rg,this.Ai=null}static Vi(e){return new ag(e)}get di(){if(this.Ai)return this.Ai;throw Ee(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=ye.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class dh{constructor(e,i){this.persistence=e,this.fi=new ua((a=>nw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=yR(this,i)}static Vi(e,i){return new dh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,i).next((g=>{g||(a++,c.removeEntry(f,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lg{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=qe(),o=qe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new lg(e,i.fromCache,a,o)}}class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yA()?8:ew(dn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new NR;return this.ys(e,i,f).next((g=>{if(c.result=g,this.As)return this.ws(e,i,f,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(el()<=ze.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",tl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(el()<=ze.DEBUG&&ae("QueryEngine","Query:",tl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(el()<=ze.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",tl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):$.resolve())}gs(e,i){if(Y_(i))return $.resolve(null);let a=zi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=vm(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const f=qe(...c);return this.fs.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,f,_.readTime)?this.gs(e,vm(i,null,"F")):this.Ds(e,y,i,_)}))))})))))}ps(e,i,a,o){return Y_(i)||o.isEqual(we.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const f=this.bs(i,c);return this.Ss(i,f,a,o)?$.resolve(null):(el()<=ze.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),tl(i)),this.Ds(e,f,i,XS(o,Fo)).next((g=>g)))}))}bs(e,i){let a=new qt(t1(e));return i.forEach(((o,c)=>{wh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return el()<=ze.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",tl(i)),this.fs.getDocumentsMatchingQuery(e,i,cr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((f=>{c=c.insert(f.key,f)})),c)))}}const og="LocalStore",kR=3e8;class DR{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new bt(Be),this.Fs=new ua((c=>Jm(c)),Zm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function OR(s,e,i,a){return new DR(s,e,i,a)}async function S1(s,e){const i=Ce(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const f=[],g=[];let _=qe();for(const y of o){f.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function MR(s,e){const i=Ce(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,T){const x=y.batch,O=x.keys();let K=$.resolve();return O.forEach((W=>{K=K.next((()=>T.getEntry(_,W))).next((q=>{const Z=y.docVersions.get(W);et(Z!==null,48541),q.version.compareTo(Z)<0&&(x.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),T.addEntry(q)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(_,x)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=qe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function w1(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function VR(s,e){const i=Ce(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,x)=>{const O=o.get(x);if(!O)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,x).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,x))));let K=O.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?K=K.withResumeToken(an.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,a)),o=o.insert(x,K),(function(q,Z,ue){return q.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=kR?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(O,K,T)&&g.push(i.li.updateTargetData(c,K))}));let _=bs(),y=qe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(jR(c,f,e.documentUpdates).next((T=>{_=T.Bs,y=T.Ls}))),!a.isEqual(we.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((x=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return $.waitFor(g).next((()=>f.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=o,c)))}function jR(s,e,i){let a=qe(),o=qe();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let f=bs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(we.min())?(e.removeEntry(g,_.readTime),f=f.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(_),f=f.insert(g,_)):ae(og,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:f,Ls:o}}))}function PR(s,e){const i=Ce(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function UR(s,e){const i=Ce(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((f=>(o=new sr(e,f,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function xm(s,e,i){const a=Ce(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Al(f))throw f;ae(og,`Failed to update sequence numbers for target ${e}: ${f}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function lv(s,e,i){const a=Ce(s);let o=we.min(),c=qe();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(_,y,T){const x=Ce(_),O=x.Fs.get(T);return O!==void 0?$.resolve(x.vs.get(O)):x.li.getTargetData(y,T)})(a,f,zi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(f,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(f,e,i?o:we.min(),i?c:qe()))).next((g=>(LR(a,xw(e),g),{documents:g,ks:c})))))}function LR(s,e,i){let a=s.Ms.get(e)||we.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class ov{constructor(){this.activeTargetIds=Iw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zR{constructor(){this.vo=new ov,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ov,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BR{Mo(e){}shutdown(){}}const uv="ConnectivityMonitor";class cv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(uv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(uv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Sm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const $f="RestConnection",qR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class HR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===rh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const f=Sm(),g=this.Qo(e,i.toUriEncodedString());ae($f,`Sending RPC '${e}' ${f}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:y}=new URL(g),T=_l(y);return this.zo(e,g,_,a,T).then((x=>(ae($f,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw aa($f,`RPC '${e}' ${f} failed with error: `,x,"url: ",g,"request:",a),x}))}jo(e,i,a,o,c,f){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=qR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class FR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",Co=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ol extends HR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ol.c_){const e=Db();Co(e,kb.STAT_EVENT,(i=>{i.stat===fm.PROXY?ae(un,"STAT_EVENT: detected buffering proxy"):i.stat===fm.NOPROXY&&ae(un,"STAT_EVENT: detected no buffering proxy")})),ol.c_=!0}}zo(e,i,a,o,c){const f=Sm();return new Promise(((g,_)=>{const y=new Nb;y.setWithCredentials(!0),y.listenOnce(Ib.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Hc.NO_ERROR:const x=y.getResponseJson();ae(un,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),g(x);break;case Hc.TIMEOUT:ae(un,`RPC '${e}' ${f} timed out`),_(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const O=y.getStatus();if(ae(un,`RPC '${e}' ${f} failed with status:`,O,"response text:",y.getResponseText()),O>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const q=(function(ue){const oe=ue.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(oe)>=0?oe:J.UNKNOWN})(W.status);_(new de(q,W.message))}else _(new de(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ae(un,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ae(un,`RPC '${e}' ${f} sending request:`,o),y.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=Sm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");ae(un,`Creating RPC '${e}' stream ${o}: ${y}`,g);const T=f.createWebChannel(y,g);this.I_(T);let x=!1,O=!1;const K=new FR({Ho:W=>{O?ae(un,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(x||(ae(un,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),ae(un,`RPC '${e}' stream ${o} sending:`,W),T.send(W))},Jo:()=>T.close()});return Co(T,ko.EventType.OPEN,(()=>{O||(ae(un,`RPC '${e}' stream ${o} transport opened.`),K.i_())})),Co(T,ko.EventType.CLOSE,(()=>{O||(O=!0,ae(un,`RPC '${e}' stream ${o} transport closed`),K.o_(),this.E_(T))})),Co(T,ko.EventType.ERROR,(W=>{O||(O=!0,aa(un,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),K.o_(new de(J.UNAVAILABLE,"The operation could not be completed")))})),Co(T,ko.EventType.MESSAGE,(W=>{if(!O){const q=W.data[0];et(!!q,16349);const Z=q,ue=Z?.error||Z[0]?.error;if(ue){ae(un,`RPC '${e}' stream ${o} received error:`,ue);const oe=ue.status;let be=(function(Pe){const R=Pt[Pe];if(R!==void 0)return d1(R)})(oe),Ge=ue.message;oe==="NOT_FOUND"&&Ge.includes("database")&&Ge.includes("does not exist")&&Ge.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),be===void 0&&(be=J.INTERNAL,Ge="Unknown error status: "+oe+" with message "+ue.message),O=!0,K.o_(new de(be,Ge)),T.close()}else ae(un,`RPC '${e}' stream ${o} received:`,q),K.__(q)}})),ol.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Ob()}}function GR(s){return new ol(s)}function Jf(){return typeof document<"u"?document:null}function Ih(s){return new Xw(s,!0)}ol.c_=!1;class R1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const hv="PersistentStream";class C1{constructor(e,i,a,o,c,f,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(hv,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class KR extends C1{constructor(e,i,a,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Zw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?Bi(f.readTime):we.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=Am(this.serializer),i.addTarget=(function(c,f){let g;const _=f.target;if(g=_m(_)?{documents:tR(c,_)}:{query:nR(c,_).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=g1(c,f.resumeToken);const y=bm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){g.readTime=hh(c,f.snapshotVersion.toTimestamp());const y=bm(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const a=sR(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=Am(this.serializer),i.removeTarget=e,this.K_(i)}}class QR extends C1{constructor(e,i,a,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=eR(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=Am(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>Ww(this.serializer,a)))};this.K_(i)}}class YR{}class XR extends YR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Em(i,a),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(J.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.jo(e,Em(i,a),o,f,g,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $R(s,e,i,a){return new XR(s,e,i,a)}class JR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class ZR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{a.enqueueAndForget((async()=>{ca(this)&&(ae(la,"Restarting streams for network reachability change."),await(async function(_){const y=Ce(_);y.Ea.add(4),await ru(y),y.Va.set("Unknown"),y.Ea.delete(4),await kh(y)})(this))}))})),this.Va=new JR(a,o)}}async function kh(s){if(ca(s))for(const e of s.Ra)await e(!0)}async function ru(s){for(const e of s.Ra)await e(!1)}function N1(s,e){const i=Ce(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),dg(i)?hg(i):xl(i).O_()&&cg(i,e))}function ug(s,e){const i=Ce(s),a=xl(i);i.Ia.delete(e),a.O_()&&I1(i,e),i.Ia.size===0&&(a.O_()?a.L_():ca(i)&&i.Va.set("Unknown"))}function cg(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xl(s).Z_(e)}function I1(s,e){s.da.$e(e),xl(s).X_(e)}function hg(s){s.da=new Gw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xl(s).start(),s.Va.ua()}function dg(s){return ca(s)&&!xl(s).x_()&&s.Ia.size>0}function ca(s){return Ce(s).Ea.size===0}function k1(s){s.da=void 0}async function WR(s){s.Va.set("Online")}async function eC(s){s.Ia.forEach(((e,i)=>{cg(s,e)}))}async function tC(s,e){k1(s),dg(s)?(s.Va.ha(e),hg(s)):s.Va.set("Unknown")}async function nC(s,e,i){if(s.Va.set("Online"),e instanceof m1&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){ae(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(s,a)}else if(e instanceof Qc?s.da.Xe(e):e instanceof f1?s.da.st(e):s.da.tt(e),!i.isEqual(we.min()))try{const a=await w1(s.localStore);i.compareTo(a)>=0&&await(function(c,f){const g=c.da.Tt(f);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(_.resumeToken,f))}})),g.targetMismatches.forEach(((_,y)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(an.EMPTY_BYTE_STRING,T.snapshotVersion)),I1(c,_);const x=new sr(T.target,_,y,T.sequenceNumber);cg(c,x)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ae(la,"Failed to raise snapshot:",a),await fh(s,a)}}async function fh(s,e,i){if(!Al(e))throw e;s.Ea.add(1),await ru(s),s.Va.set("Offline"),i||(i=()=>w1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(la,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await kh(s)}))}function D1(s,e){return e().catch((i=>fh(s,i,e)))}async function Dh(s){const e=Ce(s),i=mr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ym;for(;iC(e);)try{const o=await PR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,sC(e,o)}catch(o){await fh(e,o)}O1(e)&&M1(e)}function iC(s){return ca(s)&&s.Ta.length<10}function sC(s,e){s.Ta.push(e);const i=mr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function O1(s){return ca(s)&&!mr(s).x_()&&s.Ta.length>0}function M1(s){mr(s).start()}async function rC(s){mr(s).ra()}async function aC(s){const e=mr(s);for(const i of s.Ta)e.ea(i.mutations)}async function lC(s,e,i){const a=s.Ta.shift(),o=ng.from(a,e,i);await D1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Dh(s)}async function oC(s,e){e&&mr(s).Y_&&await(async function(a,o){if((function(f){return qw(f)&&f!==J.ABORTED})(o.code)){const c=a.Ta.shift();mr(a).B_(),await D1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Dh(a)}})(s,e),O1(s)&&M1(s)}async function dv(s,e){const i=Ce(s);i.asyncQueue.verifyOperationInProgress(),ae(la,"RemoteStore received new credentials");const a=ca(i);i.Ea.add(3),await ru(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await kh(i)}async function uC(s,e){const i=Ce(s);e?(i.Ea.delete(2),await kh(i)):e||(i.Ea.add(2),await ru(i),i.Va.set("Unknown"))}function xl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ce(i);return c.sa(),new KR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:WR.bind(null,s),Yo:eC.bind(null,s),t_:tC.bind(null,s),J_:nC.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),dg(s)?hg(s):s.Va.set("Unknown")):(await s.ma.stop(),k1(s))}))),s.ma}function mr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ce(i);return c.sa(),new QR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:rC.bind(null,s),t_:oC.bind(null,s),ta:aC.bind(null,s),na:lC.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(la,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class fg{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const f=Date.now()+a,g=new fg(e,i,f,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mg(s,e){if(vs("AsyncQueue",`${e}: ${s}`),Al(s))return new de(J.UNAVAILABLE,`${e}: ${s}`);throw s}class ul{static emptySet(e){return new ul(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ye.comparator(i.key,a.key):(i,a)=>ye.comparator(i.key,a.key),this.keyedMap=Do(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ul)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ul;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class fv{constructor(){this.ga=new bt(ye.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ee(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class yl{constructor(e,i,a,o,c,f,g,_,y){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(e,i,a,o,c){const f=[];return i.forEach((g=>{f.push({type:0,doc:g})})),new yl(e,i,ul.emptySet(i),f,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class cC{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class hC{constructor(){this.queries=mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ce(i),c=o.queries;o.queries=mv(),c.forEach(((f,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new de(J.ABORTED,"Firestore shutting down"))}}function mv(){return new ua((s=>e1(s)),Sh)}async function dC(s,e){const i=Ce(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new cC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const g=mg(f,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&gg(i)}async function fC(s,e){const i=Ce(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function mC(s,e){const i=Ce(s);let a=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const g of f.ba)g.Fa(o)&&(a=!0);f.wa=o}}a&&gg(i)}function gC(s,e,i){const a=Ce(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function gg(s){s.Ca.forEach((e=>{e.next()}))}var wm,gv;(gv=wm||(wm={})).Ma="default",gv.Cache="cache";class pC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new yl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==wm.Cache}}class V1{constructor(e){this.key=e}}class j1{constructor(e){this.key=e}}class yC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=qe(),this.mutatedKeys=qe(),this.eu=t1(e),this.tu=new ul(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new fv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,x)=>{const O=o.get(T),K=wh(this.query,x)?x:null,W=!!O&&this.mutatedKeys.has(O.key),q=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let Z=!1;O&&K?O.data.isEqual(K.data)?W!==q&&(a.track({type:3,doc:K}),Z=!0):this.su(O,K)||(a.track({type:2,doc:K}),Z=!0,(_&&this.eu(K,_)>0||y&&this.eu(K,y)<0)&&(g=!0)):!O&&K?(a.track({type:0,doc:K}),Z=!0):O&&!K&&(a.track({type:1,doc:O}),Z=!0,(_||y)&&(g=!0)),Z&&(K?(f=f.add(K),c=q?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:f,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,x)=>(function(K,W){const q=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Vt:Z})}};return q(K)-q(W)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,y=_!==this.Xa;return this.Xa=_,f.length!==0||y?{snapshot:new yl(this.query,e.tu,c,f,e.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=qe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new j1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new V1(a))})),i}cu(e){this.Za=e.ks,this.Ya=qe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const pg="SyncEngine";class _C{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class vC{constructor(e){this.key=e,this.hu=!1}}class bC{constructor(e,i,a,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((g=>e1(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.Ru=new bt(ye.comparator),this.Au=new Map,this.Vu=new rg,this.du={},this.mu=new Map,this.fu=pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(s,e,i=!0){const a=q1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await P1(a,e,i,!0),o}async function TC(s,e){const i=q1(s);await P1(i,e,!0,!1)}async function P1(s,e,i,a){const o=await UR(s.localStore,zi(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await AC(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&i&&N1(s.remoteStore,o),g}async function AC(s,e,i,a,o){s.pu=(x,O,K)=>(async function(q,Z,ue,oe){let be=Z.view.ru(ue);be.Ss&&(be=await lv(q.localStore,Z.query,!1).then((({documents:R})=>Z.view.ru(R,be))));const Ge=oe&&oe.targetChanges.get(Z.targetId),mt=oe&&oe.targetMismatches.get(Z.targetId)!=null,Pe=Z.view.applyChanges(be,q.isPrimaryClient,Ge,mt);return yv(q,Z.targetId,Pe.au),Pe.snapshot})(s,x,O,K);const c=await lv(s.localStore,e,!0),f=new yC(e,c.ks),g=f.ru(c.documents),_=su.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=f.applyChanges(g,s.isPrimaryClient,_);yv(s,i,y.au);const T=new _C(e,i,f);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),y.snapshot}async function xC(s,e,i){const a=Ce(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((f=>!Sh(f,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await xm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ug(a.remoteStore,o.targetId),Rm(a,o.targetId)})).catch(Tl)):(Rm(a,o.targetId),await xm(a.localStore,o.targetId,!0))}async function SC(s,e){const i=Ce(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ug(i.remoteStore,a.targetId))}async function wC(s,e,i){const a=OC(s);try{const o=await(function(f,g){const _=Ce(f),y=ft.now(),T=g.reduce(((K,W)=>K.add(W.key)),qe());let x,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=bs(),q=qe();return _.xs.getEntries(K,T).next((Z=>{W=Z,W.forEach(((ue,oe)=>{oe.isValidDocument()||(q=q.add(ue))}))})).next((()=>_.localDocuments.getOverlayedDocuments(K,W))).next((Z=>{x=Z;const ue=[];for(const oe of g){const be=Pw(oe,x.get(oe.key).overlayedDocument);be!=null&&ue.push(new yr(oe.key,be,Qb(be.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(K,y,ue,g)})).next((Z=>{O=Z;const ue=Z.applyToLocalDocumentSet(x,q);return _.documentOverlayCache.saveOverlays(K,Z.batchId,ue)}))})).then((()=>({batchId:O.batchId,changes:i1(x)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(f,g,_){let y=f.du[f.currentUser.toKey()];y||(y=new bt(Be)),y=y.insert(g,_),f.du[f.currentUser.toKey()]=y})(a,o.batchId,i),await au(a,o.changes),await Dh(a.remoteStore)}catch(o){const c=mg(o,"Failed to persist write");i.reject(c)}}async function U1(s,e){const i=Ce(s);try{const a=await VR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=i.Au.get(c);f&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?et(f.hu,14607):o.removedDocuments.size>0&&(et(f.hu,42227),f.hu=!1))})),await au(i,a,e)}catch(a){await Tl(a)}}function pv(s,e,i){const a=Ce(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const _=Ce(f);_.onlineState=g;let y=!1;_.queries.forEach(((T,x)=>{for(const O of x.ba)O.va(g)&&(y=!0)})),y&&gg(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function RC(s,e,i){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let f=new bt(ye.comparator);f=f.insert(c,hn.newNoDocument(c,we.min()));const g=qe().add(c),_=new Nh(we.min(),new Map,new bt(Be),f,g);await U1(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),yg(a)}else await xm(a.localStore,e,!1).then((()=>Rm(a,e,i))).catch(Tl)}async function CC(s,e){const i=Ce(s),a=e.batch.batchId;try{const o=await MR(i.localStore,e);z1(i,a,null),L1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await au(i,o)}catch(o){await Tl(o)}}async function NC(s,e,i){const a=Ce(s);try{const o=await(function(f,g){const _=Ce(f);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return _.mutationQueue.lookupMutationBatch(y,g).next((x=>(et(x!==null,37113),T=x.keys(),_.mutationQueue.removeMutationBatch(y,x)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>_.localDocuments.getDocuments(y,T)))}))})(a.localStore,e);z1(a,e,i),L1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await au(a,o)}catch(o){await Tl(o)}}function L1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function z1(s,e,i){const a=Ce(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Rm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||B1(s,a)}))}function B1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(ug(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),yg(s))}function yv(s,e,i){for(const a of i)a instanceof V1?(s.Vu.addReference(a.key,e),IC(s,a)):a instanceof j1?(ae(pg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||B1(s,a.key)):Ee(19791,{wu:a})}function IC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ae(pg,"New document in limbo: "+i),s.Eu.add(a),yg(s))}function yg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ye(dt.fromString(e)),a=s.fu.next();s.Au.set(a,new vC(i)),s.Ru=s.Ru.insert(i,a),N1(s.remoteStore,new sr(zi(Wm(i.path)),a,"TargetPurposeLimboResolution",Eh.ce))}}async function au(s,e,i){const a=Ce(s),o=[],c=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{f.push(a.pu(_,e,i).then((y=>{if((y||i)&&a.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(y){o.push(y);const T=lg.Es(_.targetId,y);c.push(T)}})))})),await Promise.all(f),a.Pu.J_(o),await(async function(_,y){const T=Ce(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(y,(O=>$.forEach(O.Ts,(K=>T.persistence.referenceDelegate.addReference(x,O.targetId,K))).next((()=>$.forEach(O.Is,(K=>T.persistence.referenceDelegate.removeReference(x,O.targetId,K)))))))))}catch(x){if(!Al(x))throw x;ae(og,"Failed to update sequence numbers: "+x)}for(const x of y){const O=x.targetId;if(!x.fromCache){const K=T.vs.get(O),W=K.snapshotVersion,q=K.withLastLimboFreeSnapshotVersion(W);T.vs=T.vs.insert(O,q)}}})(a.localStore,c))}async function kC(s,e){const i=Ce(s);if(!i.currentUser.isEqual(e)){ae(pg,"User change. New user:",e.toKey());const a=await S1(i.localStore,e);i.currentUser=e,(function(c,f){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new de(J.CANCELLED,f))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await au(i,a.Ns)}}function DC(s,e){const i=Ce(s),a=i.Au.get(e);if(a&&a.hu)return qe().add(a.key);{let o=qe();const c=i.Iu.get(e);if(!c)return o;for(const f of c){const g=i.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function q1(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=U1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RC.bind(null,e),e.Pu.J_=mC.bind(null,e.eventManager),e.Pu.yu=gC.bind(null,e.eventManager),e}function OC(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NC.bind(null,e),e}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ih(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return OR(this.persistence,new IR,e.initialUser,this.serializer)}Cu(e){return new x1(ag.Vi,this.serializer)}Du(e){return new zR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class MC extends mh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){et(this.persistence.referenceDelegate instanceof dh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new x1((a=>dh.Vi(a,i)),this.serializer)}}class Cm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=kC.bind(null,this.syncEngine),await uC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new hC})()}createDatastore(e){const i=Ih(e.databaseInfo.databaseId),a=GR(e.databaseInfo);return $R(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,f,g){return new ZR(a,o,c,f,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return cv.v()?new cv:new BR})())}createSyncEngine(e,i){return(function(o,c,f,g,_,y,T){const x=new bC(o,c,f,g,_,y);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ce(i);ae(la,"RemoteStore shutting down."),a.Ea.add(5),await ru(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Cm.provider={build:()=>new Cm};class VC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const gr="FirestoreClient";class jC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=Km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async f=>{ae(gr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ae(gr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=mg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Zf(s,e){s.asyncQueue.verifyOperationInProgress(),ae(gr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await S1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function _v(s,e){s.asyncQueue.verifyOperationInProgress();const i=await PC(s);ae(gr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>dv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>dv(e.remoteStore,o))),s._onlineComponents=e}async function PC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(gr,"Using user provided OfflineComponentProvider");try{await Zf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;aa("Error using user provided cache. Falling back to memory cache: "+i),await Zf(s,new mh)}}else ae(gr,"Using default OfflineComponentProvider"),await Zf(s,new MC(void 0));return s._offlineComponents}async function H1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(gr,"Using user provided OnlineComponentProvider"),await _v(s,s._uninitializedComponentsProvider._online)):(ae(gr,"Using default OnlineComponentProvider"),await _v(s,new Cm))),s._onlineComponents}function UC(s){return H1(s).then((e=>e.syncEngine))}async function vv(s){const e=await H1(s),i=e.eventManager;return i.onListen=EC.bind(null,e.syncEngine),i.onUnlisten=xC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=SC.bind(null,e.syncEngine),i}function LC(s,e,i,a){const o=new VC(a),c=new pC(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>dC(await vv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>fC(await vv(s),c)))}}function zC(s,e){const i=new ea;return s.asyncQueue.enqueueAndForget((async()=>wC(await UC(s),e,i))),i.promise}function F1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const BC="ComponentProvider",bv=new Map;function qC(s,e,i,a,o){return new rw(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,F1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const G1="firestore.googleapis.com",Ev=!0;class Tv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=Ev}else this.host=e.host,this.ssl=e.ssl??Ev;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fR)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new US;switch(a.type){case"firstParty":return new qS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=bv.get(i);a&&(ae(BC,"Removing Datastore"),bv.delete(i),a.terminate())})(this),Promise.resolve()}}function HC(s,e,i,a={}){s=Li(s,Oh);const o=_l(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(Fv(`https://${g}`),Gv("Firestore",!0)),c.host!==G1&&c.host!==g&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!na(_,f)&&(s._setSettings(_),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=cn.MOCK_USER;else{y=oA(a.mockUserToken,s._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new cn(x)}s._authCredentials=new LS(new Vb(y,T))}}class Mh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Mh(this.firestore,e,this._query)}}class Lt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(nu(i,Lt._jsonSchema))return new Lt(e,a||null,new ye(dt.fromString(i.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ut("string",Lt._jsonSchemaVersion),referencePath:Ut("string")};class ur extends Mh{constructor(e,i,a){super(e,i,Wm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new ye(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function No(s,e,...i){if(s=rn(s),jb("collection","path",e),s instanceof Oh){const a=dt.fromString(e,...i);return V_(a),new ur(s,null,a)}{if(!(s instanceof Lt||s instanceof ur))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(dt.fromString(e,...i));return V_(a),new ur(s.firestore,null,a)}}function fs(s,e,...i){if(s=rn(s),arguments.length===1&&(e=Km.newId()),jb("doc","path",e),s instanceof Oh){const a=dt.fromString(e,...i);return M_(a),new Lt(s,null,new ye(a))}{if(!(s instanceof Lt||s instanceof ur))throw new de(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(dt.fromString(e,...i));return M_(a),new Lt(s.firestore,s instanceof ur?s.converter:null,new ye(a))}}const Av="AsyncQueue";class xv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R1(this,"async_queue_retry"),this._c=()=>{const a=Jf();a&&ae(Av,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;ae(Av,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",Sv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=fg.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function Sv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class oa extends Oh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new xv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xv(e),this._firestoreClient=void 0,await e}}}function FC(s,e){const i=typeof s=="object"?s:Xv(),a=typeof s=="string"?s:rh,o=Mm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=aA("firestore");c&&HC(o,...c)}return o}function K1(s){if(s._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||GC(s),s._firestoreClient}function GC(s){const e=s._freezeSettings(),i=qC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new jC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Wn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wn(an.fromBase64String(e))}catch(i){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Wn(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Wn._jsonSchema))return Wn.fromBase64String(e.bytes)}}Wn._jsonSchemaVersion="firestore/bytes/1.0",Wn._jsonSchema={type:Ut("string",Wn._jsonSchemaVersion),bytes:Ut("string")};class _g{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vg{constructor(e){this._methodName=e}}class qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(e){if(nu(e,qi._jsonSchema))return new qi(e.latitude,e.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Ut("string",qi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class gi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,gi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new gi(e.vectorValues);throw new de(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:Ut("string",gi._jsonSchemaVersion),vectorValues:Ut("object")};const KC=/^__.*__$/;class QC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,i,this.fieldTransforms):new iu(e,this.data,i,this.fieldTransforms)}}class Q1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new yr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Y1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{dataSource:s})}}class bg{constructor(e,i,a,o,c,f){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new bg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Y1(this.dataSource)&&KC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class YC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ih(e)}createContext(e,i,a,o=!1){return new bg({dataSource:e,methodName:i,targetDoc:a,path:sn.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(s){const e=s._freezeSettings(),i=Ih(s._databaseId);return new YC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function X1(s,e,i,a,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);Tg("Data must be an object, but it was:",f,a);const g=$1(a,f);let _,y;if(c.merge)_=new jn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const x of c.mergeFields){const O=$o(e,x,i);if(!f.contains(O))throw new de(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);W1(T,O)||T.push(O)}_=new jn(T),y=f.fieldTransforms.filter((x=>_.covers(x.field)))}else _=null,y=f.fieldTransforms;return new QC(new xn(g),_,y)}class Vh extends vg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function XC(s,e,i,a){const o=s.createContext(1,e,i);Tg("Data must be an object, but it was:",o,a);const c=[],f=xn.empty();pr(a,((_,y)=>{const T=Z1(e,_,i);y=rn(y);const x=o.childContextForFieldPath(T);if(y instanceof Vh)c.push(T);else{const O=jh(y,x);O!=null&&(c.push(T),f.set(T,O))}}));const g=new jn(c);return new Q1(f,g,o.fieldTransforms)}function $C(s,e,i,a,o,c){const f=s.createContext(1,e,i),g=[$o(e,a,i)],_=[o];if(c.length%2!=0)throw new de(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push($o(e,c[O])),_.push(c[O+1]);const y=[],T=xn.empty();for(let O=g.length-1;O>=0;--O)if(!W1(y,g[O])){const K=g[O];let W=_[O];W=rn(W);const q=f.childContextForFieldPath(K);if(W instanceof Vh)y.push(K);else{const Z=jh(W,q);Z!=null&&(y.push(K),T.set(K,Z))}}const x=new jn(y);return new Q1(T,x,f.fieldTransforms)}function jh(s,e){if(J1(s=rn(s)))return Tg("Unsupported field value:",e,s),$1(s,e);if(s instanceof vg)return(function(a,o){if(!Y1(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let f=0;for(const g of a){let _=jh(g,o.childContextForArray(f));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),f++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ft.fromDate(a);return{timestampValue:hh(o.serializer,c)}}if(a instanceof ft){const c=new ft(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:hh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Wn)return{bytesValue:g1(o.serializer,a._byteString)};if(a instanceof Lt){const c=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:sg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof gi)return(function(f,g){const _=f instanceof gi?f.toArray():f;return{mapValue:{fields:{[Gb]:{stringValue:Kb},[ah]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return eg(g.serializer,T)}))}}}}}})(a,o);if(T1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Qm(a)}`)})(s,e)}function $1(s,e){const i={};return Lb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pr(s,((a,o)=>{const c=jh(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function J1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ft||s instanceof qi||s instanceof Wn||s instanceof Lt||s instanceof vg||s instanceof gi||T1(s))}function Tg(s,e,i){if(!J1(i)||!Pb(i)){const a=Qm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function $o(s,e,i){if((e=rn(e))instanceof _g)return e._internalPath;if(typeof e=="string")return Z1(s,e);throw gh("Field path arguments must be of type string or ",s,!1,void 0,i)}const JC=new RegExp("[~\\*/\\[\\]]");function Z1(s,e,i){if(e.search(JC)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new _g(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function gh(s,e,i,a,o){const c=a&&!a.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||f)&&(_+=" (found",c&&(_+=` in field ${a}`),f&&(_+=` in document ${o}`),_+=")"),new de(J.INVALID_ARGUMENT,g+s+_)}function W1(s,e){return s.some((i=>i.isEqual(e)))}class ZC{convertValue(e,i="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return pr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[ah].arrayValue?.values?.map((a=>Ct(a.doubleValue)));return new gi(i)}convertGeoPoint(e){return new qi(Ct(e.latitude),Ct(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Ah(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=hr(e);return new ft(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=dt.fromString(e);et(E1(a),9688,{name:e});const o=new Ko(a.get(1),a.get(3)),c=new ye(a.popFirst(5));return o.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class eE extends ZC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,i)}}const wv="@firebase/firestore",Rv="4.11.0";function Cv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class tE{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field($o("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WC extends tE{data(){return super.data()}}function eN(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function nE(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Mo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends tE{constructor(e,i,a,o,c,f){super(e,i,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field($o("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ta._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Ut("string",ta._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Yc extends ta{data(e={}){return super.data(e)}}class cl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Mo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new Mo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const _=new Yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Mo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:tN(g.type),doc:_,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=cl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tN(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:s})}}cl._jsonSchemaVersion="firestore/querySnapshot/1.0",cl._jsonSchema={type:Ut("string",cl._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};function Nv(s,e,i){s=Li(s,Lt);const a=Li(s.firestore,oa),o=nE(s.converter,e),c=Eg(a);return Ph(a,[X1(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,ei.none())])}function jc(s,e,i,...a){s=Li(s,Lt);const o=Li(s.firestore,oa),c=Eg(o);let f;return f=typeof(e=rn(e))=="string"||e instanceof _g?$C(c,"updateDoc",s._key,e,i,a):XC(c,"updateDoc",s._key,e),Ph(o,[f.toMutation(s._key,ei.exists(!0))])}function Iv(s){return Ph(Li(s.firestore,oa),[new tg(s._key,ei.none())])}function Wf(s,e){const i=Li(s.firestore,oa),a=fs(s),o=nE(s.converter,e),c=Eg(s.firestore);return Ph(i,[X1(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then((()=>a))}function em(s,...e){s=rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Cv(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Cv(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let c,f,g;if(s instanceof Lt)f=Li(s.firestore,oa),g=Wm(s._key.path),c={next:y=>{e[a]&&e[a](nN(f,s,y))},error:e[a+1],complete:e[a+2]};else{const y=Li(s,Mh);f=Li(y.firestore,oa),g=y._query;const T=new eE(f);c={next:x=>{e[a]&&e[a](new cl(f,T,y,x))},error:e[a+1],complete:e[a+2]},eN(s._query)}const _=K1(f);return LC(_,g,o,c)}function Ph(s,e){const i=K1(s);return zC(i,e)}function nN(s,e,i){const a=i.docs.get(e._key),o=new eE(s);return new ta(s,o,e._key,a,new Mo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){PS(vl),hl(new ia("firestore",((a,{instanceIdentifier:o,options:c})=>{const f=a.getProvider("app").getImmediate(),g=new oa(new zS(a.getProvider("auth-internal")),new HS(f,a.getProvider("app-check-internal")),aw(f,o),f);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),lr(wv,Rv,e),lr(wv,Rv,"esm2020")})();const iE=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const iN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const sN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const kv=s=>{const e=sN(s);return e.charAt(0).toUpperCase()+e.slice(1)};var rN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aN=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const lN=Se.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:f,...g},_)=>Se.createElement("svg",{ref:_,...rN,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:iE("lucide",o),...!c&&!aN(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,T])=>Se.createElement(y,T)),...Array.isArray(c)?c:[c]]));const De=(s,e)=>{const i=Se.forwardRef(({className:a,...o},c)=>Se.createElement(lN,{ref:c,iconNode:e,className:iE(`lucide-${iN(kv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=kv(s),i};const oN=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],uN=De("arrow-up-down",oN);const cN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],sE=De("chart-no-axes-column",cN);const hN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dN=De("chevron-left",hN);const fN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mN=De("chevron-right",fN);const gN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],rE=De("circle-alert",gN);const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aE=De("circle-check",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],ph=De("clock",yN);const _N=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vN=De("download",_N);const bN=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EN=De("earth",bN);const TN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Dv=De("external-link",TN);const AN=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ov=De("file-text",AN);const xN=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Mv=De("folder",xN);const SN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wN=De("globe",SN);const RN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lE=De("history",RN);const CN=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],NN=De("kanban",CN);const IN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],kN=De("key",IN);const DN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ON=De("layers",DN);const MN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],VN=De("list",MN);const jN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PN=De("lock",jN);const UN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vv=De("log-out",UN);const LN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zN=De("mail",LN);const BN=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ag=De("megaphone",BN);const qN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],HN=De("message-square",qN);const FN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],GN=De("moon",FN);const KN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],QN=De("pen",KN);const YN=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],XN=De("pin",YN);const $N=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],JN=De("plus",$N);const ZN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],WN=De("refresh-cw",ZN);const eI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],tI=De("search",eI);const nI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oE=De("send",nI);const iI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],sI=De("shield-alert",iI);const rI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uE=De("shield-check",rI);const aI=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],lI=De("smartphone",aI);const oI=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uI=De("sun",oI);const cI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hI=De("trash-2",cI);const dI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jv=De("trash",dI);const fI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],mI=De("upload",fI);const gI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ha=De("x",gI);const pI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yI=De("zap",pI),_I={apiKey:"AIzaSyC6xIVImyXjYqtWQtdOkFlO3aBtJLGAcc8",authDomain:"polyglot-pm.firebaseapp.com",projectId:"polyglot-pm",storageBucket:"polyglot-pm.firebasestorage.app",messagingSenderId:"665653580466",appId:"1:665653580466:web:b72025d60f51bc3a85efab",measurementId:"G-RPL0YK36R7"},Pv="PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE",Zn=typeof __app_id<"u"?__app_id:"project-dashboard-v1",Xc=typeof __firebase_config<"u"?JSON.parse(__firebase_config):_I,Nm=Xc&&Xc.apiKey&&Xc.apiKey!=="PASTE_YOUR_API_KEY_HERE";let tm,Vo,gn;Nm&&(tm=Yv(Xc),Vo=VS(tm),gn=FC(tm));const Im=["anthonytosi@gmail.com","atosi@sdl.com","atosi@google.com"],nm=["Anthony","Andrey","Annika","Mieke","Emily","Unassigned"],sl=["Heads-up","Need Assessment","In Assessment","Screenshooting","In Progress","Blocked","Pending Reports","Completed"],vI=["ar-SA","da-DK","de-DE","en-GB","es-ES","es-419","it-IT","fr-CA","fr-FR","ja-JP","ko-KR","nl-NL","no-NO","pt-PT","sv-SE","zh-TW"],bI=["P0","P1","P2","P3","P4"],EI={"Heads-up":{bg:"bg-fuchsia-100 dark:bg-fuchsia-900/40",text:"text-fuchsia-700 dark:text-fuchsia-400",border:"border-fuchsia-200 dark:border-fuchsia-800",dot:"bg-fuchsia-500"},"Need Assessment":{bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",dot:"bg-amber-500"},"In Assessment":{bg:"bg-orange-100 dark:bg-orange-900/40",text:"text-orange-700 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800",dot:"bg-orange-500"},Screenshooting:{bg:"bg-pink-100 dark:bg-pink-900/40",text:"text-pink-700 dark:text-pink-400",border:"border-pink-200 dark:border-pink-800",dot:"bg-pink-500"},"In Progress":{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",dot:"bg-blue-500"},Blocked:{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800",dot:"bg-red-500"},"Pending Reports":{bg:"bg-teal-100 dark:bg-teal-900/40",text:"text-teal-700 dark:text-teal-400",border:"border-teal-200 dark:border-teal-800",dot:"bg-teal-500"},Completed:{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800",dot:"bg-green-500"}},Zr=s=>EI[s]||{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-300",border:"border-slate-200 dark:border-slate-700",dot:"bg-slate-500"},xg=s=>{const e=["bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400","bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-400","bg-lime-100 text-lime-800 border-lime-200 dark:bg-lime-900/30 dark:text-lime-400","bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400","bg-sky-100 text-sky-800 border-sky-200 dark:bg-sky-900/30 dark:text-sky-400","bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400"];if(!s)return"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300";let i=0;for(let a=0;a<s.length;a++)i=s.charCodeAt(a)+((i<<5)-i);return e[Math.abs(i)%e.length]},Sg=s=>{const e={P0:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/30 dark:text-red-400",P1:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400",P2:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400",P3:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300",P4:"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300"};return e[s]||e.P2};function TI(){const[s,e]=Se.useState(null),[i,a]=Se.useState([]),[o,c]=Se.useState([]),[f,g]=Se.useState(!0),[_,y]=Se.useState(!1),[T,x]=Se.useState({teamMembers:nm,allowedDomains:[],allowedUsers:[],userGroups:[],adminEmails:[]}),[O,K]=Se.useState(""),[W,q]=Se.useState({status:"All",lead:"All",pa:"All"}),[Z,ue]=Se.useState({key:"createdAt",direction:"desc"}),[oe,be]=Se.useState("table"),[Ge,mt]=Se.useState(!1),[Pe,R]=Se.useState(null),[S,N]=Se.useState(!1),[M,I]=Se.useState(!1),[j,w]=Se.useState(!1),[Xe,_t]=Se.useState([]),[F,ne]=Se.useState([]),[ce,He]=Se.useState(!1),[$e,D]=Se.useState(!1),[Y,ie]=Se.useState(10),se=Se.useRef(null),pe=s?.email?.toLowerCase()||"",ve=s?.displayName||s?.email?.split("@")[0]||"User",Me=Im.includes(pe),xt=(T.adminEmails||[]).includes(pe),Oe=Me||xt,Ki=Se.useMemo(()=>{if(!s)return{hasAccess:!1,role:"none",allowedPAs:[]};if(Oe)return{hasAccess:!0,role:"admin",allowedPAs:["all"]};const ee=pe.split("@")[1]||"",re=(T.allowedDomains||[]).includes(ee),me=(T.allowedUsers||[]).includes(pe),Ae=(T.userGroups||[]).filter(xe=>(xe.members||[]).map($t=>($t||"").toLowerCase()).includes(pe));if(Ae.length===0&&!re&&!me)return{hasAccess:!1,role:"none",allowedPAs:[]};let fe=re||me?"editor":"viewer",We=re||me?["all"]:[];return Ae.forEach(xe=>{xe.role==="editor"&&(fe="editor"),xe.scope==="all"||We.includes("all")?We=["all"]:We=[...new Set([...We,...xe.scopedPAs||[]])]}),{hasAccess:!0,role:fe,allowedPAs:We}},[s,T,Oe,pe]),{hasAccess:Pn,role:Qi,allowedPAs:Un}=Ki,Ht=Oe||Qi==="editor",Nt=Se.useCallback((ee,re="success")=>{const me=Date.now();ne(Ae=>[...Ae,{id:me,message:ee,type:re}]),setTimeout(()=>ne(Ae=>Ae.filter(fe=>fe.id!==me)),3e3)},[]),ln=Se.useCallback(async()=>{if(!Pv.includes("PASTE_YOUR"))try{await fetch(Pv,{method:"POST",mode:"no-cors"})}catch{}},[]),_r=async()=>{D(!0),await ln(),setTimeout(()=>{D(!1),Nt("System Synced Successfully","success")},800)};Se.useEffect(()=>{let ee;return ce&&Pn?ee=setInterval(()=>{ie(re=>re<=1?(ln(),10):re-1)},1e3):ie(10),()=>clearInterval(ee)},[ce,Pn,ln]),Se.useEffect(()=>{if(!Nm){g(!1);return}const ee=xx(Vo,re=>{e(re),g(!1)});return()=>ee()},[]),Se.useEffect(()=>{if(!s||!gn){y(!0);return}const ee=fs(gn,"artifacts",Zn,"public","data","settings","config"),re=em(ee,me=>{me.exists()?x(me.data()):Nv(ee,{teamMembers:nm,allowedDomains:["google.com"],allowedUsers:[...Im],userGroups:[],adminEmails:[]}).catch(Ae=>console.log("Init settings skipped (Insufficient permissions):",Ae)),y(!0)},me=>{console.error("Settings fetch error:",me),y(!0)});return()=>re()},[s]);const ti=[...Un].sort().join(",");Se.useEffect(()=>{if(!s||!gn||!Pn||!_)return;const ee=No(gn,"artifacts",Zn,"public","data","projects"),re=em(ee,fe=>{let We=fe.docs.map(xe=>({id:xe.id,...xe.data()}));if(ti!=="all"){const xe=ti.split(",");We=We.filter(Xt=>xe.includes(Xt.productArea))}a(We),R(xe=>xe?We.find($t=>$t.id===xe.id)||xe:null)},fe=>{console.error("Projects Fetch Error:",fe),Nt("Connection issue with Database","error")}),me=No(gn,"artifacts",Zn,"public","data","announcements"),Ae=em(me,fe=>{let We=fe.docs.map(xe=>({id:xe.id,...xe.data()}));if(ti!=="all"){const xe=ti.split(",");We=We.filter(Xt=>Xt.targetPA==="general"||xe.includes(Xt.targetPA))}We.sort((xe,Xt)=>Xt.timestamp-xe.timestamp),c(We)},fe=>console.error("Announcements Fetch Error:",fe));return()=>{re(),Ae()}},[s,Pn,ti,_,Nt]),Se.useEffect(()=>{Ge?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[Ge]);const gt=Se.useMemo(()=>[...new Set([...T.teamMembers||nm,ve])].filter(ee=>ee!=="Unassigned").concat(["Unassigned"]),[ve,T]),vt=Se.useMemo(()=>[...new Set(i.map(ee=>String(ee.productArea||"").trim()).filter(Boolean))].sort(),[i]),pi=Se.useMemo(()=>{const ee=[];return(i||[]).forEach(re=>{Array.isArray(re.comments)&&re.comments.forEach(me=>ee.push({...me,projectName:re.projectName,projectId:re.id}))}),ee.sort((re,me)=>me.timestamp-re.timestamp)},[i]),vr=Se.useMemo(()=>{let ee=i.filter(re=>{const me=O.toLowerCase(),Ae=String(re.bugNumber||"").toLowerCase(),fe=String(re.projectName||"").toLowerCase(),We=String(re.productArea||"").trim(),xe=re.assignedLead||"Unassigned";return(Ae.includes(me)||fe.includes(me))&&(W.status==="All"||re.status===W.status)&&(W.lead==="All"||xe===W.lead)&&(W.pa==="All"||We===W.pa)});return ee.sort((re,me)=>{let Ae=re[Z.key],fe=me[Z.key];return Z.key==="clientETA"||Z.key==="createdAt"?(Ae=Ae?new Date(Ae).getTime():0,fe=fe?new Date(fe).getTime():0):(Ae=String(Ae||"").toLowerCase(),fe=String(fe||"").toLowerCase()),Ae<fe?Z.direction==="asc"?-1:1:Ae>fe?Z.direction==="asc"?1:-1:0}),ee},[i,O,W,Z]),da=ee=>{ue(re=>({key:ee,direction:re.key===ee&&re.direction==="asc"?"desc":"asc"}))},Yt=async ee=>{if(!Ht)return;if(!Oe&&Un[0]!=="all"&&!Un.includes(ee.productArea)){Nt("Unauthorized: You cannot save to this Product Area.","error");return}const re=No(gn,"artifacts",Zn,"public","data","projects"),me={...ee,updatedAt:Date.now(),lastEditedBy:s.uid,lastEditedByName:ve};try{ee.id?await jc(fs(re,ee.id),me):await Wf(re,{...me,createdAt:Date.now(),createdBy:s.uid,comments:[]}),N(!1),ln(),Nt(ee.id?"Project Updated":"Project Created","success")}catch{Nt("Failed to save project","error")}},yi=async(ee,re)=>{Ht&&(await jc(fs(gn,"artifacts",Zn,"public","data","projects",ee),{...re,updatedAt:Date.now(),lastEditedByName:ve}),ln(),Nt("Record updated","success"))},Ts=async(ee,re)=>{if(!Ht||Xe.length===0)return;const me=Xe.map(Ae=>jc(fs(gn,"artifacts",Zn,"public","data","projects",Ae),{[ee]:re,updatedAt:Date.now(),lastEditedByName:ve}));await Promise.all(me),_t([]),ln(),Nt(`Bulk updated ${Xe.length} projects`,"success")},br=async(ee,re,me,Ae=!1)=>{if(!Oe)return;const fe=No(gn,"artifacts",Zn,"public","data","announcements");await Wf(fe,{title:ee,content:re,targetPA:me,isPinned:Ae,timestamp:Date.now(),author:ve,authorId:s.uid}),Nt("Announcement Posted","success")},_i=async ee=>{Oe&&(await Nv(fs(gn,"artifacts",Zn,"public","data","settings","config"),ee),Nt("Security Rules Updated","success"))},Sl=()=>{const ee=["Bug Number","Project Name","Product Area","Status","Assigned Lead","Priority","Client ETA","Tester ETA","Devices","Project Folder URL","Quote URL"],re=vr.map(xe=>[xe.bugNumber,xe.projectName,xe.productArea,xe.status,xe.assignedLead,xe.priority||"P2",xe.clientETA||"",xe.testerETA||"",xe.devices||"",xe.projectFolderUrl||"",xe.quoteUrl||""]),me=[ee.join(","),...re.map(xe=>xe.map(Xt=>`"${String(Xt||"").replace(/"/g,'""')}"`).join(","))].join(`
`),Ae=new Blob([me],{type:"text/csv"}),fe=window.URL.createObjectURL(Ae),We=document.createElement("a");We.href=fe,We.download=`Polyglot_PM_Export_${new Date().toISOString().split("T")[0]}.csv`,We.click(),Nt("Export generated","success")},Er=ee=>{const re=[];let me="",Ae=!1;for(let fe=0;fe<ee.length;fe++)ee[fe]==='"'?Ae=!Ae:ee[fe]===","&&!Ae?(re.push(me.trim()),me=""):me+=ee[fe];return re.push(me.trim()),re.map(fe=>fe.replace(/^"|"$/g,""))},fa=async ee=>{const re=ee.target.files[0];if(!re||!Oe)return;const me=new FileReader;me.onload=async Ae=>{try{const We=Ae.target.result.split(/\r?\n/).filter(Sn=>Sn.trim()),xe=Er(We[0]),Xt=No(gn,"artifacts",Zn,"public","data","projects");let $t=0;for(let Sn=1;Sn<We.length;Sn++){const Et=Er(We[Sn]),ut={};xe.forEach((Ln,wn)=>{ut[Ln]=Et[wn]||""}),ut["Project Name"]&&(await Wf(Xt,{bugNumber:ut["Bug Number"]||"",projectName:ut["Project Name"],productArea:ut["Product Area"]||"General",status:sl.includes(ut.Status)?ut.Status:"Need Assessment",assignedLead:ut["Assigned Lead"]||"Unassigned",priority:ut.Priority||"P2",clientETA:ut["Client ETA"]||"",testerETA:ut["Tester ETA"]||"",devices:ut.Devices||"",projectFolderUrl:ut["Project Folder URL"]||"",quoteUrl:ut["Quote URL"]||"",createdAt:Date.now(),updatedAt:Date.now(),createdBy:s.uid,lastEditedByName:`Import: ${ve}`,comments:[]}),$t++)}Nt(`Successfully imported ${$t} projects.`,"success"),ln()}catch{Nt("Error parsing CSV. Check format.","error")}se.current.value=""},me.readAsText(re)};return f||s&&!_?b.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-500 font-medium tracking-tight",children:"Authenticating securely..."}):Nm?s&&!Pn?b.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans p-6",children:b.jsxs("div",{className:"bg-white p-10 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[b.jsx("div",{className:"w-24 h-24 bg-red-50 text-red-500 rounded-[2rem] flex items-center justify-center mb-8",children:b.jsx(PN,{size:40})}),b.jsx("h1",{className:"text-2xl font-black text-slate-900 mb-3",children:"Access Restricted"}),b.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["Your address (",b.jsx("b",{children:pe}),") is not on the access control list."]}),b.jsxs("button",{onClick:()=>E_(Vo),className:"w-full bg-slate-900 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-slate-800 transition-all active:scale-95",children:[b.jsx(Vv,{size:18})," Sign Out"]})]})}):s?b.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans overflow-hidden transition-colors duration-300",children:[b.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:F.map(ee=>b.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-xl font-black text-sm uppercase tracking-widest animate-in slide-in-from-right-8 fade-in ${ee.type==="error"?"bg-red-600 text-white":"bg-slate-900 text-white dark:bg-white dark:text-slate-900"}`,children:[ee.type==="success"?b.jsx(aE,{size:18}):b.jsx(rE,{size:18})," ",ee.message]},ee.id))}),b.jsxs("div",{className:"w-24 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col items-center py-8 z-10 justify-between transition-colors",children:[b.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[b.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-[1.5rem] flex items-center justify-center text-white font-black text-xl shadow-lg shadow-indigo-600/30 cursor-pointer hover:rotate-12 transition-transform",onClick:()=>be("table"),children:"P"}),b.jsxs("nav",{className:"flex flex-col gap-4 w-full px-4",children:[b.jsx(Pc,{icon:VN,active:oe==="table",onClick:()=>be("table"),label:"Table"}),b.jsx(Pc,{icon:NN,active:oe==="kanban",onClick:()=>be("kanban"),label:"Board"}),b.jsx(Pc,{icon:sE,active:oe==="metrics",onClick:()=>be("metrics"),label:"Stats"}),Oe&&b.jsx(Pc,{icon:uE,active:oe==="admin",onClick:()=>be("admin"),label:"Admin",highlight:!0})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-6",children:[b.jsx("button",{onClick:()=>mt(!Ge),className:"p-3 text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all",children:Ge?b.jsx(uI,{size:22}):b.jsx(GN,{size:22})}),b.jsx("button",{onClick:()=>E_(Vo),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-2xl transition-all",children:b.jsx(Vv,{size:22})}),b.jsxs("div",{className:"relative group mt-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-[1.2rem] flex items-center justify-center text-sm font-black text-white bg-indigo-600 shadow-md",children:ve.charAt(0).toUpperCase()}),b.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-slate-900 rounded-full"})]})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[b.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 px-10 py-6 flex items-center justify-between z-10 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-black tracking-tight",children:oe==="admin"?"System Controls":"Project Directory"}),b.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mt-1",children:["Role: ",Oe?"System Admin":Qi," ",Un[0]!=="all"&&` Scoped (${Un.length})`]})]}),b.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-2xl border transition-colors ${ce?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[b.jsx("div",{className:`w-2 h-2 rounded-full ${ce?"bg-green-500 animate-pulse":"bg-slate-300 dark:bg-slate-600"}`}),b.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${ce?"text-green-700 dark:text-green-400":"text-slate-500"}`,children:ce?`Live Pulse: ${Y}s`:"Pulse: Off"})]})]}),b.jsx("div",{className:"flex items-center gap-4",children:oe!=="admin"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"relative",children:[b.jsx(tI,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Search entries...",className:"pl-12 pr-6 py-3.5 bg-slate-100 dark:bg-slate-800 rounded-2xl text-sm font-medium w-72 outline-none focus:ring-2 ring-indigo-500/30 transition-all placeholder:text-slate-400 dark:text-white",value:O,onChange:ee=>K(ee.target.value)})]}),b.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[b.jsx(Io,{icon:WN,onClick:_r,active:$e,title:"Force Sync Refresh"}),Oe&&b.jsx(Io,{icon:yI,onClick:()=>He(!ce),active:ce,color:"amber",title:"Toggle 10s Auto-Pulse"}),b.jsx(Io,{icon:lE,onClick:()=>I(!0),title:"Global Audit Log"}),b.jsx(Io,{icon:vN,onClick:Sl,title:"Export CSV"}),Oe&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"file",accept:".csv",ref:se,className:"hidden",onChange:fa}),b.jsx(Io,{icon:mI,onClick:()=>se.current.click(),title:"Bulk Import CSV"})]})]}),Ht&&b.jsxs("button",{onClick:()=>{R(null),N(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3.5 rounded-2xl text-sm font-black flex items-center gap-2 shadow-lg shadow-indigo-600/20 transition-all active:scale-95 ml-2",children:[b.jsx(JN,{size:20})," New Record"]})]})})]}),o.length>0&&oe!=="admin"&&b.jsx(AI,{announcements:o,onOpenHistory:()=>w(!0)}),oe!=="admin"&&oe!=="metrics"&&b.jsxs("div",{className:"px-10 py-4 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800 flex items-center justify-between z-0",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsx(im,{value:W.status,onChange:ee=>q({...W,status:ee}),options:sl,label:"All Statuses"}),b.jsx(im,{value:W.lead,onChange:ee=>q({...W,lead:ee}),options:gt,label:"All Leads"}),b.jsx(im,{value:W.pa,onChange:ee=>q({...W,pa:ee}),options:vt,label:"All Areas"})]}),Xe.length>0&&Ht&&b.jsxs("div",{className:"bg-indigo-600 text-white px-6 py-2 rounded-xl flex items-center gap-6 animate-in slide-in-from-bottom-2",children:[b.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[Xe.length," Selected"]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{onChange:ee=>Ts("status",ee.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[b.jsx("option",{value:"",children:"Batch Status..."}),sl.map(ee=>b.jsx("option",{value:ee,className:"text-slate-900",children:ee},ee))]}),b.jsxs("select",{onChange:ee=>Ts("assignedLead",ee.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[b.jsx("option",{value:"",children:"Batch Lead..."}),gt.map(ee=>b.jsx("option",{value:ee,className:"text-slate-900",children:ee},ee))]}),b.jsx("button",{onClick:()=>_t([]),className:"p-1 hover:bg-white/20 rounded-lg",children:b.jsx(ha,{size:14})})]})]})]}),b.jsxs("div",{className:"flex-1 overflow-auto p-10 bg-slate-50 dark:bg-slate-950",children:[oe==="table"&&b.jsx(xI,{projects:vr,selectedIds:Xe,onSelect:_t,onOpen:R,onUpdateProject:yi,canEdit:Ht,sortConfig:Z,onSort:da}),oe==="kanban"&&b.jsx("div",{className:"flex gap-8 pb-10 min-h-full",children:sl.map(ee=>b.jsx(SI,{status:ee,projects:vr.filter(re=>re.status===ee),onOpen:R},ee))}),oe==="metrics"&&b.jsx(wI,{projects:i}),oe==="admin"&&Oe&&b.jsx(RI,{settings:T,onUpdateSettings:_i,productAreas:vt,isSuperAdmin:Me,onPostAnnouncement:br,announcements:o,onDeleteAnnouncement:ee=>Iv(fs(gn,"artifacts",Zn,"public","data","announcements",ee)),onTogglePin:(ee,re)=>jc(fs(gn,"artifacts",Zn,"public","data","announcements",ee),{isPinned:!re})})]})]}),j&&b.jsx(CI,{announcements:o,onClose:()=>w(!1)}),M&&b.jsx(kI,{activities:pi,onClose:()=>I(!1),onOpen:ee=>{R(i.find(re=>re.id===ee)),I(!1)}}),S&&b.jsx(NI,{project:Pe,teamMembers:gt,uniquePAs:vt,onClose:()=>{N(!1),R(null)},onSave:Yt}),Pe&&!S&&b.jsx(II,{project:Pe,isAdmin:Oe,canEdit:Ht,onClose:()=>R(null),onEdit:()=>N(!0),onUpdate:yi,onDelete:ee=>{Iv(fs(gn,"artifacts",Zn,"public","data","projects",ee)),ln(),R(null),Nt("Project Deleted","success")}})]}):b.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans",children:b.jsxs("div",{className:"bg-white p-12 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white font-black shadow-lg shadow-indigo-600/30 mb-8 text-4xl",children:"P"}),b.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-3 tracking-tight",children:"Polyglot PM"}),b.jsx("p",{className:"text-slate-500 mb-10 font-medium",children:"Enterprise Localization Management"}),b.jsxs("button",{onClick:()=>Fx(Vo,new ms),className:"flex items-center justify-center gap-4 bg-white border-2 border-slate-200 hover:border-indigo-600 hover:bg-indigo-50 text-slate-800 font-black py-4 px-6 rounded-2xl w-full transition-all active:scale-95 shadow-sm",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/action/google.svg",className:"w-5 h-5",alt:"Google"})," Sign in with Google"]})]})}):b.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center p-6",children:b.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[32px] shadow-2xl border border-slate-200 text-center",children:[b.jsx(sI,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Database Setup Required"}),b.jsxs("p",{className:"text-slate-500 text-sm mb-6 leading-relaxed",children:["Your application needs Firebase credentials to connect to the database. Please update ",b.jsx("b",{children:"App.jsx"})," line 17."]})]})})}const Pc=({icon:s,active:e,onClick:i,label:a,highlight:o})=>b.jsx("button",{onClick:i,className:`p-4 rounded-2xl w-full flex justify-center transition-all duration-200 ${e?o?"bg-amber-500/10 text-amber-500":"bg-indigo-600/10 text-indigo-600 dark:text-indigo-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-600 dark:hover:text-slate-300"}`,title:a,children:b.jsx(s,{size:24,className:e&&o?"drop-shadow-sm":""})}),Io=({icon:s,onClick:e,active:i,color:a="indigo",title:o})=>{const c=i?a==="amber"?"bg-amber-100 text-amber-600 dark:bg-amber-900/30":"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30":"",f=i&&a==="indigo"?"animate-spin":"";return b.jsx("button",{onClick:e,title:o,className:`p-3 rounded-xl transition-all text-slate-500 hover:text-indigo-600 hover:bg-slate-200 dark:hover:bg-slate-700 ${c}`,children:b.jsx(s,{size:20,className:f})})},im=({value:s,onChange:e,options:i,label:a})=>b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:s,onChange:o=>e(o.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-slate-100 dark:bg-slate-800 border-none rounded-xl text-xs font-black text-slate-700 dark:text-slate-300 outline-none cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[b.jsx("option",{value:"All",children:a}),i.map(o=>b.jsx("option",{value:o,children:o},o))]}),b.jsx(uN,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]}),Uc=({sortConfig:s,col:e})=>b.jsx("span",{className:`ml-2 inline-block transition-transform ${s.key===e?"text-indigo-500":"text-slate-300"} ${s.key===e&&s.direction==="desc"?"rotate-180":""}`,children:""}),sm=({items:s,listKey:e,icon:i,color:a,disableRemove:o,onRemove:c})=>b.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[s.map(f=>b.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800 text-[10px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:[i&&b.jsx(i,{size:12,className:`text-${a}-500`})," ",f,!o&&b.jsx("button",{onClick:()=>c(e,f),className:"ml-2 text-slate-300 hover:text-red-500",children:b.jsx(ha,{size:14})})]},f)),s.length===0&&b.jsx("span",{className:"text-[10px] font-bold text-slate-400 italic",children:"List is empty."})]});function AI({announcements:s,onOpenHistory:e}){const[i,a]=Se.useState(0),o=Se.useMemo(()=>[...s.filter(f=>f.isPinned),...s.filter(f=>!f.isPinned).slice(0,3)],[s]),c=o[i%o.length];return c?b.jsxs("div",{className:`px-10 py-3 flex items-center justify-between border-b transition-colors ${c.isPinned?"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800/50":"bg-indigo-600 border-indigo-700 text-white"}`,children:[b.jsxs("div",{className:"flex items-center gap-6 overflow-hidden",children:[b.jsxs("div",{className:`flex items-center gap-2 flex-shrink-0 font-black text-[10px] uppercase tracking-widest ${c.isPinned?"text-amber-600 dark:text-amber-400":"text-indigo-200"}`,children:[b.jsx(Ag,{size:16})," ",c.isPinned?"Priority Pin":"Updates"]}),b.jsxs("div",{className:`text-sm font-bold truncate ${c.isPinned?"text-slate-900 dark:text-amber-100":"text-white"}`,children:[b.jsxs("span",{className:"opacity-60 font-black mr-3 px-2 py-0.5 rounded border border-current",children:["QA: ",c.targetPA||"GENERAL"]}),c.title,": ",b.jsx("span",{className:"font-medium opacity-90",children:c.content})]})]}),b.jsxs("div",{className:"flex items-center gap-4 ml-6 flex-shrink-0",children:[b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>a(f=>f>0?f-1:o.length-1),className:"p-1 hover:bg-black/10 rounded",children:b.jsx(dN,{size:16})}),b.jsx("button",{onClick:()=>a(f=>f+1),className:"p-1 hover:bg-black/10 rounded",children:b.jsx(mN,{size:16})})]}),b.jsx("button",{onClick:e,className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${c.isPinned?"border-amber-300 text-amber-700 bg-white hover:bg-amber-100 dark:bg-transparent dark:text-amber-400":"border-indigo-400 text-white bg-indigo-500/50 hover:bg-indigo-500"}`,children:"Log"})]})]}):null}function xI({projects:s,selectedIds:e,onSelect:i,onOpen:a,onUpdateProject:o,canEdit:c,sortConfig:f,onSort:g}){return b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] shadow-xl border border-slate-100 dark:border-slate-800 overflow-hidden",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 text-slate-400 text-[10px] uppercase font-black tracking-widest",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-8 py-5 w-10",children:c&&b.jsx("input",{type:"checkbox",className:"rounded bg-slate-200 border-none cursor-pointer",checked:s.length>0&&e.length===s.length,onChange:()=>i(e.length?[]:s.map(_=>_.id))})}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("projectName"),children:["Project Specs ",b.jsx(Uc,{sortConfig:f,col:"projectName"})]}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("status"),children:["Current Phase ",b.jsx(Uc,{sortConfig:f,col:"status"})]}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("assignedLead"),children:["Assigned ",b.jsx(Uc,{sortConfig:f,col:"assignedLead"})]}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("clientETA"),children:["Schedule ",b.jsx(Uc,{sortConfig:f,col:"clientETA"})]}),b.jsx("th",{className:"px-8 py-5 text-center",children:"Deliverables"})]})}),b.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800/50",children:[s.map(_=>{const y=Zr(_.status),T=e.includes(_.id);return b.jsxs("tr",{className:`group cursor-pointer transition-colors ${T?"bg-indigo-50/50 dark:bg-indigo-900/20":"hover:bg-slate-50/80 dark:hover:bg-slate-700/30"}`,onClick:()=>a(_),children:[b.jsx("td",{className:"px-8 py-6",onClick:x=>{x.stopPropagation(),c&&i(O=>T?O.filter(K=>K!==_.id):[...O,_.id])},children:c&&b.jsx("input",{type:"checkbox",checked:T,readOnly:!0,className:"rounded border-slate-300 text-indigo-600 focus:ring-0 cursor-pointer"})}),b.jsxs("td",{className:"px-8 py-6",children:[b.jsxs("div",{className:"font-mono text-[10px] text-indigo-600 dark:text-indigo-400 font-black mb-1.5 uppercase tracking-widest flex gap-2 items-center",children:[_.bugNumber||"DRAFT",_.priority&&_.priority!=="P2"&&b.jsx("span",{className:`px-1.5 py-0.5 rounded text-[8px] border ${Sg(_.priority)}`,children:_.priority})]}),b.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm mb-2.5 leading-tight",children:_.projectName}),b.jsx("span",{className:`inline-block px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${xg(_.productArea)}`,children:_.productArea||"General"})]}),b.jsx("td",{className:"px-8 py-6",children:b.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-xl text-[10px] font-black border ${y.bg} ${y.text} ${y.border}`,children:[b.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${y.dot}`}),_.status]})}),b.jsx("td",{className:"px-8 py-6",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:String(_.assignedLead||"U").charAt(0)}),b.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:_.assignedLead})]})}),b.jsx("td",{className:"px-8 py-6 text-[10px] font-bold text-slate-500 dark:text-slate-400",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ph,{size:12,className:"text-slate-300"})," ",b.jsxs("span",{className:_.clientETA?"text-slate-700 dark:text-slate-200":"",children:["Client: ",_.clientETA||"TBD"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ph,{size:12,className:"opacity-40"})," ",b.jsxs("span",{className:"opacity-70",children:["Tester: ",_.testerETA||"TBD"]})]})]})}),b.jsx("td",{className:"px-8 py-6 text-center",children:b.jsxs("div",{className:"flex justify-center gap-3",children:[b.jsx("button",{onClick:x=>{x.stopPropagation(),c&&o(_.id,{quoteReady:!_.quoteReady})},className:`p-2 rounded-xl border transition-all ${_.quoteReady?"text-green-600 bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Ready",children:b.jsx(aE,{size:16})}),b.jsx("button",{onClick:x=>{x.stopPropagation(),c&&o(_.id,{quoteSent:!_.quoteSent})},className:`p-2 rounded-xl border transition-all ${_.quoteSent?"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Sent",children:b.jsx(oE,{size:16})})]})})]},_.id)}),s.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"px-8 py-20 text-center text-slate-400 font-bold text-xs uppercase tracking-widest",children:"No matching records found"})})]})]})})}function SI({status:s,projects:e,onOpen:i}){const a=Zr(s);return b.jsxs("div",{className:"flex-shrink-0 w-80 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[b.jsxs("span",{className:"flex items-center gap-3 font-black text-[11px] uppercase tracking-[0.15em] text-slate-500 dark:text-slate-400",children:[b.jsx("span",{className:`w-2 h-2 rounded-full ${a.dot} shadow-sm`}),s]}),b.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2.5 py-1 rounded-lg text-[9px] font-black",children:e.length})]}),b.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-y-auto pb-4",children:[e.map(o=>b.jsxs("div",{onClick:()=>i(o),className:"group bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-sm border border-slate-100 dark:border-slate-700 cursor-pointer hover:border-indigo-400 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[b.jsx("div",{className:"flex justify-between items-start mb-3",children:b.jsxs("div",{className:"flex gap-2",children:[b.jsx("div",{className:"text-[9px] font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 rounded-md uppercase tracking-wider",children:o.bugNumber||"Draft"}),o.priority&&o.priority!=="P2"&&b.jsx("div",{className:`text-[9px] font-black px-2 py-1 rounded-md border ${Sg(o.priority)}`,children:o.priority})]})}),b.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 mb-5 leading-snug",children:o.projectName}),b.jsxs("div",{className:"flex justify-between items-end border-t border-slate-50 dark:border-slate-700/50 pt-4 mt-auto",children:[b.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${xg(o.productArea)}`,children:o.productArea||"General"}),b.jsx("div",{className:"w-7 h-7 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:String(o.assignedLead||"U").charAt(0)})]})]},o.id)),e.length===0&&b.jsx("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] h-32 flex items-center justify-center text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Empty"})]})]})}function wI({projects:s}){const e=i=>s.length?Math.round(i/s.length*100):0;return b.jsx("div",{className:"max-w-5xl mx-auto space-y-10 animate-in fade-in zoom-in-95 duration-500",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-12 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl shadow-slate-200/20 dark:shadow-none",children:[b.jsxs("h3",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-10 flex items-center gap-3",children:[b.jsx(sE,{size:20})," Phase Distribution Overview"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-10",children:sl.map(i=>{const a=s.filter(o=>o.status===i).length;return a?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-end text-xs font-black uppercase tracking-tight",children:[b.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:i}),b.jsxs("span",{className:"text-slate-400 text-[10px]",children:[a," Records (",e(a),"%)"]})]}),b.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-900 rounded-full overflow-hidden shadow-inner p-0.5",children:b.jsx("div",{className:`h-full rounded-full ${Zr(i).dot} transition-all duration-1000 shadow-sm`,style:{width:`${e(a)}%`}})})]},i):null})})]})})}function RI({settings:s,onUpdateSettings:e,productAreas:i,isSuperAdmin:a,onPostAnnouncement:o,announcements:c,onDeleteAnnouncement:f,onTogglePin:g}){const[_,y]=Se.useState({name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}),[T,x]=Se.useState({admin:"",user:"",domain:"",annTitle:"",annContent:"",annTarget:"general"}),O=(q,Z)=>{if(!Z.trim())return;const ue=Z.toLowerCase().trim().replace("@","");e({...s,[q]:[...new Set([...s[q]||[],ue])]}),x(oe=>({...oe,[q==="adminEmails"?"admin":q==="allowedUsers"?"user":"domain"]:""}))},K=(q,Z)=>{e({...s,[q]:(s[q]||[]).filter(ue=>ue!==Z)})},W=()=>{_.name.trim()&&(e({...s,userGroups:[...s.userGroups||[],{..._,id:Date.now()}]}),y({name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}))};return b.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 pb-20 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[b.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[b.jsx(Ag,{className:"text-indigo-500"})," Broadcast Engine"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[b.jsx("input",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:T.annTitle,onChange:q=>x({...T,annTitle:q.target.value}),placeholder:"Headline Subject..."}),b.jsxs("select",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold uppercase tracking-wider outline-none dark:text-white",value:T.annTarget,onChange:q=>x({...T,annTarget:q.target.value}),children:[b.jsx("option",{value:"general",children:"Target: Global Access"}),i.map(q=>b.jsxs("option",{value:q,children:["Target PA: ",q]},q))]})]}),b.jsx("textarea",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-medium mb-6 min-h-[120px] outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:T.annContent,onChange:q=>x({...T,annContent:q.target.value}),placeholder:"Message content..."}),b.jsx("button",{onClick:()=>{o(T.annTitle,T.annContent,T.annTarget),x({...T,annTitle:"",annContent:""})},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-black text-xs transition-colors shadow-lg shadow-indigo-500/20",children:"Publish Broadcast"}),b.jsxs("div",{className:"mt-12 space-y-3 border-t border-slate-100 dark:border-slate-700 pt-8",children:[b.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Active & Historical Broadcasts"}),c.map(q=>b.jsxs("div",{className:`flex items-center justify-between p-5 rounded-2xl border transition-colors ${q.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800"}`,children:[b.jsxs("div",{className:"flex gap-5 items-center overflow-hidden",children:[b.jsx("button",{onClick:()=>g(q.id,q.isPinned),className:`p-2 rounded-xl border transition-all ${q.isPinned?"text-amber-600 bg-amber-100 border-amber-300":"text-slate-400 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:b.jsx(XN,{size:16})}),b.jsxs("div",{className:"truncate",children:[b.jsx("div",{className:"text-[9px] font-black uppercase text-indigo-500 tracking-widest mb-1",children:q.targetPA||"GENERAL"}),b.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 truncate",children:q.title})]})]}),b.jsx("button",{onClick:()=>f(q.id),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:b.jsx(jv,{size:18})})]},q.id))]})]}),b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl col-span-1 lg:col-span-3",children:[b.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[b.jsx(uE,{className:"text-amber-500"})," Core Security Keys"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"System Admins"}),b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:T.admin,onChange:q=>x({...T,admin:q.target.value}),onKeyDown:q=>q.key==="Enter"&&O("adminEmails",T.admin),placeholder:"Add admin email..."}),b.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:Im.map(q=>b.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-amber-50 dark:bg-amber-900/20 rounded-xl border border-amber-100 dark:border-amber-800/50 text-[10px] font-black text-amber-700 dark:text-amber-500 uppercase tracking-widest",children:[b.jsx(kN,{size:12})," ",q]},q))}),b.jsx(sm,{items:s.adminEmails||[],listKey:"adminEmails",onRemove:K})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"Whitelist Domains"}),b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:T.domain,onChange:q=>x({...T,domain:q.target.value}),onKeyDown:q=>q.key==="Enter"&&O("allowedDomains",T.domain),placeholder:"e.g. company.com..."}),b.jsx(sm,{items:s.allowedDomains||[],listKey:"allowedDomains",icon:wN,color:"blue",onRemove:K})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"Whitelist Emails"}),b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2 dark:text-white focus:ring-2 ring-indigo-500/20",value:T.user,onChange:q=>x({...T,user:q.target.value}),onKeyDown:q=>q.key==="Enter"&&O("allowedUsers",T.user),placeholder:"Specific user email..."}),b.jsx(sm,{items:s.allowedUsers||[],listKey:"allowedUsers",icon:zN,color:"emerald",onRemove:K})]})]})]})}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[b.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[b.jsx(ON,{className:"text-indigo-500"})," Define Access Matrix"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Matrix Name"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.name,onChange:q=>y({..._,name:q.target.value}),placeholder:"e.g. Vendors"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Permissions"}),b.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.role,onChange:q=>y({..._,role:q.target.value}),children:[b.jsx("option",{value:"viewer",children:"Read Only Viewer"}),b.jsx("option",{value:"editor",children:"Full Editor"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Scope Horizon"}),b.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none dark:text-white focus:ring-2 ring-indigo-500/20",value:_.scope,onChange:q=>y({..._,scope:q.target.value}),children:[b.jsx("option",{value:"all",children:"Global Access"}),b.jsx("option",{value:"scoped",children:"Restricted Silos"})]})]}),b.jsx("button",{onClick:W,className:"bg-indigo-600 text-white h-[52px] rounded-2xl font-black text-xs shadow-lg shadow-indigo-500/20 hover:bg-indigo-700 active:scale-95 transition-all",children:"Construct Matrix"})]}),_.scope==="scoped"&&b.jsx("div",{className:"mt-8 p-8 bg-slate-50 dark:bg-slate-900/50 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex flex-wrap gap-3",children:i.map(q=>{const Z=_.scopedPAs.includes(q);return b.jsx("button",{onClick:()=>y({..._,scopedPAs:Z?_.scopedPAs.filter(ue=>ue!==q):[..._.scopedPAs,q]}),className:`px-5 py-2.5 rounded-xl text-[10px] font-black border uppercase tracking-widest transition-all ${Z?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-indigo-400"}`,children:q},q)})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(s.userGroups||[]).map(q=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-sm flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start mb-8",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:q.name}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800",children:q.role}),b.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-slate-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700",children:q.scope==="all"?"Global":`Scoped: ${q.scopedPAs?.length||0}`})]})]}),b.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.filter(Z=>Z.id!==q.id)}),className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:b.jsx(jv,{size:18})})]}),b.jsxs("div",{className:"mt-auto",children:[b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-4 focus:ring-2 ring-indigo-500/20 dark:text-white",placeholder:"Type email and press Enter...",onKeyDown:Z=>{if(Z.key==="Enter"&&Z.target.value){const ue=s.userGroups.map(oe=>oe.id===q.id?{...oe,members:[...new Set([...oe.members||[],Z.target.value.toLowerCase().trim()])]}:oe);e({...s,userGroups:ue}),Z.target.value=""}}}),b.jsxs("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:[(q.members||[]).map(Z=>b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-900/80 rounded-lg text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[Z,b.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.map(ue=>ue.id===q.id?{...ue,members:(ue.members||[]).filter(oe=>oe!==Z)}:ue)}),className:"hover:text-red-500",children:b.jsx(ha,{size:12})})]},Z)),(!q.members||q.members.length===0)&&b.jsx("span",{className:"text-xs text-slate-400 font-medium italic",children:"No identities mapped."})]})]})]},q.id))})]})}function CI({announcements:s,onClose:e}){return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[b.jsxs("h2",{className:"text-2xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[b.jsx(Ag,{size:24,className:"text-indigo-600"})," Comm Log"]}),b.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:b.jsx(ha,{size:20})})]}),b.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[s.map(i=>b.jsxs("div",{className:`p-8 rounded-[32px] border transition-all ${i.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800/50 shadow-lg shadow-amber-500/5":"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-800"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${i.isPinned?"bg-amber-100 border-amber-300 text-amber-700":"bg-white dark:bg-slate-900 text-indigo-600 border-indigo-100 dark:border-slate-700"}`,children:i.targetPA||"GENERAL"}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:new Date(i.timestamp).toLocaleDateString()})]}),b.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-3 leading-snug",children:i.title}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed font-medium",children:i.content}),b.jsxs("div",{className:"mt-6 pt-6 border-t border-black/5 dark:border-white/5 flex items-center gap-2 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[b.jsx("div",{className:"w-5 h-5 rounded-md bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(i.author||"U").charAt(0)})," ",i.author||"User"]})]},i.id)),s.length===0&&b.jsx("div",{className:"text-center py-20 text-slate-400 font-black uppercase tracking-widest text-xs",children:"No records exist"})]})]})})}function NI({project:s,onClose:e,onSave:i,teamMembers:a,uniquePAs:o}){const[c,f]=Se.useState(s||{bugNumber:"",projectName:"",productArea:"",assignedLead:"Unassigned",status:"Need Assessment",priority:"P2",clientETA:"",testerETA:"",projectFolderUrl:"",quoteUrl:"",devices:""});return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[550px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[b.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:s?"Update Full Details":"New Project Entry"}),b.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:b.jsx(ha,{size:20})})]}),b.jsxs("div",{className:"flex-1 p-10 space-y-8 overflow-y-auto",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Bug ID"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.bugNumber,onChange:g=>f({...c,bugNumber:g.target.value}),placeholder:"b/..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Product Area"}),b.jsx("input",{list:"pa-list",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.productArea,onChange:g=>f({...c,productArea:g.target.value}),placeholder:"e.g. Search"}),b.jsx("datalist",{id:"pa-list",children:o.map(g=>b.jsx("option",{value:g},g))})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Descriptor"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.projectName,onChange:g=>f({...c,projectName:g.target.value}),placeholder:"Required..."})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-6 border-t border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Assignment"}),b.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.assignedLead,onChange:g=>f({...c,assignedLead:g.target.value}),children:a.map(g=>b.jsx("option",{value:g,children:g},g))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Phase"}),b.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.status,onChange:g=>f({...c,status:g.target.value}),children:sl.map(g=>b.jsx("option",{value:g,children:g},g))})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Priority Level"}),b.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.priority||"P2",onChange:g=>f({...c,priority:g.target.value}),children:bI.map(g=>b.jsx("option",{value:g,children:g},g))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Platform / Devices"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.devices||"",onChange:g=>f({...c,devices:g.target.value}),placeholder:"e.g. Android/iOS"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Client Target"}),b.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.clientETA,onChange:g=>f({...c,clientETA:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Tester Target"}),b.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.testerETA,onChange:g=>f({...c,testerETA:g.target.value})})]})]}),b.jsxs("div",{className:"pt-6 border-t border-slate-100 dark:border-slate-800 space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Folder URL"}),b.jsx("input",{type:"url",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white placeholder:font-normal",value:c.projectFolderUrl||"",onChange:g=>f({...c,projectFolderUrl:g.target.value}),placeholder:"https://drive.google.com/..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Quote Reference URL"}),b.jsx("input",{type:"url",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white placeholder:font-normal",value:c.quoteUrl||"",onChange:g=>f({...c,quoteUrl:g.target.value}),placeholder:"https://docs.google.com/..."})]})]})]}),b.jsxs("div",{className:"p-8 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 flex justify-end gap-4",children:[b.jsx("button",{onClick:e,className:"px-6 py-4 text-slate-500 font-black text-xs hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>i(c),disabled:!c.projectName,className:"bg-indigo-600 text-white px-10 py-4 rounded-2xl font-black text-xs shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Full Record"})]})]})})}function II({project:s,onClose:e,onEdit:i,onUpdate:a,isAdmin:o,canEdit:c,onDelete:f}){const[g,_]=Se.useState("");return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[650px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 relative",children:[b.jsx("button",{onClick:e,className:"absolute top-8 right-8 p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:b.jsx(ha,{size:20})}),b.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[b.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-lg",children:s.bugNumber||"DRAFT"}),s.priority&&b.jsx("div",{className:`text-[10px] font-black px-3 py-1 rounded-lg border uppercase tracking-widest ${Sg(s.priority)}`,children:s.priority})]}),b.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-6 leading-tight pr-12",children:s.projectName}),b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black border uppercase tracking-widest ${xg(s.productArea)}`,children:s.productArea||"General"}),b.jsxs("span",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[b.jsx("div",{className:"w-6 h-6 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(s.assignedLead||"U").charAt(0)}),s.assignedLead]})]}),b.jsxs("div",{className:"flex gap-4 items-center",children:[c&&b.jsxs("button",{onClick:i,className:"px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-xs font-black text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-all shadow-sm",children:[b.jsx(QN,{size:16})," Edit Full Record"]}),b.jsxs("span",{className:`px-6 py-3 rounded-2xl text-xs font-black border flex items-center gap-2 ${Zr(s.status).bg} ${Zr(s.status).text} ${Zr(s.status).border}`,children:[b.jsx("span",{className:`w-2 h-2 rounded-full ${Zr(s.status).dot}`}),s.status]}),o&&b.jsx("button",{onClick:()=>f(s.id),className:"ml-auto p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:b.jsx(hI,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-12",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-6 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-[2rem] border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Client ETA"}),b.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[b.jsx(ph,{size:16,className:"text-indigo-500"})," ",s.clientETA||"Unscheduled"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Tester ETA"}),b.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[b.jsx(ph,{size:16,className:"text-indigo-500"})," ",s.testerETA||"Unscheduled"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Platform / Devices"}),b.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[b.jsx(lI,{size:16,className:"text-slate-400"})," ",s.devices||"N/A"]})]}),b.jsxs("div",{className:"flex flex-col gap-2 justify-center",children:[s.projectFolderUrl?b.jsxs("a",{href:s.projectFolderUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-[11px] font-black text-indigo-600 hover:underline",children:[b.jsx(Mv,{size:14})," Access Project Folder ",b.jsx(Dv,{size:12})]}):b.jsxs("span",{className:"flex items-center gap-2 text-[11px] font-bold text-slate-400",children:[b.jsx(Mv,{size:14})," No Folder Linked"]}),s.quoteUrl?b.jsxs("a",{href:s.quoteUrl,target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 text-[11px] font-black text-indigo-600 hover:underline",children:[b.jsx(Ov,{size:14})," Access Quote Doc ",b.jsx(Dv,{size:12})]}):b.jsxs("span",{className:"flex items-center gap-2 text-[11px] font-bold text-slate-400",children:[b.jsx(Ov,{size:14})," No Quote Linked"]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[b.jsx(EN,{size:16,className:"text-indigo-600"})," Locale Footprint Matrix"]}),b.jsx("div",{className:"grid grid-cols-4 gap-3",children:vI.map(y=>{const T=(s.locales||[]).find(x=>x.name===y);return b.jsxs("button",{disabled:!c,onClick:()=>{const x=T?.status==="Passed"?"Failed":T?.status==="Failed"?"Pending":"Passed",O=T?(s.locales||[]).map(K=>K.name===y?{...K,status:x}:K):[...s.locales||[],{name:y,status:"Passed"}];a(s.id,{locales:O})},className:`text-center py-4 px-2 rounded-2xl border text-[10px] font-black transition-all ${T?.status==="Passed"?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":T?.status==="Failed"?"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-400 hover:border-indigo-300"}`,children:[b.jsx("div",{className:"mb-1 text-[11px]",children:y}),b.jsx("div",{className:"opacity-60",children:T?.status||"N/A"})]},y)})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[b.jsx(HN,{size:16,className:"text-indigo-600"})," Audit & Comm Log"]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("input",{className:"flex-1 p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-medium outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:g,onChange:y=>_(y.target.value),placeholder:"Append secure note...",onKeyDown:y=>{y.key==="Enter"&&g&&(a(s.id,{comments:[...s.comments||[],{id:Date.now(),author:currentUserDisplayName,text:g,timestamp:Date.now()}]}),_(""))}}),b.jsx("button",{onClick:()=>{g&&(a(s.id,{comments:[...s.comments||[],{id:Date.now(),author:currentUserDisplayName,text:g,timestamp:Date.now()}]}),_(""))},className:"bg-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all",children:b.jsx(oE,{size:20})})]}),b.jsx("div",{className:"space-y-4",children:(Array.isArray(s.comments)?s.comments:[]).slice().reverse().map(y=>b.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"flex justify-between text-[10px] font-black text-slate-400 mb-3 uppercase tracking-widest flex items-center gap-2",children:[b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-5 h-5 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:String(y.author||"U").charAt(0)}),y.author]}),b.jsx("span",{children:new Date(y.timestamp).toLocaleString()})]}),b.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium leading-relaxed",children:y.text})]},y.id))})]})]})]})})}function kI({activities:s,onClose:e,onOpen:i}){return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[450px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[b.jsxs("h2",{className:"text-xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[b.jsx(lE,{size:22,className:"text-indigo-600"})," Global Audit Trail"]}),b.jsx("button",{onClick:e,className:"p-3 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:b.jsx(ha,{size:20})})]}),b.jsxs("div",{className:"flex-1 p-8 overflow-y-auto space-y-8 relative",children:[b.jsx("div",{className:"absolute left-[39px] top-8 bottom-8 w-px bg-slate-200 dark:bg-slate-800"}),s.map(a=>b.jsxs("div",{className:"relative pl-12 cursor-pointer group",onClick:()=>i(a.projectId),children:[b.jsx("div",{className:"absolute left-[3px] top-1.5 w-3 h-3 rounded-full bg-indigo-500 ring-4 ring-white dark:ring-slate-900 transition-transform group-hover:scale-150"}),b.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-3xl border border-slate-100 dark:border-slate-800 group-hover:border-indigo-300 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest",children:a.projectName}),b.jsx("div",{className:"text-[9px] font-bold text-slate-400",children:new Date(a.timestamp).toLocaleDateString()})]}),b.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3 font-medium line-clamp-3",children:a.text}),b.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 rounded bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:String(a.author||"U").charAt(0)})," Logged by ",a.author]})]})]},a.id)),s.length===0&&b.jsx("div",{className:"text-center text-slate-400 font-black py-20 uppercase tracking-widest text-[10px]",children:"Trail is currently empty"})]})]})})}class DI extends FT.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,i){console.error(" REACT FATAL CRASH:",e,i),this.setState({errorInfo:i})}render(){return this.state.hasError?b.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-slate-950 text-slate-200 font-sans p-6",children:b.jsxs("div",{className:"bg-slate-900 border border-red-500/30 p-8 rounded-[32px] shadow-2xl max-w-2xl w-full",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"w-14 h-14 bg-red-500/20 text-red-500 flex items-center justify-center rounded-2xl shrink-0",children:b.jsx(rE,{size:28})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-black text-white",children:"Oops. The Matrix Broke."}),b.jsx("p",{className:"text-red-400 text-sm",children:"A fatal render error occurred. Take a screenshot of the technical jargon below so we can fix it."})]})]}),b.jsxs("div",{className:"bg-black/50 p-5 rounded-2xl border border-red-500/20 font-mono text-xs overflow-auto max-h-64 mb-6",children:[b.jsx("div",{className:"text-red-400 font-bold mb-3 text-sm",children:this.state.error&&this.state.error.toString()}),b.jsx("div",{className:"text-slate-500 leading-relaxed whitespace-pre-wrap",children:this.state.errorInfo&&this.state.errorInfo.componentStack})]}),b.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-red-600 hover:bg-red-700 text-white font-black py-4 rounded-2xl transition-all shadow-lg shadow-red-600/20",children:"Reboot System"})]})}):this.props.children}}function OI(){return b.jsx(DI,{children:b.jsx(TI,{})})}JT.createRoot(document.getElementById("root")).render(b.jsx(Se.StrictMode,{children:b.jsx(OI,{})}));
