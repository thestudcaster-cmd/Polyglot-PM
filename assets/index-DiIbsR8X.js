(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Md={exports:{}},wo={};var By;function kT(){if(By)return wo;By=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return wo.Fragment=e,wo.jsx=i,wo.jsxs=i,wo}var qy;function DT(){return qy||(qy=1,Md.exports=kT()),Md.exports}var b=DT(),Vd={exports:{}},Te={};var Hy;function OT(){if(Hy)return Te;Hy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=I&&O[I]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,z={};function se(O,Y,W){this.props=O,this.context=Y,this.refs=z,this.updater=W||Z}se.prototype.isReactComponent={},se.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},se.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function oe(){}oe.prototype=se.prototype;function he(O,Y,W){this.props=O,this.context=Y,this.refs=z,this.updater=W||Z}var Ie=he.prototype=new oe;Ie.constructor=he,ne(Ie,se.prototype),Ie.isPureReactComponent=!0;var ze=Array.isArray;function Be(){}var N={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(O,Y,W){var re=W.ref;return{$$typeof:s,type:O,key:Y,ref:re!==void 0?re:null,props:W}}function M(O,Y){return C(O.type,Y,O.props)}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return Y[W]})}var w=/\/+/g;function ot(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Y.toString(36)}function bt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Be,Be):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,W,re,ye){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(Se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case s:case e:be=!0;break;case T:return be=O._init,G(be(O._payload),Y,W,re,ye)}}if(be)return ye=ye(O),be=re===""?"."+ot(O,0):re,ze(ye)?(W="",be!=null&&(W=be.replace(w,"$&/")+"/"),G(ye,Y,W,"",function(mi){return mi})):ye!=null&&(k(ye)&&(ye=M(ye,W+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(w,"$&/")+"/")+be)),Y.push(ye)),1;be=0;var At=re===""?".":re+":";if(ze(O))for(var $e=0;$e<O.length;$e++)re=O[$e],Se=At+ot(re,$e),be+=G(re,Y,W,Se,ye);else if($e=F(O),typeof $e=="function")for(O=$e.call(O),$e=0;!(re=O.next()).done;)re=re.value,Se=At+ot(re,$e++),be+=G(re,Y,W,Se,ye);else if(Se==="object"){if(typeof O.then=="function")return G(bt(O),Y,W,re,ye);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return be}function ie(O,Y,W){if(O==null)return O;var re=[],ye=0;return G(O,re,"","",function(Se){return Y.call(W,Se,ye++)}),re}function fe(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Qe={map:ie,forEach:function(O,Y,W){ie(O,function(){Y.apply(this,arguments)},W)},count:function(O){var Y=0;return ie(O,function(){Y++}),Y},toArray:function(O){return ie(O,function(Y){return Y})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Te.Activity=S,Te.Children=Qe,Te.Component=se,Te.Fragment=i,Te.Profiler=o,Te.PureComponent=he,Te.StrictMode=a,Te.Suspense=_,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Te.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Te.cache=function(O){return function(){return O.apply(null,arguments)}},Te.cacheSignal=function(){return null},Te.cloneElement=function(O,Y,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=ne({},O.props),ye=O.key;if(Y!=null)for(Se in Y.key!==void 0&&(ye=""+Y.key),Y)!x.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(re[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)re.children=W;else if(1<Se){for(var be=Array(Se),At=0;At<Se;At++)be[At]=arguments[At+2];re.children=be}return C(O.type,ye,re)},Te.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Te.createElement=function(O,Y,W){var re,ye={},Se=null;if(Y!=null)for(re in Y.key!==void 0&&(Se=""+Y.key),Y)x.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=Y[re]);var be=arguments.length-2;if(be===1)ye.children=W;else if(1<be){for(var At=Array(be),$e=0;$e<be;$e++)At[$e]=arguments[$e+2];ye.children=At}if(O&&O.defaultProps)for(re in be=O.defaultProps,be)ye[re]===void 0&&(ye[re]=be[re]);return C(O,Se,ye)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(O){return{$$typeof:g,render:O}},Te.isValidElement=k,Te.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:fe}},Te.memo=function(O,Y){return{$$typeof:p,type:O,compare:Y===void 0?null:Y}},Te.startTransition=function(O){var Y=N.T,W={};N.T=W;try{var re=O(),ye=N.S;ye!==null&&ye(W,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Be,Oe)}catch(Se){Oe(Se)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),N.T=Y}},Te.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Te.use=function(O){return N.H.use(O)},Te.useActionState=function(O,Y,W){return N.H.useActionState(O,Y,W)},Te.useCallback=function(O,Y){return N.H.useCallback(O,Y)},Te.useContext=function(O){return N.H.useContext(O)},Te.useDebugValue=function(){},Te.useDeferredValue=function(O,Y){return N.H.useDeferredValue(O,Y)},Te.useEffect=function(O,Y){return N.H.useEffect(O,Y)},Te.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Te.useId=function(){return N.H.useId()},Te.useImperativeHandle=function(O,Y,W){return N.H.useImperativeHandle(O,Y,W)},Te.useInsertionEffect=function(O,Y){return N.H.useInsertionEffect(O,Y)},Te.useLayoutEffect=function(O,Y){return N.H.useLayoutEffect(O,Y)},Te.useMemo=function(O,Y){return N.H.useMemo(O,Y)},Te.useOptimistic=function(O,Y){return N.H.useOptimistic(O,Y)},Te.useReducer=function(O,Y,W){return N.H.useReducer(O,Y,W)},Te.useRef=function(O){return N.H.useRef(O)},Te.useState=function(O){return N.H.useState(O)},Te.useSyncExternalStore=function(O,Y,W){return N.H.useSyncExternalStore(O,Y,W)},Te.useTransition=function(){return N.H.useTransition()},Te.version="19.2.4",Te}var Gy;function Rm(){return Gy||(Gy=1,Vd.exports=OT()),Vd.exports}var xe=Rm(),jd={exports:{}},Ro={},Ld={exports:{}},Pd={};var Fy;function MT(){return Fy||(Fy=1,(function(s){function e(G,ie){var fe=G.length;G.push(ie);e:for(;0<fe;){var Oe=fe-1>>>1,Qe=G[Oe];if(0<o(Qe,ie))G[Oe]=ie,G[fe]=Qe,fe=Oe;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var ie=G[0],fe=G.pop();if(fe!==ie){G[0]=fe;e:for(var Oe=0,Qe=G.length,O=Qe>>>1;Oe<O;){var Y=2*(Oe+1)-1,W=G[Y],re=Y+1,ye=G[re];if(0>o(W,fe))re<Qe&&0>o(ye,W)?(G[Oe]=ye,G[re]=fe,Oe=re):(G[Oe]=W,G[Y]=fe,Oe=Y);else if(re<Qe&&0>o(ye,fe))G[Oe]=ye,G[re]=fe,Oe=re;else break e}}return ie}function o(G,ie){var fe=G.sortIndex-ie.sortIndex;return fe!==0?fe:G.id-ie.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],p=[],T=1,S=null,I=3,F=!1,Z=!1,ne=!1,z=!1,se=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,he=typeof setImmediate<"u"?setImmediate:null;function Ie(G){for(var ie=i(p);ie!==null;){if(ie.callback===null)a(p);else if(ie.startTime<=G)a(p),ie.sortIndex=ie.expirationTime,e(_,ie);else break;ie=i(p)}}function ze(G){if(ne=!1,Ie(G),!Z)if(i(_)!==null)Z=!0,Be||(Be=!0,V());else{var ie=i(p);ie!==null&&bt(ze,ie.startTime-G)}}var Be=!1,N=-1,x=5,C=-1;function M(){return z?!0:!(s.unstable_now()-C<x)}function k(){if(z=!1,Be){var G=s.unstable_now();C=G;var ie=!0;try{e:{Z=!1,ne&&(ne=!1,oe(N),N=-1),F=!0;var fe=I;try{t:{for(Ie(G),S=i(_);S!==null&&!(S.expirationTime>G&&M());){var Oe=S.callback;if(typeof Oe=="function"){S.callback=null,I=S.priorityLevel;var Qe=Oe(S.expirationTime<=G);if(G=s.unstable_now(),typeof Qe=="function"){S.callback=Qe,Ie(G),ie=!0;break t}S===i(_)&&a(_),Ie(G)}else a(_);S=i(_)}if(S!==null)ie=!0;else{var O=i(p);O!==null&&bt(ze,O.startTime-G),ie=!1}}break e}finally{S=null,I=fe,F=!1}ie=void 0}}finally{ie?V():Be=!1}}}var V;if(typeof he=="function")V=function(){he(k)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ot=w.port2;w.port1.onmessage=k,V=function(){ot.postMessage(null)}}else V=function(){se(k,0)};function bt(G,ie){N=se(function(){G(s.unstable_now())},ie)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var ie=3;break;default:ie=I}var fe=I;I=ie;try{return G()}finally{I=fe}},s.unstable_requestPaint=function(){z=!0},s.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=I;I=G;try{return ie()}finally{I=fe}},s.unstable_scheduleCallback=function(G,ie,fe){var Oe=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,G){case 1:var Qe=-1;break;case 2:Qe=250;break;case 5:Qe=1073741823;break;case 4:Qe=1e4;break;default:Qe=5e3}return Qe=fe+Qe,G={id:T++,callback:ie,priorityLevel:G,startTime:fe,expirationTime:Qe,sortIndex:-1},fe>Oe?(G.sortIndex=fe,e(p,G),i(_)===null&&G===i(p)&&(ne?(oe(N),N=-1):ne=!0,bt(ze,fe-Oe))):(G.sortIndex=Qe,e(_,G),Z||F||(Z=!0,Be||(Be=!0,V()))),G},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(G){var ie=I;return function(){var fe=I;I=ie;try{return G.apply(this,arguments)}finally{I=fe}}}})(Pd)),Pd}var Ky;function VT(){return Ky||(Ky=1,Ld.exports=MT()),Ld.exports}var Ud={exports:{}},cn={};var Qy;function jT(){if(Qy)return cn;Qy=1;var s=Rm();function e(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)p+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,p,T){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:p,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,cn.createPortal=function(_,p){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(_,p,null,T)},cn.flushSync=function(_){var p=d.T,T=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=T,a.d.f()}},cn.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},cn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},cn.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,F=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;T==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:F}):T==="script"&&a.d.X(_,{crossOrigin:S,integrity:I,fetchPriority:F,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},cn.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var T=g(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},cn.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var T=p.as,S=g(T,p.crossOrigin);a.d.L(_,T,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},cn.preloadModule=function(_,p){if(typeof _=="string")if(p){var T=g(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},cn.requestFormReset=function(_){a.d.r(_)},cn.unstable_batchedUpdates=function(_,p){return _(p)},cn.useFormState=function(_,p,T){return d.H.useFormState(_,p,T)},cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},cn.version="19.2.4",cn}var Yy;function LT(){if(Yy)return Ud.exports;Yy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=jT(),Ud.exports}var Xy;function PT(){if(Xy)return Ro;Xy=1;var s=VT(),e=Rm(),i=LT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function _(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),t;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var y=!1,E=h.child;E;){if(E===r){y=!0,r=h,l=f;break}if(E===l){y=!0,l=h,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=h;break}if(E===l){y=!0,l=f,r=h;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function T(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=T(t),n!==null)return n;t=t.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),he=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ot(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case se:return"Profiler";case z:return"StrictMode";case ze:return"Suspense";case Be:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Z:return"Portal";case he:return t.displayName||"Context";case oe:return(t._context.displayName||"Context")+".Consumer";case Ie:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ot(t.type)||"Memo";case x:n=t._payload,t=t._init;try{return ot(t(n))}catch{}}return null}var bt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Oe=[],Qe=-1;function O(t){return{current:t}}function Y(t){0>Qe||(t.current=Oe[Qe],Oe[Qe]=null,Qe--)}function W(t,n){Qe++,Oe[Qe]=t.current,t.current=n}var re=O(null),ye=O(null),Se=O(null),be=O(null);function At(t,n){switch(W(Se,n),W(ye,t),W(re,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?cy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=cy(n),t=hy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(re),W(re,t)}function $e(){Y(re),Y(ye),Y(Se)}function mi(t){t.memoizedState!==null&&W(be,t);var n=re.current,r=hy(n,t.type);n!==r&&(W(ye,t),W(re,r))}function un(t){ye.current===t&&(Y(re),Y(ye)),be.current===t&&(Y(be),To._currentValue=fe)}var yn,$t;function qt(t){if(yn===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);yn=n&&n[1]||"",$t=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yn+t+$t}var vr=!1;function Zn(t,n){if(!t||vr)return"";vr=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){B=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),U=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===U.length)for(l=R.length-1,h=U.length-1;1<=l&&0<=h&&R[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==U[h]){var K=`
`+R[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{vr=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?qt(r):""}function Yi(t,n){switch(t.tag){case 26:case 27:case 5:return qt(t.type);case 16:return qt("Lazy");case 13:return t.child!==n&&n!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return Zn(t.type,!1);case 11:return Zn(t.type.render,!1);case 1:return Zn(t.type,!0);case 31:return qt("Activity");default:return""}}function br(t){try{var n="",r=null;do n+=Yi(t,r),r=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var mt=Object.prototype.hasOwnProperty,St=s.unstable_scheduleCallback,gi=s.unstable_cancelCallback,da=s.unstable_shouldYield,Er=s.unstable_requestPaint,Jt=s.unstable_now,Xi=s.unstable_getCurrentPriorityLevel,te=s.unstable_ImmediatePriority,me=s.unstable_UserBlockingPriority,Ne=s.unstable_NormalPriority,ut=s.unstable_LowPriority,xt=s.unstable_IdlePriority,It=s.log,tt=s.unstable_setDisableYieldValue,at=null,Me=null;function gt(t){if(typeof It=="function"&&tt(t),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(at,t)}catch{}}var _t=Math.clz32?Math.clz32:ma,Zt=Math.log,pi=Math.LN2;function ma(t){return t>>>=0,t===0?32:31-(Zt(t)/pi|0)|0}var yi=256,Tr=262144,kt=4194304;function _i(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=_i(l):(y&=E,y!==0?h=_i(y):r||(r=E&~t,r!==0&&(h=_i(r))))):(E=l&~f,E!==0?h=_i(E):y!==0?h=_i(y):r||(r=l&~t,r!==0&&(h=_i(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Wn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Lh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function bi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ar(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,n,r,l,h,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,U=t.hiddenUpdates;for(r=y&~r;0<r;){var K=31-_t(r),X=1<<K;E[K]=0,R[K]=-1;var B=U[K];if(B!==null)for(U[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}r&=~X}l!==0&&Sr(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Sr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-_t(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function wl(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-_t(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Rl(t,n){var r=n&-n;return r=(r&42)!==0?1:xr(r),(r&(t.suspendedLanes|n))!==0?0:r}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:My(t.type))}function ei(t,n){var r=ie.p;try{return ie.p=t,n()}finally{ie.p=r}}var ti=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ti,Kt="__reactProps$"+ti,Ei="__reactContainer$"+ti,ga="__reactEvents$"+ti,Uh="__reactListeners$"+ti,ou="__reactHandles$"+ti,uu="__reactResources$"+ti,Ti="__reactMarker$"+ti;function pa(t){delete t[Dt],delete t[Kt],delete t[ga],delete t[Uh],delete t[ou]}function Ai(t){var n=t[Dt];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Ei]||r[Dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=_y(t);t!==null;){if(r=t[Dt])return r;t=_y(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[Dt]||t[Ei]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Rn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Si(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[Ti]=!0}var Cl=new Set,Nl={};function xi(t,n){wi(t,n),wi(t+"Capture",n)}function wi(t,n){for(Nl[t]=n,t=0;t<n.length;t++)Cl.add(n[t])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Dl={};function cu(t){return mt.call(Dl,t)?!0:mt.call(kl,t)?!1:Il.test(t)?Dl[t]=!0:(kl[t]=!0,!1)}function ya(t,n,r){if(cu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Cn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Mt(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function As(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ol(t,n,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ze(t){if(!t._valueTracker){var n=As(t)?"checked":"value";t._valueTracker=Ol(t,n,""+t[n])}}function wr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=As(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Rr=/[\n"\\]/g;function _n(t){return t.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _a(t,n,r,l,h,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ml(t,y,Qt(n)):r!=null?Ml(t,y,Qt(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Qt(E):t.removeAttribute("name")}function hu(t,n,r,l,h,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ze(t);return}r=r!=null?""+Qt(r):"",n=n!=null?""+Qt(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y),Ze(t)}function Ml(t,n,r){n==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ss(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Qt(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,r){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Qt(r):""}function xs(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(bt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Qt(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),Ze(t)}function vn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||du.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function jl(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Vl(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Vl(t,f,n[f])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ws=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return ws.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var Ll=null;function Pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rs=null,Ci=null;function Cr(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[Kt]||null;e:switch(t=n.stateNode,n.type){case"input":if(_a(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+_n(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[Kt]||null;if(!h)throw Error(a(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&wr(l)}break e;case"textarea":fu(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ss(t,!!r.multiple,n,!1)}}}var Ea=!1;function Cs(t,n,r){if(Ea)return t(n,r);Ea=!0;try{var l=t(n);return l}finally{if(Ea=!1,(Rs!==null||Ci!==null)&&(lc(),Rs&&(n=Rs,t=Ci,Ci=Rs=null,Cr(n),t)))for(n=0;n<t.length;n++)Cr(t[n])}}function ii(t,n){var r=t.stateNode;if(r===null)return null;var l=r[Kt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Un)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Nr=!1}var Ni=null,Pl=null,Ir=null;function Ul(){if(Ir)return Ir;var t,n=Pl,r=n.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===h[f-l];l++);return Ir=h.slice(t,1<l?1-l:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ji(){return!0}function si(){return!1}function Wt(t){function n(r,l,h,f,y){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:si,this.isPropagationStopped=si,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Wt(Zi),Ns=S({},Zi,{view:0,detail:0}),zl=Wt(Ns),Is,Ta,ki,Aa=S({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Is=t.screenX-ki.screenX,Ta=t.screenY-ki.screenY):Ta=Is=0,ki=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),Bl=Wt(Aa),Dr=S({},Aa,{dataTransfer:0}),gu=Wt(Dr),pu=S({},Ns,{relatedTarget:0}),Or=Wt(pu),ql=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=Wt(ql),Sa=S({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=Wt(Sa),vu=S({},Zi,{data:0}),Di=Wt(vu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Tu[t])?!!n[t]:!1}function ks(){return Au}var gn=S({},Ns,{key:function(t){if(t.key){var n=bu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Eu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=Wt(gn),xu=S({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Wt(xu),u=S({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),m=Wt(u),v=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Wt(v),L=S({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Wt(L),ee=S({},Zi,{newState:0,oldState:0}),we=Wt(ee),wt=[9,13,27,32],Ye=Un&&"CompositionEvent"in window,pt=null;Un&&"documentMode"in document&&(pt=document.documentMode);var zn=Un&&"TextEvent"in window&&!pt,Oi=Un&&(!Ye||pt&&8<pt&&11>=pt),ri=" ",ai=!1;function Mr(t,n){switch(t){case"keyup":return wt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wa=!1;function tE(t,n){switch(t){case"compositionend":return xa(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return t=n.data,t===ri&&ai?null:t;default:return null}}function nE(t,n){if(wa)return t==="compositionend"||!Ye&&Mr(t,n)?(t=Ul(),Ir=Pl=Ni=null,wa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var iE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!iE[t.type]:n==="textarea"}function Tg(t,n,r,l){Rs?Ci?Ci.push(l):Ci=[l]:Rs=l,n=mc(n,"onChange"),0<n.length&&(r=new Ii("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Hl=null,Gl=null;function sE(t){sy(t,0)}function wu(t){var n=Rn(t);if(wr(n))return t}function Ag(t,n){if(t==="change")return n}var Sg=!1;if(Un){var zh;if(Un){var Bh="oninput"in document;if(!Bh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),Bh=typeof xg.oninput=="function"}zh=Bh}else zh=!1;Sg=zh&&(!document.documentMode||9<document.documentMode)}function wg(){Hl&&(Hl.detachEvent("onpropertychange",Rg),Gl=Hl=null)}function Rg(t){if(t.propertyName==="value"&&wu(Gl)){var n=[];Tg(n,Gl,t,Pn(t)),Cs(sE,n)}}function rE(t,n,r){t==="focusin"?(wg(),Hl=n,Gl=r,Hl.attachEvent("onpropertychange",Rg)):t==="focusout"&&wg()}function aE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wu(Gl)}function lE(t,n){if(t==="click")return wu(n)}function oE(t,n){if(t==="input"||t==="change")return wu(n)}function uE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Nn=typeof Object.is=="function"?Object.is:uE;function Fl(t,n){if(Nn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!mt.call(n,h)||!Nn(t[h],n[h]))return!1}return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,n){var r=Cg(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cg(r)}}function Ig(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ig(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ri(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ri(t.document)}return n}function qh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var cE=Un&&"documentMode"in document&&11>=document.documentMode,Ra=null,Hh=null,Kl=null,Gh=!1;function Dg(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gh||Ra==null||Ra!==Ri(l)||(l=Ra,"selectionStart"in l&&qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Kl&&Fl(Kl,l)||(Kl=l,l=mc(Hh,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ra)))}function Vr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ca={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},Fh={},Og={};Un&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function jr(t){if(Fh[t])return Fh[t];if(!Ca[t])return t;var n=Ca[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Og)return Fh[t]=n[r];return t}var Mg=jr("animationend"),Vg=jr("animationiteration"),jg=jr("animationstart"),hE=jr("transitionrun"),fE=jr("transitionstart"),dE=jr("transitioncancel"),Lg=jr("transitionend"),Pg=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function li(t,n){Pg.set(t,n),xi(n,[t])}var Ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],Na=0,Qh=0;function Cu(){for(var t=Na,n=Qh=Na=0;n<t;){var r=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}f!==0&&Ug(r,h,f)}}function Nu(t,n,r,l){Bn[Na++]=t,Bn[Na++]=n,Bn[Na++]=r,Bn[Na++]=l,Qh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Yh(t,n,r,l){return Nu(t,n,r,l),Iu(t)}function Lr(t,n){return Nu(t,null,null,n),Iu(t)}function Ug(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-_t(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Iu(t){if(50<go)throw go=0,sd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function mE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,n,r,l){return new mE(t,n,r,l)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function es(t,n){var r=t.alternate;return r===null?(r=In(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zg(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ku(t,n,r,l,h,f){var y=0;if(l=t,typeof t=="function")Xh(t)&&(y=1);else if(typeof t=="string")y=vT(t,r,re.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=In(31,r,n,h),t.elementType=C,t.lanes=f,t;case ne:return Pr(r.children,h,f,n);case z:y=8,h|=24;break;case se:return t=In(12,r,n,h|2),t.elementType=se,t.lanes=f,t;case ze:return t=In(13,r,n,h),t.elementType=ze,t.lanes=f,t;case Be:return t=In(19,r,n,h),t.elementType=Be,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case he:y=10;break e;case oe:y=9;break e;case Ie:y=11;break e;case N:y=14;break e;case x:y=16,l=null;break e}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=In(y,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function Pr(t,n,r,l){return t=In(7,t,l,n),t.lanes=r,t}function $h(t,n,r){return t=In(6,t,null,n),t.lanes=r,t}function Bg(t){var n=In(18,null,null,0);return n.stateNode=t,n}function Jh(t,n,r){return n=In(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var qg=new WeakMap;function qn(t,n){if(typeof t=="object"&&t!==null){var r=qg.get(t);return r!==void 0?r:(n={value:t,source:n,stack:br(n)},qg.set(t,n),n)}return{value:t,source:n,stack:br(n)}}var ka=[],Da=0,Du=null,Ql=0,Hn=[],Gn=0,Ds=null,Mi=1,Vi="";function ts(t,n){ka[Da++]=Ql,ka[Da++]=Du,Du=t,Ql=n}function Hg(t,n,r){Hn[Gn++]=Mi,Hn[Gn++]=Vi,Hn[Gn++]=Ds,Ds=t;var l=Mi;t=Vi;var h=32-_t(l)-1;l&=~(1<<h),r+=1;var f=32-_t(n)+h;if(30<f){var y=h-h%5;f=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Mi=1<<32-_t(n)+h|r<<h|l,Vi=f+t}else Mi=1<<f|r<<h|l,Vi=t}function Zh(t){t.return!==null&&(ts(t,1),Hg(t,1,0))}function Wh(t){for(;t===Du;)Du=ka[--Da],ka[Da]=null,Ql=ka[--Da],ka[Da]=null;for(;t===Ds;)Ds=Hn[--Gn],Hn[Gn]=null,Vi=Hn[--Gn],Hn[Gn]=null,Mi=Hn[--Gn],Hn[Gn]=null}function Gg(t,n){Hn[Gn++]=Mi,Hn[Gn++]=Vi,Hn[Gn++]=Ds,Mi=n.id,Vi=n.overflow,Ds=t}var en=null,ct=null,qe=!1,Os=null,Fn=!1,ef=Error(a(519));function Ms(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yl(qn(n,t)),ef}function Fg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Dt]=t,n[Kt]=l,r){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(r=0;r<yo.length;r++)De(yo[r],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),hu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),xs(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||oy(n.textContent,r)?(l.popover!=null&&(De("beforetoggle",n),De("toggle",n)),l.onScroll!=null&&De("scroll",n),l.onScrollEnd!=null&&De("scrollend",n),l.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Ms(t,!0)}function Kg(t){for(en=t.return;en;)switch(en.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:en=en.return}}function Oa(t){if(t!==en)return!1;if(!qe)return Kg(t),qe=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||vd(t.type,t.memoizedProps)),r=!r),r&&ct&&Ms(t),Kg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=yy(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));ct=yy(t)}else n===27?(n=ct,Ys(t.type)?(t=Sd,Sd=null,ct=t):ct=n):ct=en?Qn(t.stateNode.nextSibling):null;return!0}function Ur(){ct=en=null,qe=!1}function tf(){var t=Os;return t!==null&&(An===null?An=t:An.push.apply(An,t),Os=null),t}function Yl(t){Os===null?Os=[t]:Os.push(t)}var nf=O(null),zr=null,ns=null;function Vs(t,n,r){W(nf,n._currentValue),n._currentValue=r}function is(t){t._currentValue=nf.current,Y(nf)}function sf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function rf(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var y=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sf(f.return,r,t),l||(y=null);break e}f=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),sf(y,r,t),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===t){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Ma(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=h.type;Nn(h.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(h===be.current){if(y=h.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(To):t=[To])}h=h.return}t!==null&&rf(n,t,r,l),n.flags|=262144}function Ou(t){for(t=t.firstContext;t!==null;){if(!Nn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Br(t){zr=t,ns=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return Qg(zr,t)}function Mu(t,n){return zr===null&&Br(t),Qg(t,n)}function Qg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},ns===null){if(t===null)throw Error(a(308));ns=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ns=ns.next=n;return r}var gE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},pE=s.unstable_scheduleCallback,yE=s.unstable_NormalPriority,Vt={$$typeof:he,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function af(){return{controller:new gE,data:new Map,refCount:0}}function Xl(t){t.refCount--,t.refCount===0&&pE(yE,function(){t.controller.abort()})}var $l=null,lf=0,Va=0,ja=null;function _E(t,n){if($l===null){var r=$l=[];lf=0,Va=cd(),ja={status:"pending",value:void 0,then:function(l){r.push(l)}}}return lf++,n.then(Yg,Yg),n}function Yg(){if(--lf===0&&$l!==null){ja!==null&&(ja.status="fulfilled");var t=$l;$l=null,Va=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Xg=G.S;G.S=function(t,n){D0=Jt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&_E(t,n),Xg!==null&&Xg(t,n)};var qr=O(null);function of(){var t=qr.current;return t!==null?t:lt.pooledCache}function Vu(t,n){n===null?W(qr,qr.current):W(qr,n.pool)}function $g(){var t=of();return t===null?null:{parent:Vt._currentValue,pool:t}}var La=Error(a(460)),uf=Error(a(474)),ju=Error(a(542)),Lu={then:function(){}};function Jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(ni,ni),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t;default:if(typeof n.status=="string")n.then(ni,ni);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ep(t),t}throw Gr=n,La}}function Hr(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Gr=r,La):r}}var Gr=null;function Wg(){if(Gr===null)throw Error(a(459));var t=Gr;return Gr=null,t}function ep(t){if(t===La||t===ju)throw Error(a(483))}var Pa=null,Jl=0;function Pu(t){var n=Jl;return Jl+=1,Pa===null&&(Pa=[]),Zg(Pa,t,n)}function Zl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Uu(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function tp(t){function n(j,D){if(t){var P=j.deletions;P===null?(j.deletions=[D],j.flags|=16):P.push(D)}}function r(j,D){if(!t)return null;for(;D!==null;)n(j,D),D=D.sibling;return null}function l(j){for(var D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function h(j,D){return j=es(j,D),j.index=0,j.sibling=null,j}function f(j,D,P){return j.index=P,t?(P=j.alternate,P!==null?(P=P.index,P<D?(j.flags|=67108866,D):P):(j.flags|=67108866,D)):(j.flags|=1048576,D)}function y(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,D,P,Q){return D===null||D.tag!==6?(D=$h(P,j.mode,Q),D.return=j,D):(D=h(D,P),D.return=j,D)}function R(j,D,P,Q){var de=P.type;return de===ne?K(j,D,P.props.children,Q,P.key):D!==null&&(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&Hr(de)===D.type)?(D=h(D,P.props),Zl(D,P),D.return=j,D):(D=ku(P.type,P.key,P.props,null,j.mode,Q),Zl(D,P),D.return=j,D)}function U(j,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Jh(P,j.mode,Q),D.return=j,D):(D=h(D,P.children||[]),D.return=j,D)}function K(j,D,P,Q,de){return D===null||D.tag!==7?(D=Pr(P,j.mode,Q,de),D.return=j,D):(D=h(D,P),D.return=j,D)}function X(j,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=$h(""+D,j.mode,P),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=ku(D.type,D.key,D.props,null,j.mode,P),Zl(P,D),P.return=j,P;case Z:return D=Jh(D,j.mode,P),D.return=j,D;case x:return D=Hr(D),X(j,D,P)}if(bt(D)||V(D))return D=Pr(D,j.mode,P,null),D.return=j,D;if(typeof D.then=="function")return X(j,Pu(D),P);if(D.$$typeof===he)return X(j,Mu(j,D),P);Uu(j,D)}return null}function B(j,D,P,Q){var de=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:E(j,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===de?R(j,D,P,Q):null;case Z:return P.key===de?U(j,D,P,Q):null;case x:return P=Hr(P),B(j,D,P,Q)}if(bt(P)||V(P))return de!==null?null:K(j,D,P,Q,null);if(typeof P.then=="function")return B(j,D,Pu(P),Q);if(P.$$typeof===he)return B(j,D,Mu(j,P),Q);Uu(j,P)}return null}function H(j,D,P,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(P)||null,E(D,j,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return j=j.get(Q.key===null?P:Q.key)||null,R(D,j,Q,de);case Z:return j=j.get(Q.key===null?P:Q.key)||null,U(D,j,Q,de);case x:return Q=Hr(Q),H(j,D,P,Q,de)}if(bt(Q)||V(Q))return j=j.get(P)||null,K(D,j,Q,de,null);if(typeof Q.then=="function")return H(j,D,P,Pu(Q),de);if(Q.$$typeof===he)return H(j,D,P,Mu(D,Q),de);Uu(D,Q)}return null}function le(j,D,P,Q){for(var de=null,Fe=null,ue=D,Ce=D=0,je=null;ue!==null&&Ce<P.length;Ce++){ue.index>Ce?(je=ue,ue=null):je=ue.sibling;var Ke=B(j,ue,P[Ce],Q);if(Ke===null){ue===null&&(ue=je);break}t&&ue&&Ke.alternate===null&&n(j,ue),D=f(Ke,D,Ce),Fe===null?de=Ke:Fe.sibling=Ke,Fe=Ke,ue=je}if(Ce===P.length)return r(j,ue),qe&&ts(j,Ce),de;if(ue===null){for(;Ce<P.length;Ce++)ue=X(j,P[Ce],Q),ue!==null&&(D=f(ue,D,Ce),Fe===null?de=ue:Fe.sibling=ue,Fe=ue);return qe&&ts(j,Ce),de}for(ue=l(ue);Ce<P.length;Ce++)je=H(ue,j,Ce,P[Ce],Q),je!==null&&(t&&je.alternate!==null&&ue.delete(je.key===null?Ce:je.key),D=f(je,D,Ce),Fe===null?de=je:Fe.sibling=je,Fe=je);return t&&ue.forEach(function(Ws){return n(j,Ws)}),qe&&ts(j,Ce),de}function pe(j,D,P,Q){if(P==null)throw Error(a(151));for(var de=null,Fe=null,ue=D,Ce=D=0,je=null,Ke=P.next();ue!==null&&!Ke.done;Ce++,Ke=P.next()){ue.index>Ce?(je=ue,ue=null):je=ue.sibling;var Ws=B(j,ue,Ke.value,Q);if(Ws===null){ue===null&&(ue=je);break}t&&ue&&Ws.alternate===null&&n(j,ue),D=f(Ws,D,Ce),Fe===null?de=Ws:Fe.sibling=Ws,Fe=Ws,ue=je}if(Ke.done)return r(j,ue),qe&&ts(j,Ce),de;if(ue===null){for(;!Ke.done;Ce++,Ke=P.next())Ke=X(j,Ke.value,Q),Ke!==null&&(D=f(Ke,D,Ce),Fe===null?de=Ke:Fe.sibling=Ke,Fe=Ke);return qe&&ts(j,Ce),de}for(ue=l(ue);!Ke.done;Ce++,Ke=P.next())Ke=H(ue,j,Ce,Ke.value,Q),Ke!==null&&(t&&Ke.alternate!==null&&ue.delete(Ke.key===null?Ce:Ke.key),D=f(Ke,D,Ce),Fe===null?de=Ke:Fe.sibling=Ke,Fe=Ke);return t&&ue.forEach(function(IT){return n(j,IT)}),qe&&ts(j,Ce),de}function rt(j,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===ne&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:e:{for(var de=P.key;D!==null;){if(D.key===de){if(de=P.type,de===ne){if(D.tag===7){r(j,D.sibling),Q=h(D,P.props.children),Q.return=j,j=Q;break e}}else if(D.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===x&&Hr(de)===D.type){r(j,D.sibling),Q=h(D,P.props),Zl(Q,P),Q.return=j,j=Q;break e}r(j,D);break}else n(j,D);D=D.sibling}P.type===ne?(Q=Pr(P.props.children,j.mode,Q,P.key),Q.return=j,j=Q):(Q=ku(P.type,P.key,P.props,null,j.mode,Q),Zl(Q,P),Q.return=j,j=Q)}return y(j);case Z:e:{for(de=P.key;D!==null;){if(D.key===de)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(j,D.sibling),Q=h(D,P.children||[]),Q.return=j,j=Q;break e}else{r(j,D);break}else n(j,D);D=D.sibling}Q=Jh(P,j.mode,Q),Q.return=j,j=Q}return y(j);case x:return P=Hr(P),rt(j,D,P,Q)}if(bt(P))return le(j,D,P,Q);if(V(P)){if(de=V(P),typeof de!="function")throw Error(a(150));return P=de.call(P),pe(j,D,P,Q)}if(typeof P.then=="function")return rt(j,D,Pu(P),Q);if(P.$$typeof===he)return rt(j,D,Mu(j,P),Q);Uu(j,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(j,D.sibling),Q=h(D,P),Q.return=j,j=Q):(r(j,D),Q=$h(P,j.mode,Q),Q.return=j,j=Q),y(j)):r(j,D)}return function(j,D,P,Q){try{Jl=0;var de=rt(j,D,P,Q);return Pa=null,de}catch(ue){if(ue===La||ue===ju)throw ue;var Fe=In(29,ue,null,j.mode);return Fe.lanes=Q,Fe.return=j,Fe}}}var Fr=tp(!0),np=tp(!1),js=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ls(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(t),Ug(t,null,r),n}return Nu(t,l,n,r),Iu(t)}function Wl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,wl(t,r)}}function ff(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var df=!1;function eo(){if(df){var t=ja;if(t!==null)throw t}}function to(t,n,r,l){df=!1;var h=t.updateQueue;js=!1;var f=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,U=R.next;R.next=null,y===null?f=U:y.next=U,y=R;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==y&&(E===null?K.firstBaseUpdate=U:E.next=U,K.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;y=0,K=U=R=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Ve&B)===B:(l&B)===B){B!==0&&B===Va&&(df=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var le=t,pe=E;B=n;var rt=r;switch(pe.tag){case 1:if(le=pe.payload,typeof le=="function"){X=le.call(rt,X,B);break e}X=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=pe.payload,B=typeof le=="function"?le.call(rt,X,B):le,B==null)break e;X=S({},X,B);break e;case 2:js=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(U=K=H,R=X):K=K.next=H,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=X),h.baseState=R,h.firstBaseUpdate=U,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Hs|=y,t.lanes=y,t.memoizedState=X}}function ip(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function sp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ip(r[t],n)}var Ua=O(null),zu=O(0);function rp(t,n){t=fs,W(zu,t),W(Ua,n),fs=t|n.baseLanes}function mf(){W(zu,fs),W(Ua,Ua.current)}function gf(){fs=zu.current,Y(Ua),Y(zu)}var kn=O(null),Kn=null;function Us(t){var n=t.alternate;W(Rt,Rt.current&1),W(kn,t),Kn===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(Kn=t)}function pf(t){W(Rt,Rt.current),W(kn,t),Kn===null&&(Kn=t)}function ap(t){t.tag===22?(W(Rt,Rt.current),W(kn,t),Kn===null&&(Kn=t)):zs()}function zs(){W(Rt,Rt.current),W(kn,kn.current)}function Dn(t){Y(kn),Kn===t&&(Kn=null),Y(Rt)}var Rt=O(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Td(r)||Ad(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Re=null,it=null,jt=null,qu=!1,za=!1,Kr=!1,Hu=0,no=0,Ba=null,bE=0;function Et(){throw Error(a(321))}function yf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!Nn(t[r],n[r]))return!1;return!0}function _f(t,n,r,l,h,f){return ss=f,Re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Hp:Of,Kr=!1,f=r(l,h),Kr=!1,za&&(f=op(n,r,l,h)),lp(t),f}function lp(t){G.H=ro;var n=it!==null&&it.next!==null;if(ss=0,jt=it=Re=null,qu=!1,no=0,Ba=null,n)throw Error(a(300));t===null||Lt||(t=t.dependencies,t!==null&&Ou(t)&&(Lt=!0))}function op(t,n,r,l){Re=t;var h=0;do{if(za&&(Ba=null),no=0,za=!1,25<=h)throw Error(a(301));if(h+=1,jt=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Gp,f=n(r,l)}while(za);return f}function EE(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?io(n):n,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Re.flags|=1024),n}function vf(){var t=Hu!==0;return Hu=0,t}function bf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Ef(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}ss=0,jt=it=Re=null,za=!1,no=Hu=0,Ba=null}function pn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Re.memoizedState=jt=t:jt=jt.next=t,jt}function Ct(){if(it===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var n=jt===null?Re.memoizedState:jt.next;if(n!==null)jt=n,it=t;else{if(t===null)throw Re.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},jt===null?Re.memoizedState=jt=t:jt=jt.next=t}return jt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function io(t){var n=no;return no+=1,Ba===null&&(Ba=[]),t=Zg(Ba,t,n),n=Re,(jt===null?n.memoizedState:jt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Hp:Of),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return io(t);if(t.$$typeof===he)return tn(t)}throw Error(a(438,String(t)))}function Tf(t){var n=null,r=Re.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Gu(),Re.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=M;return n.index++,r}function rs(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Ct();return Af(n,it,t)}function Af(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var y=h.next;h.next=f.next,f.next=y}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=y=null,R=null,U=n,K=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Ve&X)===X:(ss&X)===X){var B=U.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Va&&(K=!0);else if((ss&B)===B){U=U.next,B===Va&&(K=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=X,y=f):R=R.next=X,Re.lanes|=B,Hs|=B;X=U.action,Kr&&r(f,X),f=U.hasEagerState?U.eagerState:r(f,X)}else B={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(E=R=B,y=f):R=R.next=B,Re.lanes|=X,Hs|=X;U=U.next}while(U!==null&&U!==n);if(R===null?y=f:R.next=E,!Nn(f,t.memoizedState)&&(Lt=!0,K&&(r=ja,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var n=Ct(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var y=h=h.next;do f=t(f,y.action),y=y.next;while(y!==h);Nn(f,n.memoizedState)||(Lt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function up(t,n,r){var l=Re,h=Ct(),f=qe;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!Nn((it||h).memoizedState,r);if(y&&(h.memoizedState=r,Lt=!0),h=h.queue,Rf(fp.bind(null,l,h,t),[t]),h.getSnapshot!==n||y||jt!==null&&jt.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},hp.bind(null,l,h,r,n),null),lt===null)throw Error(a(349));f||(ss&127)!==0||cp(l,n,r)}return r}function cp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Re.updateQueue,n===null?(n=Gu(),Re.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function hp(t,n,r,l){n.value=r,n.getSnapshot=l,dp(n)&&mp(t)}function fp(t,n,r){return r(function(){dp(n)&&mp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!Nn(t,r)}catch{return!0}}function mp(t){var n=Lr(t,2);n!==null&&Sn(n,t,2)}function xf(t){var n=pn();if(typeof t=="function"){var r=t;if(t=r(),Kr){gt(!0);try{r()}finally{gt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function gp(t,n,r,l){return t.baseState=r,Af(t,it,typeof l=="function"?l:rs)}function TE(t,n,r,l,h){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,pp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function pp(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=G.T,y={};G.T=y;try{var E=r(h,l),R=G.S;R!==null&&R(y,E),yp(t,n,E)}catch(U){wf(t,n,U)}finally{f!==null&&y.types!==null&&(f.types=y.types),G.T=f}}else try{f=r(h,l),yp(t,n,f)}catch(U){wf(t,n,U)}}function yp(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_p(t,n,l)},function(l){return wf(t,n,l)}):_p(t,n,r)}function _p(t,n,r){n.status="fulfilled",n.value=r,vp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pp(t,r)))}function wf(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vp(n),n=n.next;while(n!==l)}t.action=null}function vp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function bp(t,n){return n}function Ep(t,n){if(qe){var r=lt.formState;if(r!==null){e:{var l=Re;if(qe){if(ct){t:{for(var h=ct,f=Fn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Qn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ct=Qn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(n=r[0])}}return r=pn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:n},r.queue=l,r=zp.bind(null,Re,l),l.dispatch=r,l=xf(!1),f=Df.bind(null,Re,!1,l.queue),l=pn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=TE.bind(null,Re,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Tp(t){var n=Ct();return Ap(n,it,t)}function Ap(t,n,r){if(n=Af(t,n,bp)[0],t=Ku(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=io(n)}catch(y){throw y===La?ju:y}else l=n;n=Ct();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Re.flags|=2048,qa(9,{destroy:void 0},AE.bind(null,h,r),null)),[l,f,t]}function AE(t,n){t.action=n}function Sp(t){var n=Ct(),r=it;if(r!==null)return Ap(n,r,t);Ct(),n=n.memoizedState,r=Ct();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Re.updateQueue,n===null&&(n=Gu(),Re.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function xp(){return Ct().memoizedState}function Qu(t,n,r,l){var h=pn();Re.flags|=t,h.memoizedState=qa(1|n,{destroy:void 0},r,l===void 0?null:l)}function Yu(t,n,r,l){var h=Ct();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&yf(l,it.memoizedState.deps)?h.memoizedState=qa(n,f,r,l):(Re.flags|=t,h.memoizedState=qa(1|n,f,r,l))}function wp(t,n){Qu(8390656,8,t,n)}function Rf(t,n){Yu(2048,8,t,n)}function SE(t){Re.flags|=4;var n=Re.updateQueue;if(n===null)n=Gu(),Re.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Rp(t){var n=Ct().memoizedState;return SE({ref:n,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cp(t,n){return Yu(4,2,t,n)}function Np(t,n){return Yu(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function kp(t,n,r){r=r!=null?r.concat([t]):null,Yu(4,4,Ip.bind(null,n,t),r)}function Cf(){}function Dp(t,n){var r=Ct();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Op(t,n){var r=Ct();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=t(),Kr){gt(!0);try{t()}finally{gt(!1)}}return r.memoizedState=[l,n],l}function Nf(t,n,r){return r===void 0||(ss&1073741824)!==0&&(Ve&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=M0(),Re.lanes|=t,Hs|=t,r)}function Mp(t,n,r,l){return Nn(r,n)?r:Ua.current!==null?(t=Nf(t,r,l),Nn(t,n)||(Lt=!0),t):(ss&42)===0||(ss&1073741824)!==0&&(Ve&261930)===0?(Lt=!0,t.memoizedState=r):(t=M0(),Re.lanes|=t,Hs|=t,n)}function Vp(t,n,r,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var y=G.T,E={};G.T=E,Df(t,!1,n,r);try{var R=h(),U=G.S;if(U!==null&&U(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=vE(R,l);so(t,n,K,Vn(t))}else so(t,n,l,Vn(t))}catch(X){so(t,n,{then:function(){},status:"rejected",reason:X},Vn())}finally{ie.p=f,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function xE(){}function If(t,n,r,l){if(t.tag!==5)throw Error(a(476));var h=jp(t).queue;Vp(t,h,n,fe,r===null?xE:function(){return Lp(t),r(l)})}function jp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:fe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lp(t){var n=jp(t);n.next===null&&(n=t.alternate.memoizedState),so(t,n.next.queue,{},Vn())}function kf(){return tn(To)}function Pp(){return Ct().memoizedState}function Up(){return Ct().memoizedState}function wE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Vn();t=Ls(r);var l=Ps(n,t,r);l!==null&&(Sn(l,n,r),Wl(l,n,r)),n={cache:af()},t.payload=n;return}n=n.return}}function RE(t,n,r){var l=Vn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Bp(n,r):(r=Yh(t,n,r,l),r!==null&&(Sn(r,t,l),qp(r,n,l)))}function zp(t,n,r){var l=Vn();so(t,n,r,l)}function so(t,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Bp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(h.hasEagerState=!0,h.eagerState=E,Nn(E,y))return Nu(t,n,h,0),lt===null&&Cu(),!1}catch{}if(r=Yh(t,n,h,l),r!==null)return Sn(r,t,l),qp(r,n,l),!0}return!1}function Df(t,n,r,l){if(l={lane:2,revertLane:cd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=Yh(t,r,l,2),n!==null&&Sn(n,t,2)}function Xu(t){var n=t.alternate;return t===Re||n!==null&&n===Re}function Bp(t,n){za=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function qp(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,wl(t,r)}}var ro={readContext:tn,use:Fu,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};ro.useEffectEvent=Et;var Hp={readContext:tn,use:Fu,useCallback:function(t,n){return pn().memoizedState=[t,n===void 0?null:n],t},useContext:tn,useEffect:wp,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Qu(4194308,4,Ip.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Qu(4194308,4,t,n)},useInsertionEffect:function(t,n){Qu(4,2,t,n)},useMemo:function(t,n){var r=pn();n=n===void 0?null:n;var l=t();if(Kr){gt(!0);try{t()}finally{gt(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=pn();if(r!==void 0){var h=r(n);if(Kr){gt(!0);try{r(n)}finally{gt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=RE.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var n=pn();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,r=zp.bind(null,Re,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Cf,useDeferredValue:function(t,n){var r=pn();return Nf(r,t,n)},useTransition:function(){var t=xf(!1);return t=Vp.bind(null,Re,t.queue,!0,!1),pn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Re,h=pn();if(qe){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),lt===null)throw Error(a(349));(Ve&127)!==0||cp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,wp(fp.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},hp.bind(null,l,f,r,n),null),r},useId:function(){var t=pn(),n=lt.identifierPrefix;if(qe){var r=Vi,l=Mi;r=(l&~(1<<32-_t(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Hu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=bE++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:Ep,useActionState:Ep,useOptimistic:function(t){var n=pn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Df.bind(null,Re,!0,r),r.dispatch=n,[t,n]},useMemoCache:Tf,useCacheRefresh:function(){return pn().memoizedState=wE.bind(null,Re)},useEffectEvent:function(t){var n=pn(),r={impl:t};return n.memoizedState=r,function(){if((Xe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Of={readContext:tn,use:Fu,useCallback:Dp,useContext:tn,useEffect:Rf,useImperativeHandle:kp,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Op,useReducer:Ku,useRef:xp,useState:function(){return Ku(rs)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Ct();return Mp(r,it.memoizedState,t,n)},useTransition:function(){var t=Ku(rs)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:up,useId:Pp,useHostTransitionStatus:kf,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var r=Ct();return gp(r,it,t,n)},useMemoCache:Tf,useCacheRefresh:Up};Of.useEffectEvent=Rp;var Gp={readContext:tn,use:Fu,useCallback:Dp,useContext:tn,useEffect:Rf,useImperativeHandle:kp,useInsertionEffect:Cp,useLayoutEffect:Np,useMemo:Op,useReducer:Sf,useRef:xp,useState:function(){return Sf(rs)},useDebugValue:Cf,useDeferredValue:function(t,n){var r=Ct();return it===null?Nf(r,t,n):Mp(r,it.memoizedState,t,n)},useTransition:function(){var t=Sf(rs)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:io(t),n]},useSyncExternalStore:up,useId:Pp,useHostTransitionStatus:kf,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var r=Ct();return it!==null?gp(r,it,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Tf,useCacheRefresh:Up};Gp.useEffectEvent=Rp;function Mf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vf={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=Vn(),h=Ls(l);h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,l),n!==null&&(Sn(n,t,l),Wl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=Vn(),h=Ls(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ps(t,h,l),n!==null&&(Sn(n,t,l),Wl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Vn(),l=Ls(r);l.tag=2,n!=null&&(l.callback=n),n=Ps(t,l,r),n!==null&&(Sn(n,t,r),Wl(n,t,r))}};function Fp(t,n,r,l,h,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Fl(r,l)||!Fl(h,f):!0}function Kp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Vf.enqueueReplaceState(n,n.state,null)}function Qr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=S({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Qp(t){Ru(t)}function Yp(t){console.error(t)}function Xp(t){Ru(t)}function $u(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $p(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function jf(t,n,r){return r=Ls(r),r.tag=3,r.payload={element:null},r.callback=function(){$u(t,n)},r}function Jp(t){return t=Ls(t),t.tag=3,t}function Zp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){$p(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){$p(n,r,l),typeof h!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function CE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ma(n,r,h,!0),r=kn.current,r!==null){switch(r.tag){case 31:case 13:return Kn===null?oc():r.alternate===null&&Tt===0&&(Tt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ld(t,l,h)),!1;case 22:return r.flags|=65536,l===Lu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ld(t,l,h)),!1}throw Error(a(435,r.tag))}return ld(t,l,h),oc(),!1}if(qe)return n=kn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==ef&&(t=Error(a(422),{cause:l}),Yl(qn(t,r)))):(l!==ef&&(n=Error(a(423),{cause:l}),Yl(qn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=qn(l,r),h=jf(t.stateNode,l,h),ff(t,h),Tt!==4&&(Tt=2)),!1;var f=Error(a(520),{cause:l});if(f=qn(f,r),mo===null?mo=[f]:mo.push(f),Tt!==4&&(Tt=2),n===null)return!0;l=qn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=jf(r.stateNode,l,t),ff(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Gs===null||!Gs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Jp(h),Zp(h,t,r,l),ff(r,h),!1}r=r.return}while(r!==null);return!1}var Lf=Error(a(461)),Lt=!1;function nn(t,n,r,l){n.child=t===null?np(n,null,r,l):Fr(n,t.child,r,l)}function Wp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Br(n),l=_f(t,n,r,y,f,h),E=vf(),t!==null&&!Lt?(bf(t,n,h),as(t,n,h)):(qe&&E&&Zh(n),n.flags|=1,nn(t,n,l,h),n.child)}function e0(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Xh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,t0(t,n,f,l,h)):(t=ku(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ff(t,h)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(y,l)&&t.ref===n.ref)return as(t,n,h)}return n.flags|=1,t=es(f,l),t.ref=n.ref,t.return=n,n.child=t}function t0(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(Fl(f,l)&&t.ref===n.ref)if(Lt=!1,n.pendingProps=l=f,Ff(t,h))(t.flags&131072)!==0&&(Lt=!0);else return n.lanes=t.lanes,as(t,n,h)}return Pf(t,n,r,l,h)}function n0(t,n,r,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(l=n.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return i0(t,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?rp(n,f):mf(),ap(n);else return l=n.lanes=536870912,i0(t,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Vu(n,f.cachePool),rp(n,f),zs(),n.memoizedState=null):(t!==null&&Vu(n,null),mf(),zs());return nn(t,n,h,r),n.child}function ao(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function i0(t,n,r,l,h){var f=of();return f=f===null?null:{parent:Vt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Vu(n,null),mf(),ap(n),t!==null&&Ma(t,n,l,!0),n.childLanes=h,null}function Ju(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function s0(t,n,r){return Fr(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,Dn(n),n.memoizedState=null,t}function NE(t,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Ju(n,l),n.lanes=536870912,ao(null,t);if(pf(n),(t=ct)?(t=py(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=n,n.child=r,en=n,ct=null)):t=null,t===null)throw Ms(n);return n.lanes=536870912,null}return Ju(n,l)}var f=t.memoizedState;if(f!==null){var y=f.dehydrated;if(pf(n),h)if(n.flags&256)n.flags&=-257,n=s0(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Lt||Ma(t,n,r,!1),h=(r&t.childLanes)!==0,Lt||h){if(l=lt,l!==null&&(y=Rl(l,r),y!==0&&y!==f.retryLane))throw f.retryLane=y,Lr(t,y),Sn(l,t,y),Lf;oc(),n=s0(t,n,r)}else t=f.treeContext,ct=Qn(y.nextSibling),en=n,qe=!0,Os=null,Fn=!1,t!==null&&Gg(n,t),n=Ju(n,l),n.flags|=4096;return n}return t=es(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Zu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Pf(t,n,r,l,h){return Br(n),r=_f(t,n,r,l,void 0,h),l=vf(),t!==null&&!Lt?(bf(t,n,h),as(t,n,h)):(qe&&l&&Zh(n),n.flags|=1,nn(t,n,r,h),n.child)}function r0(t,n,r,l,h,f){return Br(n),n.updateQueue=null,r=op(n,l,r,h),lp(t),l=vf(),t!==null&&!Lt?(bf(t,n,f),as(t,n,f)):(qe&&l&&Zh(n),n.flags|=1,nn(t,n,r,f),n.child)}function a0(t,n,r,l,h){if(Br(n),n.stateNode===null){var f=Ia,y=r.contextType;typeof y=="object"&&y!==null&&(f=tn(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},cf(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?tn(y):Ia,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Mf(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Vf.enqueueReplaceState(f,f.state,null),to(n,l,f,h),eo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Qr(r,E);f.props=R;var U=f.context,K=r.contextType;y=Ia,typeof K=="object"&&K!==null&&(y=tn(K));var X=r.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||U!==y)&&Kp(n,f,l,y),js=!1;var B=n.memoizedState;f.state=B,to(n,l,f,h),eo(),U=n.memoizedState,E||B!==U||js?(typeof X=="function"&&(Mf(n,r,X,l),U=n.memoizedState),(R=js||Fp(n,r,R,l,B,U,y))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),f.props=l,f.state=U,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,hf(t,n),y=n.memoizedProps,K=Qr(r,y),f.props=K,X=n.pendingProps,B=f.context,U=r.contextType,R=Ia,typeof U=="object"&&U!==null&&(R=tn(U)),E=r.getDerivedStateFromProps,(U=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==X||B!==R)&&Kp(n,f,l,R),js=!1,B=n.memoizedState,f.state=B,to(n,l,f,h),eo();var H=n.memoizedState;y!==X||B!==H||js||t!==null&&t.dependencies!==null&&Ou(t.dependencies)?(typeof E=="function"&&(Mf(n,r,E,l),H=n.memoizedState),(K=js||Fp(n,r,K,l,B,H,R)||t!==null&&t.dependencies!==null&&Ou(t.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Fr(n,t.child,null,h),n.child=Fr(n,null,r,h)):nn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=as(t,n,h),t}function l0(t,n,r,l){return Ur(),n.flags|=256,nn(t,n,r,l),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(t){return{baseLanes:t,cachePool:$g()}}function Bf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Mn),t}function o0(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(qe){if(h?Us(n):zs(),(t=ct)?(t=py(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ds!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=n,n.child=r,en=n,ct=null)):t=null,t===null)throw Ms(n);return Ad(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(zs(),h=n.mode,E=Wu({mode:"hidden",children:E},h),l=Pr(l,h,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=zf(r),l.childLanes=Bf(t,y,r),n.memoizedState=Uf,ao(null,l)):(Us(n),qf(n,E))}var R=t.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Us(n),n.flags&=-257,n=Hf(t,n,r)):n.memoizedState!==null?(zs(),n.child=t.child,n.flags|=128,n=null):(zs(),E=l.fallback,h=n.mode,l=Wu({mode:"visible",children:l.children},h),E=Pr(E,h,r,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Fr(n,t.child,null,r),l=n.child,l.memoizedState=zf(r),l.childLanes=Bf(t,y,r),n.memoizedState=Uf,n=ao(null,l));else if(Us(n),Ad(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var U=y.dgst;y=U,l=Error(a(419)),l.stack="",l.digest=y,Yl({value:l,source:null,stack:null}),n=Hf(t,n,r)}else if(Lt||Ma(t,n,r,!1),y=(r&t.childLanes)!==0,Lt||y){if(y=lt,y!==null&&(l=Rl(y,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Lr(t,l),Sn(y,t,l),Lf;Td(E)||oc(),n=Hf(t,n,r)}else Td(E)?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,ct=Qn(E.nextSibling),en=n,qe=!0,Os=null,Fn=!1,t!==null&&Gg(n,t),n=qf(n,l.children),n.flags|=4096);return n}return h?(zs(),E=l.fallback,h=n.mode,R=t.child,U=R.sibling,l=es(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,U!==null?E=es(U,E):(E=Pr(E,h,r,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,ao(null,l),l=n.child,E=t.child.memoizedState,E===null?E=zf(r):(h=E.cachePool,h!==null?(R=Vt._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=$g(),E={baseLanes:E.baseLanes|r,cachePool:h}),l.memoizedState=E,l.childLanes=Bf(t,y,r),n.memoizedState=Uf,ao(t.child,l)):(Us(n),r=t.child,t=r.sibling,r=es(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function qf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=In(22,t,null,n),t.lanes=0,t}function Hf(t,n,r){return Fr(n,t.child,null,r),t=qf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function u0(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sf(t.return,n,r)}function Gf(t,n,r,l,h,f){var y=t.memoizedState;y===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=h,y.treeForkCount=f)}function c0(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var y=Rt.current,E=(y&2)!==0;if(E?(y=y&1|2,n.flags|=128):y&=1,W(Rt,y),nn(t,n,l,r),l=qe?Ql:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u0(t,r,n);else if(t.tag===19)u0(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Bu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Gf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Gf(n,!0,r,null,f,l);break;case"together":Gf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function as(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ma(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=es(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=es(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ff(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ou(t)))}function IE(t,n,r){switch(n.tag){case 3:At(n,n.stateNode.containerInfo),Vs(n,Vt,t.memoizedState.cache),Ur();break;case 27:case 5:mi(n);break;case 4:At(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,pf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(n),n.flags|=128,null):(r&n.child.childLanes)!==0?o0(t,n,r):(Us(n),t=as(t,n,r),t!==null?t.sibling:null);Us(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ma(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return c0(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Rt,Rt.current),l)break;return null;case 22:return n.lanes=0,n0(t,n,r,n.pendingProps);case 24:Vs(n,Vt,t.memoizedState.cache)}return as(t,n,r)}function h0(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Lt=!0;else{if(!Ff(t,r)&&(n.flags&128)===0)return Lt=!1,IE(t,n,r);Lt=(t.flags&131072)!==0}else Lt=!1,qe&&(n.flags&1048576)!==0&&Hg(n,Ql,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(t=Hr(n.elementType),n.type=t,typeof t=="function")Xh(t)?(l=Qr(t,l),n.tag=1,n=a0(null,n,t,l,r)):(n.tag=0,n=Pf(null,n,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===Ie){n.tag=11,n=Wp(null,n,t,l,r);break e}else if(h===N){n.tag=14,n=e0(null,n,t,l,r);break e}}throw n=ot(t)||t,Error(a(306,n,""))}}return n;case 0:return Pf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Qr(l,n.pendingProps),a0(t,n,l,h,r);case 3:e:{if(At(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,hf(t,n),to(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Vs(n,Vt,l),l!==f.cache&&rf(n,[Vt],r,!0),eo(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=l0(t,n,l,r);break e}else if(l!==h){h=qn(Error(a(424)),n),Yl(h),n=l0(t,n,l,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ct=Qn(t.firstChild),en=n,qe=!0,Os=null,Fn=!0,r=np(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ur(),l===h){n=as(t,n,r);break e}nn(t,n,l,r)}n=n.child}return n;case 26:return Zu(t,n),t===null?(r=Ty(n.type,null,n.pendingProps,null))?n.memoizedState=r:qe||(r=n.type,t=n.pendingProps,l=gc(Se.current).createElement(r),l[Dt]=n,l[Kt]=t,sn(l,r,t),Ot(l),n.stateNode=l):n.memoizedState=Ty(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return mi(n),t===null&&qe&&(l=n.stateNode=vy(n.type,n.pendingProps,Se.current),en=n,Fn=!0,h=ct,Ys(n.type)?(Sd=h,ct=Qn(l.firstChild)):ct=h),nn(t,n,n.pendingProps.children,r),Zu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=aT(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,en=n,ct=Qn(l.firstChild),Fn=!1,h=!0):h=!1),h||Ms(n)),mi(n),h=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,vd(h,f)?l=null:y!==null&&vd(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=_f(t,n,EE,null,null,r),To._currentValue=h),Zu(t,n),nn(t,n,l,r),n.child;case 6:return t===null&&qe&&((t=r=ct)&&(r=lT(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,en=n,ct=null,t=!0):t=!1),t||Ms(n)),null;case 13:return o0(t,n,r);case 4:return At(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Fr(n,null,l,r):nn(t,n,l,r),n.child;case 11:return Wp(t,n,n.type,n.pendingProps,r);case 7:return nn(t,n,n.pendingProps,r),n.child;case 8:return nn(t,n,n.pendingProps.children,r),n.child;case 12:return nn(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Vs(n,n.type,l.value),nn(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Br(n),h=tn(h),l=l(h),n.flags|=1,nn(t,n,l,r),n.child;case 14:return e0(t,n,n.type,n.pendingProps,r);case 15:return t0(t,n,n.type,n.pendingProps,r);case 19:return c0(t,n,r);case 31:return NE(t,n,r);case 22:return n0(t,n,r,n.pendingProps);case 24:return Br(n),l=tn(Vt),t===null?(h=of(),h===null&&(h=lt,f=af(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},cf(n),Vs(n,Vt,h)):((t.lanes&r)!==0&&(hf(t,n),to(n,null,null,r),eo()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Vs(n,Vt,l)):(l=f.cache,Vs(n,Vt,l),l!==h.cache&&rf(n,[Vt],r,!0))),nn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ls(t){t.flags|=4}function Kf(t,n,r,l,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(P0())t.flags|=8192;else throw Gr=Lu,uf}else t.flags&=-16777217}function f0(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ry(n))if(P0())t.flags|=8192;else throw Gr=Lu,uf}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Ka|=n)}function lo(t,n){if(!qe)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function kE(t,n,r){var l=n.pendingProps;switch(Wh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(n),null;case 1:return ht(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),is(Vt),$e(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Oa(n)?ls(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,tf())),ht(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(ls(n),f!==null?(ht(n),f0(n,f)):(ht(n),Kf(n,h,null,l,r))):f?f!==t.memoizedState?(ls(n),ht(n),f0(n,f)):(ht(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&ls(n),ht(n),Kf(n,h,t,l,r)),null;case 27:if(un(n),r=Se.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ht(n),null}t=re.current,Oa(n)?Fg(n):(t=vy(h,l,r),n.stateNode=t,ls(n))}return ht(n),null;case 5:if(un(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ht(n),null}if(f=re.current,Oa(n))Fg(n);else{var y=gc(Se.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}f[Dt]=n,f[Kt]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(sn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ls(n)}}return ht(n),Kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ls(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Se.current,Oa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||oy(t.nodeValue,r)),t||Ms(n,!0)}else t=gc(t).createTextNode(l),t[Dt]=n,n.stateNode=t}return ht(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(l=Oa(n),r!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Dt]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),t=!1}else r=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Dn(n),n):(Dn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ht(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Oa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Dt]=n}else Ur(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ht(n),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Dn(n),n):(Dn(n),null)}return Dn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),ec(n,n.updateQueue),ht(n),null);case 4:return $e(),t===null&&md(n.stateNode.containerInfo),ht(n),null;case 10:return is(n.type),ht(n),null;case 19:if(Y(Rt),l=n.memoizedState,l===null)return ht(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)lo(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,lo(l,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)zg(r,t),r=r.sibling;return W(Rt,Rt.current&1|2),qe&&ts(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Jt()>rc&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),lo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!qe)return ht(n),null}else 2*Jt()-l.renderingStartTime>rc&&r!==536870912&&(n.flags|=128,h=!0,lo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(t=l.last,t!==null?t.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Jt(),t.sibling=null,r=Rt.current,W(Rt,h?r&1|2:r&1),qe&&ts(n,l.treeForkCount),t):(ht(n),null);case 22:case 23:return Dn(n),gf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ht(n),n.subtreeFlags&6&&(n.flags|=8192)):ht(n),r=n.updateQueue,r!==null&&ec(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&Y(qr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),is(Vt),ht(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function DE(t,n){switch(Wh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return is(Vt),$e(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return un(n),null;case 31:if(n.memoizedState!==null){if(Dn(n),n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Dn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ur()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Rt),null;case 4:return $e(),null;case 10:return is(n.type),null;case 22:case 23:return Dn(n),gf(),t!==null&&Y(qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return is(Vt),null;case 25:return null;default:return null}}function d0(t,n){switch(Wh(n),n.tag){case 3:is(Vt),$e();break;case 26:case 27:case 5:un(n);break;case 4:$e();break;case 31:n.memoizedState!==null&&Dn(n);break;case 13:Dn(n);break;case 19:Y(Rt);break;case 10:is(n.type);break;case 22:case 23:Dn(n),gf(),t!==null&&Y(qr);break;case 24:is(Vt)}}function oo(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==h)}}catch(E){et(n,n.return,E)}}function Bs(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=n;var R=r,U=E;try{U()}catch(K){et(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){et(n,n.return,K)}}function m0(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{sp(n,r)}catch(l){et(t,t.return,l)}}}function g0(t,n,r){r.props=Qr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){et(t,n,l)}}function uo(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){et(t,n,h)}}function ji(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){et(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){et(t,n,h)}else r.current=null}function p0(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){et(t,t.return,h)}}function Qf(t,n,r){try{var l=t.stateNode;eT(l,t.type,r,n),l[Kt]=n}catch(h){et(t,t.return,h)}}function y0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||y0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ni));else if(l!==4&&(l===27&&Ys(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Xf(t,n,r),t=t.sibling;t!==null;)Xf(t,n,r),t=t.sibling}function tc(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Ys(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(tc(t,n,r),t=t.sibling;t!==null;)tc(t,n,r),t=t.sibling}function _0(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);sn(n,l,r),n[Dt]=t,n[Kt]=r}catch(f){et(t,t.return,f)}}var os=!1,Pt=!1,$f=!1,v0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function OE(t,n){if(t=t.containerInfo,yd=Tc,t=kg(t),qh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var y=0,E=-1,R=-1,U=0,K=0,X=t,B=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=y+h),X!==f||l!==0&&X.nodeType!==3||(R=y+l),X.nodeType===3&&(y+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===t)break t;if(B===r&&++U===h&&(E=y),B===f&&++K===l&&(R=y),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(_d={focusedElem:t,selectionRange:r},Tc=!1,Yt=n;Yt!==null;)if(n=Yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Yt=t;else for(;Yt!==null;){switch(n=Yt,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var le=Qr(r.type,h);t=l.getSnapshotBeforeUpdate(le,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){et(r,r.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Ed(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ed(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Yt=t;break}Yt=n.return}}function b0(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:cs(t,r),l&4&&oo(5,r);break;case 1:if(cs(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){et(r,r.return,y)}else{var h=Qr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){et(r,r.return,y)}}l&64&&m0(r),l&512&&uo(r,r.return);break;case 3:if(cs(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{sp(t,n)}catch(y){et(r,r.return,y)}}break;case 27:n===null&&l&4&&_0(r);case 26:case 5:cs(t,r),n===null&&l&4&&p0(r),l&512&&uo(r,r.return);break;case 12:cs(t,r);break;case 31:cs(t,r),l&4&&A0(t,r);break;case 13:cs(t,r),l&4&&S0(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=qE.bind(null,r),oT(t,r))));break;case 22:if(l=r.memoizedState!==null||os,!l){n=n!==null&&n.memoizedState!==null||Pt,h=os;var f=Pt;os=l,(Pt=n)&&!f?hs(t,r,(r.subtreeFlags&8772)!==0):cs(t,r),os=h,Pt=f}break;case 30:break;default:cs(t,r)}}function E0(t){var n=t.alternate;n!==null&&(t.alternate=null,E0(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,bn=!1;function us(t,n,r){for(r=r.child;r!==null;)T0(t,n,r),r=r.sibling}function T0(t,n,r){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(at,r)}catch{}switch(r.tag){case 26:Pt||ji(r,n),us(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Pt||ji(r,n);var l=yt,h=bn;Ys(r.type)&&(yt=r.stateNode,bn=!1),us(t,n,r),vo(r.stateNode),yt=l,bn=h;break;case 5:Pt||ji(r,n);case 6:if(l=yt,h=bn,yt=null,us(t,n,r),yt=l,bn=h,yt!==null)if(bn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(r.stateNode)}catch(f){et(r,n,f)}else try{yt.removeChild(r.stateNode)}catch(f){et(r,n,f)}break;case 18:yt!==null&&(bn?(t=yt,my(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),el(t)):my(yt,r.stateNode));break;case 4:l=yt,h=bn,yt=r.stateNode.containerInfo,bn=!0,us(t,n,r),yt=l,bn=h;break;case 0:case 11:case 14:case 15:Bs(2,r,n),Pt||Bs(4,r,n),us(t,n,r);break;case 1:Pt||(ji(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&g0(r,n,l)),us(t,n,r);break;case 21:us(t,n,r);break;case 22:Pt=(l=Pt)||r.memoizedState!==null,us(t,n,r),Pt=l;break;default:us(t,n,r)}}function A0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(r){et(n,n.return,r)}}}function S0(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(r){et(n,n.return,r)}}function ME(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new v0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new v0),n;default:throw Error(a(435,t.tag))}}function nc(t,n){var r=ME(t);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=HE.bind(null,t,l);l.then(h,h)}})}function En(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,y=n,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(Ys(E.type)){yt=E.stateNode,bn=!1;break e}break;case 5:yt=E.stateNode,bn=!1;break e;case 3:case 4:yt=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(yt===null)throw Error(a(160));T0(f,y,h),yt=null,bn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)x0(n,t),n=n.sibling}var oi=null;function x0(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(n,t),Tn(t),l&4&&(Bs(3,t,t.return),oo(3,t),Bs(5,t,t.return));break;case 1:En(n,t),Tn(t),l&512&&(Pt||r===null||ji(r,r.return)),l&64&&os&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=oi;if(En(n,t),Tn(t),l&512&&(Pt||r===null||ji(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,l,r),f[Dt]=t,Ot(f),l=f;break e;case"link":var y=xy("link","href",h).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break t}}f=h.createElement(l),sn(f,l,r),h.head.appendChild(f);break;case"meta":if(y=xy("meta","content",h).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break t}}f=h.createElement(l),sn(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Dt]=t,Ot(f),l=f}t.stateNode=l}else wy(h,t.type,t.stateNode);else t.stateNode=Sy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?wy(h,t.type,t.stateNode):Sy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,r.memoizedProps)}break;case 27:En(n,t),Tn(t),l&512&&(Pt||r===null||ji(r,r.return)),r!==null&&l&4&&Qf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(En(n,t),Tn(t),l&512&&(Pt||r===null||ji(r,r.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(le){et(t,t.return,le)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,r!==null?r.memoizedProps:h)),l&1024&&($f=!0);break;case 6:if(En(n,t),Tn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(le){et(t,t.return,le)}}break;case 3:if(_c=null,h=oi,oi=pc(n.containerInfo),En(n,t),oi=h,Tn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(le){et(t,t.return,le)}$f&&($f=!1,w0(t));break;case 4:l=oi,oi=pc(t.stateNode.containerInfo),En(n,t),Tn(t),oi=l;break;case 12:En(n,t),Tn(t);break;case 31:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 13:En(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(sc=Jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 22:h=t.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,U=os,K=Pt;if(os=U||h,Pt=K||R,En(n,t),Pt=K,os=U,Tn(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||os||Pt||Yr(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(le){et(R,R.return,le)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(le){et(R,R.return,le)}}}else if(n.tag===18){if(r===null){R=n;try{var H=R.stateNode;h?gy(H,!0):gy(R.stateNode,!1)}catch(le){et(R,R.return,le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,nc(t,r))));break;case 19:En(n,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nc(t,l)));break;case 30:break;case 21:break;default:En(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(y0(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Yf(t);tc(t,f,h);break;case 5:var y=r.stateNode;r.flags&32&&(vn(y,""),r.flags&=-33);var E=Yf(t);tc(t,E,y);break;case 3:case 4:var R=r.stateNode.containerInfo,U=Yf(t);Xf(t,U,R);break;default:throw Error(a(161))}}catch(K){et(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function w0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;w0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function cs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)b0(t,n.alternate,n),n=n.sibling}function Yr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Yr(n);break;case 1:ji(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&g0(n,n.return,r),Yr(n);break;case 27:vo(n.stateNode);case 26:case 5:ji(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}t=t.sibling}}function hs(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,r),oo(4,f);break;case 1:if(hs(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){et(l,l.return,U)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ip(R[h],E)}catch(U){et(l,l.return,U)}}r&&y&64&&m0(f),uo(f,f.return);break;case 27:_0(f);case 26:case 5:hs(h,f,r),r&&l===null&&y&4&&p0(f),uo(f,f.return);break;case 12:hs(h,f,r);break;case 31:hs(h,f,r),r&&y&4&&A0(h,f);break;case 13:hs(h,f,r),r&&y&4&&S0(h,f);break;case 22:f.memoizedState===null&&hs(h,f,r),uo(f,f.return);break;case 30:break;default:hs(h,f,r)}n=n.sibling}}function Jf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xl(r))}function Zf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t))}function ui(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)R0(t,n,r,l),n=n.sibling}function R0(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,l),h&2048&&oo(9,n);break;case 1:ui(t,n,r,l);break;case 3:ui(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xl(t)));break;case 12:if(h&2048){ui(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){et(n,n.return,R)}}else ui(t,n,r,l);break;case 31:ui(t,n,r,l);break;case 13:ui(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,l):co(t,n):f._visibility&2?ui(t,n,r,l):(f._visibility|=2,Ha(t,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Jf(y,n);break;case 24:ui(t,n,r,l),h&2048&&Zf(n.alternate,n);break;default:ui(t,n,r,l)}}function Ha(t,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,y=n,E=r,R=l,U=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(f,y,E,R,h),oo(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?Ha(f,y,E,R,h):co(f,y):(K._visibility|=2,Ha(f,y,E,R,h)),h&&U&2048&&Jf(y.alternate,y);break;case 24:Ha(f,y,E,R,h),h&&U&2048&&Zf(y.alternate,y);break;default:Ha(f,y,E,R,h)}n=n.sibling}}function co(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:co(r,l),h&2048&&Jf(l.alternate,l);break;case 24:co(r,l),h&2048&&Zf(l.alternate,l);break;default:co(r,l)}n=n.sibling}}var ho=8192;function Ga(t,n,r){if(t.subtreeFlags&ho)for(t=t.child;t!==null;)C0(t,n,r),t=t.sibling}function C0(t,n,r){switch(t.tag){case 26:Ga(t,n,r),t.flags&ho&&t.memoizedState!==null&&bT(r,oi,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,n,r);break;case 3:case 4:var l=oi;oi=pc(t.stateNode.containerInfo),Ga(t,n,r),oi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=ho,ho=16777216,Ga(t,n,r),ho=l):Ga(t,n,r));break;default:Ga(t,n,r)}}function N0(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,k0(l,t)}N0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I0(t),t=t.sibling}function I0(t){switch(t.tag){case 0:case 11:case 15:fo(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:fo(t);break;case 12:fo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):fo(t);break;default:fo(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Yt=l,k0(l,t)}N0(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),ic(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function k0(t,n){for(;Yt!==null;){var r=Yt;switch(r.tag){case 0:case 11:case 15:Bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Yt=l;else e:for(r=t;Yt!==null;){l=Yt;var h=l.sibling,f=l.return;if(E0(l),l===r){Yt=null;break e}if(h!==null){h.return=f,Yt=h;break e}Yt=f}}}var VE={getCacheForType:function(t){var n=tn(Vt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return tn(Vt).controller.signal}},jE=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,ke=null,Ve=0,We=0,On=null,qs=!1,Fa=!1,Wf=!1,fs=0,Tt=0,Hs=0,Xr=0,ed=0,Mn=0,Ka=0,mo=null,An=null,td=!1,sc=0,D0=0,rc=1/0,ac=null,Gs=null,Ht=0,Fs=null,Qa=null,ds=0,nd=0,id=null,O0=null,go=0,sd=null;function Vn(){return(Xe&2)!==0&&Ve!==0?Ve&-Ve:G.T!==null?cd():lu()}function M0(){if(Mn===0)if((Ve&536870912)===0||qe){var t=Tr;Tr<<=1,(Tr&3932160)===0&&(Tr=262144),Mn=t}else Mn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Mn}function Sn(t,n,r){(t===lt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),Ks(t,Ve,Mn,!1)),Ar(t,r),((Xe&2)===0||t!==lt)&&(t===lt&&((Xe&2)===0&&(Xr|=r),Tt===4&&Ks(t,Ve,Mn,!1)),Li(t))}function V0(t,n,r){if((Xe&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Wn(t,n),h=l?UE(t,n):ad(t,n,!0),f=l;do{if(h===0){Fa&&!l&&Ks(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!LE(r)){h=ad(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var E=t;h=mo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ya(E,y).flags|=256),y=ad(E,y,!1),y!==2){if(Wf&&!R){E.errorRecoveryDisabledLanes|=f,Xr|=f,h=4;break e}f=An,An=h,f!==null&&(An===null?An=f:An.push.apply(An,f))}h=y}if(f=!1,h!==2)continue}}if(h===1){Ya(t,0),Ks(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ks(l,n,Mn,!qs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-Jt(),10<h)){if(Ks(l,n,Mn,!qs),vi(l,0,!0)!==0)break e;ds=n,l.timeoutHandle=fy(j0.bind(null,l,r,An,ac,td,n,Mn,Xr,Ka,qs,f,"Throttled",-0,0),h);break e}j0(l,r,An,ac,td,n,Mn,Xr,Ka,qs,f,null,-0,0)}}break}while(!0);Li(t)}function j0(t,n,r,l,h,f,y,E,R,U,K,X,B,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},C0(n,f,X);var le=(f&62914560)===f?sc-Jt():(f&4194048)===f?D0-Jt():0;if(le=ET(X,le),le!==null){ds=f,t.cancelPendingCommit=le(G0.bind(null,t,n,f,r,l,h,y,E,R,K,X,null,B,H)),Ks(t,f,y,!U);return}}G0(t,n,f,r,l,h,y,E,R)}function LE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ks(t,n,r,l){n&=~ed,n&=~Xr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-_t(h),y=1<<f;l[f]=-1,h&=~y}r!==0&&Sr(t,r,n)}function lc(){return(Xe&6)===0?(po(0),!1):!0}function rd(){if(ke!==null){if(We===0)var t=ke.return;else t=ke,ns=zr=null,Ef(t),Pa=null,Jl=0,t=ke;for(;t!==null;)d0(t.alternate,t),t=t.return;ke=null}}function Ya(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,iT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ds=0,rd(),lt=t,ke=r=es(t.current,null),Ve=n,We=0,On=null,qs=!1,Fa=Wn(t,n),Wf=!1,Ka=Mn=ed=Xr=Hs=Tt=0,An=mo=null,td=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-_t(l),f=1<<h;n|=t[h],l&=~f}return fs=n,Cu(),r}function L0(t,n){Re=null,G.H=ro,n===La||n===ju?(n=Wg(),We=3):n===uf?(n=Wg(),We=4):We=n===Lf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,ke===null&&(Tt=1,$u(t,qn(n,t.current)))}function P0(){var t=kn.current;return t===null?!0:(Ve&4194048)===Ve?Kn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?t===Kn:!1}function U0(){var t=G.H;return G.H=ro,t===null?ro:t}function z0(){var t=G.A;return G.A=VE,t}function oc(){Tt=4,qs||(Ve&4194048)!==Ve&&kn.current!==null||(Fa=!0),(Hs&134217727)===0&&(Xr&134217727)===0||lt===null||Ks(lt,Ve,Mn,!1)}function ad(t,n,r){var l=Xe;Xe|=2;var h=U0(),f=z0();(lt!==t||Ve!==n)&&(ac=null,Ya(t,n)),n=!1;var y=Tt;e:do try{if(We!==0&&ke!==null){var E=ke,R=On;switch(We){case 8:rd(),y=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(n=!0);var U=We;if(We=0,On=null,Xa(t,E,R,U),r&&Fa){y=0;break e}break;default:U=We,We=0,On=null,Xa(t,E,R,U)}}PE(),y=Tt;break}catch(K){L0(t,K)}while(!0);return n&&t.shellSuspendCounter++,ns=zr=null,Xe=l,G.H=h,G.A=f,ke===null&&(lt=null,Ve=0,Cu()),y}function PE(){for(;ke!==null;)B0(ke)}function UE(t,n){var r=Xe;Xe|=2;var l=U0(),h=z0();lt!==t||Ve!==n?(ac=null,rc=Jt()+500,Ya(t,n)):Fa=Wn(t,n);e:do try{if(We!==0&&ke!==null){n=ke;var f=On;t:switch(We){case 1:We=0,On=null,Xa(t,n,f,1);break;case 2:case 9:if(Jg(f)){We=0,On=null,q0(n);break}n=function(){We!==2&&We!==9||lt!==t||(We=7),Li(t)},f.then(n,n);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Jg(f)?(We=0,On=null,q0(n)):(We=0,On=null,Xa(t,n,f,7));break;case 5:var y=null;switch(ke.tag){case 26:y=ke.memoizedState;case 5:case 27:var E=ke;if(y?Ry(y):E.stateNode.complete){We=0,On=null;var R=E.sibling;if(R!==null)ke=R;else{var U=E.return;U!==null?(ke=U,uc(U)):ke=null}break t}}We=0,On=null,Xa(t,n,f,5);break;case 6:We=0,On=null,Xa(t,n,f,6);break;case 8:rd(),Tt=6;break e;default:throw Error(a(462))}}zE();break}catch(K){L0(t,K)}while(!0);return ns=zr=null,G.H=l,G.A=h,Xe=r,ke!==null?0:(lt=null,Ve=0,Cu(),Tt)}function zE(){for(;ke!==null&&!da();)B0(ke)}function B0(t){var n=h0(t.alternate,t,fs);t.memoizedProps=t.pendingProps,n===null?uc(t):ke=n}function q0(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=r0(r,n,n.pendingProps,n.type,void 0,Ve);break;case 11:n=r0(r,n,n.pendingProps,n.type.render,n.ref,Ve);break;case 5:Ef(n);default:d0(r,n),n=ke=zg(n,fs),n=h0(r,n,fs)}t.memoizedProps=t.pendingProps,n===null?uc(t):ke=n}function Xa(t,n,r,l){ns=zr=null,Ef(n),Pa=null,Jl=0;var h=n.return;try{if(CE(t,h,n,r,Ve)){Tt=1,$u(t,qn(r,t.current)),ke=null;return}}catch(f){if(h!==null)throw ke=h,f;Tt=1,$u(t,qn(r,t.current)),ke=null;return}n.flags&32768?(qe||l===1?t=!0:Fa||(Ve&536870912)!==0?t=!1:(qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),H0(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){H0(n,qs);return}t=n.return;var r=kE(n.alternate,n,fs);if(r!==null){ke=r;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=t}while(n!==null);Tt===0&&(Tt=5)}function H0(t,n){do{var r=DE(t.alternate,t);if(r!==null){r.flags&=32767,ke=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){ke=t;return}ke=t=r}while(t!==null);Tt=6,ke=null}function G0(t,n,r,l,h,f,y,E,R){t.cancelPendingCommit=null;do cc();while(Ht!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Qh,Ph(t,r,f,y,E,R),t===lt&&(ke=lt=null,Ve=0),Qa=n,Fs=t,ds=r,nd=f,id=h,O0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,GE(Ne,function(){return X0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=ie.p,ie.p=2,y=Xe,Xe|=4;try{OE(t,n,r)}finally{Xe=y,ie.p=h,G.T=l}}Ht=1,F0(),K0(),Q0()}}function F0(){if(Ht===1){Ht=0;var t=Fs,n=Qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=ie.p;ie.p=2;var h=Xe;Xe|=4;try{x0(n,t);var f=_d,y=kg(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Ig(E.ownerDocument.documentElement,E)){if(R!==null&&qh(E)){var U=R.start,K=R.end;if(K===void 0&&(K=U),"selectionStart"in E)E.selectionStart=U,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),le=E.textContent.length,pe=Math.min(R.start,le),rt=R.end===void 0?pe:Math.min(R.end,le);!H.extend&&pe>rt&&(y=rt,rt=pe,pe=y);var j=Ng(E,pe),D=Ng(E,rt);if(j&&D&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(j.node,j.offset),H.removeAllRanges(),pe>rt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Tc=!!yd,_d=yd=null}finally{Xe=h,ie.p=l,G.T=r}}t.current=n,Ht=2}}function K0(){if(Ht===2){Ht=0;var t=Fs,n=Qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=ie.p;ie.p=2;var h=Xe;Xe|=4;try{b0(t,n.alternate,n)}finally{Xe=h,ie.p=l,G.T=r}}Ht=3}}function Q0(){if(Ht===4||Ht===3){Ht=0,Er();var t=Fs,n=Qa,r=ds,l=O0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ht=5:(Ht=0,Qa=Fs=null,Y0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gs=null),$i(r),n=n.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(at,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=ie.p,ie.p=2,G.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{G.T=n,ie.p=h}}(ds&3)!==0&&cc(),Li(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===sd?go++:(go=0,sd=t):go=0,po(0)}}function Y0(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xl(n)))}function cc(){return F0(),K0(),Q0(),X0()}function X0(){if(Ht!==5)return!1;var t=Fs,n=nd;nd=0;var r=$i(ds),l=G.T,h=ie.p;try{ie.p=32>r?32:r,G.T=null,r=id,id=null;var f=Fs,y=ds;if(Ht=0,Qa=Fs=null,ds=0,(Xe&6)!==0)throw Error(a(331));var E=Xe;if(Xe|=4,I0(f.current),R0(f,f.current,y,r),Xe=E,po(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(at,f)}catch{}return!0}finally{ie.p=h,G.T=l,Y0(t,n)}}function $0(t,n,r){n=qn(r,n),n=jf(t.stateNode,n,2),t=Ps(t,n,2),t!==null&&(Ar(t,2),Li(t))}function et(t,n,r){if(t.tag===3)$0(t,t,r);else for(;n!==null;){if(n.tag===3){$0(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){t=qn(r,t),r=Jp(2),l=Ps(n,r,2),l!==null&&(Zp(r,l,n,t),Ar(l,2),Li(l));break}}n=n.return}}function ld(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new jE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Wf=!0,h.add(r),t=BE.bind(null,t,n,r),n.then(t,t))}function BE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,lt===t&&(Ve&r)===r&&(Tt===4||Tt===3&&(Ve&62914560)===Ve&&300>Jt()-sc?(Xe&2)===0&&Ya(t,0):ed|=r,Ka===Ve&&(Ka=0)),Li(t)}function J0(t,n){n===0&&(n=au()),t=Lr(t,n),t!==null&&(Ar(t,n),Li(t))}function qE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),J0(t,r)}function HE(t,n){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),J0(t,r)}function GE(t,n){return St(t,n)}var hc=null,$a=null,od=!1,fc=!1,ud=!1,Qs=0;function Li(t){t!==$a&&t.next===null&&($a===null?hc=$a=t:$a=$a.next=t),fc=!0,od||(od=!0,KE())}function po(t,n){if(!ud&&fc){ud=!0;do for(var r=!1,l=hc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-_t(42|t)+1)-1,f&=h&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ty(l,f))}else f=Ve,f=vi(l,l===lt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Wn(l,f)||(r=!0,ty(l,f));l=l.next}while(r);ud=!1}}function FE(){Z0()}function Z0(){fc=od=!1;var t=0;Qs!==0&&nT()&&(t=Qs);for(var n=Jt(),r=null,l=hc;l!==null;){var h=l.next,f=W0(l,n);f===0?(l.next=null,r===null?hc=h:r.next=h,h===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(fc=!0)),l=h}Ht!==0&&Ht!==5||po(t),Qs!==0&&(Qs=0)}function W0(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-_t(f),E=1<<y,R=h[y];R===-1?((E&r)===0||(E&l)!==0)&&(h[y]=Lh(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=lt,r=Ve,r=vi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gi(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Wn(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&gi(l),$i(r)){case 2:case 8:r=me;break;case 32:r=Ne;break;case 268435456:r=xt;break;default:r=Ne}return l=ey.bind(null,t),r=St(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&gi(l),t.callbackPriority=2,t.callbackNode=null,2}function ey(t,n){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(cc()&&t.callbackNode!==r)return null;var l=Ve;return l=vi(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(V0(t,l,n),W0(t,Jt()),t.callbackNode!=null&&t.callbackNode===r?ey.bind(null,t):null)}function ty(t,n){if(cc())return null;V0(t,n,!0)}function KE(){sT(function(){(Xe&6)!==0?St(te,FE):Z0()})}function cd(){if(Qs===0){var t=Va;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Qs=t}return Qs}function ny(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function iy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function QE(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=ny((h[Kt]||null).action),y=l.submitter;y&&(n=(n=y[Kt]||null)?ny(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ii("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var R=y?iy(h,y):new FormData(h);If(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?iy(h,y):new FormData(h),If(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var hd=0;hd<Kh.length;hd++){var fd=Kh[hd],YE=fd.toLowerCase(),XE=fd[0].toUpperCase()+fd.slice(1);li(YE,"on"+XE)}li(Mg,"onAnimationEnd"),li(Vg,"onAnimationIteration"),li(jg,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(hE,"onTransitionRun"),li(fE,"onTransitionStart"),li(dE,"onTransitionCancel"),li(Lg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yo));function sy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,U=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(K){Ru(K)}h.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,U=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=U;try{f(h)}catch(K){Ru(K)}h.currentTarget=null,f=R}}}}function De(t,n){var r=n[ga];r===void 0&&(r=n[ga]=new Set);var l=t+"__bubble";r.has(l)||(ry(n,t,2,!1),r.add(l))}function dd(t,n,r){var l=0;n&&(l|=4),ry(r,t,l,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[dc]){t[dc]=!0,Cl.forEach(function(r){r!=="selectionchange"&&($E.has(r)||dd(r,!1,t),dd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,dd("selectionchange",!1,n))}}function ry(t,n,r,l){switch(My(n)){case 2:var h=ST;break;case 8:h=xT;break;default:h=Nd}r=h.bind(null,n,r,t),h=void 0,!Nr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function gd(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ai(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue e}E=E.parentNode}}l=l.return}Cs(function(){var U=f,K=Pn(r),X=[];e:{var B=Pg.get(t);if(B!==void 0){var H=Ii,le=t;switch(t){case"keypress":if(kr(r)===0)break e;case"keydown":case"keyup":H=Su;break;case"focusin":le="focus",H=Or;break;case"focusout":le="blur",H=Or;break;case"beforeblur":case"afterblur":H=Or;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Mg:case Vg:case jg:H=yu;break;case Lg:H=A;break;case"scroll":case"scrollend":H=zl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Wi;break;case"toggle":case"beforetoggle":H=we}var pe=(n&4)!==0,rt=!pe&&(t==="scroll"||t==="scrollend"),j=pe?B!==null?B+"Capture":null:B;pe=[];for(var D=U,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||j===null||(Q=ii(D,j),Q!=null&&pe.push(_o(D,Q,P))),rt)break;D=D.return}0<pe.length&&(B=new H(B,le,null,r,K),X.push({event:B,listeners:pe}))}}if((n&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&r!==Ll&&(le=r.relatedTarget||r.fromElement)&&(Ai(le)||le[Ei]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(le=r.relatedTarget||r.toElement,H=U,le=le?Ai(le):null,le!==null&&(rt=c(le),pe=le.tag,le!==rt||pe!==5&&pe!==27&&pe!==6)&&(le=null)):(H=null,le=U),H!==le)){if(pe=Bl,Q="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Wi,Q="onPointerLeave",j="onPointerEnter",D="pointer"),rt=H==null?B:Rn(H),P=le==null?B:Rn(le),B=new pe(Q,D+"leave",H,r,K),B.target=rt,B.relatedTarget=P,Q=null,Ai(K)===U&&(pe=new pe(j,D+"enter",le,r,K),pe.target=P,pe.relatedTarget=rt,Q=pe),rt=Q,H&&le)t:{for(pe=JE,j=H,D=le,P=0,Q=j;Q;Q=pe(Q))P++;Q=0;for(var de=D;de;de=pe(de))Q++;for(;0<P-Q;)j=pe(j),P--;for(;0<Q-P;)D=pe(D),Q--;for(;P--;){if(j===D||D!==null&&j===D.alternate){pe=j;break t}j=pe(j),D=pe(D)}pe=null}else pe=null;H!==null&&ay(X,B,H,pe,!1),le!==null&&rt!==null&&ay(X,rt,le,pe,!0)}}e:{if(B=U?Rn(U):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Fe=Ag;else if(Eg(B))if(Sg)Fe=oE;else{Fe=aE;var ue=rE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?U&&va(U.elementType)&&(Fe=Ag):Fe=lE;if(Fe&&(Fe=Fe(t,U))){Tg(X,Fe,r,K);break e}ue&&ue(t,B,U),t==="focusout"&&U&&B.type==="number"&&U.memoizedProps.value!=null&&Ml(B,"number",B.value)}switch(ue=U?Rn(U):window,t){case"focusin":(Eg(ue)||ue.contentEditable==="true")&&(Ra=ue,Hh=U,Kl=null);break;case"focusout":Kl=Hh=Ra=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Dg(X,r,K);break;case"selectionchange":if(cE)break;case"keydown":case"keyup":Dg(X,r,K)}var Ce;if(Ye)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else wa?Mr(t,r)&&(je="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(je="onCompositionStart");je&&(Oi&&r.locale!=="ko"&&(wa||je!=="onCompositionStart"?je==="onCompositionEnd"&&wa&&(Ce=Ul()):(Ni=K,Pl="value"in Ni?Ni.value:Ni.textContent,wa=!0)),ue=mc(U,je),0<ue.length&&(je=new Di(je,t,null,r,K),X.push({event:je,listeners:ue}),Ce?je.data=Ce:(Ce=xa(r),Ce!==null&&(je.data=Ce)))),(Ce=zn?tE(t,r):nE(t,r))&&(je=mc(U,"onBeforeInput"),0<je.length&&(ue=new Di("onBeforeInput","beforeinput",null,r,K),X.push({event:ue,listeners:je}),ue.data=Ce)),QE(X,t,U,r,K)}sy(X,n)})}function _o(t,n,r){return{instance:t,listener:n,currentTarget:r}}function mc(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(t,r),h!=null&&l.unshift(_o(t,h,f)),h=ii(t,n),h!=null&&l.push(_o(t,h,f))),t.tag===3)return l;t=t.return}return[]}function JE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ay(t,n,r,l,h){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,U=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||U===null||(R=U,h?(U=ii(r,f),U!=null&&y.unshift(_o(r,U,R))):h||(U=ii(r,f),U!=null&&y.push(_o(r,U,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var ZE=/\r\n?/g,WE=/\u0000|\uFFFD/g;function ly(t){return(typeof t=="string"?t:""+t).replace(ZE,`
`).replace(WE,"")}function oy(t,n){return n=ly(n),ly(t)===n}function st(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":Cn(t,"class",l);break;case"tabIndex":Cn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(t,r,l);break;case"style":jl(t,l,f);break;case"data":if(n!=="object"){Cn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&st(t,n,"name",h.name,h,null),st(t,n,"formEncType",h.formEncType,h,null),st(t,n,"formMethod",h.formMethod,h,null),st(t,n,"formTarget",h.formTarget,h,null)):(st(t,n,"encType",h.encType,h,null),st(t,n,"method",h.method,h,null),st(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=ba(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ni);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=mu.get(r)||r,ya(t,r,l))}}function pd(t,n,r,l,h,f){switch(r){case"style":jl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[Kt]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ya(t,r,l)}}}function sn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,f,y,r,null)}}h&&st(t,n,"srcSet",r.srcSet,r,null),l&&st(t,n,"src",r.src,r,null);return;case"input":De("invalid",t);var E=f=y=h=null,R=null,U=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":h=K;break;case"type":y=K;break;case"checked":R=K;break;case"defaultChecked":U=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:st(t,n,l,K,r,null)}}hu(t,f,E,R,U,y,h,!1);return;case"select":De("invalid",t),l=y=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:st(t,n,h,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Ss(t,!!l,n,!1):r!=null&&Ss(t,!!l,r,!0);return;case"textarea":De("invalid",t),f=h=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:st(t,n,y,E,r,null)}xs(t,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":st(t,n,R,l,r,null));return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<yo.length;l++)De(yo[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in r)if(r.hasOwnProperty(U)&&(l=r[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:st(t,n,U,l,r,null)}return;default:if(va(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&pd(t,n,K,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&st(t,n,E,l,r,null))}function eT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,y=null,E=null,R=null,U=null,K=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(H)||st(t,n,H,null,l,X)}}for(var B in l){var H=l[B];if(X=r[B],l.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":U=H;break;case"defaultChecked":K=H;break;case"value":y=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&st(t,n,B,H,l,X)}}_a(t,y,E,R,U,K,f,h);return;case"select":H=y=E=B=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(f)||st(t,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&st(t,n,h,f,l,R)}n=E,r=y,l=H,B!=null?Ss(t,!!r,B,!1):!!l!=!!r&&(n!=null?Ss(t,!!r,n,!0):Ss(t,!!r,r?[]:"",!1));return;case"textarea":H=B=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,n,E,null,l,h)}for(y in l)if(h=l[y],f=r[y],l.hasOwnProperty(y)&&(h!=null||f!=null))switch(y){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&st(t,n,y,h,l,f)}fu(t,B,H);return;case"option":for(var le in r)B=r[le],r.hasOwnProperty(le)&&B!=null&&!l.hasOwnProperty(le)&&(le==="selected"?t.selected=!1:st(t,n,le,null,l,B));for(R in l)B=l[R],H=r[R],l.hasOwnProperty(R)&&B!==H&&(B!=null||H!=null)&&(R==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":st(t,n,R,B,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in r)B=r[pe],r.hasOwnProperty(pe)&&B!=null&&!l.hasOwnProperty(pe)&&st(t,n,pe,null,l,B);for(U in l)if(B=l[U],H=r[U],l.hasOwnProperty(U)&&B!==H&&(B!=null||H!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:st(t,n,U,B,l,H)}return;default:if(va(n)){for(var rt in r)B=r[rt],r.hasOwnProperty(rt)&&B!==void 0&&!l.hasOwnProperty(rt)&&pd(t,n,rt,void 0,l,B);for(K in l)B=l[K],H=r[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||pd(t,n,K,B,l,H);return}}for(var j in r)B=r[j],r.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&st(t,n,j,null,l,B);for(X in l)B=l[X],H=r[X],!l.hasOwnProperty(X)||B===H||B==null&&H==null||st(t,n,X,B,l,H)}function uy(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,y=h.initiatorType,E=h.duration;if(f&&E&&uy(y)){for(y=0,E=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],U=R.startTime;if(U>E)break;var K=R.transferSize,X=R.initiatorType;K&&uy(X)&&(R=R.responseEnd,y+=K*(R<E?1:(E-U)/(R-U)))}if(--l,n+=8*(f+y)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var yd=null,_d=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function cy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function vd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bd=null;function nT(){var t=window.event;return t&&t.type==="popstate"?t===bd?!1:(bd=t,!0):(bd=null,!1)}var fy=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,dy=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof dy<"u"?function(t){return dy.resolve(null).then(t).catch(rT)}:fy;function rT(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function my(t,n){var r=n,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),el(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")vo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,vo(r);for(var f=r.firstChild;f;){var y=f.nextSibling,E=f.nodeName;f[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=y}}else r==="body"&&vo(t.ownerDocument.body);r=h}while(r);el(n)}function gy(t,n){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function Ed(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Ed(r),pa(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function aT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function lT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Qn(t.nextSibling),t===null))return null;return t}function py(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Qn(t.nextSibling),t===null))return null;return t}function Td(t){return t.data==="$?"||t.data==="$~"}function Ad(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oT(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Sd=null;function yy(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return Qn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function _y(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function vy(t,n,r){switch(n=gc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function vo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pa(t)}var Yn=new Map,by=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ms=ie.d;ie.d={f:uT,r:cT,D:hT,C:fT,L:dT,m:mT,X:pT,S:gT,M:yT};function uT(){var t=ms.f(),n=lc();return t||n}function cT(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?Lp(n):ms.r(t)}var Ja=typeof document>"u"?null:document;function Ey(t,n,r){var l=Ja;if(l&&typeof n=="string"&&n){var h=_n(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),by.has(h)||(by.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),sn(n,"link",t),Ot(n),l.head.appendChild(n)))}}function hT(t){ms.D(t),Ey("dns-prefetch",t,null)}function fT(t,n){ms.C(t,n),Ey("preconnect",t,n)}function dT(t,n,r){ms.L(t,n,r);var l=Ja;if(l&&t&&n){var h='link[rel="preload"][as="'+_n(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+_n(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+_n(r.imageSizes)+'"]')):h+='[href="'+_n(t)+'"]';var f=h;switch(n){case"style":f=Za(t);break;case"script":f=Wa(t)}Yn.has(f)||(t=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Yn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(bo(f))||n==="script"&&l.querySelector(Eo(f))||(n=l.createElement("link"),sn(n,"link",t),Ot(n),l.head.appendChild(n)))}}function mT(t,n){ms.m(t,n);var r=Ja;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+_n(l)+'"][href="'+_n(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Wa(t)}if(!Yn.has(f)&&(t=S({rel:"modulepreload",href:t},n),Yn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Eo(f)))return}l=r.createElement("link"),sn(l,"link",t),Ot(l),r.head.appendChild(l)}}}function gT(t,n,r){ms.S(t,n,r);var l=Ja;if(l&&t){var h=Si(l).hoistableStyles,f=Za(t);n=n||"default";var y=h.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(bo(f)))E.loading=5;else{t=S({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Yn.get(f))&&xd(t,r);var R=y=l.createElement("link");Ot(R),sn(R,"link",t),R._p=new Promise(function(U,K){R.onload=U,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(f,y)}}}function pT(t,n){ms.X(t,n);var r=Ja;if(r&&t){var l=Si(r).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=r.querySelector(Eo(h)),f||(t=S({src:t,async:!0},n),(n=Yn.get(h))&&wd(t,n),f=r.createElement("script"),Ot(f),sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yT(t,n){ms.M(t,n);var r=Ja;if(r&&t){var l=Si(r).hoistableScripts,h=Wa(t),f=l.get(h);f||(f=r.querySelector(Eo(h)),f||(t=S({src:t,async:!0,type:"module"},n),(n=Yn.get(h))&&wd(t,n),f=r.createElement("script"),Ot(f),sn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ty(t,n,r,l){var h=(h=Se.current)?pc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Za(r.href),r=Si(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Za(r.href);var f=Si(h).hoistableStyles,y=f.get(t);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=h.querySelector(bo(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Yn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Yn.set(t,r),f||_T(h,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wa(r),r=Si(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Za(t){return'href="'+_n(t)+'"'}function bo(t){return'link[rel="stylesheet"]['+t+"]"}function Ay(t){return S({},t,{"data-precedence":t.precedence,precedence:null})}function _T(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),sn(n,"link",r),Ot(n),t.head.appendChild(n))}function Wa(t){return'[src="'+_n(t)+'"]'}function Eo(t){return"script[async]"+t}function Sy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+_n(r.href)+'"]');if(l)return n.instance=l,Ot(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ot(l),sn(l,"style",h),yc(l,r.precedence,t),n.instance=l;case"stylesheet":h=Za(r.href);var f=t.querySelector(bo(h));if(f)return n.state.loading|=4,n.instance=f,Ot(f),f;l=Ay(r),(h=Yn.get(h))&&xd(l,h),f=(t.ownerDocument||t).createElement("link"),Ot(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),sn(f,"link",l),n.state.loading|=4,yc(f,r.precedence,t),n.instance=f;case"script":return f=Wa(r.src),(h=t.querySelector(Eo(f)))?(n.instance=h,Ot(h),h):(l=r,(h=Yn.get(f))&&(l=S({},r),wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),sn(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,yc(l,r.precedence,t));return n.instance}function yc(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function xd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function xy(t,n,r){if(_c===null){var l=new Map,h=_c=new Map;h.set(r,l)}else h=_c,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ti]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function wy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function vT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function bT(t,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Za(l.href),f=n.querySelector(bo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Ot(f);return}f=n.ownerDocument||n,l=Ay(l),(h=Yn.get(h))&&xd(l,h),f=f.createElement("link"),Ot(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),sn(f,"link",l),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=vc.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var Rd=0;function ET(t,n){return t.stylesheets&&t.count===0&&Ec(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&Rd===0&&(Rd=62500*tT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ec(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Rd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var bc=null;function Ec(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,bc=new Map,n.forEach(TT,t),bc=null,vc.call(t))}function TT(t,n){if(!(n.state.loading&4)){var r=bc.get(t);if(r)var l=r.get(null);else{r=new Map,bc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var y=h[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}h=n.instance,y=h.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,h),r.set(y,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var To={$$typeof:he,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function AT(t,n,r,l,h,f,y,E,R){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Cy(t,n,r,l,h,f,y,E,R,U,K,X){return t=new AT(t,n,r,y,R,U,K,X,E),n=1,f===!0&&(n|=24),f=In(3,null,null,n),t.current=f,f.stateNode=t,n=af(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},cf(f),t}function Ny(t){return t?(t=Ia,t):Ia}function Iy(t,n,r,l,h,f){h=Ny(h),l.context===null?l.context=h:l.pendingContext=h,l=Ls(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Ps(t,l,n),r!==null&&(Sn(r,t,n),Wl(r,t,n))}function ky(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cd(t,n){ky(t,n),(t=t.alternate)&&ky(t,n)}function Dy(t){if(t.tag===13||t.tag===31){var n=Lr(t,67108864);n!==null&&Sn(n,t,67108864),Cd(t,67108864)}}function Oy(t){if(t.tag===13||t.tag===31){var n=Vn();n=xr(n);var r=Lr(t,n);r!==null&&Sn(r,t,n),Cd(t,n)}}var Tc=!0;function ST(t,n,r,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=2,Nd(t,n,r,l)}finally{ie.p=f,G.T=h}}function xT(t,n,r,l){var h=G.T;G.T=null;var f=ie.p;try{ie.p=8,Nd(t,n,r,l)}finally{ie.p=f,G.T=h}}function Nd(t,n,r,l){if(Tc){var h=Id(l);if(h===null)gd(t,n,l,Ac,r),Vy(t,l);else if(RT(h,t,n,r,l))l.stopPropagation();else if(Vy(t,l),n&4&&-1<wT.indexOf(t)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=_i(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-_t(y);E.entanglements[1]|=R,y&=~R}Li(f),(Xe&6)===0&&(rc=Jt()+500,po(0))}}break;case 31:case 13:E=Lr(f,2),E!==null&&Sn(E,f,2),lc(),Cd(f,2)}if(f=Id(l),f===null&&gd(t,n,l,Ac,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else gd(t,n,l,null,r)}}function Id(t){return t=Pn(t),kd(t)}var Ac=null;function kd(t){if(Ac=null,t=Ai(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=g(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function My(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case te:return 2;case me:return 8;case Ne:case ut:return 32;case xt:return 268435456;default:return 32}default:return 32}}var Dd=!1,Xs=null,$s=null,Js=null,Ao=new Map,So=new Map,Zs=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vy(t,n){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":Ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(n.pointerId)}}function xo(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&Dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function RT(t,n,r,l,h){switch(n){case"focusin":return Xs=xo(Xs,t,n,r,l,h),!0;case"dragenter":return $s=xo($s,t,n,r,l,h),!0;case"mouseover":return Js=xo(Js,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Ao.set(f,xo(Ao.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,So.set(f,xo(So.get(f)||null,t,n,r,l,h)),!0}return!1}function jy(t){var n=Ai(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ei(t.priority,function(){Oy(r)});return}}else if(n===31){if(n=g(r),n!==null){t.blockedOn=n,ei(t.priority,function(){Oy(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ll=l,r.target.dispatchEvent(l),Ll=null}else return n=Ln(r),n!==null&&Dy(n),t.blockedOn=r,!1;n.shift()}return!0}function Ly(t,n,r){Sc(t)&&r.delete(n)}function CT(){Dd=!1,Xs!==null&&Sc(Xs)&&(Xs=null),$s!==null&&Sc($s)&&($s=null),Js!==null&&Sc(Js)&&(Js=null),Ao.forEach(Ly),So.forEach(Ly)}function xc(t,n){t.blockedOn===n&&(t.blockedOn=null,Dd||(Dd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,CT)))}var wc=null;function Py(t){wc!==t&&(wc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(kd(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function el(t){function n(R){return xc(R,t)}Xs!==null&&xc(Xs,t),$s!==null&&xc($s,t),Js!==null&&xc(Js,t),Ao.forEach(n),So.forEach(n);for(var r=0;r<Zs.length;r++){var l=Zs[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zs.length&&(r=Zs[0],r.blockedOn===null);)jy(r),r.blockedOn===null&&Zs.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],y=h[Kt]||null;if(typeof f=="function")y||Py(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,y=f[Kt]||null)E=y.formAction;else if(kd(h)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Py(r)}}}function Uy(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Od(t){this._internalRoot=t}Rc.prototype.render=Od.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Vn();Iy(r,l,t,n,null,null)},Rc.prototype.unmount=Od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Iy(t.current,2,null,t,null,null),lc(),n[Ei]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Zs.length&&n!==0&&n<Zs[r].priority;r++);Zs.splice(r,0,t),r===0&&jy(t)}};var zy=e.version;if(zy!=="19.2.4")throw Error(a(527,zy,"19.2.4"));ie.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var NT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{at=Cc.inject(NT),Me=Cc}catch{}}return Ro.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",h=Qp,f=Yp,y=Xp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Cy(t,1,!1,null,null,r,l,null,h,f,y,Uy),t[Ei]=n.current,md(t),new Od(n)},Ro.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,h="",f=Qp,y=Yp,E=Xp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=Cy(t,1,!0,n,r??null,l,h,R,f,y,E,Uy),n.context=Ny(null),r=n.current,l=Vn(),l=xr(l),h=Ls(l),h.callback=null,Ps(r,h,l),r=l,n.current.lanes=r,Ar(n,r),Li(n),t[Ei]=n.current,md(t),new Rc(n)},Ro.version="19.2.4",Ro}var $y;function UT(){if($y)return jd.exports;$y=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),jd.exports=PT(),jd.exports}var zT=UT();const BT=()=>{};var Jy={};const Iv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qT=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,p=_?s[o+2]:0,T=c>>2,S=(c&3)<<4|g>>4;let I=(g&15)<<2|p>>6,F=p&63;_||(F=64,d||(I=64)),a.push(i[T],i[S],i[I],i[F])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Iv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):qT(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const p=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||g==null||p==null||S==null)throw new HT;const I=c<<2|g>>4;if(a.push(I),p!==64){const F=g<<4&240|p>>2;if(a.push(F),S!==64){const Z=p<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class HT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(s){const e=Iv(s);return kv.encodeByteArray(e,!0)},Xc=function(s){return GT(s).replace(/\./g,"")},Dv=function(s){try{return kv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function FT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KT=()=>FT().__FIREBASE_DEFAULTS__,QT=()=>{if(typeof process>"u"||typeof Jy>"u")return;const s=Jy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},YT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Dv(s[1]);return e&&JSON.parse(e)},ph=()=>{try{return BT()||KT()||QT()||YT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Ov=s=>ph()?.emulatorHosts?.[s],XT=s=>{const e=Ov(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Mv=()=>ph()?.config,Vv=s=>ph()?.[`_${s}`];class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jv(s){return(await fetch(s,{credentials:"include"})).ok}function JT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Vo={};function ZT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Vo))Vo[e]?s.emulator.push(e):s.prod.push(e);return s}function WT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Zy=!1;function Lv(s,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Vo[s]===e||Vo[s]||Zy)return;Vo[s]=e;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=ZT().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function _(I,F){I.setAttribute("width","24"),I.setAttribute("id",F),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Zy=!0,d()},I}function T(I,F){I.setAttribute("id",F),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=WT(a),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),ne=i("learnmore"),z=document.getElementById(ne)||document.createElement("a"),se=i("preprendIcon"),oe=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const he=I.element;g(he),T(z,ne);const Ie=p();_(oe,se),he.append(oe,Z,z,Ie),document.body.appendChild(he)}c?(Z.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function tA(){const s=ph()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function sA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rA(){const s=mn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function aA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const uA="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uA,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?cA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ts(o,g,a)}}function cA(s,e){return s.replace(hA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const hA=/\{\$([^}]+)}/g;function fA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function ia(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=e[o];if(Wy(c)&&Wy(d)){if(!ia(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Wy(s){return s!==null&&typeof s=="object"}function Jo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function dA(s,e){const i=new mA(s,e);return i.subscribe.bind(i)}class mA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");gA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=zd),o.error===void 0&&(o.error=zd),o.complete===void 0&&(o.complete=zd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function zd(){}function ln(s){return s&&s._delegate?s._delegate:s}class sa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const $r="[DEFAULT]";class pA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new $T;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_A(e))try{this.getOrInitializeService({instanceIdentifier:$r})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=$r){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$r){return this.instances.has(e)}getOptions(e=$r){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&e(c,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:yA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=$r){return this.component?this.component.multipleInstances?e:$r:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yA(s){return s===$r?void 0:s}function _A(s){return s.instantiationMode==="EAGER"}class vA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new pA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Le;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Le||(Le={}));const bA={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},EA=Le.INFO,TA={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},AA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=TA[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=AA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const SA=(s,e)=>e.some(i=>s instanceof i);let e_,t_;function xA(){return e_||(e_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Pv=new WeakMap,nm=new WeakMap,Uv=new WeakMap,Bd=new WeakMap,Nm=new WeakMap;function RA(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(ar(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Pv.set(i,s)}).catch(()=>{}),Nm.set(e,s),e}function CA(s){if(nm.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});nm.set(s,e)}let im={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return nm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Uv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function NA(s){im=s(im)}function IA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(qd(this),e,...i);return Uv.set(a,e.sort?e.sort():[e]),ar(a)}:wA().includes(s)?function(...e){return s.apply(qd(this),e),ar(Pv.get(this))}:function(...e){return ar(s.apply(qd(this),e))}}function kA(s){return typeof s=="function"?IA(s):(s instanceof IDBTransaction&&CA(s),SA(s,xA())?new Proxy(s,im):s)}function ar(s){if(s instanceof IDBRequest)return RA(s);if(Bd.has(s))return Bd.get(s);const e=kA(s);return e!==s&&(Bd.set(s,e),Nm.set(e,s)),e}const qd=s=>Nm.get(s);function DA(s,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,e),g=ar(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ar(d.result),_.oldVersion,_.newVersion,ar(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const OA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],Hd=new Map;function n_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Hd.get(e))return Hd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=MA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||OA.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&_.done]))[0]};return Hd.set(e,c),c}NA(s=>({...s,get:(e,i,a)=>n_(e,i)||s.get(e,i,a),has:(e,i)=>!!n_(e,i)||s.has(e,i)}));class VA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(jA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function jA(s){return s.getComponent()?.type==="VERSION"}const sm="@firebase/app",i_="0.14.8";const _s=new Cm("@firebase/app"),LA="@firebase/app-compat",PA="@firebase/analytics-compat",UA="@firebase/analytics",zA="@firebase/app-check-compat",BA="@firebase/app-check",qA="@firebase/auth",HA="@firebase/auth-compat",GA="@firebase/database",FA="@firebase/data-connect",KA="@firebase/database-compat",QA="@firebase/functions",YA="@firebase/functions-compat",XA="@firebase/installations",$A="@firebase/installations-compat",JA="@firebase/messaging",ZA="@firebase/messaging-compat",WA="@firebase/performance",eS="@firebase/performance-compat",tS="@firebase/remote-config",nS="@firebase/remote-config-compat",iS="@firebase/storage",sS="@firebase/storage-compat",rS="@firebase/firestore",aS="@firebase/ai",lS="@firebase/firestore-compat",oS="firebase",uS="12.9.0";const rm="[DEFAULT]",cS={[sm]:"fire-core",[LA]:"fire-core-compat",[UA]:"fire-analytics",[PA]:"fire-analytics-compat",[BA]:"fire-app-check",[zA]:"fire-app-check-compat",[qA]:"fire-auth",[HA]:"fire-auth-compat",[GA]:"fire-rtdb",[FA]:"fire-data-connect",[KA]:"fire-rtdb-compat",[QA]:"fire-fn",[YA]:"fire-fn-compat",[XA]:"fire-iid",[$A]:"fire-iid-compat",[JA]:"fire-fcm",[ZA]:"fire-fcm-compat",[WA]:"fire-perf",[eS]:"fire-perf-compat",[tS]:"fire-rc",[nS]:"fire-rc-compat",[iS]:"fire-gcs",[sS]:"fire-gcs-compat",[rS]:"fire-fst",[lS]:"fire-fst-compat",[aS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};const $c=new Map,hS=new Map,am=new Map;function s_(s,e){try{s.container.addComponent(e)}catch(i){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function fl(s){const e=s.name;if(am.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,s);for(const i of $c.values())s_(i,s);for(const i of hS.values())s_(i,s);return!0}function Im(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ci(s){return s==null?!1:s.settings!==void 0}const fS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new $o("app","Firebase",fS);class dS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const bl=uS;function zv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:rm,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw lr.create("bad-app-name",{appName:String(o)});if(i||(i=Mv()),!i)throw lr.create("no-options");const c=$c.get(o);if(c){if(ia(i,c.options)&&ia(a,c.config))return c;throw lr.create("duplicate-app",{appName:o})}const d=new vA(o);for(const _ of am.values())d.addComponent(_);const g=new dS(i,a,d);return $c.set(o,g),g}function Bv(s=rm){const e=$c.get(s);if(!e&&s===rm&&Mv())return zv();if(!e)throw lr.create("no-app",{appName:s});return e}function or(s,e,i){let a=cS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}fl(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const mS="firebase-heartbeat-database",gS=1,Bo="firebase-heartbeat-store";let Gd=null;function qv(){return Gd||(Gd=DA(mS,gS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Bo)}catch(i){console.warn(i)}}}}).catch(s=>{throw lr.create("idb-open",{originalErrorMessage:s.message})})),Gd}async function pS(s){try{const i=(await qv()).transaction(Bo),a=await i.objectStore(Bo).get(Hv(s));return await i.done,a}catch(e){if(e instanceof Ts)_s.warn(e.message);else{const i=lr.create("idb-get",{originalErrorMessage:e?.message});_s.warn(i.message)}}}async function r_(s,e){try{const a=(await qv()).transaction(Bo,"readwrite");await a.objectStore(Bo).put(e,Hv(s)),await a.done}catch(i){if(i instanceof Ts)_s.warn(i.message);else{const a=lr.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function Hv(s){return`${s.name}!${s.options.appId}`}const yS=1024,_S=30;class vS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>_S){const o=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:a}=bS(this._heartbeatsCache.heartbeats),o=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return _s.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function bS(s,e=yS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),l_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),l_(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ES{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function l_(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function TS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function AS(s){fl(new sa("platform-logger",e=>new VA(e),"PRIVATE")),fl(new sa("heartbeat",e=>new vS(e),"PRIVATE")),or(sm,i_,s),or(sm,i_,"esm2020"),or("fire-js","")}AS("");var SS="firebase",xS="12.9.0";or(SS,xS,"app");function Gv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wS=Gv,Fv=new $o("auth","Firebase",Gv());const Jc=new Cm("@firebase/auth");function RS(s,...e){Jc.logLevel<=Le.WARN&&Jc.warn(`Auth (${bl}): ${s}`,...e)}function Pc(s,...e){Jc.logLevel<=Le.ERROR&&Jc.error(`Auth (${bl}): ${s}`,...e)}function Fi(s,...e){throw Dm(s,...e)}function fi(s,...e){return Dm(s,...e)}function km(s,e,i){const a={...wS(),[e]:i};return new $o("auth","Firebase",a).create(e,{appName:s.name})}function ea(s){return km(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CS(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Fi(s,"argument-error"),km(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Fv.create(s,...e)}function ve(s,e,...i){if(!s)throw Dm(e,...i)}function ps(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Pc(e),new Error(e)}function vs(s,e){s||ps(e)}function lm(){return typeof self<"u"&&self.location?.href||""}function NS(){return o_()==="http:"||o_()==="https:"}function o_(){return typeof self<"u"&&self.location?.protocol||null}function IS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NS()||iA()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Zo{constructor(e,i){this.shortDelay=e,this.longDelay=i,vs(i>e,"Short delay should be less than long delay!"),this.isMobile=eA()||sA()}get(){return IS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Om(s,e){vs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Kv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MS=new Zo(3e4,6e4);function Mm(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function El(s,e,i,a,o={}){return Qv(s,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Jo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:_,...c};return nA()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&vl(s.emulatorConfig.host)&&(p.credentials="include"),Kv.fetch()(await Yv(s,s.config.apiHost,i,g),p)})}async function Qv(s,e,i){s._canInitEmulator=!1;const a={...DS,...e};try{const o=new jS(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,p]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(s,"user-disabled",d);const T=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw km(s,T,p);Fi(s,T)}}catch(o){if(o instanceof Ts)throw o;Fi(s,"network-request-failed",{message:String(o)})}}async function VS(s,e,i,a,o={}){const c=await El(s,e,i,a,o);return"mfaPendingCredential"in c&&Fi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Yv(s,e,i,a){const o=`${e}${i}?${a}`,c=s,d=c.config.emulator?Om(s.config,o):`${s.config.apiScheme}://${o}`;return OS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class jS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(fi(this.auth,"network-request-failed")),MS.get())})}}function Nc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=fi(s,e,a);return o.customData._tokenResponse=i,o}async function LS(s,e){return El(s,"POST","/v1/accounts:delete",e)}async function Zc(s,e){return El(s,"POST","/v1/accounts:lookup",e)}function jo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PS(s,e=!1){const i=ln(s),a=await i.getIdToken(e),o=Vm(a);ve(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:jo(Fd(o.auth_time)),issuedAtTime:jo(Fd(o.iat)),expirationTime:jo(Fd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(s){return Number(s)*1e3}function Vm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Dv(i);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u_(s){const e=Vm(s);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function qo(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ts&&US(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function US({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class zS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jo(this.lastLoginAt),this.creationTime=jo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(s){const e=s.auth,i=await s.getIdToken(),a=await qo(s,Zc(e,{idToken:i}));ve(a?.users.length,e,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?Xv(o.providerUserInfo):[],d=qS(s.providerData,c),g=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,p=g?_:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(s,T)}async function BS(s){const e=ln(s);await Wc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qS(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function Xv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function HS(s,e){const i=await Qv(s,{},async()=>{const a=Jo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await Yv(s,o,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&vl(s.emulatorConfig.host)&&(_.credentials="include"),Kv.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function GS(s,e){return El(s,"POST","/v2/accounts:revokeToken",Mm(s,e))}class al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const i=u_(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await HS(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new al;return a&&(ve(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(ve(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new al,this.toJSON())}_performRefresh(){return ps("not implemented")}}function er(s,e){ve(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new zS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new om(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await qo(this,this.stsTokenManager.getToken(this.auth,e));return ve(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return PS(this,e)}reload(){return BS(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(ea(this.auth));const e=await this.getIdToken();return await qo(this,LS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,T=i.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:F,providerData:Z,stsTokenManager:ne}=i;ve(S&&ne,e,"internal-error");const z=al.fromJSON(this.name,ne);ve(typeof S=="string",e,"internal-error"),er(a,e.name),er(o,e.name),ve(typeof I=="boolean",e,"internal-error"),ve(typeof F=="boolean",e,"internal-error"),er(c,e.name),er(d,e.name),er(g,e.name),er(_,e.name),er(p,e.name),er(T,e.name);const se=new hi({uid:S,auth:e,email:o,emailVerified:I,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:z,createdAt:p,lastLoginAt:T});return Z&&Array.isArray(Z)&&(se.providerData=Z.map(oe=>({...oe}))),_&&(se._redirectEventId=_),se}static async _fromIdTokenResponse(e,i,a=!1){const o=new al;o.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Xv(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new al;g.updateFromIdToken(a);const _=new hi({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const c_=new Map;function ys(s){vs(s instanceof Function,"Expected a class definition");let e=c_.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,c_.set(s,e),e)}class $v{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}$v.type="NONE";const h_=$v;function Uc(s,e,i){return`firebase:${s}:${e}:${i}`}class ll{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ll(ys(h_),e,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||ys(h_);const d=Uc(a,e.config.apiKey,e.name);let g=null;for(const p of i)try{const T=await p._get(d);if(T){let S;if(typeof T=="string"){const I=await Zc(e,{idToken:T}).catch(()=>{});if(!I)break;S=await hi._fromGetAccountInfoResponse(e,I,T)}else S=hi._fromJSON(e,T);p!==c&&(g=S),c=p;break}}catch{}const _=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new ll(c,e,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new ll(c,e,a))}}function f_(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Jv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nb(e))return"Blackberry";if(ib(e))return"Webos";if(Zv(e))return"Safari";if((e.includes("chrome/")||Wv(e))&&!e.includes("edge/"))return"Chrome";if(tb(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Jv(s=mn()){return/firefox\//i.test(s)}function Zv(s=mn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Wv(s=mn()){return/crios\//i.test(s)}function eb(s=mn()){return/iemobile/i.test(s)}function tb(s=mn()){return/android/i.test(s)}function nb(s=mn()){return/blackberry/i.test(s)}function ib(s=mn()){return/webos/i.test(s)}function jm(s=mn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function FS(s=mn()){return jm(s)&&!!window.navigator?.standalone}function KS(){return rA()&&document.documentMode===10}function sb(s=mn()){return jm(s)||tb(s)||ib(s)||nb(s)||/windows phone/i.test(s)||eb(s)}function rb(s,e=[]){let i;switch(s){case"Browser":i=f_(mn());break;case"Worker":i=`${f_(mn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${bl}/${a}`}class QS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const _=e(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function YS(s,e={}){return El(s,"GET","/v2/passwordPolicy",Mm(s,e))}const XS=6;class $S{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??XS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class JS{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d_(this),this.idTokenSubscription=new d_(this),this.beforeStateQueue=new QS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(e);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Wc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ci(this.app))return Promise.reject(ea(this));const i=e?ln(e):null;return i&&ve(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ci(this.app)?Promise.reject(ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await YS(this),i=new $S(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await GS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ys(e)||this._popupRedirectResolver;ve(i,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=e.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=e.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function yh(s){return ln(s)}class d_{constructor(e){this.auth=e,this.observer=null,this.addObserver=dA(i=>this.observer=i)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZS(s){Lm=s}function WS(s){return Lm.loadJS(s)}function e2(){return Lm.gapiScript}function t2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function n2(s,e){const i=Im(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ia(c,e??{}))return o;Fi(o,"already-initialized")}return i.initialize({options:e})}function i2(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ys);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function s2(s,e,i){const a=yh(s);ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=ab(e),{host:d,port:g}=r2(e),_=g===null?"":`:${g}`,p={url:`${c}//${d}${_}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){ve(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ve(ia(p,a.config.emulator)&&ia(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,vl(d)?(jv(`${c}//${d}${_}`),Lv("Auth",!0)):a2()}function ab(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function r2(s){const e=ab(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:m_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:m_(d)}}}function m_(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function a2(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class lb{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,i){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function ol(s,e){return VS(s,"POST","/v1/accounts:signInWithIdp",Mm(s,e))}const l2="http://localhost";class ra extends lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Fi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ra(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return ol(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ol(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ol(e,i)}buildRequest(){const e={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Jo(i)}return e}}class Pm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wo extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class nr extends Wo{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return nr.credential(e.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class gs extends Wo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ra._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return gs.credential(i,a)}catch{return null}}}gs.GOOGLE_SIGN_IN_METHOD="google.com";gs.PROVIDER_ID="google.com";class ir extends Wo{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";class sr extends Wo{constructor(){super("twitter.com")}static credential(e,i){return ra._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return sr.credential(i,a)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await hi._fromIdTokenResponse(e,a,o),d=g_(a);return new dl({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=g_(a);return new dl({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function g_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class eh extends Ts{constructor(e,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new eh(e,i,a,o)}}function ob(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(s,c,e,a):c})}async function o2(s,e,i=!1){const a=await qo(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return dl._forOperation(s,"link",a)}async function u2(s,e,i=!1){const{auth:a}=s;if(ci(a.app))return Promise.reject(ea(a));const o="reauthenticate";try{const c=await qo(s,ob(a,o,e,s),i);ve(c.idToken,a,"internal-error");const d=Vm(c.idToken);ve(d,a,"internal-error");const{sub:g}=d;return ve(s.uid===g,a,"user-mismatch"),dl._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Fi(a,"user-mismatch"),c}}async function c2(s,e,i=!1){if(ci(s.app))return Promise.reject(ea(s));const a="signIn",o=await ob(s,a,e),c=await dl._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function h2(s,e,i,a){return ln(s).onIdTokenChanged(e,i,a)}function f2(s,e,i){return ln(s).beforeAuthStateChanged(e,i)}function d2(s,e,i,a){return ln(s).onAuthStateChanged(e,i,a)}function p_(s){return ln(s).signOut()}const th="__sak";class ub{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const m2=1e3,g2=10;class cb extends ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);KS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,g2):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},m2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}cb.type="LOCAL";const p2=cb;class hb extends ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}hb.type="SESSION";const fb=hb;function y2(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new _h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async p=>p(i.origin,c)),_=await y2(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];function Um(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class _2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const p=Um("",20);o.port1.start();const T=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const I=S;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(I.data.response);break;default:clearTimeout(T),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function zi(){return window}function v2(s){zi().location.href=s}function db(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function b2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E2(){return navigator?.serviceWorker?.controller||null}function T2(){return db()?self:null}const mb="firebaseLocalStorageDb",A2=1,nh="firebaseLocalStorage",gb="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function vh(s,e){return s.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function S2(){const s=indexedDB.deleteDatabase(mb);return new eu(s).toPromise()}function um(){const s=indexedDB.open(mb,A2);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(nh,{keyPath:gb})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(nh)?e(a):(a.close(),await S2(),e(await um()))})})}async function y_(s,e,i){const a=vh(s,!0).put({[gb]:e,value:i});return new eu(a).toPromise()}async function x2(s,e){const i=vh(s,!1).get(e),a=await new eu(i).toPromise();return a===void 0?null:a.value}function __(s,e){const i=vh(s,!0).delete(e);return new eu(i).toPromise()}const w2=800,R2=3;class pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await um(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>R2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return db()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(T2()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new _2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await um();return await y_(e,th,"1"),await __(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y_(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>x2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>__(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pb.type="LOCAL";const C2=pb;new Zo(3e4,6e4);function yb(s,e){return e?ys(e):(ve(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zm extends lb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ol(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function N2(s){return c2(s.auth,new zm(s),s.bypassAuthState)}function I2(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),u2(i,new zm(s),s.bypassAuthState)}async function k2(s){const{auth:e,user:i}=s;return ve(i,e,"internal-error"),o2(i,new zm(s),s.bypassAuthState)}class _b{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return k2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:Fi(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const D2=new Zo(2e3,1e4);async function O2(s,e,i){if(ci(s.app))return Promise.reject(fi(s,"operation-not-supported-in-this-environment"));const a=yh(s);CS(s,e,Pm);const o=yb(a,i);return new Jr(a,"signInViaPopup",e,o).executeNotNull()}class Jr extends _b{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Jr.currentPopupAction&&Jr.currentPopupAction.cancel(),Jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,D2.get())};e()}}Jr.currentPopupAction=null;const M2="pendingRedirect",zc=new Map;class V2 extends _b{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const a=await j2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function j2(s,e){const i=U2(e),a=P2(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function L2(s,e){zc.set(s._key(),e)}function P2(s){return ys(s._redirectPersistence)}function U2(s){return Uc(M2,s.config.apiKey,s.name)}async function z2(s,e,i=!1){if(ci(s.app))return Promise.reject(ea(s));const a=yh(s),o=yb(a,e),d=await new V2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const B2=600*1e3;class q2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!vb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(fi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B2&&this.cachedEventUids.clear(),this.cachedEventUids.has(v_(e))}saveEventToCache(e){this.cachedEventUids.add(v_(e)),this.lastProcessedEventTime=Date.now()}}function v_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function vb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function H2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vb(s);default:return!1}}async function G2(s,e={}){return El(s,"GET","/v1/projects",e)}const F2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K2=/^https?/;async function Q2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await G2(s);for(const i of e)try{if(Y2(i))return}catch{}Fi(s,"unauthorized-domain")}function Y2(s){const e=lm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!K2.test(i))return!1;if(F2.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const X2=new Zo(3e4,6e4);function b_(){const s=zi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function $2(s){return new Promise((e,i)=>{function a(){b_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(fi(s,"network-request-failed"))},timeout:X2.get()})}if(zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(zi().gapi?.load)a();else{const o=t2("iframefcb");return zi()[o]=()=>{gapi.load?a():i(fi(s,"network-request-failed"))},WS(`${e2()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Bc=null,e})}let Bc=null;function J2(s){return Bc=Bc||$2(s),Bc}const Z2=new Zo(5e3,15e3),W2="__/auth/iframe",ex="emulator/auth/iframe",tx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ix(s){const e=s.config;ve(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Om(e,ex):`https://${s.config.authDomain}/${W2}`,a={apiKey:e.apiKey,appName:s.name,v:bl},o=nx.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Jo(a).slice(1)}`}async function sx(s){const e=await J2(s),i=zi().gapi;return ve(i,s,"internal-error"),e.open({where:document.body,url:ix(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tx,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=fi(s,"network-request-failed"),g=zi().setTimeout(()=>{c(d)},Z2.get());function _(){zi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const rx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ax=500,lx=600,ox="_blank",ux="http://localhost";class E_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cx(s,e,i,a=ax,o=lx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...rx,width:a.toString(),height:o.toString(),top:c,left:d},p=mn().toLowerCase();i&&(g=Wv(p)?ox:i),Jv(p)&&(e=e||ux,_.scrollbars="yes");const T=Object.entries(_).reduce((I,[F,Z])=>`${I}${F}=${Z},`,"");if(FS(p)&&g!=="_self")return hx(e||"",g),new E_(null);const S=window.open(e||"",g,T);ve(S,s,"popup-blocked");try{S.focus()}catch{}return new E_(S)}function hx(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const fx="__/auth/handler",dx="emulator/auth/handler",mx=encodeURIComponent("fac");async function T_(s,e,i,a,o,c){ve(s.config.authDomain,s,"auth-domain-config-required"),ve(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:bl,eventId:o};if(e instanceof Pm){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",fA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,S]of Object.entries({}))d[T]=S}if(e instanceof Wo){const T=e.getScopes().filter(S=>S!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const _=await s._getAppCheckToken(),p=_?`#${mx}=${encodeURIComponent(_)}`:"";return`${gx(s)}?${Jo(g).slice(1)}${p}`}function gx({config:s}){return s.emulator?Om(s,dx):`https://${s.authDomain}/${fx}`}const Kd="webStorageSupport";class px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fb,this._completeRedirectFn=z2,this._overrideRedirectResult=L2}async _openPopup(e,i,a,o){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await T_(e,i,a,lm(),o);return cx(e,c,Um())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await T_(e,i,a,lm(),o);return v2(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(vs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await sx(e),a=new q2(e);return i.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Kd,{type:Kd},o=>{const c=o?.[0]?.[Kd];c!==void 0&&i(!!c),Fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Q2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return sb()||Zv()||jm()}}const yx=px;var A_="@firebase/auth",S_="1.12.0";class _x{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bx(s){fl(new sa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;ve(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rb(s)},p=new JS(a,o,c,_);return i2(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),fl(new sa("auth-internal",e=>{const i=yh(e.getProvider("auth").getImmediate());return(a=>new _x(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),or(A_,S_,vx(s)),or(A_,S_,"esm2020")}const Ex=300,Tx=Vv("authIdTokenMaxAge")||Ex;let x_=null;const Ax=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Tx)return;const o=i?.token;x_!==o&&(x_=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Sx(s=Bv()){const e=Im(s,"auth");if(e.isInitialized())return e.getImmediate();const i=n2(s,{popupRedirectResolver:yx,persistence:[C2,p2,fb]}),a=Vv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Ax(c.toString());f2(i,d,()=>d(i.currentUser)),h2(i,g=>d(g))}}const o=Ov("auth");return o&&s2(i,`http://${o}`),i}function xx(){return document.getElementsByTagName("head")?.[0]??document}ZS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=o=>{const c=fi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",xx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bx("Browser");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ur,bb;(function(){var s;function e(N,x){function C(){}C.prototype=x.prototype,N.F=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(M,k,V){for(var w=Array(arguments.length-2),ot=2;ot<arguments.length;ot++)w[ot-2]=arguments[ot];return x.prototype[k].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)M[k]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(k=0;k<16;++k)M[k]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],k=N.g[2];let V=N.g[3],w;w=x+(V^C&(k^V))+M[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(k^x&(C^k))+M[1]+3905402710&4294967295,V=x+(w<<12&4294967295|w>>>20),w=k+(C^V&(x^C))+M[2]+606105819&4294967295,k=V+(w<<17&4294967295|w>>>15),w=C+(x^k&(V^x))+M[3]+3250441966&4294967295,C=k+(w<<22&4294967295|w>>>10),w=x+(V^C&(k^V))+M[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(k^x&(C^k))+M[5]+1200080426&4294967295,V=x+(w<<12&4294967295|w>>>20),w=k+(C^V&(x^C))+M[6]+2821735955&4294967295,k=V+(w<<17&4294967295|w>>>15),w=C+(x^k&(V^x))+M[7]+4249261313&4294967295,C=k+(w<<22&4294967295|w>>>10),w=x+(V^C&(k^V))+M[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(k^x&(C^k))+M[9]+2336552879&4294967295,V=x+(w<<12&4294967295|w>>>20),w=k+(C^V&(x^C))+M[10]+4294925233&4294967295,k=V+(w<<17&4294967295|w>>>15),w=C+(x^k&(V^x))+M[11]+2304563134&4294967295,C=k+(w<<22&4294967295|w>>>10),w=x+(V^C&(k^V))+M[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=V+(k^x&(C^k))+M[13]+4254626195&4294967295,V=x+(w<<12&4294967295|w>>>20),w=k+(C^V&(x^C))+M[14]+2792965006&4294967295,k=V+(w<<17&4294967295|w>>>15),w=C+(x^k&(V^x))+M[15]+1236535329&4294967295,C=k+(w<<22&4294967295|w>>>10),w=x+(k^V&(C^k))+M[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^k&(x^C))+M[6]+3225465664&4294967295,V=x+(w<<9&4294967295|w>>>23),w=k+(x^C&(V^x))+M[11]+643717713&4294967295,k=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(k^V))+M[0]+3921069994&4294967295,C=k+(w<<20&4294967295|w>>>12),w=x+(k^V&(C^k))+M[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^k&(x^C))+M[10]+38016083&4294967295,V=x+(w<<9&4294967295|w>>>23),w=k+(x^C&(V^x))+M[15]+3634488961&4294967295,k=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(k^V))+M[4]+3889429448&4294967295,C=k+(w<<20&4294967295|w>>>12),w=x+(k^V&(C^k))+M[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^k&(x^C))+M[14]+3275163606&4294967295,V=x+(w<<9&4294967295|w>>>23),w=k+(x^C&(V^x))+M[3]+4107603335&4294967295,k=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(k^V))+M[8]+1163531501&4294967295,C=k+(w<<20&4294967295|w>>>12),w=x+(k^V&(C^k))+M[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=V+(C^k&(x^C))+M[2]+4243563512&4294967295,V=x+(w<<9&4294967295|w>>>23),w=k+(x^C&(V^x))+M[7]+1735328473&4294967295,k=V+(w<<14&4294967295|w>>>18),w=C+(V^x&(k^V))+M[12]+2368359562&4294967295,C=k+(w<<20&4294967295|w>>>12),w=x+(C^k^V)+M[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^k)+M[8]+2272392833&4294967295,V=x+(w<<11&4294967295|w>>>21),w=k+(V^x^C)+M[11]+1839030562&4294967295,k=V+(w<<16&4294967295|w>>>16),w=C+(k^V^x)+M[14]+4259657740&4294967295,C=k+(w<<23&4294967295|w>>>9),w=x+(C^k^V)+M[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^k)+M[4]+1272893353&4294967295,V=x+(w<<11&4294967295|w>>>21),w=k+(V^x^C)+M[7]+4139469664&4294967295,k=V+(w<<16&4294967295|w>>>16),w=C+(k^V^x)+M[10]+3200236656&4294967295,C=k+(w<<23&4294967295|w>>>9),w=x+(C^k^V)+M[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^k)+M[0]+3936430074&4294967295,V=x+(w<<11&4294967295|w>>>21),w=k+(V^x^C)+M[3]+3572445317&4294967295,k=V+(w<<16&4294967295|w>>>16),w=C+(k^V^x)+M[6]+76029189&4294967295,C=k+(w<<23&4294967295|w>>>9),w=x+(C^k^V)+M[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=V+(x^C^k)+M[12]+3873151461&4294967295,V=x+(w<<11&4294967295|w>>>21),w=k+(V^x^C)+M[15]+530742520&4294967295,k=V+(w<<16&4294967295|w>>>16),w=C+(k^V^x)+M[2]+3299628645&4294967295,C=k+(w<<23&4294967295|w>>>9),w=x+(k^(C|~V))+M[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~k))+M[7]+1126891415&4294967295,V=x+(w<<10&4294967295|w>>>22),w=k+(x^(V|~C))+M[14]+2878612391&4294967295,k=V+(w<<15&4294967295|w>>>17),w=C+(V^(k|~x))+M[5]+4237533241&4294967295,C=k+(w<<21&4294967295|w>>>11),w=x+(k^(C|~V))+M[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~k))+M[3]+2399980690&4294967295,V=x+(w<<10&4294967295|w>>>22),w=k+(x^(V|~C))+M[10]+4293915773&4294967295,k=V+(w<<15&4294967295|w>>>17),w=C+(V^(k|~x))+M[1]+2240044497&4294967295,C=k+(w<<21&4294967295|w>>>11),w=x+(k^(C|~V))+M[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~k))+M[15]+4264355552&4294967295,V=x+(w<<10&4294967295|w>>>22),w=k+(x^(V|~C))+M[6]+2734768916&4294967295,k=V+(w<<15&4294967295|w>>>17),w=C+(V^(k|~x))+M[13]+1309151649&4294967295,C=k+(w<<21&4294967295|w>>>11),w=x+(k^(C|~V))+M[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=V+(C^(x|~k))+M[11]+3174756917&4294967295,V=x+(w<<10&4294967295|w>>>22),w=k+(x^(V|~C))+M[2]+718787259&4294967295,k=V+(w<<15&4294967295|w>>>17),w=C+(V^(k|~x))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(k+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+V&4294967295}a.prototype.v=function(N,x){x===void 0&&(x=N.length);const C=x-this.blockSize,M=this.C;let k=this.h,V=0;for(;V<x;){if(k==0)for(;V<=C;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<x;)if(M[k++]=N.charCodeAt(V++),k==this.blockSize){o(this,M),k=0;break}}else for(;V<x;)if(M[k++]=N[V++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=x},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;x=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=x&255,x/=256;for(this.v(N),N=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)N[x++]=this.g[C]>>>M&255;return N};function c(N,x){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function d(N,x){this.h=x;const C=[];let M=!0;for(let k=N.length-1;k>=0;k--){const V=N[k]|0;M&&V==x||(C[k]=V,M=!1)}this.g=C}var g={};function _(N){return-128<=N&&N<128?c(N,function(x){return new d([x|0],x<0?-1:0)}):new d([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return z(p(-N));const x=[];let C=1;for(let M=0;N>=C;M++)x[M]=N/C|0,C*=4294967296;return new d(x,0)}function T(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return z(T(N.substring(1),x));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(x,8));let M=S;for(let V=0;V<N.length;V+=8){var k=Math.min(8,N.length-V);const w=parseInt(N.substring(V,V+k),x);k<8?(k=p(Math.pow(x,k)),M=M.j(k).add(p(w))):(M=M.j(C),M=M.add(p(w)))}return M}var S=_(0),I=_(1),F=_(16777216);s=d.prototype,s.m=function(){if(ne(this))return-z(this).m();let N=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);N+=(M>=0?M:4294967296+M)*x,x*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(ne(this))return"-"+z(this).toString(N);const x=p(Math.pow(N,6));var C=this;let M="";for(;;){const k=Ie(C,x).g;C=se(C,k.j(x));let V=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=k,Z(C))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function ne(N){return N.h==-1}s.l=function(N){return N=se(this,N),ne(N)?-1:Z(N)?0:1};function z(N){const x=N.g.length,C=[];for(let M=0;M<x;M++)C[M]=~N.g[M];return new d(C,~N.h).add(I)}s.abs=function(){return ne(this)?z(this):this},s.add=function(N){const x=Math.max(this.g.length,N.g.length),C=[];let M=0;for(let k=0;k<=x;k++){let V=M+(this.i(k)&65535)+(N.i(k)&65535),w=(V>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=w>>>16,V&=65535,w&=65535,C[k]=w<<16|V}return new d(C,C[C.length-1]&-2147483648?-1:0)};function se(N,x){return N.add(z(x))}s.j=function(N){if(Z(this)||Z(N))return S;if(ne(this))return ne(N)?z(this).j(z(N)):z(z(this).j(N));if(ne(N))return z(this.j(z(N)));if(this.l(F)<0&&N.l(F)<0)return p(this.m()*N.m());const x=this.g.length+N.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<N.g.length;k++){const V=this.i(M)>>>16,w=this.i(M)&65535,ot=N.i(k)>>>16,bt=N.i(k)&65535;C[2*M+2*k]+=w*bt,oe(C,2*M+2*k),C[2*M+2*k+1]+=V*bt,oe(C,2*M+2*k+1),C[2*M+2*k+1]+=w*ot,oe(C,2*M+2*k+1),C[2*M+2*k+2]+=V*ot,oe(C,2*M+2*k+2)}for(N=0;N<x;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=x;N<2*x;N++)C[N]=0;return new d(C,0)};function oe(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function he(N,x){this.g=N,this.h=x}function Ie(N,x){if(Z(x))throw Error("division by zero");if(Z(N))return new he(S,S);if(ne(N))return x=Ie(z(N),x),new he(z(x.g),z(x.h));if(ne(x))return x=Ie(N,z(x)),new he(z(x.g),x.h);if(N.g.length>30){if(ne(N)||ne(x))throw Error("slowDivide_ only works with positive integers.");for(var C=I,M=x;M.l(N)<=0;)C=ze(C),M=ze(M);var k=Be(C,1),V=Be(M,1);for(M=Be(M,2),C=Be(C,2);!Z(M);){var w=V.add(M);w.l(N)<=0&&(k=k.add(C),V=w),M=Be(M,1),C=Be(C,1)}return x=se(N,k.j(x)),new he(k,x)}for(k=S;N.l(x)>=0;){for(C=Math.max(1,Math.floor(N.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=p(C),w=V.j(x);ne(w)||w.l(N)>0;)C-=M,V=p(C),w=V.j(x);Z(V)&&(V=I),k=k.add(V),N=se(N,w)}return new he(k,N)}s.B=function(N){return Ie(this,N).h},s.and=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},s.or=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},s.xor=function(N){const x=Math.max(this.g.length,N.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function ze(N){const x=N.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function Be(N,x){const C=x>>5;x%=32;const M=N.g.length-C,k=[];for(let V=0;V<M;V++)k[V]=x>0?N.i(V+C)>>>x|N.i(V+C+1)<<32-x:N.i(V+C);return new d(k,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,bb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=T,ur=d}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Eb,Io,Tb,qc,cm,Ab,Sb,xb;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break e;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function T(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var ee=Array(arguments.length-2),we=2;we<arguments.length;we++)ee[we-2]=arguments[we];return m.prototype[L].apply(A,ee)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function Z(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let ee=0;ee<q;ee++)u[v+ee]=L[ee]}else u.push(L)}}class ne{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function z(u){d.setTimeout(()=>{throw u},0)}function se(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,v){const A=he.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new ne(()=>new Ie,u=>u.reset());class Ie{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,Be=!1,N=new oe,x=()=>{const u=Promise.resolve(void 0);ze=()=>{u.then(C)}};function C(){for(var u;u=se();){try{u.h.call(u.g)}catch(v){z(v)}var m=he;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Be=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ot(u,m){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ot,k),ot.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ot.Z.h.call(this)},ot.prototype.h=function(){ot.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),G=0;function ie(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Qe(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function re(u){this.src=u,this.g={},this.h=0}re.prototype.add=function(u,m,v,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const ee=Se(u,m,A,L);return ee>-1?(m=u[ee],v||(m.fa=!1)):(m=new ie(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function ye(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(fe(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Se(u,m,v,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var be="closure_lm_"+(Math.random()*1e6|0),At={};function $e(u,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)$e(u,m[q],v,A,L);return null}return v=br(v),u&&u[bt]?u.J(m,v,g(A)?!!A.capture:!1,L):mi(u,m,v,!1,A,L)}function mi(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");const ee=g(L)?!!L.capture:!!L;let we=Zn(u);if(we||(u[be]=we=new re(u)),v=we.add(m,v,A,ee,q),v.proxy)return v;if(A=un(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)V||(L=ee),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(qt(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function un(){function u(v){return m.call(u.src,u.listener,v)}const m=vr;return u}function yn(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)yn(u,m[q],v,A,L);else A=g(A)?!!A.capture:!!A,v=br(v),u&&u[bt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Se(m,v,A,L),v>-1&&(fe(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Zn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Se(m,v,A,L)),(v=u>-1?m[u]:null)&&$t(v))}function $t(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[bt])ye(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(qt(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Zn(m))?(ye(v,u),v.h==0&&(v.src=null,m[be]=null)):fe(u)}}}function qt(u){return u in At?At[u]:At[u]="on"+u}function vr(u,m){if(u.da)u=!0;else{m=new ot(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&$t(u),u=v.call(A,m)}return u}function Zn(u){return u=u[be],u instanceof re?u:null}var Yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function br(u){return typeof u=="function"?u:(u[Yi]||(u[Yi]=function(m){return u.handleEvent(m)}),u[Yi])}function mt(){M.call(this),this.i=new re(this),this.M=this,this.G=null}S(mt,M),mt.prototype[bt]=!0,mt.prototype.removeEventListener=function(u,m,v,A){yn(this,u,m,v,A)};function St(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new k(m,u);else if(m instanceof k)m.target=m.target||u;else{var L=m;m=new k(A,u),W(m,L)}L=!0;let q,ee;if(v)for(ee=v.length-1;ee>=0;ee--)q=m.g=v[ee],L=gi(q,A,!0,m)&&L;if(q=m.g=u,L=gi(q,A,!0,m)&&L,L=gi(q,A,!1,m)&&L,v)for(ee=0;ee<v.length;ee++)q=m.g=v[ee],L=gi(q,A,!1,m)&&L}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)fe(v[A]);delete u.g[m],u.h--}}this.G=null},mt.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},mt.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function gi(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const ee=m[q];if(ee&&!ee.da&&ee.capture==v){const we=ee.listener,wt=ee.ha||ee.src;ee.fa&&ye(u.i,ee),L=we.call(wt,A)!==!1&&L}}return L&&!A.defaultPrevented}function da(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Er(u){u.g=da(()=>{u.g=null,u.i&&(u.i=!1,Er(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Jt extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xi(u){M.call(this),this.h=u,this.g={}}S(Xi,M);var te=[];function me(u){Oe(u.g,function(m,v){this.g.hasOwnProperty(v)&&$t(m)},u),u.g={}}Xi.prototype.N=function(){Xi.Z.N.call(this),me(this)},Xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=d.JSON.stringify,ut=d.JSON.parse,xt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function It(){}function tt(){}var at={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){k.call(this,"d")}S(Me,k);function gt(){k.call(this,"c")}S(gt,k);var _t={},Zt=null;function pi(){return Zt=Zt||new mt}_t.Ia="serverreachability";function ma(u){k.call(this,_t.Ia,u)}S(ma,k);function yi(u){const m=pi();St(m,new ma(m))}_t.STAT_EVENT="statevent";function Tr(u,m){k.call(this,_t.STAT_EVENT,u),this.stat=m}S(Tr,k);function kt(u){const m=pi();St(m,new Tr(m,u))}_t.Ja="timingevent";function _i(u,m){k.call(this,_t.Ja,u),this.size=m}S(_i,k);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Lh(u,m,v,A,L,q){u.info(function(){if(u.g)if(q){var ee="",we=q.split("&");for(let Ye=0;Ye<we.length;Ye++){var wt=we[Ye].split("=");if(wt.length>1){const pt=wt[0];wt=wt[1];const zn=pt.split("_");ee=zn.length>=2&&zn[1]=="type"?ee+(pt+"="+wt+"&"):ee+(pt+"=redacted&")}}}else ee=null;else ee=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+ee})}function au(u,m,v,A,L,q,ee){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+ee})}function bi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(A?" "+A:"")})}function Ar(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ee=1;ee<A.length;ee++)A[ee]=""}}}}return Ne(q)}catch{return m}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function xr(){}S(xr,It),xr.prototype.g=function(){return new XMLHttpRequest},Rl=new xr;function $i(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function Ei(u,m,v){u.M=1,u.A=wr(Mt(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Ti(u),u.B=Mt(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),va(v.i,"t",A),u.C=0,v=u.j.L,u.h=new ti,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Jt(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(te[0]=L.toString()),L=te);for(let q=0;q<L.length;q++){const ee=$e(v,L[q],A||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Lh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)e:{const we=si(this.g),wt=this.g.ya(),Ye=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Wt(this.g)))){this.K||we!=4||wt==7||(wt==8||Ye<=0?yi(3):yi(2)),Ai(this);var m=this.g.ca();this.X=m;var v=Uh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,we,m),this.o){if(this.U&&!this.L){t:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(A)){var q=A;break t}}q=null}if(u=q)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,kt(12),Rn(this),Ln(this);break e}}if(this.R){u=!0;let pt;for(;!this.K&&this.C<v.length;)if(pt=uu(this,v),pt==Kt){we==4&&(this.m=4,kt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(pt==Dt){this.m=4,kt(15),bi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,pt,null),Si(this,pt);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,kt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,v,"[Invalid Chunked Response]"),Rn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var ee=this.j;ee.g==this&&ee.aa&&!ee.P&&(ee.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),ql(ee),ee.P=!0,kt(11))}}else bi(this.i,this.l,v,null),Si(this,v);we==4&&Rn(this),this.o&&!this.K&&(we==4?_u(this.j,this):(this.o=!1,Ti(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),Rn(this),Ln(this)}}}catch{}};function Uh(u){if(!ou(u))return u.g.la();const m=Wt(u.g);if(m==="")return"";let v="";const A=m.length,L=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Rn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Kt:(v=Number(m.substring(v,A)),isNaN(v)?Dt:(A+=1,A+v>m.length?Kt:(m=m.slice(A,A+v),u.C=A+v,m)))}ei.prototype.cancel=function(){this.K=!0,Rn(this)};function Ti(u){u.T=Date.now()+u.H,pa(u,u.H)}function pa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(p(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(yi(),kt(17)),Rn(this),this.m=2,Ln(this)):pa(this,this.T-u)};function Ln(u){u.j.I==0||u.K||_u(u.j,u)}function Rn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,me(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Sa(v),Is(v);else break e;Or(v),kt(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(p(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&Sa(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ye=L[m];const pt=Ye[0];if(!(pt<=v.K))if(v.K=pt,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const zn=Ye[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Oi=Ye[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ri=Ye[5];ri!=null&&typeof ri=="number"&&ri>0&&(A=1.5*ri,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ai=u.g;if(ai){const Mr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mr){var q=A.h;q.g||Mr.indexOf("spdy")==-1&&Mr.indexOf("quic")==-1&&Mr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Il(q,q.h),q.h=null))}if(A.G){const xa=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(A.wa=xa,Ze(A.J,A.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var ee=u;if(A.na=Eu(A,A.L?A.ba:null,A.W),ee.L){kl(A.h,ee);var we=ee,wt=A.O;wt&&(we.H=wt),we.D&&(Ai(we),Ti(we)),A.g=ee}else pu(A);v.i.length>0&&ki(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Di(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Di(v,7):zl(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}yi(4)}catch{}}var Ot=class{constructor(u,m){this.g=u,this.map=m}};function Cl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function kl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Cl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Dl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,q=null;A>=0?(L=u[v].substring(0,A),q=u[v].substring(A+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Qt(this,u.j),this.o=u.o,this.g=u.g,As(this,u.u),this.h=u.h,Ol(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,Qt(this,m[1]||"",!0),this.o=Ri(m[2]||""),this.g=Ri(m[3]||"",!0),As(this,m[4]),this.h=Ri(m[5]||"",!0),Ol(this,m[6]||"",!0),this.m=Ri(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,_a,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,_a,!0),"@"),u.push($i(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Ml:hu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,fu)),u.join("")},Cn.prototype.resolve=function(u){const m=Mt(this);let v=!!u.j;v?Qt(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)As(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let ee=0;ee<L.length;){const we=L[ee++];we=="."?A&&ee==L.length&&q.push(""):we==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&ee==L.length&&q.push("")):(q.push(we),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Ol(m,mu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Mt(u){return new Cn(u)}function Qt(u,m,v){u.j=v?Ri(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function As(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ol(u,m,v){m instanceof xs?(u.i=m,ba(u.i,u.l)):(v||(m=Rr(m,Ss)),u.i=new xs(m,u.l))}function Ze(u,m,v){u.i.set(m,v)}function wr(u){return Ze(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,_n),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _n(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _a=/[#\/\?@]/g,hu=/[#\?:]/g,Ml=/[#\?]/g,Ss=/[#\?@]/g,fu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function vn(u){u.g||(u.g=new Map,u.h=0,u.i&&ya(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=xs.prototype,s.add=function(u,m){vn(this),this.i=null,u=ws(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function du(u,m){vn(u),m=ws(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Vl(u,m){return vn(u),m=ws(u,m),u.g.has(m)}s.forEach=function(u,m){vn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function jl(u,m){vn(u);let v=[];if(typeof m=="string")Vl(u,m)&&(v=v.concat(u.g.get(ws(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return vn(this),this.i=null,u=ws(this,u),Vl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=jl(this,u),u.length>0?String(u[0]):m):m};function va(u,m,v){du(u,m),v.length>0&&(u.i=null,u.g.set(ws(u,m),F(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=$i(v);v=jl(this,v);for(let q=0;q<v.length;q++){let ee=L;v[q]!==""&&(ee+="="+$i(v[q])),u.push(ee)}}return this.i=u.join("&")};function mu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ws(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ba(u,m){m&&!u.j&&(vn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(du(this,A),va(this,L,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const A=new Image;A.onload=T(Pn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=T(Pn,v,"TestLoadImage: error",!1,m,A),A.onabort=T(Pn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=T(Pn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ll(u,m){const v=new Wn,A=new AbortController,L=setTimeout(()=>{A.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function Rs(){this.g=new xt}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,It),Ci.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,m){mt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Cr,mt),s=Cr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ea(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ea(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cs(this):ii(this),this.readyState==3&&Ea(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Cs(this))},s.Na=function(u){this.g&&(this.response=u,Cs(this))},s.ga=function(){this.g&&Cs(this)};function Cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Oe(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Nr(u,m,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Un(v),typeof u=="string"?v!=null&&$i(v):Ze(u,m,v))}function nt(u){mt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(nt,mt);var Ni=/^https?$/i,Pl=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ir(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Pl,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ee]of v)this.g.setRequestHeader(q,ee);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ir(this,q)}};function Ir(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ul(u),Ji(u)}function Ul(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,St(this,"complete"),St(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},s.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(St(u,"readystatechange"),si(u)==4){u.h=!1;try{const q=u.ca();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let ee=String(u.D).match(cu)[1]||null;!ee&&d.self&&d.self.location&&(ee=d.self.location.protocol.slice(0,-1)),A=!Ni.test(ee?ee.toLowerCase():"")}v=A}if(v)St(u,"complete"),St(u,"success");else{u.o=6;try{var L=si(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Ul(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||St(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ut(m)}};function Wt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(w(u[A]))continue;var v=lu(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Qe(m,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ns(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(u&&u.concurrentRequestLimit),this.Ba=new Rs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,A){kt(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Eu(this,null,this.W),ki(this)};function zl(u){if(Ta(u),u.I==3){var m=u.V++,v=Mt(u.J);if(Ze(v,"SID",u.M),Ze(v,"RID",m),Ze(v,"TYPE","terminate"),Dr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=wr(Mt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}bu(u)}function Is(u){u.g&&(ql(u),u.g.cancel(),u.g=null)}function Ta(u){Is(u),u.v&&(d.clearTimeout(u.v),u.v=null),Sa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!Nl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ze||x(),Be||(ze(),Be=!0),N.add(m,u),u.D=0}}function Aa(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(p(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new ei(this,this.j,u);let q=this.o;if(this.U&&(q?(q=O(q),W(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=gu(this,L,m),v=Mt(this.J),Ze(v,"RID",u),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),Dr(this,v),q&&(this.R?m="headers="+$i(Un(q))+"&"+m:this.u&&Nr(v,this.u,q)),Il(this.h,L),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",m),Ze(v,"SID","null"),L.U=!0,Ei(L,v,null)):Ei(L,v,m),this.I=2}}else this.I==3&&(u?Bl(this,u):this.i.length==0||Nl(this.h)||Bl(this))};function Bl(u,m){var v;m?v=m.l:v=u.V++;const A=Mt(u.J);Ze(A,"SID",u.M),Ze(A,"RID",v),Ze(A,"AID",u.K),Dr(u,A),u.u&&u.o&&Nr(A,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,v),Ei(v,A,m)}function Dr(u,m){u.H&&Oe(u.H,function(v,A){Ze(m,A,v)}),u.l&&Oe({},function(v,A){Ze(m,A,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?p(u.l.Ka,u.l,u):null;e:{var L=u.i;let we=-1;for(;;){const wt=["count="+v];we==-1?v>0?(we=L[0].g,wt.push("ofs="+we)):we=0:wt.push("ofs="+we);let Ye=!0;for(let pt=0;pt<v;pt++){var q=L[pt].g;const zn=L[pt].map;if(q-=we,q<0)we=Math.max(0,L[pt].g-100),Ye=!1;else try{q="req"+q+"_"||"";try{var ee=zn instanceof Map?zn:Object.entries(zn);for(const[Oi,ri]of ee){let ai=ri;g(ri)&&(ai=Ne(ri)),wt.push(q+Oi+"="+encodeURIComponent(ai))}}catch(Oi){throw wt.push(q+"type="+encodeURIComponent("_badmap")),Oi}}catch{A&&A(zn)}}if(Ye){ee=wt.join("&");break e}}ee=void 0}return u=u.i.splice(0,v),m.G=u,ee}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ze||x(),Be||(ze(),Be=!0),N.add(m,u),u.A=0}}function Or(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(p(u.Da,u),vu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(p(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Is(this),yu(this))};function ql(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Mt(u.na);Ze(m,"RID","rpc"),Ze(m,"SID",u.M),Ze(m,"AID",u.K),Ze(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ze(m,"TO",u.ia),Ze(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Nr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=wr(Mt(m)),v.u=null,v.R=!0,ga(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Or(this),kt(19))};function Sa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var v=null;if(u.g==m){Sa(u),ql(u),u.g=null;var A=2}else if(wi(u.h,m))v=m.G,kl(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=pi(),St(A,new _i(A,v)),ki(u)}else pu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&Aa(u,m)||A==2&&Or(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function vu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),A=u.Ua;const L=!A;A=new Cn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qt(A,"https"),wr(A),L?ni(A.toString(),v):Ll(A.toString(),v)}else kt(2);u.I=0,u.l&&u.l.pa(m),bu(u),Ta(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function bu(u){if(u.I=0,u.ja=[],u.l){const m=Dl(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var A=v instanceof Cn?Mt(v):new Cn(v);if(A.g!="")m&&(A.g=m+"."+A.g),As(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new Cn(null);A&&Qt(q,A),m&&(q.g=m),L&&As(q,L),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Ze(A,v,m),Ze(A,"VER",u.ka),Dr(u,A),A}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new nt(new Ci({ab:v})):new nt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ks(){}ks.prototype.g=function(u,m){return new gn(u,m)};function gn(u,m){mt.call(this),this.g=new Ns(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}S(gn,mt),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){zl(this.g)},gn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=Ne(u),u=v);m.i.push(new Ot(m.Ya++,u)),m.I==3&&ki(m)},gn.prototype.N=function(){this.g.l=null,delete this.j,zl(this.g),delete this.g,gn.Z.N.call(this)};function Su(u){Me.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Su,Me);function xu(){gt.call(this),this.status=1}S(xu,gt);function Wi(u){this.g=u}S(Wi,Au),Wi.prototype.ra=function(){St(this.g,"a")},Wi.prototype.qa=function(u){St(this.g,new Su(u))},Wi.prototype.pa=function(u){St(this.g,new xu)},Wi.prototype.oa=function(){St(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,xb=function(){return new ks},Sb=function(){return pi()},Ab=_t,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,qc=Sr,wl.COMPLETE="complete",Tb=wl,tt.EventType=at,at.OPEN="a",at.CLOSE="b",at.ERROR="c",at.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Io=tt,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,Eb=nt}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Tl="12.9.0";function wx(s){Tl=s}const aa=new Cm("@firebase/firestore");function tl(){return aa.logLevel}function ae(s,...e){if(aa.logLevel<=Le.DEBUG){const i=e.map(Bm);aa.debug(`Firestore (${Tl}): ${s}`,...i)}}function bs(s,...e){if(aa.logLevel<=Le.ERROR){const i=e.map(Bm);aa.error(`Firestore (${Tl}): ${s}`,...i)}}function la(s,...e){if(aa.logLevel<=Le.WARN){const i=e.map(Bm);aa.warn(`Firestore (${Tl}): ${s}`,...i)}}function Bm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _e(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,wb(s,a,i)}function wb(s,e,i){let a=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function Je(s,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||wb(e,o,a)}function Ae(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ta{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class Rb{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(fn.UNAUTHENTICATED)))}shutdown(){}}class Cx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Nx{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Je(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;e.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ta)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Je(typeof a.accessToken=="string",31837,{l:a}),new Rb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class Ix{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class kx{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Ix(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class R_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Dx{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Je(this.o===void 0,3512);const a=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const o=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new R_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Je(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new R_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ox(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class qm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Ox(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(s,e){return s<e?-1:s>e?1:0}function hm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=e.charAt(a);if(o!==c)return Qd(o)===Qd(c)?Pe(o,c):Qd(o)?1:-1}return Pe(s.length,e.length)}const Mx=55296,Vx=57343;function Qd(s){const e=s.charCodeAt(0);return e>=Mx&&e<=Vx}function ml(s,e,i){return s.length===e.length&&s.every(((a,o)=>i(a,e[o])))}const C_="__name__";class Ui{constructor(e,i,a){i===void 0?i=0:i>e.length&&_e(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&_e(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=Ui.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=Ui.isNumericId(e),o=Ui.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(i)):hm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ur.fromString(e.substring(4,e.length-2))}}class ft extends Ui{construct(e,i,a){return new ft(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ce(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ft(i)}static emptyPath(){return new ft([])}}const jx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ui{construct(e,i,a){return new an(e,i,a)}static isValidIdentifier(e){return jx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new an([C_])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ce(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ce(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new ce(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(i)}static emptyPath(){return new an([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(ft.fromString(e))}static fromName(e){return new ge(ft.fromString(e).popFirst(5))}static empty(){return new ge(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ft.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new ft(e.slice()))}}function Cb(s,e,i){if(!i)throw new ce(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Lx(s,e,i,a){if(e===!0&&a===!0)throw new ce(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function N_(s){if(!ge.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function I_(s){if(ge.isDocumentKey(s))throw new ce(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Nb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":_e(12329,{type:typeof s})}function Bi(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ce(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Hm(s);throw new ce(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function zt(s,e){const i={typeString:s};return e&&(i.value=e),i}function tu(s,e){if(!Nb(s))throw new ce(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ce(J.INVALID_ARGUMENT,i);return!0}const k_=-62135596800,D_=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*D_);return new dt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ce(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<k_)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/D_}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-k_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:zt("string",dt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new dt(0,0))}static max(){return new Ee(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ho=-1;function Px(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(a===1e9?new dt(i+1,0):new dt(i,a));return new hr(o,ge.empty(),e)}function Ux(s){return new hr(s.readTime,s.key,Ho)}class hr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(Ee.min(),ge.empty(),Ho)}static max(){return new hr(Ee.max(),ge.empty(),Ho)}}function zx(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ge.comparator(s.documentKey,e.documentKey),i!==0?i:Pe(s.largestBatchId,e.largestBatchId))}const Bx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Al(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==Bx)throw s;ae("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let o=0,c=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const p=_;i(e[p]).next((T=>{d[p]=T,++g,g===c&&a(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new $(((a,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):a()};c()}))}}function Hx(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Sl(s){return s.name==="IndexedDbTransactionError"}class bh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;const Gm=-1;function Eh(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function Gx(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const Ib="";function Fx(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=O_(e)),e=Kx(s.get(i),e);return O_(e)}function Kx(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case Ib:i+="";break;default:i+=c}}return i}function O_(s){return s+Ib+""}function M_(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function yr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function kb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class vt{constructor(e,i){this.comparator=e,this.root=i||rn.EMPTY}insert(e,i){return new vt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new rn(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new rn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new V_(this.data.getIterator())}getIteratorFrom(e){return new V_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class V_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new jn([])}unionWith(e){let i=new Ft(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new jn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class Db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class on{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Db("Invalid base64 string: "+c):c}})(e);return new on(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(e);return new on(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const i=Qx.exec(s);if(Je(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Nt(s.seconds),nanos:Nt(s.nanos)}}function Nt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function dr(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}const Ob="server_timestamp",Mb="__type__",Vb="__previous_value__",jb="__local_write_time__";function Fm(s){return(s?.mapValue?.fields||{})[Mb]?.stringValue===Ob}function Th(s){const e=s.mapValue.fields[Vb];return Fm(e)?Th(e):e}function Go(s){const e=fr(s.mapValue.fields[jb].timestampValue);return new dt(e.seconds,e.nanos)}class Yx{constructor(e,i,a,o,c,d,g,_,p,T,S){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=T,this.apiKey=S}}const sh="(default)";class Fo{constructor(e,i){this.projectId=e,this.database=i||sh}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof Fo&&e.projectId===this.projectId&&e.database===this.database}}function Xx(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ce(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(s.options.projectId,e)}const Lb="__type__",$x="__max__",Dc={mapValue:{}},Pb="__vector__",rh="value";function mr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:Zx(s)?9007199254740991:Jx(s)?10:11:_e(28295,{value:s})}function Ki(s,e){if(s===e)return!0;const i=mr(s);if(i!==mr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Go(s).isEqual(Go(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=fr(o.timestampValue),g=fr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return dr(o.bytesValue).isEqual(dr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Nt(o.doubleValue),g=Nt(c.doubleValue);return d===g?ih(d)===ih(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return ml(s.arrayValue.values||[],e.arrayValue.values||[],Ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(M_(d)!==M_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ki(d[_],g[_])))return!1;return!0})(s,e);default:return _e(52216,{left:s})}}function Ko(s,e){return(s.values||[]).find((i=>Ki(i,e)))!==void 0}function gl(s,e){if(s===e)return 0;const i=mr(s),a=mr(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const g=Nt(c.integerValue||c.doubleValue),_=Nt(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,e);case 3:return j_(s.timestampValue,e.timestampValue);case 4:return j_(Go(s),Go(e));case 5:return hm(s.stringValue,e.stringValue);case 6:return(function(c,d){const g=dr(c),_=dr(d);return g.compareTo(_)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let p=0;p<g.length&&p<_.length;p++){const T=Pe(g[p],_[p]);if(T!==0)return T}return Pe(g.length,_.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const g=Pe(Nt(c.latitude),Nt(d.latitude));return g!==0?g:Pe(Nt(c.longitude),Nt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return L_(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},p=g[rh]?.arrayValue,T=_[rh]?.arrayValue,S=Pe(p?.values?.length||0,T?.values?.length||0);return S!==0?S:L_(p,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),p=d.fields||{},T=Object.keys(p);_.sort(),T.sort();for(let S=0;S<_.length&&S<T.length;++S){const I=hm(_[S],T[S]);if(I!==0)return I;const F=gl(g[_[S]],p[T[S]]);if(F!==0)return F}return Pe(_.length,T.length)})(s.mapValue,e.mapValue);default:throw _e(23264,{he:i})}}function j_(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Pe(s,e);const i=fr(s),a=fr(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function L_(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=gl(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function pl(s){return fm(s)}function fm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return dr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ge.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=fm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${fm(i.fields[d])}`;return o+"}"})(s.mapValue):_e(61005,{value:s})}function Hc(s){switch(mr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Th(s);return e?16+Hc(e):16;case 5:return 2*s.stringValue.length;case 6:return dr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return yr(a.fields,((c,d)=>{o+=c.length+Hc(d)})),o})(s.mapValue);default:throw _e(13486,{value:s})}}function dm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function P_(s){return!!s&&"nullValue"in s}function U_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function Jx(s){return(s?.mapValue?.fields||{})[Lb]?.stringValue===Pb}function Lo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return yr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Lo(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Lo(s.arrayValue.values[i]);return e}return{...s}}function Zx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$x}class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lo(i)}setAll(e){let i=an.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Lo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ki(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){yr(i,((o,c)=>e[o]=c));for(const o of a)delete e[o]}clone(){return new wn(Lo(this.value))}}function Ub(s){const e=[];return yr(s.fields,((i,a)=>{const o=new an([i]);if(Gc(a)){const c=Ub(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)})),new jn(e)}class dn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new dn(e,0,Ee.min(),Ee.min(),Ee.min(),wn.empty(),0)}static newFoundDocument(e,i,a,o){return new dn(e,1,i,Ee.min(),a,o,0)}static newNoDocument(e,i){return new dn(e,2,i,Ee.min(),Ee.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new dn(e,3,i,Ee.min(),Ee.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,i){this.position=e,this.inclusive=i}}function z_(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const c=e[o],d=s.position[o];if(c.field.isKeyField()?a=ge.comparator(ge.fromName(d.referenceValue),i.key):a=gl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function B_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ki(s.position[i],e.position[i]))return!1;return!0}class lh{constructor(e,i="asc"){this.field=e,this.dir=i}}function Wx(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class zb{}class Gt extends zb{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new tw(e,i,a):i==="array-contains"?new sw(e,a):i==="in"?new rw(e,a):i==="not-in"?new aw(e,a):i==="array-contains-any"?new lw(e,a):new Gt(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new nw(e,a):new iw(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(gl(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(gl(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qi extends zb{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Qi(e,i)}matches(e){return Bb(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bb(s){return s.op==="and"}function qb(s){return ew(s)&&Bb(s)}function ew(s){for(const e of s.filters)if(e instanceof Qi)return!1;return!0}function mm(s){if(s instanceof Gt)return s.field.canonicalString()+s.op.toString()+pl(s.value);if(qb(s))return s.filters.map((e=>mm(e))).join(",");{const e=s.filters.map((i=>mm(i))).join(",");return`${s.op}(${e})`}}function Hb(s,e){return s instanceof Gt?(function(a,o){return o instanceof Gt&&a.op===o.op&&a.field.isEqual(o.field)&&Ki(a.value,o.value)})(s,e):s instanceof Qi?(function(a,o){return o instanceof Qi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&Hb(d,o.filters[g])),!0):!1})(s,e):void _e(19439)}function Gb(s){return s instanceof Gt?(function(i){return`${i.field.canonicalString()} ${i.op} ${pl(i.value)}`})(s):s instanceof Qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Gb).join(" ,")+"}"})(s):"Filter"}class tw extends Gt{constructor(e,i,a){super(e,i,a),this.key=ge.fromName(a.referenceValue)}matches(e){const i=ge.comparator(e.key,this.key);return this.matchesComparison(i)}}class nw extends Gt{constructor(e,i){super(e,"in",i),this.keys=Fb("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class iw extends Gt{constructor(e,i){super(e,"not-in",i),this.keys=Fb("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Fb(s,e){return(e.arrayValue?.values||[]).map((i=>ge.fromName(i.referenceValue)))}class sw extends Gt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Km(i)&&Ko(i.arrayValue,this.value)}}class rw extends Gt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ko(this.value.arrayValue,i)}}class aw extends Gt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ko(this.value.arrayValue,i)}}class lw extends Gt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ko(this.value.arrayValue,a)))}}class ow{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function q_(s,e=null,i=[],a=[],o=null,c=null,d=null){return new ow(s,e,i,a,o,c,d)}function Qm(s){const e=Ae(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Eh(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>pl(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>pl(a))).join(",")),e.Te=i}return e.Te}function Ym(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Wx(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Hb(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!B_(s.startAt,e.startAt)&&B_(s.endAt,e.endAt)}function gm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ah{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uw(s,e,i,a,o,c,d,g){return new Ah(s,e,i,a,o,c,d,g)}function Xm(s){return new Ah(s)}function H_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cw(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function hw(s){return s.collectionGroup!==null}function Po(s){const e=Ae(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ft(an.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(g=g.add(p.field))}))})),g})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new lh(c,a))})),i.has(an.keyField().canonicalString())||e.Ie.push(new lh(an.keyField(),a))}return e.Ie}function qi(s){const e=Ae(s);return e.Ee||(e.Ee=fw(e,Po(s))),e.Ee}function fw(s,e){if(s.limitType==="F")return q_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new lh(o.field,c)}));const i=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return q_(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function pm(s,e,i){return new Ah(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Sh(s,e){return Ym(qi(s),qi(e))&&s.limitType===e.limitType}function Kb(s){return`${Qm(qi(s))}|lt:${s.limitType}`}function nl(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Gb(o))).join(", ")}]`),Eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>pl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>pl(o))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function xh(s,e){return e.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ge.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,o){for(const c of Po(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const p=z_(d,g,_);return d.inclusive?p<=0:p<0})(a.startAt,Po(a),o)||a.endAt&&!(function(d,g,_){const p=z_(d,g,_);return d.inclusive?p>=0:p>0})(a.endAt,Po(a),o))})(s,e)}function dw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Qb(s){return(e,i)=>{let a=!1;for(const o of Po(s)){const c=mw(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function mw(s,e,i){const a=s.field.isKeyField()?ge.comparator(e.key,i.key):(function(c,d,g){const _=d.data.field(c),p=g.data.field(c);return _!==null&&p!==null?gl(_,p):_e(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return _e(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){yr(this.inner,((i,a)=>{for(const[o,c]of a)e(o,c)}))}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}const gw=new vt(ge.comparator);function Es(){return gw}const Yb=new vt(ge.comparator);function ko(...s){let e=Yb;for(const i of s)e=e.insert(i.key,i);return e}function Xb(s){let e=Yb;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function Zr(){return Uo()}function $b(){return Uo()}function Uo(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const pw=new vt(ge.comparator),yw=new Ft(ge.comparator);function Ue(...s){let e=yw;for(const i of s)e=e.add(i);return e}const _w=new Ft(Pe);function vw(){return _w}function $m(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function Jb(s){return{integerValue:""+s}}function bw(s,e){return Gx(e)?Jb(e):$m(s,e)}class wh{constructor(){this._=void 0}}function Ew(s,e,i){return s instanceof oh?(function(o,c){const d={fields:{[Mb]:{stringValue:Ob},[jb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Fm(c)&&(c=Th(c)),c&&(d.fields[Vb]=c),{mapValue:d}})(i,e):s instanceof Qo?Wb(s,e):s instanceof Yo?e1(s,e):(function(o,c){const d=Zb(o,c),g=G_(d)+G_(o.Ae);return dm(d)&&dm(o.Ae)?Jb(g):$m(o.serializer,g)})(s,e)}function Tw(s,e,i){return s instanceof Qo?Wb(s,e):s instanceof Yo?e1(s,e):i}function Zb(s,e){return s instanceof uh?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends wh{}class Qo extends wh{constructor(e){super(),this.elements=e}}function Wb(s,e){const i=t1(e);for(const a of s.elements)i.some((o=>Ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Yo extends wh{constructor(e){super(),this.elements=e}}function e1(s,e){let i=t1(e);for(const a of s.elements)i=i.filter((o=>!Ki(o,a)));return{arrayValue:{values:i}}}class uh extends wh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function G_(s){return Nt(s.integerValue||s.doubleValue)}function t1(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Aw(s,e){return s.field.isEqual(e.field)&&(function(a,o){return a instanceof Qo&&o instanceof Qo||a instanceof Yo&&o instanceof Yo?ml(a.elements,o.elements,Ki):a instanceof uh&&o instanceof uh?Ki(a.Ae,o.Ae):a instanceof oh&&o instanceof oh})(s.transform,e.transform)}class Sw{constructor(e,i){this.version=e,this.transformResults=i}}class Jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Rh{}function n1(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Jm(s.key,Jn.none()):new nu(s.key,s.data,Jn.none());{const i=s.data,a=wn.empty();let o=new Ft(an.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new _r(s.key,a,new jn(o.toArray()),Jn.none())}}function xw(s,e,i){s instanceof nu?(function(o,c,d){const g=o.value.clone(),_=K_(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof _r?(function(o,c,d){if(!Fc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=K_(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(i1(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,e,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function zo(s,e,i,a){return s instanceof nu?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const p=c.value.clone(),T=Q_(c.fieldTransforms,_,d);return p.setAll(T),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(s,e,i,a):s instanceof _r?(function(c,d,g,_){if(!Fc(c.precondition,d))return g;const p=Q_(c.fieldTransforms,_,d),T=d.data;return T.setAll(i1(c)),T.setAll(p),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,e,i,a):(function(c,d,g){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function ww(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),c=Zb(a.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function F_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>Aw(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends Rh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _r extends Rh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function i1(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function K_(s,e,i){const a=new Map;Je(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,Tw(d,g,i[o]))}return a}function Q_(s,e,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Ew(c,d,e))}return a}class Jm extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rw extends Rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Cw{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&xw(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=zo(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=$b();return this.mutations.forEach((o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=n1(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ee.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((i,a)=>F_(i,a)))&&ml(this.baseMutations,e.baseMutations,((i,a)=>F_(i,a)))}}class Zm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){Je(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return pw})();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Zm(e,i,a,o)}}class Nw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Iw{constructor(e,i){this.count=e,this.unchangedNames=i}}var Ut,Ge;function kw(s){switch(s){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:s})}}function s1(s){if(s===void 0)return bs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ut.OK:return J.OK;case Ut.CANCELLED:return J.CANCELLED;case Ut.UNKNOWN:return J.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return J.INTERNAL;case Ut.UNAVAILABLE:return J.UNAVAILABLE;case Ut.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ut.NOT_FOUND:return J.NOT_FOUND;case Ut.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ut.ABORTED:return J.ABORTED;case Ut.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ut.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:s})}}(Ge=Ut||(Ut={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function Dw(){return new TextEncoder}const Ow=new ur([4294967295,4294967295],0);function Y_(s){const e=Dw().encode(s),i=new bb;return i.update(e),new Uint8Array(i.digest())}function X_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ur([i,a],0),new ur([o,c],0)]}class Wm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Do(`Invalid padding: ${i}`);if(a<0)throw new Do(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Do(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Do(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ur.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(ur.fromNumber(a)));return o.compare(Ow)===1&&(o=new ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Y_(e),[a,o]=X_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Wm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=Y_(e),[a,o]=X_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.be(d)}}be(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Do extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(e,i,a,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Ch(Ee.min(),o,new vt(Pe),Es(),Ue())}}class iu{constructor(e,i,a,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new iu(a,i,Ue(),Ue(),Ue())}}class Kc{constructor(e,i,a,o){this.Se=e,this.removedTargetIds=i,this.key=a,this.De=o}}class r1{constructor(e,i){this.targetId=e,this.Ce=i}}class a1{constructor(e,i,a=on.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class $_{constructor(){this.ve=0,this.Fe=J_(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),i=Ue(),a=Ue();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:_e(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,i,a)}Ke(){this.Oe=!1,this.Fe=J_()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Mw{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.He=Oc(),this.Je=Oc(),this.Ze=new vt(Pe)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gm(c))if(a===0){const d=new ge(c.path);this.et(i,d,dn.newNoDocument(d,Ee.min()))}else Je(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),_=g?this.ct(g,e,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,p)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=dr(a).toUint8Array()}catch(_){if(_ instanceof Db)return la("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Wm(d,o,c)}catch(_){return la(_ instanceof Do?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&gm(g.target)){const _=new ge(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,dn.newNoDocument(_,e))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Ue();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const o=new Ch(e,i,this.Ze,this.je,a);return this.je=Es(),this.He=Oc(),this.Je=Oc(),this.Ze=new vt(Pe),o}Ye(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.qe(i,1):o.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new $_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new Ft(Pe),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new Ft(Pe),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ae("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new $_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Oc(){return new vt(ge.comparator)}function J_(){return new vt(ge.comparator)}const Vw={asc:"ASCENDING",desc:"DESCENDING"},jw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lw={and:"AND",or:"OR"};class Pw{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function ym(s,e){return s.useProto3Json||Eh(e)?e:{value:e}}function ch(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l1(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Uw(s,e){return ch(s,e.toTimestamp())}function Hi(s){return Je(!!s,49232),Ee.fromTimestamp((function(i){const a=fr(i);return new dt(a.seconds,a.nanos)})(s))}function eg(s,e){return _m(s,e).canonicalString()}function _m(s,e){const i=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function o1(s){const e=ft.fromString(s);return Je(d1(e),10190,{key:e.toString()}),e}function vm(s,e){return eg(s.databaseId,e.path)}function Yd(s,e){const i=o1(e);if(i.get(1)!==s.databaseId.projectId)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ce(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ge(c1(i))}function u1(s,e){return eg(s.databaseId,e)}function zw(s){const e=o1(s);return e.length===4?ft.emptyPath():c1(e)}function bm(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function c1(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Z_(s,e,i){return{name:vm(s,e),fields:i.value.mapValue.fields}}function Bw(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:_e(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(p,T){return p.useProto3Json?(Je(T===void 0||typeof T=="string",58123),on.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),on.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(p){const T=p.code===void 0?J.UNKNOWN:s1(p.code);return new ce(T,p.message||"")})(d);i=new a1(a,o,c,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Yd(s,a.document.name),c=Hi(a.document.updateTime),d=a.document.createTime?Hi(a.document.createTime):Ee.min(),g=new wn({mapValue:{fields:a.document.fields}}),_=dn.newFoundDocument(o,c,d,g),p=a.targetIds||[],T=a.removedTargetIds||[];i=new Kc(p,T,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Yd(s,a.document),c=a.readTime?Hi(a.readTime):Ee.min(),d=dn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Yd(s,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Iw(o,c),g=a.targetId;i=new r1(g,d)}}return i}function qw(s,e){let i;if(e instanceof nu)i={update:Z_(s,e.key,e.value)};else if(e instanceof Jm)i={delete:vm(s,e.key)};else if(e instanceof _r)i={update:Z_(s,e.key,e.data),updateMask:Jw(e.fieldMask)};else{if(!(e instanceof Rw))return _e(16599,{dt:e.type});i={verify:vm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof uh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _e(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Uw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(s,e.precondition)),i}function Hw(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Hi(o.updateTime):Hi(c);return d.isEqual(Ee.min())&&(d=Hi(c)),new Sw(d,o.transformResults||[])})(i,e)))):[]}function Gw(s,e){return{documents:[u1(s,e.path)]}}function Fw(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=u1(s,o);const c=(function(p){if(p.length!==0)return f1(Qi.create(p,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((T=>(function(I){return{field:il(I.field),direction:Yw(I.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ym(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:i,parent:o}}function Kw(s){let e=zw(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Je(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=(function(S){const I=h1(S);return I instanceof Qi&&qb(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((I=>(function(Z){return new lh(sl(Z.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let I;return I=typeof S=="object"?S.value:S,Eh(I)?null:I})(i.limit));let _=null;i.startAt&&(_=(function(S){const I=!!S.before,F=S.values||[];return new ah(F,I)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const I=!S.before,F=S.values||[];return new ah(F,I)})(i.endAt)),uw(e,o,d,c,g,"F",_,p)}function Qw(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function h1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=sl(i.unaryFilter.field);return Gt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=sl(i.unaryFilter.field);return Gt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=sl(i.unaryFilter.field);return Gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=sl(i.unaryFilter.field);return Gt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Gt.create(sl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Qi.create(i.compositeFilter.filters.map((a=>h1(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(i.compositeFilter.op))})(s):_e(30097,{filter:s})}function Yw(s){return Vw[s]}function Xw(s){return jw[s]}function $w(s){return Lw[s]}function il(s){return{fieldPath:s.canonicalString()}}function sl(s){return an.fromServerFormat(s.fieldPath)}function f1(s){return s instanceof Gt?(function(i){if(i.op==="=="){if(U_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:il(i.field),op:Xw(i.op),value:i.value}}})(s):s instanceof Qi?(function(i){const a=i.getFilters().map((o=>f1(o)));return a.length===1?a[0]:{compositeFilter:{op:$w(i.op),filters:a}}})(s):_e(54877,{filter:s})}function Jw(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function d1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function m1(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class rr{constructor(e,i,a,o,c=Ee.min(),d=Ee.min(),g=on.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Zw{constructor(e){this.yt=e}}function Ww(s){const e=Kw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?pm(e,e.limit,"L"):e}class eR{constructor(){this.Sn=new tR}addToCollectionParentIndex(e,i){return this.Sn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(hr.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(hr.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class tR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ft(ft.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}const W_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g1=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(g1,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class yl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yl(0)}static ar(){return new yl(-1)}}const ev="LruGarbageCollector",nR=1048576;function tv([s,e],[i,a]){const o=Pe(s,i);return o===0?Pe(e,a):o}class iR{constructor(e){this.Pr=e,this.buffer=new Ft(tv),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();tv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sR{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ae(ev,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Sl(i)?ae(ev,"Ignoring IndexedDB error during garbage collection: ",i):await Al(i)}await this.Ar(3e5)}))}}class rR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(bh.ce);const a=new iR(i);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.Vr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(W_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let a,o,c,d,g,_,p;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(e,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(e,a)))).next((S=>(p=Date.now(),tl()<=Le.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-T}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function aR(s,e){return new rR(s,e)}class lR{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class uR{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&zo(a.mutation,o,jn.empty(),dt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ue()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ue()){const o=Zr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((c=>{let d=ko();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=Zr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ue())))}populateOverlays(e,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let c=Es();const d=Uo(),g=(function(){return Uo()})();return i.forEach(((_,p)=>{const T=a.get(p.key);o.has(p.key)&&(T===void 0||T.mutation instanceof _r)?c=c.insert(p.key,p):T!==void 0?(d.set(p.key,T.mutation.getFieldMask()),zo(T.mutation,p,T.mutation.getFieldMask(),dt.now())):d.set(p.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((_=>(_.forEach(((p,T)=>d.set(p,T))),i.forEach(((p,T)=>g.set(p,new oR(T,d.get(p)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=Uo();let o=new vt(((d,g)=>d-g)),c=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let T=a.get(_)||jn.empty();T=g.applyToLocalView(p,T),a.set(_,T);const S=(o.get(g.batchId)||Ue()).add(_);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),p=_.key,T=_.value,S=$b();T.forEach((I=>{if(!c.has(I)){const F=n1(i.get(I),a.get(I));F!==null&&S.set(I,F),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(e,p,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return cw(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hw(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):$.resolve(Zr());let g=Ho,_=c;return d.next((p=>$.forEach(p,((T,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(T)?$.resolve():this.remoteDocumentCache.getEntry(e,T).next((I=>{_=_.insert(T,I)}))))).next((()=>this.populateOverlays(e,p,c))).next((()=>this.computeViews(e,_,p,Ue()))).next((T=>({batchId:g,changes:Xb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ge(i)).next((a=>{let o=ko();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=ko();return this.indexManager.getCollectionParents(e,c).next((g=>$.forEach(g,(_=>{const p=(function(S,I){return new Ah(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,a,o).next((T=>{T.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o)))).next((d=>{c.forEach(((_,p)=>{const T=p.getKey();d.get(T)===null&&(d=d.insert(T,dn.newInvalidDocument(T)))}));let g=ko();return d.forEach(((_,p)=>{const T=c.get(_);T!==void 0&&zo(T.mutation,p,jn.empty(),dt.now()),xh(i,p)&&(g=g.insert(_,p))})),g}))}}class cR{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return $.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(o){return{name:o.name,query:Ww(o.bundledQuery),readTime:Hi(o.readTime)}})(i)),$.resolve()}}class hR{constructor(){this.overlays=new vt(ge.comparator),this.Lr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=Zr();return $.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,c)=>{this.bt(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const o=Zr(),c=i.length+1,d=new ge(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new vt(((p,T)=>p-T));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let T=c.get(p.largestBatchId);T===null&&(T=Zr(),c=c.insert(p.largestBatchId,T)),T.set(p.getKey(),p)}}const g=Zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,T)=>g.set(p,T))),!(g.size()>=o)););return $.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Nw(i,a));let c=this.Lr.get(i);c===void 0&&(c=Ue(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class fR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class tg{constructor(){this.kr=new Ft(Xt.Kr),this.qr=new Ft(Xt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const a=new Xt(e,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Wr(new Xt(e,i))}Qr(e,i){e.forEach((a=>this.removeReference(a,i)))}Gr(e){const i=new ge(new ft([])),a=new Xt(i,e),o=new Xt(i,e+1),c=[];return this.qr.forEachInRange([a,o],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new ge(new ft([])),a=new Xt(i,e),o=new Xt(i,e+1);let c=Ue();return this.qr.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new Xt(e,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Xt{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return ge.comparator(e.key,i.key)||Pe(e.Hr,i.Hr)}static Ur(e,i){return Pe(e.Hr,i.Hr)||ge.comparator(e.key,i.key)}}class dR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Ft(Xt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Cw(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Jr=this.Jr.add(new Xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Xr(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Gm:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Xt(i,0),o=new Xt(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,o],(d=>{const g=this.Zr(d.Hr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ft(Pe);return i.forEach((o=>{const c=new Xt(o,0),d=new Xt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),$.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;ge.isDocumentKey(c)||(c=c.child(""));const d=new Xt(new ge(c),0);let g=new Ft(Pe);return this.Jr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(g=g.add(_.Hr)),!0)}),d),$.resolve(this.Yr(g))}Yr(e){const i=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Je(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return $.forEach(i.mutations,(o=>{const c=new Xt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,i){const a=new Xt(i,0),o=this.Jr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mR{constructor(e){this.ti=e,this.docs=(function(){return new vt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():dn.newInvalidDocument(i))}getEntries(e,i){let a=Es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():dn.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Es();const d=i.path,g=new ge(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:p,value:{document:T}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||zx(Ux(T),a)<=0||(o.has(T.key)||xh(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,o){_e(9500)}ni(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new gR(this)}getSize(e){return $.resolve(this.size)}}class gR extends lR{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class pR{constructor(e){this.persistence=e,this.ri=new ha((i=>Qm(i)),Ym),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.ii=0,this.si=new tg,this.targetCount=0,this.oi=yl._r()}forEachTarget(e,i){return this.ri.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),$.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new yl(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.lr(i),$.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.ri.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this.si.$r(i,a),$.resolve()}removeMatchingKeys(e,i,a){this.si.Qr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this.si.jr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this.si.containsKey(i))}}class p1{constructor(e,i){this._i={},this.overlays={},this.ai=new bh(0),this.ui=!1,this.ui=!0,this.ci=new fR,this.referenceDelegate=e(this),this.li=new pR(this),this.indexManager=new eR,this.remoteDocumentCache=(function(o){return new mR(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new Zw(i),this.Pi=new cR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this._i[e.toKey()];return a||(a=new dR(i,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,a){ae("MemoryPersistence","Starting transaction:",e);const o=new yR(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,i){return $.or(Object.values(this._i).map((a=>()=>a.containsKey(e,i))))}}class yR extends qx{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ri=new tg,this.Ai=null}static Vi(e){return new ng(e)}get di(){if(this.Ai)return this.Ai;throw _e(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,(a=>{const o=ge.fromPath(a);return this.mi(e,o).next((c=>{c||i.removeEntry(o,Ee.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class hh{constructor(e,i){this.persistence=e,this.fi=new ha((a=>Fx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=aR(this,i)}static Vi(e,i){return new hh(e,i)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}pr(e){let i=0;return this.mr(e,(a=>{i++})).next((()=>i))}mr(e,i){return $.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(d=>this.wr(e,d,i).next((g=>{g||(a++,c.removeEntry(d,Ee.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.fi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),$.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}wr(e,i,a){return $.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.fi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ig{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Ts=a,this.Is=o}static Es(e,i){let a=Ue(),o=Ue();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ig(e,i.fromCache,a,o)}}class _R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return aA()?8:Hx(mn())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.gs(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(e,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _R;return this.ys(e,i,d).next((g=>{if(c.result=g,this.As)return this.ws(e,i,d,g.size)}))})).next((()=>c.result))}ws(e,i,a,o){return a.documentReadCount<this.Vs?(tl()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",nl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(tl()<=Le.DEBUG&&ae("QueryEngine","Query:",nl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(tl()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",nl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(i))):$.resolve())}gs(e,i){if(H_(i))return $.resolve(null);let a=qi(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=pm(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ue(...c);return this.fs.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((_=>{const p=this.bs(i,g);return this.Ss(i,p,d,_.readTime)?this.gs(e,pm(i,null,"F")):this.Ds(e,p,i,_)}))))})))))}ps(e,i,a,o){return H_(i)||o.isEqual(Ee.min())?$.resolve(null):this.fs.getDocuments(e,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,o)?$.resolve(null):(tl()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),nl(i)),this.Ds(e,d,i,Px(o,Ho)).next((g=>g)))}))}bs(e,i){let a=new Ft(Qb(e));return i.forEach(((o,c)=>{xh(e,c)&&(a=a.add(c))})),a}Ss(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,i,a){return tl()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",nl(i)),this.fs.getDocumentsMatchingQuery(e,i,hr.min(),a)}Ds(e,i,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const sg="LocalStore",bR=3e8;class ER{constructor(e,i,a,o){this.persistence=e,this.Cs=i,this.serializer=o,this.vs=new vt(Pe),this.Fs=new ha((c=>Qm(c)),Ym),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function TR(s,e,i,a){return new ER(s,e,i,a)}async function y1(s,e){const i=Ae(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Os(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Ue();for(const p of o){d.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}for(const p of c){g.push(p.batchId);for(const T of p.mutations)_=_.add(T.key)}return i.localDocuments.getDocuments(a,_).next((p=>({Ns:p,removedBatchIds:d,addedBatchIds:g})))}))}))}function AR(s,e){const i=Ae(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,p,T){const S=p.batch,I=S.keys();let F=$.resolve();return I.forEach((Z=>{F=F.next((()=>T.getEntry(_,Z))).next((ne=>{const z=p.docVersions.get(Z);Je(z!==null,48541),ne.version.compareTo(z)<0&&(S.applyToRemoteDocument(ne,p),ne.isValidDocument()&&(ne.setReadTime(p.commitVersion),T.addEntry(ne)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Ue();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(_=_.add(g.batch.mutations[p].key));return _})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function _1(s){const e=Ae(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function SR(s,e){const i=Ae(s),a=e.snapshotVersion;let o=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});o=i.vs;const g=[];e.targetChanges.forEach(((T,S)=>{const I=o.get(S);if(!I)return;g.push(i.li.removeMatchingKeys(c,T.removedDocuments,S).next((()=>i.li.addMatchingKeys(c,T.addedDocuments,S))));let F=I.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?F=F.withResumeToken(on.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,a)),o=o.insert(S,F),(function(ne,z,se){return ne.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=bR?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0})(I,F,T)&&g.push(i.li.updateTargetData(c,F))}));let _=Es(),p=Ue();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,T))})),g.push(xR(c,d,e.documentUpdates).next((T=>{_=T.Bs,p=T.Ls}))),!a.isEqual(Ee.min())){const T=i.li.getLastRemoteSnapshotVersion(c).next((S=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(T)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.vs=o,c)))}function xR(s,e,i){let a=Ue(),o=Ue();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Es();return i.forEach(((g,_)=>{const p=c.get(g);_.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Ee.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):ae(sg,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",_.version)})),{Bs:d,Ls:o}}))}function wR(s,e){const i=Ae(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function RR(s,e){const i=Ae(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.li.getTargetData(a,e).next((c=>c?(o=c,$.resolve(o)):i.li.allocateTargetId(a).next((d=>(o=new rr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(e,a.targetId)),a}))}async function Em(s,e,i){const a=Ae(s),o=a.vs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Sl(d))throw d;ae(sg,`Failed to update sequence numbers for target ${e}: ${d}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)}function nv(s,e,i){const a=Ae(s);let o=Ee.min(),c=Ue();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,T){const S=Ae(_),I=S.Fs.get(T);return I!==void 0?$.resolve(S.vs.get(I)):S.li.getTargetData(p,T)})(a,d,qi(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,e,i?o:Ee.min(),i?c:Ue()))).next((g=>(CR(a,dw(e),g),{documents:g,ks:c})))))}function CR(s,e,i){let a=s.Ms.get(e)||Ee.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(e,a)}class iv{constructor(){this.activeTargetIds=vw()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NR{constructor(){this.vo=new iv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,a){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new iv,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IR{Mo(e){}shutdown(){}}const sv="ConnectivityMonitor";class rv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ae(sv,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ae(sv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function Tm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Xd="RestConnection",kR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class DR{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===sh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,i,a,o,c){const d=Tm(),g=this.Qo(e,i.toUriEncodedString());ae(Xd,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,o,c);const{host:p}=new URL(g),T=vl(p);return this.zo(e,g,_,a,T).then((S=>(ae(Xd,`Received RPC '${e}' ${d}: `,S),S)),(S=>{throw la(Xd,`RPC '${e}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}jo(e,i,a,o,c,d){return this.Wo(e,i,a,o,c)}Go(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),a&&a.headers.forEach(((o,c)=>e[c]=o))}Qo(e,i){const a=kR[e];let o=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class OR{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",Co=(s,e,i)=>{s.listen(e,(a=>{try{i(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ul extends DR{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ul.c_){const e=Sb();Co(e,Ab.STAT_EVENT,(i=>{i.stat===cm.PROXY?ae(hn,"STAT_EVENT: detected buffering proxy"):i.stat===cm.NOPROXY&&ae(hn,"STAT_EVENT: detected no buffering proxy")})),ul.c_=!0}}zo(e,i,a,o,c){const d=Tm();return new Promise(((g,_)=>{const p=new Eb;p.setWithCredentials(!0),p.listenOnce(Tb.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const S=p.getResponseJson();ae(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),g(S);break;case qc.TIMEOUT:ae(hn,`RPC '${e}' ${d} timed out`),_(new ce(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const I=p.getStatus();if(ae(hn,`RPC '${e}' ${d} failed with status:`,I,"response text:",p.getResponseText()),I>0){let F=p.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const ne=(function(se){const oe=se.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(oe)>=0?oe:J.UNKNOWN})(Z.status);_(new ce(ne,Z.message))}else _(new ce(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new ce(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ae(hn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ae(hn,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",T,a,15)}))}T_(e,i,a){const o=Tm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const p=c.join("");ae(hn,`Creating RPC '${e}' stream ${o}: ${p}`,g);const T=d.createWebChannel(p,g);this.I_(T);let S=!1,I=!1;const F=new OR({Ho:Z=>{I?ae(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(S||(ae(hn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),ae(hn,`RPC '${e}' stream ${o} sending:`,Z),T.send(Z))},Jo:()=>T.close()});return Co(T,Io.EventType.OPEN,(()=>{I||(ae(hn,`RPC '${e}' stream ${o} transport opened.`),F.i_())})),Co(T,Io.EventType.CLOSE,(()=>{I||(I=!0,ae(hn,`RPC '${e}' stream ${o} transport closed`),F.o_(),this.E_(T))})),Co(T,Io.EventType.ERROR,(Z=>{I||(I=!0,la(hn,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new ce(J.UNAVAILABLE,"The operation could not be completed")))})),Co(T,Io.EventType.MESSAGE,(Z=>{if(!I){const ne=Z.data[0];Je(!!ne,16349);const z=ne,se=z?.error||z[0]?.error;if(se){ae(hn,`RPC '${e}' stream ${o} received error:`,se);const oe=se.status;let he=(function(Be){const N=Ut[Be];if(N!==void 0)return s1(N)})(oe),Ie=se.message;oe==="NOT_FOUND"&&Ie.includes("database")&&Ie.includes("does not exist")&&Ie.includes(this.databaseId.database)&&la(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),he===void 0&&(he=J.INTERNAL,Ie="Unknown error status: "+oe+" with message "+se.message),I=!0,F.o_(new ce(he,Ie)),T.close()}else ae(hn,`RPC '${e}' stream ${o} received:`,ne),F.__(ne)}})),ul.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,a){super.Go(e,i,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return xb()}}function MR(s){return new ul(s)}function $d(){return typeof document<"u"?document:null}function Nh(s){return new Pw(s,!0)}ul.c_=!1;class v1{constructor(e,i,a=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=i,this.R_=a,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const av="PersistentStream";class b1{constructor(e,i,a,o,c,d,g,_){this.Ci=e,this.b_=a,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new v1(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new ce(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ae(av,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ae(av,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class VR extends b1{constructor(e,i,a,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Bw(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ee.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ee.min():d.readTime?Hi(d.readTime):Ee.min()})(e);return this.listener.J_(i,a)}Z_(e){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=gm(_)?{documents:Gw(c,_)}:{query:Fw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=l1(c,d.resumeToken);const p=ym(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(Ee.min())>0){g.readTime=ch(c,d.snapshotVersion.toTimestamp());const p=ym(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g})(this.serializer,e);const a=Qw(this.serializer,e);a&&(i.labels=a),this.K_(i)}X_(e){const i={};i.database=bm(this.serializer),i.removeTarget=e,this.K_(i)}}class jR extends b1{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=Hw(e.writeResults,e.commitTime),a=Hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=bm(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>qw(this.serializer,a)))};this.K_(i)}}class LR{}class PR extends LR{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,_m(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(J.UNKNOWN,c.toString())}))}jo(e,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(e,_m(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ce(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function UR(s,e,i,a){return new PR(s,e,i,a)}class zR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):ae("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class BR{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(ae(oa,"Restarting streams for network reachability change."),await(async function(_){const p=Ae(_);p.Ea.add(4),await su(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ih(p)})(this))}))})),this.Va=new zR(a,o)}}async function Ih(s){if(fa(s))for(const e of s.Ra)await e(!0)}async function su(s){for(const e of s.Ra)await e(!1)}function E1(s,e){const i=Ae(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),og(i)?lg(i):xl(i).O_()&&ag(i,e))}function rg(s,e){const i=Ae(s),a=xl(i);i.Ia.delete(e),a.O_()&&T1(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Va.set("Unknown"))}function ag(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}xl(s).Z_(e)}function T1(s,e){s.da.$e(e),xl(s).X_(e)}function lg(s){s.da=new Mw({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),xl(s).start(),s.Va.ua()}function og(s){return fa(s)&&!xl(s).x_()&&s.Ia.size>0}function fa(s){return Ae(s).Ea.size===0}function A1(s){s.da=void 0}async function qR(s){s.Va.set("Online")}async function HR(s){s.Ia.forEach(((e,i)=>{ag(s,e)}))}async function GR(s,e){A1(s),og(s)?(s.Va.ha(e),lg(s)):s.Va.set("Unknown")}async function FR(s,e,i){if(s.Va.set("Online"),e instanceof a1&&e.state===2&&e.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.da.removeTarget(g))})(s,e)}catch(a){ae(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await fh(s,a)}else if(e instanceof Kc?s.da.Xe(e):e instanceof r1?s.da.st(e):s.da.tt(e),!i.isEqual(Ee.min()))try{const a=await _1(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const T=c.Ia.get(p);T&&c.Ia.set(p,T.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,p)=>{const T=c.Ia.get(_);if(!T)return;c.Ia.set(_,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),T1(c,_);const S=new rr(T.target,_,p,T.sequenceNumber);ag(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){ae(oa,"Failed to raise snapshot:",a),await fh(s,a)}}async function fh(s,e,i){if(!Sl(e))throw e;s.Ea.add(1),await su(s),s.Va.set("Offline"),i||(i=()=>_1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ae(oa,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function S1(s,e){return e().catch((i=>fh(s,i,e)))}async function kh(s){const e=Ae(s),i=gr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gm;for(;KR(e);)try{const o=await wR(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,QR(e,o)}catch(o){await fh(e,o)}x1(e)&&w1(e)}function KR(s){return fa(s)&&s.Ta.length<10}function QR(s,e){s.Ta.push(e);const i=gr(s);i.O_()&&i.Y_&&i.ea(e.mutations)}function x1(s){return fa(s)&&!gr(s).x_()&&s.Ta.length>0}function w1(s){gr(s).start()}async function YR(s){gr(s).ra()}async function XR(s){const e=gr(s);for(const i of s.Ta)e.ea(i.mutations)}async function $R(s,e,i){const a=s.Ta.shift(),o=Zm.from(a,e,i);await S1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await kh(s)}async function JR(s,e){e&&gr(s).Y_&&await(async function(a,o){if((function(d){return kw(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();gr(a).B_(),await S1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await kh(a)}})(s,e),x1(s)&&w1(s)}async function lv(s,e){const i=Ae(s);i.asyncQueue.verifyOperationInProgress(),ae(oa,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await su(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function ZR(s,e){const i=Ae(s);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await su(i),i.Va.set("Unknown"))}function xl(s){return s.ma||(s.ma=(function(i,a,o){const c=Ae(i);return c.sa(),new VR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:qR.bind(null,s),Yo:HR.bind(null,s),t_:GR.bind(null,s),J_:FR.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),og(s)?lg(s):s.Va.set("Unknown")):(await s.ma.stop(),A1(s))}))),s.ma}function gr(s){return s.fa||(s.fa=(function(i,a,o){const c=Ae(i);return c.sa(),new jR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:YR.bind(null,s),t_:JR.bind(null,s),ta:XR.bind(null,s),na:$R.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await kh(s)):(await s.fa.stop(),s.Ta.length>0&&(ae(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class ug{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new ug(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Sl(s))return new ce(J.UNAVAILABLE,`${e}: ${s}`);throw s}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ge.comparator(i.key,a.key):(i,a)=>ge.comparator(i.key,a.key),this.keyedMap=ko(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class ov{constructor(){this.ga=new vt(ge.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):_e(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class _l{constructor(e,i,a,o,c,d,g,_,p){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(e,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new _l(e,i,cl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class WR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eC{constructor(){this.queries=uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ae(i),c=o.queries;o.queries=uv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new ce(J.ABORTED,"Firestore shutting down"))}}function uv(){return new ha((s=>Kb(s)),Sh)}async function tC(s,e){const i=Ae(s);let a=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.Da()&&(a=2):(c=new WR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=cg(d,`Initialization of query '${nl(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ba.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&hg(i)}async function nC(s,e){const i=Ae(s),a=e.query;let o=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(e);d>=0&&(c.ba.splice(d,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iC(s,e){const i=Ae(s);let a=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(o)&&(a=!0);d.wa=o}}a&&hg(i)}function sC(s,e,i){const a=Ae(s),o=a.queries.get(e);if(o)for(const c of o.ba)c.onError(i);a.queries.delete(e)}function hg(s){s.Ca.forEach((e=>{e.next()}))}var Am,cv;(cv=Am||(Am={})).Ma="default",cv.Cache="cache";class rC{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new _l(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Am.Cache}}class R1{constructor(e){this.key=e}}class C1{constructor(e){this.key=e}}class aC{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.eu=Qb(e),this.tu=new cl(this.eu)}get nu(){return this.Za}ru(e,i){const a=i?i.iu:new ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,S)=>{const I=o.get(T),F=xh(this.query,S)?S:null,Z=!!I&&this.mutatedKeys.has(I.key),ne=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let z=!1;I&&F?I.data.isEqual(F.data)?Z!==ne&&(a.track({type:3,doc:F}),z=!0):this.su(I,F)||(a.track({type:2,doc:F}),z=!0,(_&&this.eu(F,_)>0||p&&this.eu(F,p)<0)&&(g=!0)):!I&&F?(a.track({type:0,doc:F}),z=!0):I&&!F&&(a.track({type:1,doc:I}),z=!0,(_||p)&&(g=!0)),z&&(F?(d=d.add(F),c=ne?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,S)=>(function(F,Z){const ne=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:z})}};return ne(F)-ne(Z)})(T.type,S.type)||this.eu(T.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Ya.size===0&&this.current&&!o?1:0,p=_!==this.Xa;return this.Xa=_,d.length!==0||p?{snapshot:new _l(this.query,e.tu,c,d,e.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return e.forEach((a=>{this.Ya.has(a)||i.push(new C1(a))})),this.Ya.forEach((a=>{e.has(a)||i.push(new R1(a))})),i}cu(e){this.Za=e.ks,this.Ya=Ue();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const fg="SyncEngine";class lC{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class oC{constructor(e){this.key=e,this.hu=!1}}class uC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((g=>Kb(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.Ru=new vt(ge.comparator),this.Au=new Map,this.Vu=new tg,this.du={},this.mu=new Map,this.fu=yl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cC(s,e,i=!0){const a=M1(s);let o;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await N1(a,e,i,!0),o}async function hC(s,e){const i=M1(s);await N1(i,e,!0,!1)}async function N1(s,e,i,a){const o=await RR(s.localStore,qi(e)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await fC(s,e,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&E1(s.remoteStore,o),g}async function fC(s,e,i,a,o){s.pu=(S,I,F)=>(async function(ne,z,se,oe){let he=z.view.ru(se);he.Ss&&(he=await nv(ne.localStore,z.query,!1).then((({documents:N})=>z.view.ru(N,he))));const Ie=oe&&oe.targetChanges.get(z.targetId),ze=oe&&oe.targetMismatches.get(z.targetId)!=null,Be=z.view.applyChanges(he,ne.isPrimaryClient,Ie,ze);return fv(ne,z.targetId,Be.au),Be.snapshot})(s,S,I,F);const c=await nv(s.localStore,e,!0),d=new aC(e,c.ks),g=d.ru(c.documents),_=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),p=d.applyChanges(g,s.isPrimaryClient,_);fv(s,i,p.au);const T=new lC(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),p.snapshot}async function dC(s,e,i){const a=Ae(s),o=a.Tu.get(e),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Sh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Em(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&rg(a.remoteStore,o.targetId),Sm(a,o.targetId)})).catch(Al)):(Sm(a,o.targetId),await Em(a.localStore,o.targetId,!0))}async function mC(s,e){const i=Ae(s),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rg(i.remoteStore,a.targetId))}async function gC(s,e,i){const a=TC(s);try{const o=await(function(d,g){const _=Ae(d),p=dt.now(),T=g.reduce(((F,Z)=>F.add(Z.key)),Ue());let S,I;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=Es(),ne=Ue();return _.xs.getEntries(F,T).next((z=>{Z=z,Z.forEach(((se,oe)=>{oe.isValidDocument()||(ne=ne.add(se))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next((z=>{S=z;const se=[];for(const oe of g){const he=ww(oe,S.get(oe.key).overlayedDocument);he!=null&&se.push(new _r(oe.key,he,Ub(he.value.mapValue),Jn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,p,se,g)})).next((z=>{I=z;const se=z.applyToLocalDocumentSet(S,ne);return _.documentOverlayCache.saveOverlays(F,z.batchId,se)}))})).then((()=>({batchId:I.batchId,changes:Xb(S)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let p=d.du[d.currentUser.toKey()];p||(p=new vt(Pe)),p=p.insert(g,_),d.du[d.currentUser.toKey()]=p})(a,o.batchId,i),await ru(a,o.changes),await kh(a.remoteStore)}catch(o){const c=cg(o,"Failed to persist write");i.reject(c)}}async function I1(s,e){const i=Ae(s);try{const a=await SR(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Je(d.hu,14607):o.removedDocuments.size>0&&(Je(d.hu,42227),d.hu=!1))})),await ru(i,a,e)}catch(a){await Al(a)}}function hv(s,e,i){const a=Ae(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=Ae(d);_.onlineState=g;let p=!1;_.queries.forEach(((T,S)=>{for(const I of S.ba)I.va(g)&&(p=!0)})),p&&hg(_)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function pC(s,e,i){const a=Ae(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),c=o&&o.key;if(c){let d=new vt(ge.comparator);d=d.insert(c,dn.newNoDocument(c,Ee.min()));const g=Ue().add(c),_=new Ch(Ee.min(),new Map,new vt(Pe),d,g);await I1(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(e),dg(a)}else await Em(a.localStore,e,!1).then((()=>Sm(a,e,i))).catch(Al)}async function yC(s,e){const i=Ae(s),a=e.batch.batchId;try{const o=await AR(i.localStore,e);D1(i,a,null),k1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,o)}catch(o){await Al(o)}}async function _C(s,e,i){const a=Ae(s);try{const o=await(function(d,g){const _=Ae(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let T;return _.mutationQueue.lookupMutationBatch(p,g).next((S=>(Je(S!==null,37113),T=S.keys(),_.mutationQueue.removeMutationBatch(p,S)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,T,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,T))).next((()=>_.localDocuments.getDocuments(p,T)))}))})(a.localStore,e);D1(a,e,i),k1(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ru(a,o)}catch(o){await Al(o)}}function k1(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function D1(s,e,i){const a=Ae(s);let o=a.du[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Sm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((a=>{s.Vu.containsKey(a)||O1(s,a)}))}function O1(s,e){s.Eu.delete(e.path.canonicalString());const i=s.Ru.get(e);i!==null&&(rg(s.remoteStore,i),s.Ru=s.Ru.remove(e),s.Au.delete(i),dg(s))}function fv(s,e,i){for(const a of i)a instanceof R1?(s.Vu.addReference(a.key,e),vC(s,a)):a instanceof C1?(ae(fg,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,e),s.Vu.containsKey(a.key)||O1(s,a.key)):_e(19791,{wu:a})}function vC(s,e){const i=e.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(ae(fg,"New document in limbo: "+i),s.Eu.add(a),dg(s))}function dg(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new ge(ft.fromString(e)),a=s.fu.next();s.Au.set(a,new oC(i)),s.Ru=s.Ru.insert(i,a),E1(s.remoteStore,new rr(qi(Xm(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function ru(s,e,i){const a=Ae(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,e,i).then((p=>{if((p||i)&&a.isPrimaryClient){const T=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,T?"current":"not-current")}if(p){o.push(p);const T=ig.Es(_.targetId,p);c.push(T)}})))})),await Promise.all(d),a.Pu.J_(o),await(async function(_,p){const T=Ae(_);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(p,(I=>$.forEach(I.Ts,(F=>T.persistence.referenceDelegate.addReference(S,I.targetId,F))).next((()=>$.forEach(I.Is,(F=>T.persistence.referenceDelegate.removeReference(S,I.targetId,F)))))))))}catch(S){if(!Sl(S))throw S;ae(sg,"Failed to update sequence numbers: "+S)}for(const S of p){const I=S.targetId;if(!S.fromCache){const F=T.vs.get(I),Z=F.snapshotVersion,ne=F.withLastLimboFreeSnapshotVersion(Z);T.vs=T.vs.insert(I,ne)}}})(a.localStore,c))}async function bC(s,e){const i=Ae(s);if(!i.currentUser.isEqual(e)){ae(fg,"User change. New user:",e.toKey());const a=await y1(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ce(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Ns)}}function EC(s,e){const i=Ae(s),a=i.Au.get(e);if(a&&a.hu)return Ue().add(a.key);{let o=Ue();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function M1(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=I1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pC.bind(null,e),e.Pu.J_=iC.bind(null,e.eventManager),e.Pu.yu=sC.bind(null,e.eventManager),e}function TC(s){const e=Ae(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_C.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TR(this.persistence,new vR,e.initialUser,this.serializer)}Cu(e){return new p1(ng.Vi,this.serializer)}Du(e){return new NR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class AC extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Je(this.persistence.referenceDelegate instanceof hh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sR(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new p1((a=>hh.Vi(a,i)),this.serializer)}}class xm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=bC.bind(null,this.syncEngine),await ZR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eC})()}createDatastore(e){const i=Nh(e.databaseInfo.databaseId),a=MR(e.databaseInfo);return UR(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,c,d,g){return new BR(a,o,c,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>hv(this.syncEngine,i,0)),(function(){return rv.v()?new rv:new IR})())}createSyncEngine(e,i){return(function(o,c,d,g,_,p,T){const S=new uC(o,c,d,g,_,p);return T&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ae(i);ae(oa,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class SC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const pr="FirestoreClient";class xC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=qm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ae(pr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ae(pr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=cg(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Jd(s,e){s.asyncQueue.verifyOperationInProgress(),ae(pr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await y1(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function dv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await wC(s);ae(pr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>lv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>lv(e.remoteStore,o))),s._onlineComponents=e}async function wC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ae(pr,"Using user provided OfflineComponentProvider");try{await Jd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;la("Error using user provided cache. Falling back to memory cache: "+i),await Jd(s,new dh)}}else ae(pr,"Using default OfflineComponentProvider"),await Jd(s,new AC(void 0));return s._offlineComponents}async function V1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ae(pr,"Using user provided OnlineComponentProvider"),await dv(s,s._uninitializedComponentsProvider._online)):(ae(pr,"Using default OnlineComponentProvider"),await dv(s,new xm))),s._onlineComponents}function RC(s){return V1(s).then((e=>e.syncEngine))}async function mv(s){const e=await V1(s),i=e.eventManager;return i.onListen=cC.bind(null,e.syncEngine),i.onUnlisten=dC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=hC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=mC.bind(null,e.syncEngine),i}function CC(s,e,i,a){const o=new SC(a),c=new rC(e,o,i);return s.asyncQueue.enqueueAndForget((async()=>tC(await mv(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>nC(await mv(s),c)))}}function NC(s,e){const i=new ta;return s.asyncQueue.enqueueAndForget((async()=>gC(await RC(s),e,i))),i.promise}function j1(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const IC="ComponentProvider",gv=new Map;function kC(s,e,i,a,o){return new Yx(s,e,i,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,j1(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const L1="firestore.googleapis.com",pv=!0;class yv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L1,this.ssl=pv}else this.host=e.host,this.ssl=e.ssl??pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nR)throw new ce(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Lx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=j1(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ce(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Rx;switch(a.type){case"firstParty":return new kx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ce(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=gv.get(i);a&&(ae(IC,"Removing Datastore"),gv.delete(i),a.terminate())})(this),Promise.resolve()}}function DC(s,e,i,a={}){s=Bi(s,Dh);const o=vl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(jv(`https://${g}`),Lv("Firestore",!0)),c.host!==L1&&c.host!==g&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!ia(_,d)&&(s._setSettings(_),a.mockUserToken)){let p,T;if(typeof a.mockUserToken=="string")p=a.mockUserToken,T=fn.MOCK_USER;else{p=JT(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ce(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new fn(S)}s._authCredentials=new Cx(new Rb(p,T))}}class Oh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Oh(this.firestore,e,this._query)}}class Bt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bt(this.firestore,e,this._key)}toJSON(){return{type:Bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(tu(i,Bt._jsonSchema))return new Bt(e,a||null,new ge(ft.fromString(i.referencePath)))}}Bt._jsonSchemaVersion="firestore/documentReference/1.0",Bt._jsonSchema={type:zt("string",Bt._jsonSchemaVersion),referencePath:zt("string")};class cr extends Oh{constructor(e,i,a){super(e,i,Xm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new ge(e))}withConverter(e){return new cr(this.firestore,e,this._path)}}function Vc(s,e,...i){if(s=ln(s),Cb("collection","path",e),s instanceof Dh){const a=ft.fromString(e,...i);return I_(a),new cr(s,null,a)}{if(!(s instanceof Bt||s instanceof cr))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return I_(a),new cr(s.firestore,null,a)}}function tr(s,e,...i){if(s=ln(s),arguments.length===1&&(e=qm.newId()),Cb("doc","path",e),s instanceof Dh){const a=ft.fromString(e,...i);return N_(a),new Bt(s,null,new ge(a))}{if(!(s instanceof Bt||s instanceof cr))throw new ce(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ft.fromString(e,...i));return N_(a),new Bt(s.firestore,s instanceof cr?s.converter:null,new ge(a))}}const _v="AsyncQueue";class vv{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new v1(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&ae(_v,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Sl(e))throw e;ae(_v,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",bv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=ug.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:bv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function bv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class ua extends Dh{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new vv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vv(e),this._firestoreClient=void 0,await e}}}function OC(s,e){const i=typeof s=="object"?s:Bv(),a=typeof s=="string"?s:sh,o=Im(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=XT("firestore");c&&DC(o,...c)}return o}function P1(s){if(s._terminated)throw new ce(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||MC(s),s._firestoreClient}function MC(s){const e=s._freezeSettings(),i=kC(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new xC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(on.fromBase64String(e))}catch(i){throw new ce(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new $n(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:zt("string",$n._jsonSchemaVersion),bytes:zt("string")};class mg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ce(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._methodName=e}}class Gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ce(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ce(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Gi._jsonSchema))return new Gi(e.latitude,e.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:zt("string",Gi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new di(e.vectorValues);throw new ce(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:zt("string",di._jsonSchemaVersion),vectorValues:zt("object")};const VC=/^__.*__$/;class jC{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class U1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new _r(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function z1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{dataSource:s})}}class pg{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){const i=this.path?.child(e),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return mh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(z1(this.dataSource)&&VC.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class LC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Nh(e)}createContext(e,i,a,o=!1){return new pg({dataSource:e,methodName:i,targetDoc:a,path:an.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(s){const e=s._freezeSettings(),i=Nh(s._databaseId);return new LC(s._databaseId,!!e.ignoreUndefinedProperties,i)}function B1(s,e,i,a,o,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,e,i,o);_g("Data must be an object, but it was:",d,a);const g=q1(a,d);let _,p;if(c.merge)_=new jn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const S of c.mergeFields){const I=Xo(e,S,i);if(!d.contains(I))throw new ce(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);F1(T,I)||T.push(I)}_=new jn(T),p=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,p=d.fieldTransforms;return new jC(new wn(g),_,p)}class Mh extends gg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Mh}}function PC(s,e,i,a){const o=s.createContext(1,e,i);_g("Data must be an object, but it was:",o,a);const c=[],d=wn.empty();yr(a,((_,p)=>{const T=G1(e,_,i);p=ln(p);const S=o.childContextForFieldPath(T);if(p instanceof Mh)c.push(T);else{const I=Vh(p,S);I!=null&&(c.push(T),d.set(T,I))}}));const g=new jn(c);return new U1(d,g,o.fieldTransforms)}function UC(s,e,i,a,o,c){const d=s.createContext(1,e,i),g=[Xo(e,a,i)],_=[o];if(c.length%2!=0)throw new ce(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)g.push(Xo(e,c[I])),_.push(c[I+1]);const p=[],T=wn.empty();for(let I=g.length-1;I>=0;--I)if(!F1(p,g[I])){const F=g[I];let Z=_[I];Z=ln(Z);const ne=d.childContextForFieldPath(F);if(Z instanceof Mh)p.push(F);else{const z=Vh(Z,ne);z!=null&&(p.push(F),T.set(F,z))}}const S=new jn(p);return new U1(T,S,d.fieldTransforms)}function Vh(s,e){if(H1(s=ln(s)))return _g("Unsupported field value:",e,s),q1(s,e);if(s instanceof gg)return(function(a,o){if(!z1(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=Vh(g,o.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,o){if((a=ln(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=dt.fromDate(a);return{timestampValue:ch(o.serializer,c)}}if(a instanceof dt){const c=new dt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ch(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:l1(o.serializer,a._byteString)};if(a instanceof Bt){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:eg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof di)return(function(d,g){const _=d instanceof di?d.toArray():d;return{mapValue:{fields:{[Lb]:{stringValue:Pb},[rh]:{arrayValue:{values:_.map((T=>{if(typeof T!="number")throw g.createError("VectorValues must only contain numeric values.");return $m(g.serializer,T)}))}}}}}})(a,o);if(m1(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hm(a)}`)})(s,e)}function q1(s,e){const i={};return kb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yr(s,((a,o)=>{const c=Vh(o,e.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function H1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Gi||s instanceof $n||s instanceof Bt||s instanceof gg||s instanceof di||m1(s))}function _g(s,e,i){if(!H1(i)||!Nb(i)){const a=Hm(i);throw a==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+a)}}function Xo(s,e,i){if((e=ln(e))instanceof mg)return e._internalPath;if(typeof e=="string")return G1(s,e);throw mh("Field path arguments must be of type string or ",s,!1,void 0,i)}const zC=new RegExp("[~\\*/\\[\\]]");function G1(s,e,i){if(e.search(zC)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new mg(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function mh(s,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ce(J.INVALID_ARGUMENT,g+s+_)}function F1(s,e){return s.some((i=>i.isEqual(e)))}class BC{convertValue(e,i="none"){switch(mr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return yr(e,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[rh].arrayValue?.values?.map((a=>Nt(a.doubleValue)));return new di(i)}convertGeoPoint(e){return new Gi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Th(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Go(e));default:return null}}convertTimestamp(e){const i=fr(e);return new dt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=ft.fromString(e);Je(d1(a),9688,{name:e});const o=new Fo(a.get(1),a.get(3)),c=new ge(a.popFirst(5));return o.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class K1 extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,i)}}const Ev="@firebase/firestore",Tv="4.11.0";function Av(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Q1{constructor(e,i,a,o,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Xo("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class qC extends Q1{data(){return super.data()}}function HC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ce(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Y1(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Oo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends Q1{constructor(e,i,a,o,c,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Xo("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:zt("string",na._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Qc extends na{data(e={}){return super.data(e)}}class hl{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Oo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ce(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Qc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Oo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,T=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:GC(g.type),doc:_,oldIndex:p,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=qm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GC(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:s})}}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:zt("string",hl._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};function FC(s,e,i){s=Bi(s,Bt);const a=Bi(s.firestore,ua),o=Y1(s.converter,e),c=yg(a);return jh(a,[B1(c,"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Jn.none())])}function jc(s,e,i,...a){s=Bi(s,Bt);const o=Bi(s.firestore,ua),c=yg(o);let d;return d=typeof(e=ln(e))=="string"||e instanceof mg?UC(c,"updateDoc",s._key,e,i,a):PC(c,"updateDoc",s._key,e),jh(o,[d.toMutation(s._key,Jn.exists(!0))])}function Sv(s){return jh(Bi(s.firestore,ua),[new Jm(s._key,Jn.none())])}function xv(s,e){const i=Bi(s.firestore,ua),a=tr(s),o=Y1(s.converter,e),c=yg(s.firestore);return jh(i,[B1(c,"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Jn.exists(!1))]).then((()=>a))}function Zd(s,...e){s=ln(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||Av(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let c,d,g;if(s instanceof Bt)d=Bi(s.firestore,ua),g=Xm(s._key.path),c={next:p=>{e[a]&&e[a](KC(d,s,p))},error:e[a+1],complete:e[a+2]};else{const p=Bi(s,Oh);d=Bi(p.firestore,ua),g=p._query;const T=new K1(d);c={next:S=>{e[a]&&e[a](new hl(d,T,p,S))},error:e[a+1],complete:e[a+2]},HC(s._query)}const _=P1(d);return CC(_,g,o,c)}function jh(s,e){const i=P1(s);return NC(i,e)}function KC(s,e,i){const a=i.docs.get(e._key),o=new K1(s);return new na(s,o,e._key,a,new Oo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){wx(bl),fl(new sa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ua(new Nx(a.getProvider("auth-internal")),new Dx(d,a.getProvider("app-check-internal")),Xx(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),or(Ev,Tv,e),or(Ev,Tv,"esm2020")})();const X1=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();const QC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const YC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase());const wv=s=>{const e=YC(s);return e.charAt(0).toUpperCase()+e.slice(1)};var XC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $C=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const JC=xe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},_)=>xe.createElement("svg",{ref:_,...XC,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:X1("lucide",o),...!c&&!$C(g)&&{"aria-hidden":"true"},...g},[...d.map(([p,T])=>xe.createElement(p,T)),...Array.isArray(c)?c:[c]]));const He=(s,e)=>{const i=xe.forwardRef(({className:a,...o},c)=>xe.createElement(JC,{ref:c,iconNode:e,className:X1(`lucide-${QC(wv(s))}`,`lucide-${s}`,a),...o}));return i.displayName=wv(s),i};const ZC=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],WC=He("arrow-up-down",ZC);const eN=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],$1=He("chart-no-axes-column",eN);const tN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nN=He("chevron-left",tN);const iN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sN=He("chevron-right",iN);const rN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],aN=He("circle-alert",rN);const lN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J1=He("circle-check",lN);const oN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],gh=He("clock",oN);const uN=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cN=He("download",uN);const hN=[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fN=He("earth",hN);const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mN=He("globe",dN);const gN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Z1=He("history",gN);const pN=[["path",{d:"M5 3v14",key:"9nsxs2"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"M19 3v18",key:"1sk56x"}]],yN=He("kanban",pN);const _N=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],vN=He("key",_N);const bN=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],EN=He("layers",bN);const TN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],AN=He("list",TN);const SN=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xN=He("lock",SN);const wN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Rv=He("log-out",wN);const RN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CN=He("mail",RN);const NN=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],vg=He("megaphone",NN);const IN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],kN=He("message-square",IN);const DN=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ON=He("moon",DN);const MN=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],VN=He("pen",MN);const jN=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],LN=He("pin",jN);const PN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UN=He("plus",PN);const zN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],BN=He("refresh-cw",zN);const qN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],HN=He("search",qN);const GN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],W1=He("send",GN);const FN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],KN=He("shield-alert",FN);const QN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eE=He("shield-check",QN);const YN=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],XN=He("sun",YN);const $N=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],JN=He("trash-2",$N);const ZN=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cv=He("trash",ZN);const WN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],eI=He("upload",WN);const tI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ca=He("x",tI);const nI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],iI=He("zap",nI),sI={apiKey:"AIzaSyC6xIVImyXjYqtWQtdOkFlO3aBtJLGAcc8",authDomain:"polyglot-pm.firebaseapp.com",projectId:"polyglot-pm",storageBucket:"polyglot-pm.firebasestorage.app",messagingSenderId:"665653580466",appId:"1:665653580466:web:b72025d60f51bc3a85efab",measurementId:"G-RPL0YK36R7"},Nv="PASTE_YOUR_APPS_SCRIPT_WEB_APP_URL_HERE",Pi=typeof __app_id<"u"?__app_id:"project-dashboard-v1",Yc=typeof __firebase_config<"u"?JSON.parse(__firebase_config):sI,wm=Yc&&Yc.apiKey&&Yc.apiKey!=="PASTE_YOUR_API_KEY_HERE";let Wd,Mo,Xn;wm&&(Wd=zv(Yc),Mo=Sx(Wd),Xn=OC(Wd));const em=["Anthony","Andrey","Annika","Mieke","Emily","Unassigned"],rl=["Heads-up","Need Assessment","In Assessment","Screenshooting","In Progress","Blocked","Pending Reports","Completed"],rI=["ar-SA","da-DK","de-DE","en-GB","es-ES","es-419","it-IT","fr-CA","fr-FR","ja-JP","ko-KR","nl-NL","no-NO","pt-PT","sv-SE","zh-TW"],aI={"Heads-up":{bg:"bg-fuchsia-100 dark:bg-fuchsia-900/40",text:"text-fuchsia-700 dark:text-fuchsia-400",border:"border-fuchsia-200 dark:border-fuchsia-800",dot:"bg-fuchsia-500"},"Need Assessment":{bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",dot:"bg-amber-500"},"In Assessment":{bg:"bg-orange-100 dark:bg-orange-900/40",text:"text-orange-700 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800",dot:"bg-orange-500"},Screenshooting:{bg:"bg-pink-100 dark:bg-pink-900/40",text:"text-pink-700 dark:text-pink-400",border:"border-pink-200 dark:border-pink-800",dot:"bg-pink-500"},"In Progress":{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",dot:"bg-blue-500"},Blocked:{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800",dot:"bg-red-500"},"Pending Reports":{bg:"bg-teal-100 dark:bg-teal-900/40",text:"text-teal-700 dark:text-teal-400",border:"border-teal-200 dark:border-teal-800",dot:"bg-teal-500"},Completed:{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800",dot:"bg-green-500"}},Wr=s=>aI[s]||{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-300",border:"border-slate-200 dark:border-slate-700",dot:"bg-slate-500"},bg=s=>{const e=["bg-cyan-100 text-cyan-800 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400","bg-violet-100 text-violet-800 border-violet-200 dark:bg-violet-900/30 dark:text-violet-400","bg-lime-100 text-lime-800 border-lime-200 dark:bg-lime-900/30 dark:text-lime-400","bg-rose-100 text-rose-800 border-rose-200 dark:bg-rose-900/30 dark:text-rose-400","bg-sky-100 text-sky-800 border-sky-200 dark:bg-sky-900/30 dark:text-sky-400","bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-400"];if(!s)return"bg-slate-100 text-slate-800 border-slate-200 dark:bg-slate-800 dark:text-slate-300";let i=0;for(let a=0;a<s.length;a++)i=s.charCodeAt(a)+((i<<5)-i);return e[Math.abs(i)%e.length]};function lI(){const[s,e]=xe.useState(null),[i,a]=xe.useState([]),[o,c]=xe.useState([]),[d,g]=xe.useState(!0),[_,p]=xe.useState({teamMembers:em,allowedDomains:[],allowedUsers:[],userGroups:[],adminEmails:[]}),[T,S]=xe.useState(""),[I,F]=xe.useState({status:"All",lead:"All",pa:"All"}),[Z,ne]=xe.useState({key:"createdAt",direction:"desc"}),[z,se]=xe.useState("table"),[oe,he]=xe.useState(!1),[Ie,ze]=xe.useState(null),[Be,N]=xe.useState(!1),[x,C]=xe.useState(!1),[M,k]=xe.useState(!1),[V,w]=xe.useState([]),[ot,bt]=xe.useState([]),[G,ie]=xe.useState(!1),[fe,Oe]=xe.useState(!1),[Qe,O]=xe.useState(10),Y=xe.useRef(null),W=s?.email?.toLowerCase(),re=s?.displayName||s?.email?.split("@")[0]||"User",ye=W==="anthonytosi@gmail.com",Se=_.adminEmails?.includes(W),be=ye||Se,At=xe.useMemo(()=>{if(!s)return{hasAccess:!1,role:"none",allowedPAs:[]};if(be)return{hasAccess:!0,role:"admin",allowedPAs:["all"]};const te=W?.split("@")[1],me=_.allowedDomains?.includes(te),Ne=_.allowedUsers?.includes(W),ut=_.userGroups?.filter(tt=>tt.members?.map(at=>at.toLowerCase()).includes(W))||[];if(ut.length===0&&!me&&!Ne)return{hasAccess:!1,role:"none",allowedPAs:[]};let xt=me||Ne?"editor":"viewer",It=me||Ne?["all"]:[];return ut.forEach(tt=>{tt.role==="editor"&&(xt="editor"),tt.scope==="all"||It.includes("all")?It=["all"]:It=[...new Set([...It,...tt.scopedPAs||[]])]}),{hasAccess:!0,role:xt,allowedPAs:It}},[s,_,be,W]),{hasAccess:$e,role:mi,allowedPAs:un}=At,yn=be||mi==="editor",$t=xe.useCallback((te,me="success")=>{const Ne=Date.now();bt(ut=>[...ut,{id:Ne,message:te,type:me}]),setTimeout(()=>bt(ut=>ut.filter(xt=>xt.id!==Ne)),3e3)},[]),qt=xe.useCallback(async()=>{if(!Nv.includes("PASTE_YOUR"))try{await fetch(Nv,{method:"POST",mode:"no-cors"})}catch{}},[]),vr=async()=>{Oe(!0),await qt(),setTimeout(()=>{Oe(!1),$t("System Synced Successfully","success")},800)};xe.useEffect(()=>{let te;return G&&$e?te=setInterval(()=>{O(me=>me<=1?(qt(),10):me-1)},1e3):O(10),()=>clearInterval(te)},[G,$e,qt]),xe.useEffect(()=>{if(!wm){g(!1);return}const te=d2(Mo,me=>{e(me),g(!1)});return()=>te()},[]),xe.useEffect(()=>{if(!s||!Xn)return;const te=tr(Xn,"artifacts",Pi,"public","settings","config"),me=Zd(te,Ne=>{Ne.exists()?p(Ne.data()):FC(te,{teamMembers:em,allowedDomains:["google.com"],allowedUsers:["anthonytosi@gmail.com"],userGroups:[],adminEmails:[]})});if($e){const Ne=Vc(Xn,"artifacts",Pi,"public","data","projects"),ut=Zd(Ne,tt=>{let at=tt.docs.map(Me=>({id:Me.id,...Me.data()}));if(un[0]!=="all"&&(at=at.filter(Me=>un.includes(Me.productArea))),a(at),Ie){const Me=at.find(gt=>gt.id===Ie.id);Me&&ze(Me)}}),xt=Vc(Xn,"artifacts",Pi,"public","data","announcements"),It=Zd(xt,tt=>{let at=tt.docs.map(Me=>({id:Me.id,...Me.data()}));un[0]!=="all"&&(at=at.filter(Me=>Me.targetPA==="general"||un.includes(Me.targetPA))),at.sort((Me,gt)=>gt.timestamp-Me.timestamp),c(at)});return()=>{me(),ut(),It()}}return()=>{me()}},[s,$e,un,Ie]),xe.useEffect(()=>{oe?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[oe]);const Zn=xe.useMemo(()=>[...new Set([..._.teamMembers||em,re])].filter(te=>te!=="Unassigned").concat(["Unassigned"]),[re,_]),Yi=xe.useMemo(()=>[...new Set(i.map(te=>te.productArea?.trim()).filter(Boolean))].sort(),[i]),br=xe.useMemo(()=>{const te=[];return i.forEach(me=>me.comments?.forEach(Ne=>te.push({...Ne,projectName:me.projectName,projectId:me.id}))),te.sort((me,Ne)=>Ne.timestamp-me.timestamp)},[i]),mt=xe.useMemo(()=>{let te=i.filter(me=>{const Ne=T.toLowerCase();return(me.bugNumber?.toLowerCase().includes(Ne)||me.projectName?.toLowerCase().includes(Ne))&&(I.status==="All"||me.status===I.status)&&(I.lead==="All"||me.assignedLead===I.lead)&&(I.pa==="All"||me.productArea?.trim()===I.pa)});return te.sort((me,Ne)=>{let ut=me[Z.key],xt=Ne[Z.key];return(Z.key==="clientETA"||Z.key==="createdAt")&&(ut=ut?new Date(ut).getTime():0,xt=xt?new Date(xt).getTime():0),ut<xt?Z.direction==="asc"?-1:1:ut>xt?Z.direction==="asc"?1:-1:0}),te},[i,T,I,Z]),St=te=>{ne(me=>({key:te,direction:me.key===te&&me.direction==="asc"?"desc":"asc"}))},gi=async te=>{if(!yn)return;if(!be&&un[0]!=="all"&&!un.includes(te.productArea)){$t("Unauthorized: You cannot save to this Product Area.","error");return}const me=Vc(Xn,"artifacts",Pi,"public","data","projects"),Ne={...te,updatedAt:Date.now(),lastEditedBy:s.uid,lastEditedByName:re};try{te.id?await jc(tr(me,te.id),Ne):await xv(me,{...Ne,createdAt:Date.now(),createdBy:s.uid,comments:[]}),N(!1),qt(),$t(te.id?"Project Updated":"Project Created","success")}catch{$t("Failed to save project","error")}},da=async(te,me)=>{yn&&(await jc(tr(Xn,"artifacts",Pi,"public","data","projects",te),{...me,updatedAt:Date.now(),lastEditedByName:re}),qt(),$t("Record updated","success"))},Er=async(te,me)=>{if(!yn||V.length===0)return;const Ne=V.map(ut=>jc(tr(Xn,"artifacts",Pi,"public","data","projects",ut),{[te]:me,updatedAt:Date.now(),lastEditedByName:re}));await Promise.all(Ne),w([]),qt(),$t(`Bulk updated ${V.length} projects`,"success")},Jt=()=>{const te=["Bug Number","Project Name","Product Area","Status","Assigned Lead","Priority","Client ETA","Tester ETA","Devices"],me=mt.map(tt=>[tt.bugNumber,tt.projectName,tt.productArea,tt.status,tt.assignedLead,tt.priority||"P2",tt.clientETA||"",tt.testerETA||"",tt.devices||""]),Ne=[te.join(","),...me.map(tt=>tt.map(at=>`"${(at||"").replace(/"/g,'""')}"`).join(","))].join(`
`),ut=new Blob([Ne],{type:"text/csv"}),xt=window.URL.createObjectURL(ut),It=document.createElement("a");It.href=xt,It.download=`Polyglot_PM_Export_${new Date().toISOString().split("T")[0]}.csv`,It.click(),$t("Export generated","success")},Xi=async te=>{const me=te.target.files[0];if(!me||!be)return;const Ne=new FileReader;Ne.onload=async ut=>{try{const It=ut.target.result.split(/\r?\n/).filter(gt=>gt.trim()),tt=It[0].split(",").map(gt=>gt.replace(/"/g,"").trim()),at=Vc(Xn,"artifacts",Pi,"public","data","projects");let Me=0;for(let gt=1;gt<It.length;gt++){const _t=It[gt].match(/(".*?"|[^",\s]+)(?=\s*,|\s*$)/g)?.map(pi=>pi.replace(/^"|"$/g,"").trim())||[],Zt={};tt.forEach((pi,ma)=>{Zt[pi]=_t[ma]||""}),Zt["Project Name"]&&(await xv(at,{bugNumber:Zt["Bug Number"]||"",projectName:Zt["Project Name"],productArea:Zt["Product Area"]||"General",status:rl.includes(Zt.Status)?Zt.Status:"Need Assessment",assignedLead:Zt["Assigned Lead"]||"Unassigned",priority:Zt.Priority||"P2",clientETA:Zt["Client ETA"]||"",testerETA:Zt["Tester ETA"]||"",devices:Zt.Devices||"",createdAt:Date.now(),updatedAt:Date.now(),createdBy:s.uid,lastEditedByName:`Import: ${re}`,comments:[]}),Me++)}$t(`Successfully imported ${Me} projects.`,"success"),qt()}catch{$t("Error parsing CSV. Check format.","error")}Y.current.value=""},Ne.readAsText(me)};return d?b.jsx("div",{className:"flex h-screen items-center justify-center bg-slate-50 text-slate-500 font-medium tracking-tight",children:"Authenticating securely..."}):wm?s&&!$e?b.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans p-6",children:b.jsxs("div",{className:"bg-white p-10 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[b.jsx("div",{className:"w-24 h-24 bg-red-50 text-red-500 rounded-[2rem] flex items-center justify-center mb-8",children:b.jsx(xN,{size:40})}),b.jsx("h1",{className:"text-2xl font-black text-slate-900 mb-3",children:"Access Restricted"}),b.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["Your address (",b.jsx("b",{children:W}),") is not on the access control list."]}),b.jsxs("button",{onClick:()=>p_(Mo),className:"w-full bg-slate-900 text-white font-bold py-4 rounded-2xl flex items-center justify-center gap-2 hover:bg-slate-800 transition-all active:scale-95",children:[b.jsx(Rv,{size:18})," Sign Out"]})]})}):s?b.jsxs("div",{className:"flex h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 font-sans overflow-hidden transition-colors duration-300",children:[b.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:ot.map(te=>b.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-xl font-black text-sm uppercase tracking-widest animate-in slide-in-from-right-8 fade-in ${te.type==="error"?"bg-red-600 text-white":"bg-slate-900 text-white dark:bg-white dark:text-slate-900"}`,children:[te.type==="success"?b.jsx(J1,{size:18}):b.jsx(aN,{size:18})," ",te.message]},te.id))}),b.jsxs("div",{className:"w-24 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 flex flex-col items-center py-8 z-10 justify-between transition-colors",children:[b.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[b.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-[1.5rem] flex items-center justify-center text-white font-black text-xl shadow-lg shadow-indigo-600/30 cursor-pointer hover:rotate-12 transition-transform",onClick:()=>se("table"),children:"P"}),b.jsxs("nav",{className:"flex flex-col gap-4 w-full px-4",children:[b.jsx(Lc,{icon:AN,active:z==="table",onClick:()=>se("table"),label:"Table"}),b.jsx(Lc,{icon:yN,active:z==="kanban",onClick:()=>se("kanban"),label:"Board"}),b.jsx(Lc,{icon:$1,active:z==="metrics",onClick:()=>se("metrics"),label:"Stats"}),be&&b.jsx(Lc,{icon:eE,active:z==="admin",onClick:()=>se("admin"),label:"Admin",highlight:!0})]})]}),b.jsxs("div",{className:"flex flex-col items-center gap-6",children:[b.jsx("button",{onClick:()=>he(!oe),className:"p-3 text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-all",children:oe?b.jsx(XN,{size:22}):b.jsx(ON,{size:22})}),b.jsx("button",{onClick:()=>p_(Mo),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-2xl transition-all",children:b.jsx(Rv,{size:22})}),b.jsxs("div",{className:"relative group mt-2",children:[b.jsx("div",{className:"w-12 h-12 rounded-[1.2rem] flex items-center justify-center text-sm font-black text-white bg-indigo-600 shadow-md",children:re.charAt(0).toUpperCase()}),b.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 border-2 border-white dark:border-slate-900 rounded-full"})]})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden relative",children:[b.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 px-10 py-6 flex items-center justify-between z-10 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-3xl font-black tracking-tight",children:z==="admin"?"System Controls":"Project Directory"}),b.jsxs("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-bold uppercase tracking-widest mt-1",children:["Role: ",be?"System Admin":mi," ",un[0]!=="all"&&` Scoped (${un.length})`]})]}),b.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 rounded-2xl border transition-colors ${G?"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800":"bg-slate-50 border-slate-200 dark:bg-slate-800 dark:border-slate-700"}`,children:[b.jsx("div",{className:`w-2 h-2 rounded-full ${G?"bg-green-500 animate-pulse":"bg-slate-300 dark:bg-slate-600"}`}),b.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${G?"text-green-700 dark:text-green-400":"text-slate-500"}`,children:G?`Live Pulse: ${Qe}s`:"Pulse: Off"})]})]}),b.jsx("div",{className:"flex items-center gap-4",children:z!=="admin"&&b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"relative",children:[b.jsx(HN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Search entries...",className:"pl-12 pr-6 py-3.5 bg-slate-100 dark:bg-slate-800 rounded-2xl text-sm font-medium w-72 outline-none focus:ring-2 ring-indigo-500/30 transition-all placeholder:text-slate-400 dark:text-white",value:T,onChange:te=>S(te.target.value)})]}),b.jsxs("div",{className:"flex gap-2 bg-slate-100 dark:bg-slate-800 p-1.5 rounded-2xl",children:[b.jsx(No,{icon:BN,onClick:vr,active:fe,title:"Force Sync Refresh"}),be&&b.jsx(No,{icon:iI,onClick:()=>ie(!G),active:G,color:"amber",title:"Toggle 10s Auto-Pulse"}),b.jsx(No,{icon:Z1,onClick:()=>C(!0),title:"Global Audit Log"}),b.jsx(No,{icon:cN,onClick:Jt,title:"Export CSV"}),be&&b.jsxs(b.Fragment,{children:[b.jsx("input",{type:"file",accept:".csv",ref:Y,className:"hidden",onChange:Xi}),b.jsx(No,{icon:eI,onClick:()=>Y.current.click(),title:"Bulk Import CSV"})]})]}),yn&&b.jsxs("button",{onClick:()=>{ze(null),N(!0)},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3.5 rounded-2xl text-sm font-black flex items-center gap-2 shadow-lg shadow-indigo-600/20 transition-all active:scale-95 ml-2",children:[b.jsx(UN,{size:20})," New Record"]})]})})]}),o.length>0&&z!=="admin"&&b.jsx(oI,{announcements:o,onOpenHistory:()=>k(!0)}),z!=="admin"&&z!=="metrics"&&b.jsxs("div",{className:"px-10 py-4 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800 flex items-center justify-between z-0",children:[b.jsxs("div",{className:"flex gap-4",children:[b.jsx(tm,{value:I.status,onChange:te=>F({...I,status:te}),options:rl,label:"All Statuses"}),b.jsx(tm,{value:I.lead,onChange:te=>F({...I,lead:te}),options:Zn,label:"All Leads"}),b.jsx(tm,{value:I.pa,onChange:te=>F({...I,pa:te}),options:Yi,label:"All Areas"})]}),V.length>0&&yn&&b.jsxs("div",{className:"bg-indigo-600 text-white px-6 py-2 rounded-xl flex items-center gap-6 animate-in slide-in-from-bottom-2",children:[b.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[V.length," Selected"]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("select",{onChange:te=>Er("status",te.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[b.jsx("option",{value:"",children:"Batch Status..."}),rl.map(te=>b.jsx("option",{value:te,className:"text-slate-900",children:te},te))]}),b.jsxs("select",{onChange:te=>Er("assignedLead",te.target.value),className:"bg-white/20 text-white border-none text-[10px] font-black py-1 px-3 rounded-lg outline-none cursor-pointer appearance-none",children:[b.jsx("option",{value:"",children:"Batch Lead..."}),Zn.map(te=>b.jsx("option",{value:te,className:"text-slate-900",children:te},te))]}),b.jsx("button",{onClick:()=>w([]),className:"p-1 hover:bg-white/20 rounded-lg",children:b.jsx(ca,{size:14})})]})]})]}),b.jsxs("div",{className:"flex-1 overflow-auto p-10 bg-slate-50 dark:bg-slate-950",children:[z==="table"&&b.jsx(uI,{projects:mt,selectedIds:V,onSelect:w,onOpen:ze,onUpdateProject:da,canEdit:yn,sortConfig:Z,onSort:St}),z==="kanban"&&b.jsx("div",{className:"flex gap-8 pb-10 min-h-full",children:rl.map(te=>b.jsx(cI,{status:te,projects:mt.filter(me=>me.status===te),onOpen:ze},te))}),z==="metrics"&&b.jsx(hI,{projects:i}),z==="admin"&&be&&b.jsx(fI,{settings:_,onUpdateSettings:handleUpdateSettings,productAreas:Yi,isSuperAdmin:ye,onPostAnnouncement:handlePostAnnouncement,announcements:o,onDeleteAnnouncement:te=>Sv(tr(Xn,"artifacts",Pi,"public","data","announcements",te)),onTogglePin:(te,me)=>jc(tr(Xn,"artifacts",Pi,"public","data","announcements",te),{isPinned:!me})})]})]}),M&&b.jsx(dI,{announcements:o,onClose:()=>k(!1)}),x&&b.jsx(pI,{activities:br,onClose:()=>C(!1),onOpen:te=>{ze(i.find(me=>me.id===te)),C(!1)}}),Be&&b.jsx(mI,{project:Ie,teamMembers:Zn,uniquePAs:Yi,onClose:()=>{N(!1),ze(null)},onSave:gi}),Ie&&!Be&&b.jsx(gI,{project:Ie,isAdmin:be,canEdit:yn,onClose:()=>ze(null),onEdit:()=>N(!0),onUpdate:da,onDelete:te=>{Sv(tr(Xn,"artifacts",Pi,"public","data","projects",te)),qt(),ze(null),$t("Project Deleted","success")}})]}):b.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center font-sans",children:b.jsxs("div",{className:"bg-white p-12 rounded-[40px] shadow-2xl border border-slate-100 flex flex-col items-center max-w-md w-full text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-[2rem] flex items-center justify-center text-white font-black shadow-lg shadow-indigo-600/30 mb-8 text-4xl",children:"P"}),b.jsx("h1",{className:"text-3xl font-black text-slate-900 mb-3 tracking-tight",children:"Polyglot PM"}),b.jsx("p",{className:"text-slate-500 mb-10 font-medium",children:"Enterprise Localization Management"}),b.jsxs("button",{onClick:()=>O2(Mo,new gs),className:"flex items-center justify-center gap-4 bg-white border-2 border-slate-200 hover:border-indigo-600 hover:bg-indigo-50 text-slate-800 font-black py-4 px-6 rounded-2xl w-full transition-all active:scale-95 shadow-sm",children:[b.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/action/google.svg",className:"w-5 h-5",alt:"Google"})," Sign in with Google"]})]})}):b.jsx("div",{className:"flex h-screen bg-slate-50 items-center justify-center p-6",children:b.jsxs("div",{className:"max-w-md bg-white p-10 rounded-[32px] shadow-2xl border border-slate-200 text-center",children:[b.jsx(KN,{className:"w-16 h-16 text-amber-500 mx-auto mb-6"}),b.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3",children:"Database Setup Required"}),b.jsxs("p",{className:"text-slate-500 text-sm mb-6 leading-relaxed",children:["Your application needs Firebase credentials to connect to the database. Please update ",b.jsx("b",{children:"App.jsx"})," line 17."]})]})})}const Lc=({icon:s,active:e,onClick:i,label:a,highlight:o})=>b.jsx("button",{onClick:i,className:`p-4 rounded-2xl w-full flex justify-center transition-all duration-200 ${e?o?"bg-amber-500/10 text-amber-500":"bg-indigo-600/10 text-indigo-600 dark:text-indigo-400":"text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 hover:text-slate-600 dark:hover:text-slate-300"}`,title:a,children:b.jsx(s,{size:24,className:e&&o?"drop-shadow-sm":""})}),No=({icon:s,onClick:e,active:i,color:a="indigo",title:o})=>{const c=i?a==="amber"?"bg-amber-100 text-amber-600 dark:bg-amber-900/30":"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30":"",d=i&&a==="indigo"?"animate-spin":"";return b.jsx("button",{onClick:e,title:o,className:`p-3 rounded-xl transition-all text-slate-500 hover:text-indigo-600 hover:bg-slate-200 dark:hover:bg-slate-700 ${c}`,children:b.jsx(s,{size:20,className:d})})},tm=({value:s,onChange:e,options:i,label:a})=>b.jsxs("div",{className:"relative",children:[b.jsxs("select",{value:s,onChange:o=>e(o.target.value),className:"appearance-none pl-4 pr-10 py-2.5 bg-slate-100 dark:bg-slate-800 border-none rounded-xl text-xs font-black text-slate-700 dark:text-slate-300 outline-none cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[b.jsx("option",{value:"All",children:a}),i.map(o=>b.jsx("option",{value:o,children:o},o))]}),b.jsx(WC,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none"})]});function oI({announcements:s,onOpenHistory:e}){const[i,a]=xe.useState(0),o=xe.useMemo(()=>[...s.filter(d=>d.isPinned),...s.filter(d=>!d.isPinned).slice(0,3)],[s]),c=o[i%o.length];return c?b.jsxs("div",{className:`px-10 py-3 flex items-center justify-between border-b transition-colors ${c.isPinned?"bg-amber-50 border-amber-200 dark:bg-amber-900/20 dark:border-amber-800/50":"bg-indigo-600 border-indigo-700 text-white"}`,children:[b.jsxs("div",{className:"flex items-center gap-6 overflow-hidden",children:[b.jsxs("div",{className:`flex items-center gap-2 flex-shrink-0 font-black text-[10px] uppercase tracking-widest ${c.isPinned?"text-amber-600 dark:text-amber-400":"text-indigo-200"}`,children:[b.jsx(vg,{size:16})," ",c.isPinned?"Priority Pin":"Updates"]}),b.jsxs("div",{className:`text-sm font-bold truncate ${c.isPinned?"text-slate-900 dark:text-amber-100":"text-white"}`,children:[b.jsxs("span",{className:"opacity-60 font-black mr-3 px-2 py-0.5 rounded border border-current",children:["QA: ",c.targetPA]}),c.title,": ",b.jsx("span",{className:"font-medium opacity-90",children:c.content})]})]}),b.jsxs("div",{className:"flex items-center gap-4 ml-6 flex-shrink-0",children:[b.jsxs("div",{className:"flex gap-1",children:[b.jsx("button",{onClick:()=>a(d=>d>0?d-1:o.length-1),className:"p-1 hover:bg-black/10 rounded",children:b.jsx(nN,{size:16})}),b.jsx("button",{onClick:()=>a(d=>d+1),className:"p-1 hover:bg-black/10 rounded",children:b.jsx(sN,{size:16})})]}),b.jsx("button",{onClick:e,className:`px-4 py-1.5 rounded-xl text-[10px] font-black uppercase tracking-widest border transition-all ${c.isPinned?"border-amber-300 text-amber-700 bg-white hover:bg-amber-100 dark:bg-transparent dark:text-amber-400":"border-indigo-400 text-white bg-indigo-500/50 hover:bg-indigo-500"}`,children:"Log"})]})]}):null}function uI({projects:s,selectedIds:e,onSelect:i,onOpen:a,onUpdateProject:o,canEdit:c,sortConfig:d,onSort:g}){const _=({col:p})=>b.jsx("span",{className:`ml-2 inline-block transition-transform ${d.key===p?"text-indigo-500":"text-slate-300"} ${d.key===p&&d.direction==="desc"?"rotate-180":""}`,children:""});return b.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] shadow-xl border border-slate-100 dark:border-slate-800 overflow-hidden",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-100 dark:border-slate-800 text-slate-400 text-[10px] uppercase font-black tracking-widest",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-8 py-5 w-10",children:c&&b.jsx("input",{type:"checkbox",className:"rounded bg-slate-200 border-none cursor-pointer",checked:s.length>0&&e.length===s.length,onChange:()=>i(e.length?[]:s.map(p=>p.id))})}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("projectName"),children:["Project Specs ",b.jsx(_,{col:"projectName"})]}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("status"),children:["Current Phase ",b.jsx(_,{col:"status"})]}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("assignedLead"),children:["Assigned ",b.jsx(_,{col:"assignedLead"})]}),b.jsxs("th",{className:"px-8 py-5 cursor-pointer hover:text-slate-600 transition-colors",onClick:()=>g("clientETA"),children:["Schedule ",b.jsx(_,{col:"clientETA"})]}),b.jsx("th",{className:"px-8 py-5 text-center",children:"Deliverables"})]})}),b.jsxs("tbody",{className:"divide-y divide-slate-50 dark:divide-slate-800/50",children:[s.map(p=>{const T=Wr(p.status),S=e.includes(p.id);return b.jsxs("tr",{className:`group cursor-pointer transition-colors ${S?"bg-indigo-50/50 dark:bg-indigo-900/20":"hover:bg-slate-50/80 dark:hover:bg-slate-700/30"}`,onClick:()=>a(p),children:[b.jsx("td",{className:"px-8 py-6",onClick:I=>{I.stopPropagation(),c&&i(F=>S?F.filter(Z=>Z!==p.id):[...F,p.id])},children:c&&b.jsx("input",{type:"checkbox",checked:S,readOnly:!0,className:"rounded border-slate-300 text-indigo-600 focus:ring-0 cursor-pointer"})}),b.jsxs("td",{className:"px-8 py-6",children:[b.jsx("div",{className:"font-mono text-[10px] text-indigo-600 dark:text-indigo-400 font-black mb-1.5 uppercase tracking-widest",children:p.bugNumber||"DRAFT"}),b.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm mb-2.5 leading-tight",children:p.projectName}),b.jsx("span",{className:`inline-block px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${bg(p.productArea)}`,children:p.productArea||"General"})]}),b.jsx("td",{className:"px-8 py-6",children:b.jsxs("span",{className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-xl text-[10px] font-black border ${T.bg} ${T.text} ${T.border}`,children:[b.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${T.dot}`}),p.status]})}),b.jsx("td",{className:"px-8 py-6",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:p.assignedLead?.charAt(0)}),b.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:p.assignedLead})]})}),b.jsx("td",{className:"px-8 py-6 text-[10px] font-bold text-slate-500 dark:text-slate-400",children:b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(gh,{size:12,className:"text-slate-300"})," ",b.jsxs("span",{className:p.clientETA?"text-slate-700 dark:text-slate-200":"",children:["Client: ",p.clientETA||"TBD"]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(gh,{size:12,className:"opacity-40"})," ",b.jsxs("span",{className:"opacity-70",children:["Tester: ",p.testerETA||"TBD"]})]})]})}),b.jsx("td",{className:"px-8 py-6 text-center",children:b.jsxs("div",{className:"flex justify-center gap-3",children:[b.jsx("button",{onClick:I=>{I.stopPropagation(),c&&o(p.id,{quoteReady:!p.quoteReady})},className:`p-2 rounded-xl border transition-all ${p.quoteReady?"text-green-600 bg-green-50 border-green-200 dark:bg-green-900/30 dark:border-green-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Ready",children:b.jsx(J1,{size:16})}),b.jsx("button",{onClick:I=>{I.stopPropagation(),c&&o(p.id,{quoteSent:!p.quoteSent})},className:`p-2 rounded-xl border transition-all ${p.quoteSent?"text-blue-600 bg-blue-50 border-blue-200 dark:bg-blue-900/30 dark:border-blue-800":"text-slate-300 border-slate-100 dark:border-slate-700 hover:border-slate-300"}`,title:"Quote Sent",children:b.jsx(W1,{size:16})})]})})]},p.id)}),s.length===0&&b.jsx("tr",{children:b.jsx("td",{colSpan:"6",className:"px-8 py-20 text-center text-slate-400 font-bold text-xs uppercase tracking-widest",children:"No matching records found"})})]})]})})}function cI({status:s,projects:e,onOpen:i}){const a=Wr(s);return b.jsxs("div",{className:"flex-shrink-0 w-80 flex flex-col",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[b.jsxs("span",{className:"flex items-center gap-3 font-black text-[11px] uppercase tracking-[0.15em] text-slate-500 dark:text-slate-400",children:[b.jsx("span",{className:`w-2 h-2 rounded-full ${a.dot} shadow-sm`}),s]}),b.jsx("span",{className:"bg-slate-200 dark:bg-slate-800 text-slate-600 dark:text-slate-400 px-2.5 py-1 rounded-lg text-[9px] font-black",children:e.length})]}),b.jsxs("div",{className:"flex-1 flex flex-col gap-4 overflow-y-auto pb-4",children:[e.map(o=>b.jsxs("div",{onClick:()=>i(o),className:"group bg-white dark:bg-slate-800 p-6 rounded-[2rem] shadow-sm border border-slate-100 dark:border-slate-700 cursor-pointer hover:border-indigo-400 dark:hover:border-indigo-500 hover:shadow-xl hover:-translate-y-1 transition-all duration-300",children:[b.jsx("div",{className:"flex justify-between items-start mb-3",children:b.jsx("div",{className:"text-[9px] font-black text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-2 py-1 rounded-md uppercase tracking-wider",children:o.bugNumber||"Draft"})}),b.jsx("div",{className:"text-sm font-bold text-slate-900 dark:text-slate-100 mb-5 leading-snug",children:o.projectName}),b.jsxs("div",{className:"flex justify-between items-end border-t border-slate-50 dark:border-slate-700/50 pt-4 mt-auto",children:[b.jsx("span",{className:`px-2.5 py-1 rounded-lg text-[9px] font-black border uppercase tracking-tighter ${bg(o.productArea)}`,children:o.productArea||"General"}),b.jsx("div",{className:"w-7 h-7 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center text-[10px] font-black text-slate-500 dark:text-slate-400",children:o.assignedLead?.charAt(0)})]})]},o.id)),e.length===0&&b.jsx("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-[2rem] h-32 flex items-center justify-center text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Empty"})]})]})}function hI({projects:s}){const e=i=>s.length?Math.round(i/s.length*100):0;return b.jsx("div",{className:"max-w-5xl mx-auto space-y-10 animate-in fade-in zoom-in-95 duration-500",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-12 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl shadow-slate-200/20 dark:shadow-none",children:[b.jsxs("h3",{className:"text-sm font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-10 flex items-center gap-3",children:[b.jsx($1,{size:20})," Phase Distribution Overview"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-16 gap-y-10",children:rl.map(i=>{const a=s.filter(o=>o.status===i).length;return a?b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-end text-xs font-black uppercase tracking-tight",children:[b.jsx("span",{className:"text-slate-700 dark:text-slate-200",children:i}),b.jsxs("span",{className:"text-slate-400 text-[10px]",children:[a," Records (",e(a),"%)"]})]}),b.jsx("div",{className:"h-3 bg-slate-100 dark:bg-slate-900 rounded-full overflow-hidden shadow-inner p-0.5",children:b.jsx("div",{className:`h-full rounded-full ${Wr(i).dot} transition-all duration-1000 shadow-sm`,style:{width:`${e(a)}%`}})})]},i):null})})]})})}function fI({settings:s,onUpdateSettings:e,productAreas:i,isSuperAdmin:a,onPostAnnouncement:o,announcements:c,onDeleteAnnouncement:d,onTogglePin:g}){const[_,p]=xe.useState({name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}),[T,S]=xe.useState({admin:"",user:"",domain:"",annTitle:"",annContent:"",annTarget:"general"}),I=(z,se)=>{if(!se.trim())return;const oe=se.toLowerCase().trim().replace("@","");e({...s,[z]:[...new Set([...s[z]||[],oe])]}),S(he=>({...he,[z==="adminEmails"?"admin":z==="allowedUsers"?"user":"domain"]:""}))},F=(z,se)=>{e({...s,[z]:s[z].filter(oe=>oe!==se)})},Z=()=>{_.name.trim()&&(e({...s,userGroups:[...s.userGroups||[],{..._,id:Date.now()}]}),p({name:"",role:"viewer",scope:"all",scopedPAs:[],members:[]}))},ne=({items:z,listKey:se,icon:oe,color:he,disableRemove:Ie})=>b.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[z.map(ze=>b.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-100 dark:border-slate-800 text-[10px] font-black text-slate-700 dark:text-slate-300 uppercase tracking-widest",children:[oe&&b.jsx(oe,{size:12,className:`text-${he}-500`})," ",ze,!Ie&&b.jsx("button",{onClick:()=>F(se,ze),className:"ml-2 text-slate-300 hover:text-red-500",children:b.jsx(ca,{size:14})})]},ze)),z.length===0&&b.jsx("span",{className:"text-[10px] font-bold text-slate-400 italic",children:"List is empty."})]});return b.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 pb-20 animate-in fade-in duration-500",children:[b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[b.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[b.jsx(vg,{className:"text-indigo-500"})," Broadcast Engine"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[b.jsx("input",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20",value:T.annTitle,onChange:z=>S({...T,annTitle:z.target.value}),placeholder:"Headline Subject..."}),b.jsxs("select",{className:"p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold uppercase tracking-wider outline-none",value:T.annTarget,onChange:z=>S({...T,annTarget:z.target.value}),children:[b.jsx("option",{value:"general",children:"Target: Global Access"}),i.map(z=>b.jsxs("option",{value:z,children:["Target PA: ",z]},z))]})]}),b.jsx("textarea",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-medium mb-6 min-h-[120px] outline-none focus:ring-2 ring-indigo-500/20",value:T.annContent,onChange:z=>S({...T,annContent:z.target.value}),placeholder:"Message content..."}),b.jsx("button",{onClick:()=>{o(T.annTitle,T.annContent,T.annTarget),S({...T,annTitle:"",annContent:""})},className:"bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-2xl font-black text-xs transition-colors shadow-lg shadow-indigo-500/20",children:"Publish Broadcast"}),b.jsxs("div",{className:"mt-12 space-y-3 border-t border-slate-100 dark:border-slate-700 pt-8",children:[b.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Active & Historical Broadcasts"}),c.map(z=>b.jsxs("div",{className:`flex items-center justify-between p-5 rounded-2xl border transition-colors ${z.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800":"bg-slate-50 dark:bg-slate-900 border-slate-100 dark:border-slate-800"}`,children:[b.jsxs("div",{className:"flex gap-5 items-center overflow-hidden",children:[b.jsx("button",{onClick:()=>g(z.id,z.isPinned),className:`p-2 rounded-xl border transition-all ${z.isPinned?"text-amber-600 bg-amber-100 border-amber-300":"text-slate-400 bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:b.jsx(LN,{size:16})}),b.jsxs("div",{className:"truncate",children:[b.jsx("div",{className:"text-[9px] font-black uppercase text-indigo-500 tracking-widest mb-1",children:z.targetPA}),b.jsx("div",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 truncate",children:z.title})]})]}),b.jsx("button",{onClick:()=>d(z.id),className:"p-3 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",children:b.jsx(Cv,{size:18})})]},z.id))]})]}),b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl col-span-1 lg:col-span-3",children:[b.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[b.jsx(eE,{className:"text-amber-500"})," Core Security Keys"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-10",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"System Admins"}),b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2",value:T.admin,onChange:z=>S({...T,admin:z.target.value}),onKeyDown:z=>z.key==="Enter"&&I("adminEmails",T.admin),placeholder:"Add admin email..."}),b.jsx(ne,{items:["anthonytosi@gmail.com"],icon:vN,color:"amber",disableRemove:!0}),b.jsx(ne,{items:s.adminEmails||[],listKey:"adminEmails"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"Whitelist Domains"}),b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2",value:T.domain,onChange:z=>S({...T,domain:z.target.value}),onKeyDown:z=>z.key==="Enter"&&I("allowedDomains",T.domain),placeholder:"e.g. company.com..."}),b.jsx(ne,{items:s.allowedDomains||[],listKey:"allowedDomains",icon:mN,color:"blue"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-3",children:"Whitelist Emails"}),b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-2",value:T.user,onChange:z=>S({...T,user:z.target.value}),onKeyDown:z=>z.key==="Enter"&&I("allowedUsers",T.user),placeholder:"Specific user email..."}),b.jsx(ne,{items:s.allowedUsers||[],listKey:"allowedUsers",icon:CN,color:"emerald"})]})]})]})}),b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-xl",children:[b.jsxs("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-8 flex items-center gap-3",children:[b.jsx(EN,{className:"text-indigo-500"})," Define Access Matrix"]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 items-end",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Matrix Name"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none",value:_.name,onChange:z=>p({..._,name:z.target.value}),placeholder:"e.g. Vendors"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Permissions"}),b.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none",value:_.role,onChange:z=>p({..._,role:z.target.value}),children:[b.jsx("option",{value:"viewer",children:"Read Only Viewer"}),b.jsx("option",{value:"editor",children:"Full Editor"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2",children:"Scope Horizon"}),b.jsxs("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-900 border-none rounded-2xl text-sm font-bold outline-none",value:_.scope,onChange:z=>p({..._,scope:z.target.value}),children:[b.jsx("option",{value:"all",children:"Global Access"}),b.jsx("option",{value:"scoped",children:"Restricted Silos"})]})]}),b.jsx("button",{onClick:Z,className:"bg-indigo-600 text-white h-[52px] rounded-2xl font-black text-xs shadow-lg shadow-indigo-500/20",children:"Construct Matrix"})]}),_.scope==="scoped"&&b.jsx("div",{className:"mt-8 p-8 bg-slate-50 dark:bg-slate-900/50 rounded-[2rem] border border-slate-100 dark:border-slate-800 flex flex-wrap gap-3",children:i.map(z=>{const se=_.scopedPAs.includes(z);return b.jsx("button",{onClick:()=>p({..._,scopedPAs:se?_.scopedPAs.filter(oe=>oe!==z):[..._.scopedPAs,z]}),className:`px-5 py-2.5 rounded-xl text-[10px] font-black border uppercase tracking-widest transition-all ${se?"bg-indigo-600 border-indigo-600 text-white shadow-md":"bg-white dark:bg-slate-800 text-slate-500 border-slate-200 dark:border-slate-700 hover:border-indigo-400"}`,children:z},z)})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:(s.userGroups||[]).map(z=>b.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-[40px] border border-slate-100 dark:border-slate-700 shadow-sm flex flex-col",children:[b.jsxs("div",{className:"flex justify-between items-start mb-8",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:z.name}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-600 bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1.5 rounded-lg border border-indigo-100 dark:border-indigo-800",children:z.role}),b.jsx("span",{className:"text-[9px] font-black uppercase text-slate-500 bg-slate-50 dark:bg-slate-900 px-3 py-1.5 rounded-lg border border-slate-200 dark:border-slate-700",children:z.scope==="all"?"Global":`Scoped: ${z.scopedPAs?.length||0}`})]})]}),b.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.filter(se=>se.id!==z.id)}),className:"p-3 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-colors",children:b.jsx(Cv,{size:18})})]}),b.jsxs("div",{className:"mt-auto",children:[b.jsx("input",{className:"w-full p-3 bg-slate-50 dark:bg-slate-900 border-none rounded-xl text-xs font-bold outline-none mb-4 focus:ring-2 ring-indigo-500/20",placeholder:"Type email and press Enter...",onKeyDown:se=>{if(se.key==="Enter"&&se.target.value){const oe=s.userGroups.map(he=>he.id===z.id?{...he,members:[...new Set([...he.members||[],se.target.value.toLowerCase().trim()])]}:he);e({...s,userGroups:oe}),se.target.value=""}}}),b.jsxs("div",{className:"flex flex-wrap gap-2 max-h-32 overflow-y-auto",children:[z.members?.map(se=>b.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-900/80 rounded-lg text-[10px] font-bold text-slate-700 dark:text-slate-300",children:[se,b.jsx("button",{onClick:()=>e({...s,userGroups:s.userGroups.map(oe=>oe.id===z.id?{...oe,members:oe.members.filter(he=>he!==se)}:oe)}),className:"hover:text-red-500",children:b.jsx(ca,{size:12})})]},se)),(!z.members||z.members.length===0)&&b.jsx("span",{className:"text-xs text-slate-400 font-medium italic",children:"No identities mapped."})]})]})]},z.id))})]})}function dI({announcements:s,onClose:e}){return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[b.jsxs("h2",{className:"text-2xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[b.jsx(vg,{size:24,className:"text-indigo-600"})," Comm Log"]}),b.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:b.jsx(ca,{size:20})})]}),b.jsxs("div",{className:"flex-1 p-10 overflow-y-auto space-y-8",children:[s.map(i=>b.jsxs("div",{className:`p-8 rounded-[32px] border transition-all ${i.isPinned?"bg-amber-50/50 border-amber-200 dark:bg-amber-900/10 dark:border-amber-800/50 shadow-lg shadow-amber-500/5":"bg-slate-50 dark:bg-slate-800/50 border-slate-100 dark:border-slate-800"}`,children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsx("span",{className:`px-3 py-1 rounded-lg text-[9px] font-black uppercase tracking-widest border ${i.isPinned?"bg-amber-100 border-amber-300 text-amber-700":"bg-white dark:bg-slate-900 text-indigo-600 border-indigo-100 dark:border-slate-700"}`,children:i.targetPA}),b.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:new Date(i.timestamp).toLocaleDateString()})]}),b.jsx("h3",{className:"text-lg font-black text-slate-900 dark:text-white mb-3 leading-snug",children:i.title}),b.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed font-medium",children:i.content}),b.jsxs("div",{className:"mt-6 pt-6 border-t border-black/5 dark:border-white/5 flex items-center gap-2 text-[9px] font-black text-slate-400 uppercase tracking-widest",children:[b.jsx("div",{className:"w-5 h-5 rounded-md bg-slate-200 dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300",children:i.author?.charAt(0)})," ",i.author]})]},i.id)),s.length===0&&b.jsx("div",{className:"text-center py-20 text-slate-400 font-black uppercase tracking-widest text-xs",children:"No records exist"})]})]})})}function mI({project:s,onClose:e,onSave:i,teamMembers:a,uniquePAs:o}){const[c,d]=xe.useState(s||{bugNumber:"",projectName:"",productArea:"",assignedLead:"Unassigned",status:"Need Assessment",priority:"P2",clientETA:"",testerETA:"",projectFolderUrl:"",quoteUrl:""});return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[500px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[b.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:s?"Update Entry":"New Entry"}),b.jsx("button",{onClick:e,className:"p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:b.jsx(ca,{size:20})})]}),b.jsxs("div",{className:"flex-1 p-10 space-y-8 overflow-y-auto",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Bug ID"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.bugNumber,onChange:g=>d({...c,bugNumber:g.target.value}),placeholder:"b/..."})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Product Area"}),b.jsx("input",{list:"pa-list",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.productArea,onChange:g=>d({...c,productArea:g.target.value}),placeholder:"e.g. Search"}),b.jsx("datalist",{id:"pa-list",children:o.map(g=>b.jsx("option",{value:g},g))})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Project Descriptor"}),b.jsx("input",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:c.projectName,onChange:g=>d({...c,projectName:g.target.value})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Assignment"}),b.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.assignedLead,onChange:g=>d({...c,assignedLead:g.target.value}),children:a.map(g=>b.jsx("option",{value:g,children:g},g))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Phase"}),b.jsx("select",{className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.status,onChange:g=>d({...c,status:g.target.value}),children:rl.map(g=>b.jsx("option",{value:g,children:g},g))})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4 border-t border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Client Target"}),b.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.clientETA,onChange:g=>d({...c,clientETA:g.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-2 tracking-widest",children:"Tester Target"}),b.jsx("input",{type:"date",className:"w-full p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-bold outline-none dark:text-white",value:c.testerETA,onChange:g=>d({...c,testerETA:g.target.value})})]})]})]}),b.jsxs("div",{className:"p-8 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 flex justify-end gap-4",children:[b.jsx("button",{onClick:e,className:"px-6 py-4 text-slate-500 font-black text-xs hover:bg-slate-100 dark:hover:bg-slate-800 rounded-2xl transition-colors",children:"Cancel"}),b.jsx("button",{onClick:()=>i(c),disabled:!c.projectName,className:"bg-indigo-600 text-white px-10 py-4 rounded-2xl font-black text-xs shadow-lg shadow-indigo-600/30 hover:bg-indigo-700 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save to Database"})]})]})})}function gI({project:s,onClose:e,onEdit:i,onUpdate:a,isAdmin:o,canEdit:c,onDelete:d}){const[g,_]=xe.useState("");return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[600px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-200 dark:border-slate-800",children:[b.jsxs("div",{className:"p-10 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900 relative",children:[b.jsx("button",{onClick:e,className:"absolute top-8 right-8 p-3 text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:b.jsx(ca,{size:20})}),b.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 mb-3 uppercase tracking-widest bg-indigo-50 dark:bg-indigo-900/30 inline-block px-3 py-1 rounded-lg",children:s.bugNumber||"DRAFT"}),b.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-4 leading-tight",children:s.projectName}),b.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[b.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[10px] font-black border uppercase tracking-widest ${bg(s.productArea)}`,children:s.productArea||"General"}),b.jsxs("span",{className:"text-xs text-slate-400 font-bold flex items-center gap-2",children:[b.jsx("div",{className:"w-5 h-5 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:s.assignedLead?.charAt(0)}),s.assignedLead]})]}),b.jsxs("div",{className:"flex gap-4 items-center",children:[c&&b.jsxs("button",{onClick:i,className:"px-6 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-2xl text-xs font-black text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 flex items-center gap-2 transition-all",children:[b.jsx(VN,{size:16})," Edit Entry"]}),b.jsxs("span",{className:`px-6 py-3 rounded-2xl text-xs font-black border flex items-center gap-2 ${Wr(s.status).bg} ${Wr(s.status).text} ${Wr(s.status).border}`,children:[b.jsx("span",{className:`w-2 h-2 rounded-full ${Wr(s.status).dot}`}),s.status]}),o&&b.jsx("button",{onClick:()=>d(s.id),className:"ml-auto p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-colors",children:b.jsx(JN,{size:20})})]})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-12",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-6 p-6 bg-slate-50 dark:bg-slate-800/50 rounded-[2rem] border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{children:[b.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Client ETA"}),b.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[b.jsx(gh,{size:14,className:"text-indigo-500"})," ",s.clientETA||"--"]})]}),b.jsxs("div",{children:[b.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Tester ETA"}),b.jsxs("div",{className:"text-sm font-bold dark:text-white flex items-center gap-2",children:[b.jsx(gh,{size:14,className:"text-indigo-500"})," ",s.testerETA||"--"]})]})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[b.jsx(fN,{size:16,className:"text-indigo-600"})," Locale Footprint Matrix"]}),b.jsx("div",{className:"grid grid-cols-3 gap-3",children:rI.map(p=>{const T=s.locales?.find(S=>S.name===p);return b.jsxs("button",{disabled:!c,onClick:()=>{const S=T?.status==="Passed"?"Failed":T?.status==="Failed"?"Pending":"Passed",I=T?s.locales.map(F=>F.name===p?{...F,status:S}:F):[...s.locales||[],{name:p,status:"Passed"}];a(s.id,{locales:I})},className:`text-center py-4 px-2 rounded-2xl border text-[10px] font-black transition-all ${T?.status==="Passed"?"bg-green-50 border-green-200 text-green-700 dark:bg-green-900/20 dark:border-green-800 dark:text-green-400":T?.status==="Failed"?"bg-red-50 border-red-200 text-red-700 dark:bg-red-900/20 dark:border-red-800 dark:text-red-400":"bg-white dark:bg-slate-800 border-slate-100 dark:border-slate-700 text-slate-400 hover:border-indigo-300"}`,children:[b.jsx("div",{className:"mb-1 text-xs",children:p}),b.jsx("div",{className:"opacity-60",children:T?.status||"N/A"})]},p)})})]}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-2.5",children:[b.jsx(kN,{size:16,className:"text-indigo-600"})," Audit & Comm Log"]}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("input",{className:"flex-1 p-4 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl text-sm font-medium outline-none focus:ring-2 ring-indigo-500/20 dark:text-white",value:g,onChange:p=>_(p.target.value),placeholder:"Append secure note...",onKeyDown:p=>{p.key==="Enter"&&g&&(a(s.id,{comments:[...s.comments||[],{id:Date.now(),author:currentUserDisplayName,text:g,timestamp:Date.now()}]}),_(""))}}),b.jsx("button",{onClick:()=>{g&&(a(s.id,{comments:[...s.comments||[],{id:Date.now(),author:currentUserDisplayName,text:g,timestamp:Date.now()}]}),_(""))},className:"bg-indigo-600 text-white p-4 rounded-2xl shadow-lg shadow-indigo-600/20 hover:bg-indigo-700 active:scale-95 transition-all",children:b.jsx(W1,{size:20})})]}),b.jsx("div",{className:"space-y-4",children:(s.comments||[]).slice().reverse().map(p=>b.jsxs("div",{className:"p-6 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"flex justify-between text-[10px] font-black text-slate-400 mb-3 uppercase tracking-widest flex items-center gap-2",children:[b.jsxs("span",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-5 h-5 rounded bg-slate-200 dark:bg-slate-700 text-[10px] flex items-center justify-center text-slate-600 dark:text-slate-300",children:p.author?.charAt(0)}),p.author]}),b.jsx("span",{children:new Date(p.timestamp).toLocaleString()})]}),b.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 font-medium leading-relaxed",children:p.text})]},p.id))})]})]})]})})}function pI({activities:s,onClose:e,onOpen:i}){return b.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-slate-900/40 dark:bg-black/60 backdrop-blur-md animate-in fade-in duration-300",children:b.jsxs("div",{className:"w-[450px] bg-white dark:bg-slate-900 h-full shadow-2xl flex flex-col animate-in slide-in-from-right duration-500 border-l border-slate-100 dark:border-slate-800",children:[b.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900",children:[b.jsxs("h2",{className:"text-xl font-black flex items-center gap-3 text-slate-900 dark:text-white",children:[b.jsx(Z1,{size:22,className:"text-indigo-600"})," Global Audit Trail"]}),b.jsx("button",{onClick:e,className:"p-3 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:b.jsx(ca,{size:20})})]}),b.jsxs("div",{className:"flex-1 p-8 overflow-y-auto space-y-8 relative",children:[b.jsx("div",{className:"absolute left-[39px] top-8 bottom-8 w-px bg-slate-200 dark:bg-slate-800"}),s.map(a=>b.jsxs("div",{className:"relative pl-12 cursor-pointer group",onClick:()=>i(a.projectId),children:[b.jsx("div",{className:"absolute left-[3px] top-1.5 w-3 h-3 rounded-full bg-indigo-500 ring-4 ring-white dark:ring-slate-900 transition-transform group-hover:scale-150"}),b.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-5 rounded-3xl border border-slate-100 dark:border-slate-800 group-hover:border-indigo-300 transition-colors",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("div",{className:"text-[10px] font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-widest",children:a.projectName}),b.jsx("div",{className:"text-[9px] font-bold text-slate-400",children:new Date(a.timestamp).toLocaleDateString()})]}),b.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3 font-medium line-clamp-3",children:a.text}),b.jsxs("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-tighter flex items-center gap-2",children:[b.jsx("div",{className:"w-4 h-4 rounded bg-slate-200 dark:bg-slate-700 flex items-center justify-center",children:a.author?.charAt(0)})," Logged by ",a.author]})]})]},a.id)),s.length===0&&b.jsx("div",{className:"text-center text-slate-400 font-black py-20 uppercase tracking-widest text-[10px]",children:"Trail is currently empty"})]})]})})}zT.createRoot(document.getElementById("root")).render(b.jsx(xe.StrictMode,{children:b.jsx(lI,{})}));
